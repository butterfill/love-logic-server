/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>

 lodash 4.5.1 (Custom Build) <https://lodash.com/>
 Build: `lodash -d -o ./foo/lodash.js`
 Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function e$$0(F,f,A){function H(h,u){if(!f[h]){if(!F[h]){var B="function"==typeof require&&require;if(!u&&B)return B(h,!0);if(n)return n(h,!0);B=Error("Cannot find module '"+h+"'");throw B.code="MODULE_NOT_FOUND",B;}B=f[h]={exports:{}};F[h][0].call(B.exports,function(u){var B=F[h][1][u];return H(B?B:u)},B,B.exports,e$$0,F,f,A)}return f[h].exports}for(var n="function"==typeof require&&require,h=0;h<A.length;h++)H(A[h]);return H})({1:[function(a,F,f){},{}],2:[function(a,F,f){(function(a){function H(a,
h){for(var n=0,f=a.length-1;0<=f;f--){var c=a[f];"."===c?a.splice(f,1):".."===c?(a.splice(f,1),n++):n&&(a.splice(f,1),n--)}if(h)for(;n--;n)a.unshift("..");return a}function n(a,h){if(a.filter)return a.filter(h);for(var n=[],f=0;f<a.length;f++)h(a[f],f,a)&&n.push(a[f]);return n}var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;f.resolve=function(){for(var h="",f=!1,x=arguments.length-1;-1<=x&&!f;x--){var K=0<=x?arguments[x]:a.cwd();if("string"!==typeof K)throw new TypeError("Arguments to path.resolve must be strings");
K&&(h=K+"/"+h,f="/"===K.charAt(0))}h=H(n(h.split("/"),function(a){return!!a}),!f).join("/");return(f?"/":"")+h||"."};f.normalize=function(a){var h=f.isAbsolute(a),x="/"===K(a,-1);(a=H(n(a.split("/"),function(a){return!!a}),!h).join("/"))||h||(a=".");a&&x&&(a+="/");return(h?"/":"")+a};f.isAbsolute=function(a){return"/"===a.charAt(0)};f.join=function(){var a=Array.prototype.slice.call(arguments,0);return f.normalize(n(a,function(a,h){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");
return a}).join("/"))};f.relative=function(a,h){function n(a){for(var c=0;c<a.length&&""===a[c];c++);for(var b=a.length-1;0<=b&&""===a[b];b--);return c>b?[]:a.slice(c,b-c+1)}a=f.resolve(a).substr(1);h=f.resolve(h).substr(1);for(var K=n(a.split("/")),c=n(h.split("/")),k=Math.min(K.length,c.length),r=k,t=0;t<k;t++)if(K[t]!==c[t]){r=t;break}k=[];for(t=r;t<K.length;t++)k.push("..");k=k.concat(c.slice(r));return k.join("/")};f.sep="/";f.delimiter=":";f.dirname=function(a){var n=h.exec(a).slice(1);a=n[0];
n=n[1];if(!a&&!n)return".";n&&(n=n.substr(0,n.length-1));return a+n};f.basename=function(a,n){var f=h.exec(a).slice(1)[2];n&&f.substr(-1*n.length)===n&&(f=f.substr(0,f.length-n.length));return f};f.extname=function(a){return h.exec(a).slice(1)[3]};var K="b"==="ab".substr(-1)?function(a,h,n){return a.substr(h,n)}:function(a,h,n){0>h&&(h=a.length+h);return a.substr(h,n)}}).call(this,a("_process"))},{_process:3}],3:[function(a,F,f){function A(){u=!1;B.length?K=B.concat(K):x=-1;K.length&&H()}function H(){if(!u){var a=
setTimeout(A);u=!0;for(var c=K.length;c;){B=K;for(K=[];++x<c;)B&&B[x].run();x=-1;c=K.length}B=null;u=!1;clearTimeout(a)}}function n(a,c){this.fun=a;this.array=c}function h(){}a=F.exports={};var K=[],u=!1,B,x=-1;a.nextTick=function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var h=1;h<arguments.length;h++)c[h-1]=arguments[h];K.push(new n(a,c));1!==K.length||u||setTimeout(H,0)};n.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=
[];a.version="";a.versions={};a.on=h;a.addListener=h;a.once=h;a.off=h;a.removeListener=h;a.removeAllListeners=h;a.emit=h;a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],4:[function(a,F,f){F="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};var A;f=a("../fol");A=a("../proofs/proof");a=a("../../ui_components/tree_proof/tree");
F.fol=f;F.proof=A;F.tree=a},{"../../ui_components/tree_proof/tree":35,"../fol":7,"../proofs/proof":28}],5:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c,k,r,t,g,z;A=a("lodash");z=a("../symbols");x={lpl:{available:!0,description:"The language and natural deduction proof system presented in Barker-Plummer, Barwise and Etchemndy\u2019s \u2018Language, Proof and Logic\u2019",textbook:"\u2018Language, Proof and Logic\u2019 by Barker-Plummer, Barwise & Etchemendy",versions:{"0.1":{symbols:"default",parser:"awFOL",
rules:"fitch",treeRules:"logicbook_tree"}}},teller:{available:!0,description:"The language and natural deduction proof system presented in Teller\u2019s \u2018A Modern Formal Logic Primer\u2019 (1998)",textbook:"\u2018A Modern Formal Logic Primer\u2019 by Teller",versions:{"0.1":{symbols:"teller",parser:"teller",rules:"teller"}}},copi:{available:!1,versions:{"0.1":{symbols:"copi",parser:"copi",rules:"copi"}}},forallx:{available:!0,description:"The language and natural deduction proof system presented in Magnus\u2019 \u2018forallx\u2019 (2014)",
textbook:"\u2018forallx\u2019 Primer by Magnus",versions:{"0.1":{symbols:"forallx",parser:"forallx",rules:"forallx"}}},logicbook:{available:!0,description:"The language and natural deduction proof system presented in Bergmann, Moore and Nelson\u2019s \u2018The Logic Book\u2019 (2014)",textbook:"\u2018The Logic Book\u2019 by Bergmann, Moore and Nelson",versions:{"0.1":{symbols:"logicbook",parser:"logicbookFOL",rules:"logicbook",treeRules:"logicbook_tree"}}}};u="lpl";B="0.1";F=function(a,c){var p;null!=
a.version&&(c=a.version,a=a.name);u=a;p=x[a].versions;null==c&&(c=Math.max(A.keys(p)));B=c;p=p[c];t(p.symbols);k(p.parser);r(p.rules);return g(p.treeRules)};f.set=F;f.getCurrentDialectNameAndVersion=function(){return{name:u,version:B}};f.getTextbookForDialect=function(a){null==a&&(a=u);return x[a].textbook};f.getAllDialectNamesAndDescriptions=function(){var a,c,p,g,d,l;c=A.keys(x);l=[];p=0;for(d=c.length;p<d;p++)g=c[p],a=x[g],!0===a.available&&l.push({name:g,description:a.description,textbook:a.textbook});
return l};K=void 0;g=function(a){return K=a};f.getTreeRules=function(){return c[K]};f.listDialects=function(){return A.keys(x)};h=void 0;t=function(a){return h=a};f.setSymbols=t;f.getSymbols=function(a){return null==a?z[h]:z[a]};f.getSymbolsName=function(){return h};D={awFOL:a("../parser/awFOL"),copi:a("../parser/copiFOL"),teller:a("../parser/tellerFOL"),forallx:a("../parser/forallxFOL"),logicbookFOL:a("../parser/logicbookFOL")};H=void 0;f.registerParser=function(a,c){return D[a]=c};f.getParser=function(a){if(!(a in
D))throw Error("unknown parser "+a);return D[a]};f.getCurrentParser=function(){return D[H]};f.getCurrentParserName=function(){return H};k=function(a){if(!(a in D))throw Error("unknown parser \u2018"+a+"\u2019");return H=a};f.setCurrentParser=k;c={};f.registerRuleSet=function(a,g){return c[a]=g};n="fitch";f.getCurrentRules=function(){return c[n]};f.getCurrentRulesName=function(){return n};r=function(a){return n=a};f.setCurrentRules=r;F("lpl")},{"../parser/awFOL":12,"../parser/copiFOL":13,"../parser/forallxFOL":14,
"../parser/logicbookFOL":15,"../parser/tellerFOL":16,"../symbols":32,lodash:9}],6:[function(a,F,f){var A,H,n;H=a("lodash");n=a("./dialect_manager/dialectManager").getCurrentParser();A=function(a,f){this.world=f;H.isString(a)?this.sentence=n.parse(a):this.sentence=a;this.varStack={};return this};A.prototype.logSentence=function(){return console.log("sentence "+JSON.stringify(this.sentence,null,4))};A.prototype.evaluate=function(a){var n,f,B,x,D;a=null!=a?a:this.sentence;if("value"===a.type)return a.value;
if("and"===a.type)return this.evaluate(a.left)&&this.evaluate(a.right);if("nand"===a.type)return!(this.evaluate(a.left)&&this.evaluate(a.right));if("or"===a.type)return this.evaluate(a.left)||this.evaluate(a.right);if("nor"===a.type)return!(this.evaluate(a.left)||this.evaluate(a.right));if("not"===a.type)return!this.evaluate(a.left);if("arrow"===a.type)return!this.evaluate(a.left)||this.evaluate(a.right);if("double_arrow"===a.type)return this.evaluate(a.left)===this.evaluate(a.right);if("sentence_letter"===
a.type)return this.world[a.letter];if("predicate"===a.type||"identity"===a.type)return f=a,n="identity"===f.type?function(){var a,k,r,t;r=this.world.domain;t=[];a=0;for(k=r.length;a<k;a++)D=r[a],t.push([D,D]);return t}.call(this):this.world.predicates[f.name],f=this.instantiate_terms(f.termlist),n=H.where(n,f),0<n.length;if("existential_quantifier"===a.type||"universal_quantifier"===a.type)return n=a.boundVariable,x=n.name,x in this.varStack||(this.varStack[x]=[]),B=this,"existential_quantifier"===
a.type&&(f=H.some),"universal_quantifier"===a.type&&(f=H.all),f(this.world.domain,function(c){B.varStack[x].push(c);c=B.evaluate(a.left);B.varStack[x].pop();return c});throw Error("e (evaluate inner) could not evaluate sentence "+JSON.stringify(a,null,4));};A.prototype.instantiate_terms=function(a){var n,f,B,x;B=[];n=0;for(f=a.length;n<f;n++)if(x=a[n],"name"===x.type){if(!(x.name in this.world.names))throw Error("The name "+x.name+" is not defined in this world.");B.push(this.world.names[x.name])}else if("variable"===
x.type){if(!(x.name in this.varStack))throw Error("The variable "+x.name+" is not bound by any quantifier.");B.push(H.last(this.varStack[x.name]))}else throw Error("Encountered a term of unknown type: "+JSON.stringify(x,null,4));return B};f.evaluate=function(a,n){return(new A(a,n)).evaluate()}},{"./dialect_manager/dialectManager":5,lodash:9}],7:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c;A=a("lodash");c=a("./util");K=a("./match");D=a("./substitute");u=a("./normal_form");h=a("./evaluate");B=a("./op");
F=a("./symbols");n=a("./dialect_manager/dialectManager");x=function(a,c){var t;null==c&&(c=n.getCurrentParser());t=c.parse(a);return H(t)};f.parse=x;f.parseUsingSystemParser=function(a){var c;c=n.getParser("awFOL");return x(a,c)};f.symbols=F;f.getLanguageNames=c.getLanguageNames;f.getPredLanguageName=c.getPredLanguageName;f.setDialect=function(a,c){return n.set(a,c)};f.getAllDialectNamesAndDescriptions=function(){return n.getAllDialectNamesAndDescriptions()};f.getCurrentDialectNameAndVersion=function(){return n.getCurrentDialectNameAndVersion()};
f._dialectManager=n;f.getTextbookForDialect=function(a){return n.getTextbookForDialect(a)};H=function(a){c.walk(a,function(r){if(null!==r&&!(A.isArray(r)||A.isString(r)||A.isBoolean(r)||A.isNumber(r)))return r.walk=function(a){c.walk(r,a);return r},r.delExtraneousProperties=function(){return c.delExtraneousProperties(r)},r.isIdenticalTo=function(a){return c.areIdenticalExpressions(r,a)},r.clone=function(){var a;a=c.cloneExpression(r);H(a);return a},r.toString=function(a){null==a&&(a={});!1!==a.replaceSymbols&&
null==a.symbols&&(a.symbols=n.getSymbols());return c.expressionToString(r,a)},r.listMetaVariableNames=function(){return c.listMetaVariableNames(r)},r.findMatches=function(a,c,k){return K.find(r,a,c,k)},r.applyMatches=function(a){a=K.apply(r,a);H(a);return a},r.applySubstitutions=function(){var a;a=D.applySubstitutions(r);H(a);return a},r.containsSubstitutions=function(){var a;a=!1;r.walk(function(c){null!=(null!=c?c.substitutions:void 0)&&(a=!0)});return a},r.getAllSubstitutionInstances=function(){var a;
a=[];K.doAfterApplyingSubstitutions(r,function(c){a.push(H(c))});return a},r.getNames=function(){var a;a=[];r.walk(function(c){"name"===(null!=c?c.type:void 0)&&a.push(c.name)});return a},r.getPredicates=function(){var a;a=[];r.walk(function(c){"predicate"===(null!=c?c.type:void 0)&&a.push({name:c.name,arity:c.termlist.length})});return A.uniq(a,function(a){return a.name+"*&!"+a.arity})},r.getSentenceLetters=function(){var a;a=[];r.walk(function(c){"sentence_letter"===(null!=c?c.type:void 0)&&a.push(c.letter)});
return a.sort()},r.getFreeVariableNames=function(){var h,g,n,b;h=c.listTerms(r);g=A.uniq(function(){var a,c,b;b=[];a=0;for(c=h.length;a<c;a++)n=h[a],"variable"===n.type&&b.push(n.name);return b}());return function(){var c,p,v;v=[];c=0;for(p=g.length;c<p;c++)b=g[c],u.isVariableFree(b,a)&&v.push(b);return v}()},r.negate=function(){return H(B.negate(r))},r.convertToPNFsimplifyAndSort=function(){var c;c=u.convertToPNFsimplifyAndSort(a);H(c);return c},r.isPNFExpressionEquivalent=function(a){return u.arePNFExpressionsEquivalent(r,
a)},r.evaluate=function(a){return h.evaluate(r,a)}});return a};f._decorate=H},{"./dialect_manager/dialectManager":5,"./evaluate":6,"./match":8,"./normal_form":10,"./op":11,"./substitute":31,"./symbols":32,"./util":33,lodash:9}],8:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c,k,r,t,g,z=[].indexOf||function(a){for(var c=0,p=this.length;c<p;c++)if(c in this&&this[c]===a)return c;return-1};A=a("lodash");g=a("./util");f.find=function(a,c,p){null==p&&(p={});null==p&&(p={});return r(c,function(c){var d,l;c=t(a,
c,p);if(!1!==c){for(d in c)l=c[d],c[d]=g.cloneExpression(l);return c}})||!1};t=function(a,c,p){var v;null==p&&(p={});v=function(a,c){var e,b,q;if(null!=(null!=c?c.type:void 0)&&("expression_variable"===(e=c.type)||"term_metavariable"===e||"term_metavariable_hat"===e)){"expression_variable"===c.type&&(q=c.letter);if("term_metavariable"===(b=c.type)||"term_metavariable_hat"===b)q=c.name;if(q in p)return g.areIdenticalExpressions(a,p[q]);p=A.clone(p);if("term_metavariable_hat"===c.type&&"name_hat"!==
a.type)return!1;p[q]=a;return null!=c.box?(e=g.cloneExpression(a),delete e.box,p[q]=e,null==a.box?!1:g.walkCompare(a.box,c.box,v)):p}};return g.walkCompare(a,c,v)?p:!1};f.findWithoutApplyingSubs=t;r=function(a,c){var p;if(!g.expressionContainsSubstitutions(a))return c(a);p=g.cloneExpression(a);p=D(p);return u(p,c)};f.doAfterApplyingSubstitutions=r;u=function(a,c){var p,v,d,l,e,h;p=K(a);if(d=!g.expressionContainsSubstitutions(p))if(h=c(p))return h;l=k(a);e=!g.expressionContainsSubstitutions(l);v=!g.areIdenticalExpressions(p,
l);if(e&&v&&(h=c(l))||!d&&(h=u(p,c))||!e&&v&&(h=u(l,c)))return h};K=function(a){var k;k=g.cloneExpression(a);return g.walkMutateFindOne(k,function(a){var b,d;if(null!=(null!=a?a.substitutions:void 0)){a=g.cloneExpression(a);d=c(a);if(null==d)return{newExpression:k,aResult:void 0};B(a,d)&&(b=g.cloneExpression(d.to),null!=a.substitutions&&(b.substitutions=a.substitutions),null!=a.box&&(b.box=a.box),a=b);return{newExpression:a,aResult:d}}}).mutatedExpression};B=function(a,c){return a.type!==c.from.type?
!1:null!=a.name&&null!=c.from.name&&a.name===c.from.name||null!=a.letter&&null!=c.from.letter&&a.letter===c.from.letter?!0:!1};k=function(a){a=g.cloneExpression(a);return g.walkMutateFindOne(a,function(a){var b;if(null!=(null!=a?a.substitutions:void 0))return a=g.cloneExpression(a),b=c(a),{newExpression:a,aResult:b}}).mutatedExpression};D=function(a){a=g.cloneExpression(a);return g.walkMutate(a,function(a){var b;if(null==(null!=a?a.substitutions:void 0)||null!=(null!=a?a.type:void 0)&&("name"===(b=
a.type)||"variable"===b||"term_metavariable"===b))return a;for(b=c(a);b;)a=x(b)?n(a,b):H(a,b),b=c(a);return a})};f._moveAllSubsInwards=D;c=function(a){var c;if(null!=a.substitutions){for(c=a.substitutions.shift();0<a.substitutions.length&&g.areIdenticalExpressions(c.from,c.to);)c=a.substitutions.shift();if(g.areIdenticalExpressions(c.from,c.to))delete a.substitutions;else return 0===a.substitutions.length&&delete a.substitutions,c}};x=function(a){var c;return(c=a.from.type,0<=z.call(g.termTypes,c))?
!0:!1};n=function(a,c){return h(a,c,g.termTypes)};f._addSubToEveryTerm=n;H=function(a,c){return h(a,c,["sentence_letter","expression_variable"])};f._addSubToEverySentence=H;h=function(a,c,p){var v,d;d=function(a){var c;if(null==(null!=a?a.type:void 0)||!(c=a.type,0<=z.call(p,c))||d._inSub)return a;a.substitutions&&!g.expressionHasSub(a,v)?a.substitutions.push(v):a.substitutions=[v];return a};a=g.cloneExpression(a);v=g.cloneExpression(c);return a=g.walkMutate(a,d)};f.apply=function(a,c,p){var v;null==
p&&(p={});v=function(a){var l,e,b;if(null==(null!=a?a.type:void 0)||"expression_variable"!==(l=a.type)&&"term_metavariable"!==l&&"term_metavariable_hat"!==l)return a;"expression_variable"===a.type&&(b=a.letter);if("term_metavariable"===(e=a.type)||"term_metavariable_hat"===e)b=a.name;if(!(b in c))return a;l=g.cloneExpression(c[b]);null!=a.substitutions&&(l.substitutions=a.substitutions);null!=a.box&&(l.box=a.box);return l};if(p.noClone)return g.walkMutate(a,v);a=g.cloneExpression(a);return g.walkMutate(a,
v)}},{"./util":33,lodash:9}],9:[function(a,F,f){(function(a){(function(){function H(a,c){if(a!==c){var d=null===a,l=a===e,E=a===a,q=null===c,b=c===e,G=c===c;if(a>c&&!q||!E||d&&!b&&G||l&&G)return 1;if(a<c&&!d||!G||q&&!l&&E||b&&E)return-1}return 0}function n(a,c,d){for(var e=a.length,l=d?e:-1;d?l--:++l<e;)if(c(a[l],l,a))return l;return-1}function h(a,c,d){if(c!==c)return g(a,d);--d;for(var e=a.length;++d<e;)if(a[d]===c)return d;return-1}function K(a){return"function"==typeof a||!1}function u(a){return null==
a?"":a+""}function B(a,c){for(var d=-1,e=a.length;++d<e&&-1<c.indexOf(a.charAt(d)););return d}function x(a,c){for(var d=a.length;d--&&-1<c.indexOf(a.charAt(d)););return d}function D(a,c){return H(a.criteria,c.criteria)||a.index-c.index}function c(a){return Ob[a]}function k(a){return Ka[a]}function r(a,c,d){c?a=ya[a]:d&&(a=nc[a]);return"\\"+a}function t(a){return"\\"+nc[a]}function g(a,c,d){var e=a.length;for(c+=d?0:-1;d?c--:++c<e;){var l=a[c];if(l!==l)return c}return-1}function z(a){return!!a&&"object"==
typeof a}function b(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function w(a,c){for(var d=-1,e=a.length,l=-1,E=[];++d<e;)a[d]===c&&(a[d]="__lodash_placeholder__",E[++l]=d);return E}function p(a){for(var c=-1,d=a.length;++c<d&&b(a.charCodeAt(c)););return c}function v(a){for(var c=a.length;c--&&b(a.charCodeAt(c)););return c}function d(a){return Xb[a]}function l(a){function b(m){if(z(m)&&!R(m)&&!(m instanceof
F)){if(m instanceof A)return m;if(ca.call(m,"__chain__")&&ca.call(m,"__wrapped__"))return Kc(m)}return new A(m)}function f(){}function A(m,C,a){this.__wrapped__=m;this.__actions__=a||[];this.__chain__=!!C}function F(m){this.__wrapped__=m;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=oc;this.__views__=[]}function Ob(){this.__data__={}}function Xb(m){var C=m?m.length:0;for(this.data={hash:pc(null),set:new na};C--;)this.push(m[C])}function Ma(m,C){var a=
m.data;return("string"==typeof C||Z(C)?a.set.has(C):a.hash[C])?0:-1}function ya(m,C){var a=-1,b=m.length;for(C||(C=fa(b));++a<b;)C[a]=m[a];return C}function Ka(m,C){for(var a=-1,b=m.length;++a<b&&!1!==C(m[a],a,m););return m}function nc(m,C){for(var a=-1,b=m.length;++a<b;)if(!C(m[a],a,m))return!1;return!0}function yb(m,C){for(var a=-1,b=m.length,c=-1,d=[];++a<b;){var e=m[a];C(e,a,m)&&(d[++c]=e)}return d}function Ja(m,C){for(var a=-1,b=m.length,c=fa(b);++a<b;)c[a]=C(m[a],a,m);return c}function Aa(m,
C){for(var a=-1,b=C.length,c=m.length;++a<b;)m[c+a]=C[a];return m}function qc(m,C,a,b){var c=-1,d=m.length;for(b&&d&&(a=m[++c]);++c<d;)a=C(a,m[c],c,m);return a}function mc(m,C){for(var a=-1,b=m.length;++a<b;)if(C(m[a],a,m))return!0;return!1}function re(m,C,a,b){return m!==e&&ca.call(b,a)?m:C}function rd(m,C,a){for(var b=-1,c=wa(C),d=c.length;++b<d;){var l=c[b],E=m[l],q=a(E,C[l],l,m,C);(q===q?q===E:E!==E)&&(E!==e||l in m)||(m[l]=q)}return m}function rc(m,C){return null==C?m:ga(C,wa(C),m)}function se(m,
C){for(var a=-1,b=null==m,c=!b&&sa(m),d=c?m.length:0,l=C.length,E=fa(l);++a<l;){var q=C[a];E[a]=c?pb(q,d)?m[q]:e:b?e:m[q]}return E}function ga(m,C,a){a||(a={});for(var b=-1,c=C.length;++b<c;){var d=C[b];a[d]=m[d]}return a}function aa(m,C,a){var b=typeof m;return"function"==b?C===e?m:Ca(m,C,a):null==m?qa:"object"==b?sd(m):C===e?sc(m):L(m,C)}function db(m,C,a,b,c,d,l){var E;a&&(E=c?a(m,b,c):a(m));if(E!==e)return E;if(!Z(m))return m;if(b=R(m)){if(E=td(m),!C)return ya(m,E)}else{var q=ta.call(m),G="[object Function]"==
q;if("[object Object]"==q||"[object Arguments]"==q||G&&!c){if(E=qb(G?{}:m),!C)return rc(E,m)}else return ka[q]?Ze(m,q,C):c?m:{}}d||(d=[]);l||(l=[]);for(c=d.length;c--;)if(d[c]==m)return l[c];d.push(m);l.push(E);(b?Ka:eb)(m,function(b,c){E[c]=db(b,C,a,c,m,d,l)});return E}function Lc(m,C,a){if("function"!=typeof m)throw new La("Expected a function");return tc(function(){m.apply(e,a)},C)}function zb(m,C){var a=m?m.length:0,b=[];if(!a)return b;var c=-1,d=Pb(),e=d==h,l=e&&200<=C.length?pc&&na?new Xb(C):
null:null,E=C.length;l&&(d=Ma,e=!1,C=l);a:for(;++c<a;)if(l=m[c],e&&l===l){for(var q=E;q--;)if(C[q]===l)continue a;b.push(l)}else 0>d(C,l,0)&&b.push(l);return b}function rb(m,C){var a=!0;Ha(m,function(m,b,c){return a=!!C(m,b,c)});return a}function oe(m,C,a,b){var c=b,d=c;Ha(m,function(m,e,l){e=+C(m,e,l);if(a(e,c)||e===b&&e===d)c=e,d=m});return d}function te(m,C){var a=[];Ha(m,function(m,b,c){C(m,b,c)&&a.push(m)});return a}function ue(m,C,a,b){var c;a(m,function(m,a,cb){if(C(m,a,cb))return c=b?a:m,
!1});return c}function oa(m,C,a,b){b||(b=[]);for(var c=-1,d=m.length;++c<d;){var e=m[c];z(e)&&sa(e)&&(a||R(e)||Na(e))?C?oa(e,C,a,b):Aa(b,e):a||(b[b.length]=e)}return b}function sb(m,C){return Mc(m,C,fb)}function eb(m,C){return Mc(m,C,wa)}function Yb(m,C){return ud(m,C,wa)}function Zb(m,C){for(var a=-1,b=C.length,c=-1,d=[];++a<b;){var e=C[a];gb(m[e])&&(d[++c]=e)}return d}function Ia(m,C,a){if(null!=m){a!==e&&a in ha(m)&&(C=[a]);a=0;for(var b=C.length;null!=m&&a<b;)m=m[C[a++]];return a&&a==b?m:e}}function Oa(m,
C,a,b,c,d){if(m===C)return!0;if(null==m||null==C||!Z(m)&&!z(C))return m!==m&&C!==C;a:{var e=Oa,l=R(m),E=R(C),q="[object Array]",G="[object Array]";l||(q=ta.call(m),"[object Arguments]"==q?q="[object Object]":"[object Object]"!=q&&(l=Qb(m)));E||(G=ta.call(C),"[object Arguments]"==G?G="[object Object]":"[object Object]"!=G&&Qb(C));var g="[object Object]"==q,E="[object Object]"==G,G=q==G;if(!G||l||g){if(!b&&(q=g&&ca.call(m,"__wrapped__"),E=E&&ca.call(C,"__wrapped__"),q||E)){m=e(q?m.value():m,E?C.value():
C,a,b,c,d);break a}if(G){c||(c=[]);d||(d=[]);for(q=c.length;q--;)if(c[q]==m){m=d[q]==C;break a}c.push(m);d.push(C);m=(l?ve:we)(m,C,e,a,b,c,d);c.pop();d.pop()}else m=!1}else m=xe(m,C,q)}return m}function Za(m,C,a){var b=C.length,c=b,d=!a;if(null==m)return!c;for(m=ha(m);b--;){var l=C[b];if(d&&l[2]?l[1]!==m[l[0]]:!(l[0]in m))return!1}for(;++b<c;){var l=C[b],E=l[0],q=m[E],G=l[1];if(d&&l[2]){if(q===e&&!(E in m))return!1}else if(l=a?a(q,G,E):e,l===e?!Oa(G,q,a,!0):!l)return!1}return!0}function hb(m,C){var a=
-1,b=sa(m)?fa(m.length):[];Ha(m,function(m,c,d){b[++a]=C(m,c,d)});return b}function sd(m){var C=vd(m);if(1==C.length&&C[0][2]){var a=C[0][0],b=C[0][1];return function(m){return null==m?!1:m[a]===b&&(b!==e||a in ha(m))}}return function(m){return Za(m,C)}}function L(m,C){var a=R(m),b=ib(m)&&C===C&&!Z(C),c=m+"";m=Pa(m);return function(d){if(null==d)return!1;var l=c;d=ha(d);if(!(!a&&b||l in d)){d=1==m.length?d:Ia(d,Da(m,0,-1));if(null==d)return!1;l=$b(m);d=ha(d)}return d[l]===C?C!==e||l in d:Oa(C,d[l],
e,!0)}}function Hf(m,C,a,b,c){if(!Z(m))return m;var d=sa(C)&&(R(C)||Qb(C)),l=d?e:wa(C);Ka(l||C,function(E,q){l&&(q=E,E=C[q]);if(z(E)){b||(b=[]);c||(c=[]);a:{for(var G=q,g=b,p=c,v=g.length,L=C[G];v--;)if(g[v]==L){m[G]=p[v];break a}var v=m[G],k=a?a(v,L,G,m,C):e,h=k===e;h&&(k=L,sa(L)&&(R(L)||Qb(L))?k=R(v)?v:sa(v)?ya(v):[]:Nc(L)||Na(L)?k=Na(v)?Rb(v):Nc(v)?v:{}:h=!1);g.push(L);p.push(k);if(h)m[G]=Hf(k,L,a,g,p);else if(k===k?k!==v:v===v)m[G]=k}}else G=m[q],g=a?a(G,E,q,m,C):e,(p=g===e)&&(g=E),g===e&&(!d||
q in m)||!p&&(g===g?g===G:G!==G)||(m[q]=g)});return m}function af(m){return function(C){return null==C?e:C[m]}}function T(m){var C=m+"";m=Pa(m);return function(a){return Ia(a,m,C)}}function If(m,C){for(var a=m?C.length:0;a--;){var b=C[a];if(b!=c&&pb(b)){var c=b;wd.call(m,b,1)}}return m}function bf(m,C){return m+Qa(ac()*(C-m+1))}function pg(m,C,a,b,c){c(m,function(m,c,d){a=b?(b=!1,m):C(a,m,c,d)});return a}function Da(m,C,a){var b=-1,c=m.length;C=null==C?0:+C||0;0>C&&(C=-C>c?0:c+C);a=a===e||a>c?c:+a||
0;0>a&&(a+=c);c=C>a?0:a-C>>>0;C>>>=0;for(a=fa(c);++b<c;)a[b]=m[b+C];return a}function tb(m,C){var a;Ha(m,function(m,b,c){a=C(m,b,c);return!a});return!!a}function Jf(m,C){var a=m.length;for(m.sort(C);a--;)m[a]=m[a].value;return m}function Kf(m,C,a){var b=da(),c=-1;C=Ja(C,function(m){return b(m)});m=hb(m,function(m){return{criteria:Ja(C,function(C){return C(m)}),index:++c,value:m}});return Jf(m,function(m,C){var b;a:{for(var c=-1,d=m.criteria,e=C.criteria,l=d.length,E=a.length;++c<l;)if(b=H(d[c],e[c])){if(c>=
E)break a;c=a[c];b*="asc"===c||!0===c?1:-1;break a}b=m.index-C.index}return b})}function qg(m,C){var a=0;Ha(m,function(m,b,c){a+=+C(m,b,c)||0});return a}function cf(m,C){var a=-1,b=Pb(),c=m.length,d=b==h,e=d&&200<=c,l=e?pc&&na?new Xb(void 0):null:null,E=[];l?(b=Ma,d=!1):(e=!1,l=C?[]:E);a:for(;++a<c;){var q=m[a],G=C?C(q,a,m):q;if(d&&q===q){for(var g=l.length;g--;)if(l[g]===G)continue a;C&&l.push(G);E.push(q)}else 0>b(l,G,0)&&((C||e)&&l.push(G),E.push(q))}return E}function df(m,C){for(var a=-1,b=C.length,
c=fa(b);++a<b;)c[a]=m[C[a]];return c}function uc(m,a,b,c){for(var d=m.length,e=c?d:-1;(c?e--:++e<d)&&a(m[e],e,m););return b?Da(m,c?0:e,c?e+1:d):Da(m,c?e+1:0,c?d:e)}function vc(m,a){var b=m;b instanceof F&&(b=b.value());for(var c=-1,d=a.length;++c<d;)var e=a[c],b=e.func.apply(e.thisArg,Aa([b],e.args));return b}function ef(m,a,b){var c=0,d=m?m.length:c;if("number"==typeof a&&a===a&&2147483647>=d){for(;c<d;){var e=c+d>>>1,l=m[e];(b?l<=a:l<a)&&null!==l?c=e+1:d=e}return d}return Lf(m,a,qa,b)}function Lf(m,
a,b,c){a=b(a);for(var d=0,l=m?m.length:0,E=a!==a,q=null===a,G=a===e;d<l;){var g=Qa((d+l)/2),v=b(m[g]),p=v!==e,L=v===v;(E?L||c:q?L&&p&&(c||null!=v):G?L&&(c||p):null==v?0:c?v<=a:v<a)?d=g+1:l=g}return W(l,4294967294)}function Ca(m,a,b){if("function"!=typeof m)return qa;if(a===e)return m;switch(b){case 1:return function(b){return m.call(a,b)};case 3:return function(b,c,d){return m.call(a,b,c,d)};case 4:return function(b,c,d,cb){return m.call(a,b,c,d,cb)};case 5:return function(b,c,d,cb,e){return m.call(a,
b,c,d,cb,e)}}return function(){return m.apply(a,arguments)}}function Oc(m){var a=new xd(m.byteLength);(new Pc(a)).set(new Pc(m));return a}function Ab(m,a,b){for(var c=b.length,d=-1,e=xa(m.length-c,0),l=-1,E=a.length,q=fa(E+e);++l<E;)q[l]=a[l];for(;++d<c;)q[b[d]]=m[d];for(;e--;)q[l++]=m[d++];return q}function Bb(m,a,b){for(var c=-1,d=b.length,e=-1,l=xa(m.length-d,0),E=-1,q=a.length,G=fa(l+q);++e<l;)G[e]=m[e];for(l=e;++E<q;)G[l+E]=a[E];for(;++c<d;)G[l+b[c]]=m[e++];return G}function ub(m,a){return function(b,
c,d){var e=a?a():{};c=da(c,d,3);if(R(b)){d=-1;for(var l=b.length;++d<l;){var E=b[d];m(e,E,c(E,d,b),b)}}else Ha(b,function(a,C,b){m(e,a,c(a,C,b),b)});return e}}function Ra(m){return ba(function(a,b){var c=-1,d=null==a?0:b.length,l=2<d?b[d-2]:e,E=2<d?b[2]:e,q=1<d?b[d-1]:e;"function"==typeof l?(l=Ca(l,q,5),d-=2):(l="function"==typeof q?q:e,d-=l?1:0);E&&Q(b[0],b[1],E)&&(l=3>d?e:l,d=1);for(;++c<d;)(E=b[c])&&m(a,E,l);return a})}function Mf(m,a){return function(b,c){var d=b?Ea(b):0;if(!Sa(d))return m(b,
c);for(var e=a?d:-1,l=ha(b);(a?e--:++e<d)&&!1!==c(l[e],e,l););return b}}function Sb(m){return function(a,b,c){var d=ha(a);c=c(a);for(var e=c.length,l=m?e:-1;m?l--:++l<e;){var E=c[l];if(!1===b(d[E],E,d))break}return a}}function ye(m,a){function b(){return(this&&this!==jb&&this instanceof b?c:m).apply(a,arguments)}var c=Qc(m);return b}function kb(m){return function(a){var b=-1;a=yd(zd(a));for(var c=a.length,d="";++b<c;)d=m(d,a[b],b);return d}}function Qc(m){return function(){var a=arguments;switch(a.length){case 0:return new m;
case 1:return new m(a[0]);case 2:return new m(a[0],a[1]);case 3:return new m(a[0],a[1],a[2]);case 4:return new m(a[0],a[1],a[2],a[3]);case 5:return new m(a[0],a[1],a[2],a[3],a[4]);case 6:return new m(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new m(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var b=bc(m.prototype),a=m.apply(b,a);return Z(a)?a:b}}function Ad(m){function a(b,c,d){d&&Q(b,c,d)&&(c=e);b=$a(b,m,e,e,e,e,e,c);b.placeholder=a.placeholder;return b}return a}function la(m,a){return ba(function(b){var c=
b[0];if(null==c)return c;b.push(a);return m.apply(e,b)})}function ze(m,a){return function(b,c,d){d&&Q(b,c,d)&&(c=e);c=da(c,d,3);if(1==c.length){d=b=R(b)?b:Rc(b);for(var l=c,E=-1,q=d.length,G=a,g=G;++E<q;){var v=d[E],p=+l(v);m(p,G)&&(G=p,g=v)}d=g;if(!b.length||d!==a)return d}return oe(b,c,m,a)}}function Ta(m,a){return function(b,c,d){c=da(c,d,3);return R(b)?(c=n(b,c,a),-1<c?b[c]:e):ue(b,c,m)}}function Sc(m){return function(a,b,c){if(!a||!a.length)return-1;b=da(b,c,3);return n(a,b,m)}}function wc(m){return function(a,
b,c){b=da(b,c,3);return ue(a,b,m,!0)}}function Tc(m){return function(){for(var a,b=arguments.length,c=m?b:-1,d=0,l=fa(b);m?c--:++c<b;){var E=l[d++]=arguments[c];if("function"!=typeof E)throw new La("Expected a function");!a&&A.prototype.thru&&"wrapper"==Uc(E)&&(a=new A([],!0))}for(c=a?-1:b;++c<b;){var E=l[c],d=Uc(E),q="wrapper"==d?xc(E):e;a=q&&Vc(q[0])&&424==q[1]&&!q[4].length&&1==q[9]?a[Uc(q[0])].apply(a,q[3]):1==E.length&&Vc(E)?a[d]():a.thru(E)}return function(){var m=arguments,c=m[0];if(a&&1==
m.length&&R(c)&&200<=c.length)return a.plant(c).value();for(var d=0,m=b?l[d].apply(this,m):c;++d<b;)m=l[d].call(this,m);return m}}}function Wc(m,a){return function(b,c,d){return"function"==typeof c&&d===e&&R(b)?m(b,c):a(b,Ca(c,d,3))}}function Ae(m){return function(a,b,c){if("function"!=typeof b||c!==e)b=Ca(b,c,3);return m(a,b,fb)}}function Xc(m){return function(a,b,c){if("function"!=typeof b||c!==e)b=Ca(b,c,3);return m(a,b)}}function Be(m){return function(a,b,c){var d={};b=da(b,c,3);eb(a,function(a,
C,c){c=b(a,C,c);C=m?c:C;a=m?a:c;d[C]=a});return d}}function cc(m){return function(a,b,c){a=u(a);return(m?a:"")+Bd(a,b,c)+(m?"":a)}}function Cb(m){var a=ba(function(b,c){var d=w(c,a.placeholder);return $a(b,m,e,c,d)});return a}function Yc(m,a){return function(b,c,d,l){var E=3>arguments.length;return"function"==typeof c&&l===e&&R(b)?m(b,c,d,E):pg(b,da(c,l,4),d,E,a)}}function Zc(m,a,b,c,d,l,E,q,G,g){function v(){for(var J=arguments.length,I=J,y=fa(J);I--;)y[I]=arguments[I];c&&(y=Ab(y,c,d));l&&(y=Bb(y,
l,E));if(h||ob){var I=v.placeholder,bb=w(y,I),J=J-bb.length;if(J<g){var n=q?ya(q):e,J=xa(g-J,0),f=h?bb:e,bb=h?e:bb,ma=h?y:e,y=h?e:y;a|=h?32:64;a&=~(h?64:32);r||(a&=-4);y=[m,a,b,ma,f,y,bb,n,G,J];n=Zc.apply(e,y);Vc(m)&&$c(n,y);n.placeholder=I;return n}}I=L?b:this;n=k?I[m]:m;if(q)for(J=y.length,f=W(q.length,J),bb=ya(y);f--;)ma=q[f],y[f]=pb(ma,J)?bb[ma]:e;p&&G<y.length&&(y.length=G);this&&this!==jb&&this instanceof v&&(n=t||Qc(m));return n.apply(I,y)}var p=a&128,L=a&1,k=a&2,h=a&8,r=a&4,ob=a&16,t=k?e:
Qc(m);return v}function Bd(m,a,b){m=m.length;a=+a;if(m>=a||!Db(a))return"";a-=m;b=null==b?" ":b+"";return Dd(b,lb(a/b.length)).slice(0,a)}function Ce(m,a,b,c){function d(){for(var a=-1,C=arguments.length,E=-1,q=c.length,G=fa(q+C);++E<q;)G[E]=c[E];for(;C--;)G[E++]=arguments[++a];return(this&&this!==jb&&this instanceof d?l:m).apply(e?b:this,G)}var e=a&1,l=Qc(m);return d}function ad(m){var a=Eb[m];return function(m,b){return(b=b===e?0:+b||0)?(b=yc(10,b),a(m*b)/b):a(m)}}function Ed(m){return function(a,
b,c,d){var e=da(c);return null==c&&e===aa?ef(a,b,m):Lf(a,b,e(c,d,1),m)}}function $a(m,a,b,c,d,l,E,q){var G=a&2;if(!G&&"function"!=typeof m)throw new La("Expected a function");var g=c?c.length:0;g||(a&=-97,c=d=e);g-=d?d.length:0;if(a&64){var v=c,p=d;c=d=e}var L=G?e:xc(m);b=[m,a,b,c,d,v,p,l,E,q];if(L){c=b[1];a=L[1];q=c|a;d=128==a&&8==c||128==a&&256==c&&b[7].length<=L[8]||384==a&&8==c;if(128>q||d){a&1&&(b[2]=L[2],q|=c&1?0:4);if(c=L[3])d=b[3],b[3]=d?Ab(d,c,L[4]):ya(c),b[4]=d?w(b[3],"__lodash_placeholder__"):
ya(L[4]);if(c=L[5])d=b[5],b[5]=d?Bb(d,c,L[6]):ya(c),b[6]=d?w(b[5],"__lodash_placeholder__"):ya(L[6]);(c=L[7])&&(b[7]=ya(c));a&128&&(b[8]=null==b[8]?L[8]:W(b[8],L[8]));null==b[9]&&(b[9]=L[9]);b[0]=L[0];b[1]=q}a=b[1];q=b[9]}b[9]=null==q?G?0:m.length:xa(q-g,0)||0;m=1==a?ye(b[0],b[2]):32!=a&&33!=a||b[4].length?Zc.apply(e,b):Ce.apply(e,b);return(L?Fd:$c)(m,b)}function ve(m,a,b,c,d,l,E){var q=-1,G=m.length,g=a.length;if(G!=g&&!(d&&g>G))return!1;for(;++q<G;){var v=m[q],g=a[q],L=c?c(d?g:v,d?v:g,q):e;if(L!==
e){if(L)continue;return!1}if(d){if(!mc(a,function(m){return v===m||b(v,m,c,d,l,E)}))return!1}else if(v!==g&&!b(v,g,c,d,l,E))return!1}return!0}function xe(m,a,b){switch(b){case "[object Boolean]":case "[object Date]":return+m==+a;case "[object Error]":return m.name==a.name&&m.message==a.message;case "[object Number]":return m!=+m?a!=+a:m==+a;case "[object RegExp]":case "[object String]":return m==a+""}return!1}function we(m,a,b,c,d,l,E){var q=wa(m),G=q.length,g=wa(a).length;if(G!=g&&!d)return!1;for(g=
G;g--;){var v=q[g];if(!(d?v in a:ca.call(a,v)))return!1}for(var L=d;++g<G;){var v=q[g],p=m[v],k=a[v],h=c?c(d?k:p,d?p:k,v):e;if(h===e?!b(p,k,c,d,l,E):!h)return!1;L||(L="constructor"==v)}return L||(b=m.constructor,c=a.constructor,!(b!=c&&"constructor"in m&&"constructor"in a)||"function"==typeof b&&b instanceof b&&"function"==typeof c&&c instanceof c)?!0:!1}function da(m,a,c){var d=b.callback||zc,d=d===zc?aa:d;return c?d(m,a,c):d}function Uc(m){for(var a=m.name,b=Fa[a],c=b?b.length:0;c--;){var d=b[c],
e=d.func;if(null==e||e==m)return d.name}return a}function Pb(m,a,c){var d=b.indexOf||bd,d=d===bd?h:d;return m?d(m,a,c):d}function vd(m){m=Gd(m);for(var a=m.length;a--;){var b=m[a],c;c=m[a][1];c=c===c&&!Z(c);b[2]=c}return m}function Fb(m,a){var b=null==m?e:m[a];return Ua(b)?b:e}function td(m){var a=m.length,b=new m.constructor(a);a&&"string"==typeof m[0]&&ca.call(m,"index")&&(b.index=m.index,b.input=m.input);return b}function qb(m){m=m.constructor;"function"==typeof m&&m instanceof m||(m=Gb);return new m}
function Ze(m,a,b){var c=m.constructor;switch(a){case "[object ArrayBuffer]":return Oc(m);case "[object Boolean]":case "[object Date]":return new c(+m);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return a=m.buffer,new c(b?Oc(a):a,m.byteOffset,m.length);case "[object Number]":case "[object String]":return new c(m);
case "[object RegExp]":var d=new c(m.source,dc.exec(m));d.lastIndex=m.lastIndex}return d}function ec(m,a,b){null==m||ib(a,m)||(a=Pa(a),m=1==a.length?m:Ia(m,Da(a,0,-1)),a=$b(a));a=null==m?m:m[a];return null==a?e:a.apply(m,b)}function sa(m){return null!=m&&Sa(Ea(m))}function pb(m,a){m="number"==typeof m||y.test(m)?+m:-1;return-1<m&&0==m%1&&m<(null==a?9007199254740991:a)}function Q(m,a,b){if(!Z(b))return!1;var c=typeof a;return("number"==c?sa(b)&&pb(a,b.length):"string"==c&&a in b)?(a=b[a],m===m?m===
a:a!==a):!1}function ib(m,a){var b=typeof m;return"string"==b&&G.test(m)||"number"==b?!0:R(m)?!1:!ma.test(m)||null!=a&&m in ha(a)}function Vc(m){var a=Uc(m);if(!(a in F.prototype))return!1;a=b[a];if(m===a)return!0;a=xc(a);return!!a&&m===a[0]}function Sa(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function Hd(a,b){return a===e?b:Id(a,b,Hd)}function De(a,b){a=ha(a);for(var c=-1,d=b.length,e={};++c<d;){var l=b[c];l in a&&(e[l]=a[l])}return e}function Jd(a,b){var c={};sb(a,function(a,
m,d){b(a,m,d)&&(c[m]=a)});return c}function Kd(a){for(var b=fb(a),c=b.length,d=c&&a.length,e=!!d&&Sa(d)&&(R(a)||Na(a)),l=-1,E=[];++l<c;){var q=b[l];(e&&pb(q,d)||ca.call(a,q))&&E.push(q)}return E}function Rc(a){return null==a?[]:sa(a)?Z(a)?a:Gb(a):Hb(a)}function ha(a){return Z(a)?a:Gb(a)}function Pa(a){if(R(a))return a;var b=[];u(a).replace(E,function(a,m,c,d){b.push(c?d.replace(Ib,"$1"):m||a)});return b}function Kc(a){return a instanceof F?a.clone():new A(a.__wrapped__,a.__chain__,ya(a.__actions__))}
function Ld(a,b,c){if(!a||!a.length)return[];if(c?Q(a,b,c):null==b)b=1;return Da(a,0>b?0:b)}function Ac(a,b,c){var d=a?a.length:0;if(!d)return[];if(c?Q(a,b,c):null==b)b=1;b=d-(+b||0);return Da(a,0,0>b?0:b)}function Tb(a){return a?a[0]:e}function bd(a,b,c){var d=a?a.length:0;if(!d)return-1;if("number"==typeof c)c=0>c?xa(d+c,0):c;else if(c)return c=ef(a,b),c<d&&(b===b?b===a[c]:a[c]!==a[c])?c:-1;return h(a,b,c||0)}function $b(a){var b=a?a.length:0;return b?a[b-1]:e}function Ee(a){return Ld(a,1)}function Md(a,
b,c,d){if(!a||!a.length)return[];null!=b&&"boolean"!=typeof b&&(d=c,c=Q(a,b,d)?e:b,b=!1);var l=da();if(null!=c||l!==aa)c=l(c,d,3);if(b&&Pb()==h){b=c;var E;c=-1;d=a.length;for(var l=-1,q=[];++c<d;){var G=a[c],g=b?b(G,c,a):G;c&&E===g||(E=g,q[++l]=G)}a=q}else a=cf(a,c);return a}function Jb(a){if(!a||!a.length)return[];var b=-1,c=0;a=yb(a,function(a){if(sa(a))return c=xa(a.length,c),!0});for(var d=fa(c);++b<c;)d[b]=Ja(a,af(b));return d}function fc(a,b,c){if(!a||!a.length)return[];a=Jb(a);if(null==b)return a;
b=Ca(b,c,4);return Ja(a,function(a){return qc(a,b,e,!0)})}function Fe(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||R(a[0])||(b=[]);++c<d;){var l=a[c];b?e[l]=b[c]:l&&(e[l[0]]=l[1])}return e}function Nd(a){a=b(a);a.__chain__=!0;return a}function gc(a,b,c){return b.call(c,a)}function Od(a,b,c){var d=R(a)?nc:rb;c&&Q(a,b,c)&&(b=e);if("function"!=typeof b||c!==e)b=da(b,c,3);return d(a,b)}function Bc(a,b,c){var d=R(a)?yb:te;b=da(b,c,3);return d(a,b)}function hc(a,b,c,d){var e=a?Ea(a):0;Sa(e)||(a=Hb(a),e=
a.length);c="number"!=typeof c||d&&Q(b,c,d)?0:0>c?xa(e+c,0):c||0;return"string"==typeof a||!R(a)&&Pd(a)?c<=e&&-1<a.indexOf(b,c):!!e&&-1<Pb(a,b,c)}function Qd(a,b,c){var d=R(a)?Ja:hb;b=da(b,c,3);return d(a,b)}function Cc(a,b,c){if(c?Q(a,b,c):null==b){a=Rc(a);var d=a.length;return 0<d?a[bf(0,d-1)]:e}c=-1;a=mb(a);var d=a.length,l=d-1;for(b=W(0>b?0:+b||0,d);++c<b;){var d=bf(c,l),E=a[d];a[d]=a[c];a[c]=E}a.length=b;return a}function Rd(a,b,c){var d=R(a)?mc:tb;c&&Q(a,b,c)&&(b=e);if("function"!=typeof b||
c!==e)b=da(b,c,3);return d(a,b)}function cd(a,b){var c;if("function"!=typeof b)if("function"==typeof a){var d=a;a=b;b=d}else throw new La("Expected a function");return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=e);return c}}function nb(a,b,c){function d(b,c){c&&Ba(c);g=k=h=e;b&&(r=Dc(),v=a.apply(p,G),k||g||(G=p=e))}function l(){var a=b-(Dc()-L);0>=a||a>b?d(h,g):k=tc(l,a)}function E(){d(ob,k)}function q(){G=arguments;L=Dc();p=this;h=ob&&(k||!t);if(!1===w)var c=t&&!k;else{g||t||(r=L);var d=
w-(L-r),cb=0>=d||d>w;cb?(g&&(g=Ba(g)),r=L,v=a.apply(p,G)):g||(g=tc(E,d))}cb&&k?k=Ba(k):k||b===w||(k=tc(l,b));c&&(cb=!0,v=a.apply(p,G));!cb||k||g||(G=p=e);return v}var G,g,v,L,p,k,h,r=0,w=!1,ob=!0;if("function"!=typeof a)throw new La("Expected a function");b=0>b?0:+b||0;if(!0===c)var t=!0,ob=!1;else Z(c)&&(t=!!c.leading,w="maxWait"in c&&xa(+c.maxWait||0,b),ob="trailing"in c?!!c.trailing:ob);q.cancel=function(){k&&Ba(k);g&&Ba(g);r=0;g=k=h=e};return q}function Sd(a,b){if("function"!=typeof a||b&&"function"!=
typeof b)throw new La("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],l=c.cache;if(l.has(e))return l.get(e);d=a.apply(this,d);c.cache=l.set(e,d);return d};c.cache=new Sd.Cache;return c}function ba(a,b){if("function"!=typeof a)throw new La("Expected a function");b=xa(b===e?a.length-1:+b||0,0);return function(){for(var c=arguments,d=-1,e=xa(c.length-b,0),l=fa(e);++d<e;)l[d]=c[b+d];switch(b){case 0:return a.call(this,l);case 1:return a.call(this,c[0],l);case 2:return a.call(this,
c[0],c[1],l)}e=fa(b+1);for(d=-1;++d<b;)e[d]=c[d];e[b]=l;return a.apply(this,e)}}function Ge(a,b){return a>b}function Na(a){return z(a)&&sa(a)&&ca.call(a,"callee")&&!pa.call(a,"callee")}function P(a,b,c,d){d=(c="function"==typeof c?Ca(c,d,3):e)?c(a,b):e;return d===e?Oa(a,b,c):!!d}function Ec(a){return z(a)&&"string"==typeof a.message&&"[object Error]"==ta.call(a)}function gb(a){return Z(a)&&"[object Function]"==ta.call(a)}function Z(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ua(a){return null==
a?!1:gb(a)?ua.test(O.call(a)):z(a)&&He.test(a)}function Td(a){return"number"==typeof a||z(a)&&"[object Number]"==ta.call(a)}function Nc(a){var b;if(!z(a)||"[object Object]"!=ta.call(a)||Na(a)||!(ca.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var c;sb(a,function(a,b){c=b});return c===e||ca.call(a,c)}function Ie(a){return Z(a)&&"[object RegExp]"==ta.call(a)}function Pd(a){return"string"==typeof a||z(a)&&"[object String]"==ta.call(a)}function Qb(a){return z(a)&&
Sa(a.length)&&!!ia[ta.call(a)]}function ab(a,b){return a<b}function mb(a){var b=a?Ea(a):0;return Sa(b)?b?ya(a):[]:Hb(a)}function Rb(a){return ga(a,fb(a))}function Fc(a){return Zb(a,fb(a))}function fb(a){if(null==a)return[];Z(a)||(a=Gb(a));for(var b=a.length,b=b&&Sa(b)&&(R(a)||Na(a))&&b||0,c=a.constructor,d=-1,c="function"==typeof c&&c.prototype===a,e=fa(b),l=0<b;++d<b;)e[d]=d+"";for(var E in a)l&&pb(E,b)||"constructor"==E&&(c||!ca.call(a,E))||e.push(E);return e}function Gd(a){a=ha(a);for(var b=-1,
c=wa(a),d=c.length,e=fa(d);++b<d;){var l=c[b];e[b]=[l,a[l]]}return e}function Hb(a){return df(a,wa(a))}function zd(a){return(a=u(a))&&a.replace(dd,c).replace(bb,"")}function Dd(a,b){var c="";a=u(a);b=+b;if(1>b||!a||!Db(b))return c;do b%2&&(c+=a),b=Qa(b/2),a+=a;while(b);return c}function Ud(a,b,c){var d=a;a=u(a);if(!a)return a;if(c?Q(d,b,c):null==b)return a.slice(p(a),v(a)+1);b+="";return a.slice(B(a,b),x(a,b)+1)}function yd(a,b,c){c&&Q(a,b,c)&&(b=e);a=u(a);return a.match(b||gf)||[]}function zc(a,
b,c){c&&Q(a,b,c)&&(b=e);return z(a)?Vd(a):aa(a,b)}function qa(a){return a}function Vd(a){return sd(db(a,!0))}function Gc(a,b,c){if(null==c){var d=Z(b),l=d?wa(b):e;((l=l&&l.length?Zb(b,l):e)?l.length:d)||(l=!1,c=b,b=a,a=this)}l||(l=Zb(b,wa(b)));var E=!0,d=-1,q=gb(a),G=l.length;!1===c?E=!1:Z(c)&&"chain"in c&&(E=c.chain);for(;++d<G;){c=l[d];var g=b[c];a[c]=g;q&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(E||c){var d=a(this.__wrapped__);(d.__actions__=ya(this.__actions__)).push({func:b,
args:arguments,thisArg:a});d.__chain__=c;return d}return b.apply(a,Aa([this.value()],arguments))}}(g))}return a}function ed(){}function sc(a){return ib(a)?af(a):T(a)}a=a?Kb.defaults(jb.Object(),a,Kb.pick(jb,hf)):jb;var fa=a.Array,Hc=a.Date,jf=a.Error,Wd=a.Function,Eb=a.Math,Xd=a.Number,Gb=a.Object,fd=a.RegExp,Yd=a.String,La=a.TypeError,Zd=fa.prototype,gd=Gb.prototype,$d=Yd.prototype,O=Wd.prototype.toString,ca=gd.hasOwnProperty,ae=0,ta=gd.toString,Va=jb._,ua=fd("^"+O.call(ca).replace(/[\\^$.*+?()[\]{}|]/g,
"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xd=a.ArrayBuffer,Ba=a.clearTimeout,Je=a.parseFloat,yc=Eb.pow,pa=gd.propertyIsEnumerable,na=Fb(a,"Set"),tc=a.setTimeout,wd=Zd.splice,Pc=a.Uint8Array,be=Fb(a,"WeakMap"),lb=Eb.ceil,pc=Fb(Gb,"create"),Qa=Eb.floor,ce=Fb(fa,"isArray"),Db=a.isFinite,S=Fb(Gb,"keys"),xa=Eb.max,W=Eb.min,Ke=Fb(Hc,"now"),X=a.parseInt,ac=Eb.random,Le=Xd.NEGATIVE_INFINITY,oc=Xd.POSITIVE_INFINITY,va=be&&new be,Fa={};b.support={};b.templateSettings=
{escape:Lb,evaluate:Y,interpolate:M,variable:"",imports:{_:b}};var bc=function(){function a(){}return function(b){if(Z(b)){a.prototype=b;var c=new a;a.prototype=e}return c||{}}}(),Ha=Mf(eb),Ic=Mf(Yb,!0),Mc=Sb(),ud=Sb(!0),Fd=va?function(a,b){va.set(a,b);return a}:qa,xc=va?function(a){return va.get(a)}:ed,Ea=af("length"),$c=function(){var a=0,b=0;return function(c,d){var e=Dc(),l=16-(e-b);b=e;if(0<l){if(150<=++a)return c}else a=0;return Fd(c,d)}}(),de=ba(function(a,b){return z(a)&&sa(a)?zb(a,oa(b,!1,
!0)):[]}),ee=Sc(),Me=Sc(!0),Ne=ba(function(a){for(var b=a.length,c=b,d=fa(g),e=Pb(),l=e==h,E=[];c--;){var q=a[c]=sa(q=a[c])?q:[];d[c]=l&&120<=q.length?pc&&na?new Xb(c&&q):null:null}var l=a[0],G=-1,g=l?l.length:0,v=d[0];a:for(;++G<g;)if(q=l[G],0>(v?Ma(v,q):e(E,q,0))){for(c=b;--c;){var L=d[c];if(0>(L?Ma(L,q):e(a[c],q,0)))continue a}v&&v.push(q);E.push(q)}return E}),kf=ba(function(a,b){b=oa(b);var c=se(a,b);If(a,b.sort(H));return c}),lf=Ed(),ic=Ed(!0),fe=ba(function(a){return cf(oa(a,!1,!0))}),Wa=ba(function(a,
b){return sa(a)?zb(a,b):[]}),hd=ba(Jb),jc=ba(function(a){var b=a.length,c=2<b?a[b-2]:e,d=1<b?a[b-1]:e;2<b&&"function"==typeof c?b-=2:(c=1<b&&"function"==typeof d?(--b,d):e,d=e);a.length=b;return fc(a,c,d)}),Mb=ba(function(a){a=oa(a);return this.thru(function(b){b=R(b)?b:[ha(b)];for(var c=a,d=-1,e=b.length,l=-1,E=c.length,q=fa(e+E);++d<e;)q[d]=b[d];for(;++l<E;)q[d++]=c[l];return q})}),ra=ba(function(a,b){return se(a,oa(b))}),mf=ub(function(a,b,c){ca.call(a,c)?++a[c]:a[c]=1}),ge=Ta(Ha),Ga=Ta(Ic,!0),
Oe=Wc(Ka,Ha),he=Wc(function(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););return a},Ic),Pe=ub(function(a,b,c){ca.call(a,c)?a[c].push(b):a[c]=[b]}),Qe=ub(function(a,b,c){a[c]=b}),vb=ba(function(a,b,c){var d=-1,l="function"==typeof b,q=ib(b),E=sa(a)?fa(a.length):[];Ha(a,function(a){var m=l?b:q&&null!=a?a[b]:e;E[++d]=m?m.apply(a,c):ec(a,b,c)});return E}),id=ub(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Ub=Yc(qc,Ha),ie=Yc(function(a,b,c,d){var l=a.length;for(d&&l&&(c=a[--l]);l--;)c=
b(c,a[l],l,a);return c},Ic),jd=ba(function(a,b){if(null==a)return[];var c=b[2];c&&Q(b[0],b[1],c)&&(b.length=1);return Kf(a,oa(b),[])}),Dc=Ke||function(){return(new Hc).getTime()},Nb=ba(function(a,b,c){var d=1;if(c.length)var l=w(c,Nb.placeholder),d=d|32;return $a(a,d,b,c,l)}),nf=ba(function(a,b){b=b.length?oa(b):Fc(a);for(var c=-1,d=b.length;++c<d;){var l=b[c];a[l]=$a(a[l],1,a)}return a}),je=ba(function(a,b,c){var d=3;if(c.length)var l=w(c,je.placeholder),d=d|32;return $a(b,d,a,c,l)}),kd=Ad(8),ld=
Ad(16),md=ba(function(a,b){return Lc(a,1,b)}),nd=ba(function(a,b,c){return Lc(a,b,c)}),of=Tc(),ke=Tc(!0),pf=ba(function(a,b){b=oa(b);if("function"!=typeof a||!nc(b,K))throw new La("Expected a function");var c=b.length;return ba(function(d){for(var l=W(d.length,c);l--;)d[l]=b[l](d[l]);return a.apply(this,d)})}),za=Cb(32),Xa=Cb(64),qf=ba(function(a,b){return $a(a,256,e,e,e,oa(b))}),R=ce||function(a){return z(a)&&Sa(a.length)&&"[object Array]"==ta.call(a)},Id=Ra(Hf),Ya=Ra(function(a,b,c){return c?rd(a,
b,c):rc(a,b)}),Vb=la(Ya,function(a,b){return a===e?b:a}),kc=la(Id,Hd),lc=wc(eb),od=wc(Yb),rf=Ae(Mc),sf=Ae(ud),tf=Xc(eb),Re=Xc(Yb),wa=S?function(a){var b=null==a?e:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&sa(a)?Kd(a):Z(a)?S(a):[]}:Kd,uf=Be(!0),Jc=Be(),wb=ba(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=Ja(oa(b),Yd),De(a,zb(fb(a),b));var c=Ca(b[0],b[1],3);return Jd(a,function(a,b,d){return!c(a,b,d)})}),le=ba(function(a,b){return null==
a?{}:"function"==typeof b[0]?Jd(a,Ca(b[0],b[1],3)):De(a,oa(b))}),me=kb(function(a,b,c){b=b.toLowerCase();return a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Se=kb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Te=cc(),vf=cc(!0),ne=kb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),wf=kb(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Ue=ba(function(a,b){try{return a.apply(e,b)}catch(c){return Ec(c)?c:new jf(c)}}),Ve=ba(function(a,b){return function(c){return ec(c,
a,b)}}),xf=ba(function(a,b){return function(c){return ec(a,c,b)}}),yf=ad("ceil"),zf=ad("floor"),Af=ze(Ge,Le),Bf=ze(ab,oc),Cf=ad("round");b.prototype=f.prototype;A.prototype=bc(f.prototype);A.prototype.constructor=A;F.prototype=bc(f.prototype);F.prototype.constructor=F;Ob.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};Ob.prototype.get=function(a){return"__proto__"==a?e:this.__data__[a]};Ob.prototype.has=function(a){return"__proto__"!=a&&ca.call(this.__data__,a)};Ob.prototype.set=
function(a,b){"__proto__"!=a&&(this.__data__[a]=b);return this};Xb.prototype.push=function(a){var b=this.data;"string"==typeof a||Z(a)?b.set.add(a):b.hash[a]=!0};Sd.Cache=Ob;b.after=function(a,b){if("function"!=typeof b)if("function"==typeof a){var c=a;a=b;b=c}else throw new La("Expected a function");a=Db(a=+a)?a:0;return function(){if(1>--a)return b.apply(this,arguments)}};b.ary=function(a,b,c){c&&Q(a,b,c)&&(b=e);b=a&&null==b?a.length:xa(+b||0,0);return $a(a,128,e,e,e,e,b)};b.assign=Ya;b.at=ra;b.before=
cd;b.bind=Nb;b.bindAll=nf;b.bindKey=je;b.callback=zc;b.chain=Nd;b.chunk=function(a,b,c){b=(c?Q(a,b,c):null==b)?1:xa(Qa(b)||1,1);c=0;for(var d=a?a.length:0,l=-1,e=fa(lb(d/b));c<d;)e[++l]=Da(a,c,c+=b);return e};b.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,l=[];++b<c;){var e=a[b];e&&(l[++d]=e)}return l};b.constant=function(a){return function(){return a}};b.countBy=mf;b.create=function(a,b,c){var d=bc(a);c&&Q(a,b,c)&&(b=e);return b?rc(d,b):d};b.curry=kd;b.curryRight=ld;b.debounce=nb;b.defaults=
Vb;b.defaultsDeep=kc;b.defer=md;b.delay=nd;b.difference=de;b.drop=Ld;b.dropRight=Ac;b.dropRightWhile=function(a,b,c){return a&&a.length?uc(a,da(b,c,3),!0,!0):[]};b.dropWhile=function(a,b,c){return a&&a.length?uc(a,da(b,c,3),!0):[]};b.fill=function(a,b,c,d){var l=a?a.length:0;if(!l)return[];c&&"number"!=typeof c&&Q(a,b,c)&&(c=0,d=l);l=a.length;c=null==c?0:+c||0;0>c&&(c=-c>l?0:l+c);d=d===e||d>l?l:+d||0;0>d&&(d+=l);l=c>d?0:d>>>0;for(c>>>=0;c<l;)a[c++]=b;return a};b.filter=Bc;b.flatten=function(a,b,c){var d=
a?a.length:0;c&&Q(a,b,c)&&(b=!1);return d?oa(a,b):[]};b.flattenDeep=function(a){return a&&a.length?oa(a,!0):[]};b.flow=of;b.flowRight=ke;b.forEach=Oe;b.forEachRight=he;b.forIn=rf;b.forInRight=sf;b.forOwn=tf;b.forOwnRight=Re;b.functions=Fc;b.groupBy=Pe;b.indexBy=Qe;b.initial=function(a){return Ac(a,1)};b.intersection=Ne;b.invert=function(a,b,c){c&&Q(a,b,c)&&(b=e);c=-1;for(var d=wa(a),l=d.length,E={};++c<l;){var q=d[c],G=a[q];b?ca.call(E,G)?E[G].push(q):E[G]=[q]:E[G]=q}return E};b.invoke=vb;b.keys=
wa;b.keysIn=fb;b.map=Qd;b.mapKeys=uf;b.mapValues=Jc;b.matches=Vd;b.matchesProperty=function(a,b){return L(a,db(b,!0))};b.memoize=Sd;b.merge=Id;b.method=Ve;b.methodOf=xf;b.mixin=Gc;b.modArgs=pf;b.negate=function(a){if("function"!=typeof a)throw new La("Expected a function");return function(){return!a.apply(this,arguments)}};b.omit=wb;b.once=function(a){return cd(2,a)};b.pairs=Gd;b.partial=za;b.partialRight=Xa;b.partition=id;b.pick=le;b.pluck=function(a,b){return Qd(a,sc(b))};b.property=sc;b.propertyOf=
function(a){return function(b){return Ia(a,Pa(b),b+"")}};b.pull=function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Pb(),l=a.length;++c<l;)for(var e=0,E=a[c];-1<(e=d(b,E,e));)wd.call(b,e,1);return b};b.pullAt=kf;b.range=function(a,b,c){c&&Q(a,b,c)&&(b=c=e);a=+a||0;c=null==c?1:+c||0;null==b?(b=a,a=0):b=+b||0;var d=-1;b=xa(lb((b-a)/(c||1)),0);for(var l=fa(b);++d<b;)l[d]=a,a+=c;return l};b.rearg=qf;b.reject=function(a,b,c){var d=R(a)?yb:te;b=da(b,c,3);return d(a,function(a,c,d){return!b(a,
c,d)})};b.remove=function(a,b,c){var d=[];if(!a||!a.length)return d;var l=-1,e=[],E=a.length;for(b=da(b,c,3);++l<E;)c=a[l],b(c,l,a)&&(d.push(c),e.push(l));If(a,e);return d};b.rest=Ee;b.restParam=ba;b.set=function(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||ib(b,a)?[d]:Pa(b);for(var d=-1,l=b.length,e=l-1,E=a;null!=E&&++d<l;){var q=b[d];Z(E)&&(d==e?E[q]=c:null==E[q]&&(E[q]=pb(b[d+1])?[]:{}));E=E[q]}return a};b.shuffle=function(a){return Cc(a,oc)};b.slice=function(a,b,c){var d=a?a.length:0;if(!d)return[];
c&&"number"!=typeof c&&Q(a,b,c)&&(b=0,c=d);return Da(a,b,c)};b.sortBy=function(a,b,c){if(null==a)return[];c&&Q(a,b,c)&&(b=e);var d=-1;b=da(b,c,3);a=hb(a,function(a,c,m){return{criteria:b(a,c,m),index:++d,value:a}});return Jf(a,D)};b.sortByAll=jd;b.sortByOrder=function(a,b,c,d){if(null==a)return[];d&&Q(b,c,d)&&(c=e);R(b)||(b=null==b?[]:[b]);R(c)||(c=null==c?[]:[c]);return Kf(a,b,c)};b.spread=function(a){if("function"!=typeof a)throw new La("Expected a function");return function(b){return a.apply(this,
b)}};b.take=function(a,b,c){if(!a||!a.length)return[];if(c?Q(a,b,c):null==b)b=1;return Da(a,0,0>b?0:b)};b.takeRight=function(a,b,c){var d=a?a.length:0;if(!d)return[];if(c?Q(a,b,c):null==b)b=1;b=d-(+b||0);return Da(a,0>b?0:b)};b.takeRightWhile=function(a,b,c){return a&&a.length?uc(a,da(b,c,3),!1,!0):[]};b.takeWhile=function(a,b,c){return a&&a.length?uc(a,da(b,c,3)):[]};b.tap=function(a,b,c){b.call(c,a);return a};b.throttle=function(a,b,c){var d=!0,l=!0;if("function"!=typeof a)throw new La("Expected a function");
!1===c?d=!1:Z(c)&&(d="leading"in c?!!c.leading:d,l="trailing"in c?!!c.trailing:l);return nb(a,b,{leading:d,maxWait:+b,trailing:l})};b.thru=gc;b.times=function(a,b,c){a=Qa(a);if(1>a||!Db(a))return[];var d=-1,l=fa(W(a,4294967295));for(b=Ca(b,c,1);++d<a;)4294967295>d?l[d]=b(d):b(d);return l};b.toArray=mb;b.toPlainObject=Rb;b.transform=function(a,b,c,d){var l=R(a)||Qb(a);b=da(b,d,4);null==c&&(l||Z(a)?(d=a.constructor,c=l?R(a)?new d:[]:bc(gb(d)?d.prototype:e)):c={});(l?Ka:eb)(a,function(a,d,m){return b(c,
a,d,m)});return c};b.union=fe;b.uniq=Md;b.unzip=Jb;b.unzipWith=fc;b.values=Hb;b.valuesIn=function(a){return df(a,fb(a))};b.where=function(a,b){return Bc(a,sd(b))};b.without=Wa;b.wrap=function(a,b){b=null==b?qa:b;return $a(b,32,e,[a],[])};b.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(sa(c))var d=d?Aa(zb(d,c),zb(c,d)):c}return d?cf(d):[]};b.zip=hd;b.zipObject=Fe;b.zipWith=jc;b.backflow=ke;b.collect=Qd;b.compose=ke;b.each=Oe;b.eachRight=he;b.extend=Ya;b.iteratee=zc;b.methods=
Fc;b.object=Fe;b.select=Bc;b.tail=Ee;b.unique=Md;Gc(b,b);b.add=function(a,b){return(+a||0)+(+b||0)};b.attempt=Ue;b.camelCase=me;b.capitalize=function(a){return(a=u(a))&&a.charAt(0).toUpperCase()+a.slice(1)};b.ceil=yf;b.clone=function(a,b,c,d){b&&"boolean"!=typeof b&&Q(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1);return"function"==typeof c?db(a,b,Ca(c,d,1)):db(a,b)};b.cloneDeep=function(a,b,c){return"function"==typeof b?db(a,!0,Ca(b,c,1)):db(a,!0)};b.deburr=zd;b.endsWith=function(a,b,c){a=u(a);
b+="";var d=a.length;c=c===e?d:W(0>c?0:+c||0,d);c-=b.length;return 0<=c&&a.indexOf(b,c)==c};b.escape=function(a){return(a=u(a))&&ja.test(a)?a.replace(Wb,k):a};b.escapeRegExp=function(a){return(a=u(a))&&ob.test(a)?a.replace(xb,r):a||"(?:)"};b.every=Od;b.find=ge;b.findIndex=ee;b.findKey=lc;b.findLast=Ga;b.findLastIndex=Me;b.findLastKey=od;b.findWhere=function(a,b){return ge(a,sd(b))};b.first=Tb;b.floor=zf;b.get=function(a,b,c){a=null==a?e:Ia(a,Pa(b),b+"");return a===e?c:a};b.gt=Ge;b.gte=function(a,
b){return a>=b};b.has=function(a,b){if(null==a)return!1;var c=ca.call(a,b);if(!c&&!ib(b)){b=Pa(b);a=1==b.length?a:Ia(a,Da(b,0,-1));if(null==a)return!1;b=$b(b);c=ca.call(a,b)}return c||Sa(a.length)&&pb(b,a.length)&&(R(a)||Na(a))};b.identity=qa;b.includes=hc;b.indexOf=bd;b.inRange=function(a,b,c){b=+b||0;c===e?(c=b,b=0):c=+c||0;return a>=W(b,c)&&a<xa(b,c)};b.isArguments=Na;b.isArray=R;b.isBoolean=function(a){return!0===a||!1===a||z(a)&&"[object Boolean]"==ta.call(a)};b.isDate=function(a){return z(a)&&
"[object Date]"==ta.call(a)};b.isElement=function(a){return!!a&&1===a.nodeType&&z(a)&&!Nc(a)};b.isEmpty=function(a){return null==a?!0:sa(a)&&(R(a)||Pd(a)||Na(a)||z(a)&&gb(a.splice))?!a.length:!wa(a).length};b.isEqual=P;b.isError=Ec;b.isFinite=function(a){return"number"==typeof a&&Db(a)};b.isFunction=gb;b.isMatch=function(a,b,c,d){c="function"==typeof c?Ca(c,d,3):e;return Za(a,vd(b),c)};b.isNaN=function(a){return Td(a)&&a!=+a};b.isNative=Ua;b.isNull=function(a){return null===a};b.isNumber=Td;b.isObject=
Z;b.isPlainObject=Nc;b.isRegExp=Ie;b.isString=Pd;b.isTypedArray=Qb;b.isUndefined=function(a){return a===e};b.kebabCase=Se;b.last=$b;b.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var l=d;if("number"==typeof c)l=(0>c?xa(d+c,0):W(c||0,d-1))+1;else if(c)return l=ef(a,b,!0)-1,a=a[l],(b===b?b===a:a!==a)?l:-1;if(b!==b)return g(a,l,!0);for(;l--;)if(a[l]===b)return l;return-1};b.lt=ab;b.lte=function(a,b){return a<=b};b.max=Af;b.min=Bf;b.noConflict=function(){jb._=Va;return this};b.noop=ed;
b.now=Dc;b.pad=function(a,b,c){a=u(a);b=+b;var d=a.length;if(d>=b||!Db(b))return a;d=(b-d)/2;b=Qa(d);d=lb(d);c=Bd("",d,c);return c.slice(0,b)+a+c};b.padLeft=Te;b.padRight=vf;b.parseInt=function(a,b,c){(c?Q(a,b,c):null==b)?b=0:b&&(b=+b);a=Ud(a);return X(a,b||(Df.test(a)?16:10))};b.random=function(a,b,c){c&&Q(a,b,c)&&(b=c=e);var d=null==a,l=null==b;null==c&&(l&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,l=!0));d&&l&&(b=1,l=!1);a=+a||0;l?(b=a,a=0):b=+b||0;return c||a%1||b%1?(c=ac(),W(a+
c*(b-a+Je("1e-"+((c+"").length-1))),b)):bf(a,b)};b.reduce=Ub;b.reduceRight=ie;b.repeat=Dd;b.result=function(a,b,c){var d=null==a?e:a[b];d===e&&(null==a||ib(b,a)||(b=Pa(b),a=1==b.length?a:Ia(a,Da(b,0,-1)),d=null==a?e:a[$b(b)]),d=d===e?c:d);return gb(d)?d.call(a):d};b.round=Cf;b.runInContext=l;b.size=function(a){var b=a?Ea(a):0;return Sa(b)?b:wa(a).length};b.snakeCase=ne;b.some=Rd;b.sortedIndex=lf;b.sortedLastIndex=ic;b.startCase=wf;b.startsWith=function(a,b,c){a=u(a);c=null==c?0:W(0>c?0:+c||0,a.length);
return a.lastIndexOf(b,c)==c};b.sum=function(a,b,c){c&&Q(a,b,c)&&(b=e);b=da(b,c,3);if(1==b.length){a=R(a)?a:Rc(a);c=a.length;for(var d=0;c--;)d+=+b(a[c])||0;a=d}else a=qg(a,b);return a};b.template=function(a,c,d){var l=b.templateSettings;d&&Q(a,c,d)&&(c=d=e);a=u(a);c=rd(rc({},d||c),l,re);d=rd(rc({},c.imports),l.imports,re);var E=wa(d),G=df(d,E),g,v,L=0;d=c.interpolate||pd;var p="__p += '";d=fd((c.escape||pd).source+"|"+d.source+"|"+(d===M?qd:pd).source+"|"+(c.evaluate||pd).source+"|$","g");var k=
"//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++We+"]")+"\n";a.replace(d,function(b,c,d,l,e,E){d||(d=l);p+=a.slice(L,E).replace(Ef,t);c&&(g=!0,p+="' +\n__e("+c+") +\n'");e&&(v=!0,p+="';\n"+e+";\n__p += '");d&&(p+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");L=E+b.length;return b});p+="';\n";(c=c.variable)||(p="with (obj) {\n"+p+"\n}\n");p=(v?p.replace(I,""):p).replace(q,"$1").replace(J,"$1;");p="function("+(c||"obj")+") {\n"+(c?"":"obj || (obj = {});\n")+"var __t, __p = ''"+
(g?", __e = _.escape":"")+(v?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";c=Ue(function(){return Wd(E,k+"return "+p).apply(e,G)});c.source=p;if(Ec(c))throw c;return c};b.trim=Ud;b.trimLeft=function(a,b,c){var d=a;return(a=u(a))?(c?Q(d,b,c):null==b)?a.slice(p(a)):a.slice(B(a,b+"")):a};b.trimRight=function(a,b,c){var d=a;return(a=u(a))?(c?Q(d,b,c):null==b)?a.slice(0,v(a)+1):a.slice(0,x(a,b+"")+1):a};b.trunc=function(a,b,c){c&&Q(a,b,
c)&&(b=e);var d=30;c="...";if(null!=b)if(Z(b)){var l="separator"in b?b.separator:l,d="length"in b?+b.length||0:d;c="omission"in b?u(b.omission):c}else d=+b||0;a=u(a);if(d>=a.length)return a;d-=c.length;if(1>d)return c;b=a.slice(0,d);if(null==l)return b+c;if(Ie(l)){if(a.slice(d).search(l)){var E,q=a.slice(0,d);l.global||(l=fd(l.source,(dc.exec(l)||"")+"g"));for(l.lastIndex=0;a=l.exec(q);)E=a.index;b=b.slice(0,null==E?d:E)}}else a.indexOf(l,d)!=d&&(l=b.lastIndexOf(l),-1<l&&(b=b.slice(0,l)));return b+
c};b.unescape=function(a){return(a=u(a))&&N.test(a)?a.replace(V,d):a};b.uniqueId=function(a){var b=++ae;return u(a)+b};b.words=yd;b.all=Od;b.any=Rd;b.contains=hc;b.eq=P;b.detect=ge;b.foldl=Ub;b.foldr=ie;b.head=Tb;b.include=hc;b.inject=Ub;Gc(b,function(){var a={};eb(b,function(c,d){b.prototype[d]||(a[d]=c)});return a}(),!1);b.sample=Cc;b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Cc(b,a)}):Cc(this.value())};b.VERSION="3.10.1";Ka("bind bindKey curry curryRight partial partialRight".split(" "),
function(a){b[a].placeholder=b});Ka(["drop","take"],function(a,b){F.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new F(this);c=null==c?1:xa(Qa(c)||0,0);var l=this.clone();d?l.__takeCount__=W(l.__takeCount__,c):l.__views__.push({size:c,type:a+(0>l.__dir__?"Right":"")});return l};F.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});Ka(["filter","map","takeWhile"],function(a,b){var c=b+1,d=2!=c;F.prototype[a]=function(a,b){var l=this.clone();l.__iteratees__.push({iteratee:da(a,
b,1),type:c});l.__filtered__=l.__filtered__||d;return l}});Ka(["first","last"],function(a,b){var c="take"+(b?"Right":"");F.prototype[a]=function(){return this[c](1).value()[0]}});Ka(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");F.prototype[a]=function(){return this.__filtered__?new F(this):this[c](1)}});Ka(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?sd:sc;F.prototype[a]=function(a){return this[c](d(a))}});F.prototype.compact=function(){return this.filter(qa)};F.prototype.reject=
function(a,b){a=da(a,b,1);return this.filter(function(b){return!a(b)})};F.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;if(c.__filtered__&&(0<a||0>b))return new F(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==e&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a));return c};F.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()};F.prototype.toArray=function(){return this.take(oc)};eb(F.prototype,function(a,c){var d=/^(?:filter|map|reject)|While$/.test(c),l=/^(?:first|last)$/.test(c),
E=b[l?"take"+("last"==c?"Right":""):c];E&&(b.prototype[c]=function(){var b=l?[1]:arguments,c=this.__chain__,q=this.__wrapped__,G=!!this.__actions__.length,g=q instanceof F,v=b[0],p=g||R(q);p&&d&&"function"==typeof v&&1!=v.length&&(g=p=!1);var L=function(a){return l&&c?E(a,1)[0]:E.apply(e,Aa([a],b))},v={func:gc,args:[L],thisArg:e},G=g&&!G;return l&&!c?G?(q=q.clone(),q.__actions__.push(v),a.call(q)):E.call(e,this.value())[0]:!l&&p?(q=G?q:new F(this),q=a.apply(q,b),q.__actions__.push(v),new A(q,c)):
this.thru(L)})});Ka("join pop push replace shift sort splice split unshift".split(" "),function(a){var c=(/^(?:replace|split)$/.test(a)?$d:Zd)[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",l=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return l&&!this.__chain__?c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}});eb(F.prototype,function(a,c){var d=b[c];if(d){var l=d.name;(Fa[l]||(Fa[l]=[])).push({name:c,func:d})}});Fa[Zc(e,2).name]=[{name:"wrapper",
func:e}];F.prototype.clone=function(){var a=new F(this.__wrapped__);a.__actions__=ya(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=ya(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=ya(this.__views__);return a};F.prototype.reverse=function(){if(this.__filtered__){var a=new F(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};F.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=R(b),
l=0>c,e=d?b.length:0;a=0;for(var E=e,q=this.__views__,G=-1,g=q.length;++G<g;){var v=q[G],p=v.size;switch(v.type){case "drop":a+=p;break;case "dropRight":E-=p;break;case "take":E=W(E,a+p);break;case "takeRight":a=xa(a,E-p)}}q=E;E=q-a;a=l?q:a-1;q=this.__iteratees__;G=q.length;g=0;v=W(E,this.__takeCount__);if(!d||200>e||e==E&&v==E)return vc(l&&d?b.reverse():b,this.__actions__);d=[];a:for(;E--&&g<v;){a+=c;l=-1;for(e=b[a];++l<G;){var L=q[l],p=L.iteratee,L=L.type,p=p(e);if(2==L)e=p;else if(!p)if(1==L)continue a;
else break a}d[g++]=e}return d};b.prototype.chain=function(){return Nd(this)};b.prototype.commit=function(){return new A(this.value(),this.__chain__)};b.prototype.concat=Mb;b.prototype.plant=function(a){for(var b,c=this;c instanceof f;){var d=Kc(c);b?l.__wrapped__=d:b=d;var l=d,c=c.__wrapped__}l.__wrapped__=a;return b};b.prototype.reverse=function(){var a=this.__wrapped__,b=function(a){return c&&0>c.__dir__?a:a.reverse()};if(a instanceof F){var c=a;this.__actions__.length&&(c=new F(this));c=c.reverse();
c.__actions__.push({func:gc,args:[b],thisArg:e});return new A(c,this.__chain__)}return this.thru(b)};b.prototype.toString=function(){return this.value()+""};b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=function(){return vc(this.__wrapped__,this.__actions__)};b.prototype.collect=b.prototype.map;b.prototype.head=b.prototype.first;b.prototype.select=b.prototype.filter;b.prototype.tail=b.prototype.rest;return b}var e,I=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,
V=/&(?:amp|lt|gt|quot|#39|#96);/g,Wb=/[&<>"'`]/g,N=RegExp(V.source),ja=RegExp(Wb.source),Lb=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,M=/<%=([\s\S]+?)%>/g,ma=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,G=/^\w*$/,E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xb=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ob=RegExp(xb.source),bb=/[\u0300-\u036f\ufe20-\ufe23]/g,Ib=/\\(\\)?/g,qd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dc=/\w*$/,Df=/^0[xX]/,He=/^\[object .+?Constructor\]$/,
y=/^\d+$/,dd=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,pd=/($^)/,Ef=/['\n\r\u2028\u2029\\]/g,gf=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),hf="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),
We=-1,ia={};ia["[object Float32Array]"]=ia["[object Float64Array]"]=ia["[object Int8Array]"]=ia["[object Int16Array]"]=ia["[object Int32Array]"]=ia["[object Uint8Array]"]=ia["[object Uint8ClampedArray]"]=ia["[object Uint16Array]"]=ia["[object Uint32Array]"]=!0;ia["[object Arguments]"]=ia["[object Array]"]=ia["[object ArrayBuffer]"]=ia["[object Boolean]"]=ia["[object Date]"]=ia["[object Error]"]=ia["[object Function]"]=ia["[object Map]"]=ia["[object Number]"]=ia["[object Object]"]=ia["[object RegExp]"]=
ia["[object Set]"]=ia["[object String]"]=ia["[object WeakMap]"]=!1;var ka={};ka["[object Arguments]"]=ka["[object Array]"]=ka["[object ArrayBuffer]"]=ka["[object Boolean]"]=ka["[object Date]"]=ka["[object Float32Array]"]=ka["[object Float64Array]"]=ka["[object Int8Array]"]=ka["[object Int16Array]"]=ka["[object Int32Array]"]=ka["[object Number]"]=ka["[object Object]"]=ka["[object RegExp]"]=ka["[object String]"]=ka["[object Uint8Array]"]=ka["[object Uint8ClampedArray]"]=ka["[object Uint16Array]"]=ka["[object Uint32Array]"]=
!0;ka["[object Error]"]=ka["[object Function]"]=ka["[object Map]"]=ka["[object Set]"]=ka["[object WeakMap]"]=!1;var Ob={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i",
"\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Ka={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Xb=
{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ma={"function":!0,object:!0},ya={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},nc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yb=Ma[typeof f]&&f&&!f.nodeType&&f,Ja=Ma[typeof F]&&F&&!F.nodeType&&F,oe=Ma[typeof self]&&self&&
self.Object&&self,Ma=Ma[typeof window]&&window&&window.Object&&window,mc=Ja&&Ja.exports===yb&&yb,jb=yb&&Ja&&"object"==typeof a&&a&&a.Object&&a||Ma!==(this&&this.window)&&Ma||oe||this,Kb=l();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(jb._=Kb,define(function(){return Kb})):yb&&Ja?mc?(Ja.exports=Kb)._=Kb:yb._=Kb:jb._=Kb}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],10:[function(a,F,f){var A,
H,n,h,K,u,B,x,D,c,k,r,t,g,z,b,w,p,v,d,l,e,I=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};A=a("lodash");e=a("./util");k=a("./match");l=a("./substitute");r=function(a){a=e.cloneExpression(a);a=l.doSubRecursive(a,l.subsForPNF.replace_arrow);a=l.doSubRecursive(a,l.subsForPNF.replace_double_arrow);a=b(a);return a=e.exhaust(a,function(a){var b,c,d;c=l.subsForPNF;for(b in c)d=c[b],"replace_arrow"!==b&&"replace_double_arrow"!==b&&(a=l.doSubRecursive(a,
d));return a})};f.prenexNormalForm=r;f.isPNF=function(a){var b,c,d,l,e,v,p,k;a=g(a);b=D(a,"and");a=[];d=0;for(l=b.length;d<l;d++)c=b[d],a.push(D(c,"or"));c=0;for(l=a.length;c<l;c++)for(k=a[c],d=0,e=k.length;d<e;d++)if(b=k[d],"not"!==(v=b.type)&&"sentence_letter"!==v&&"predicate"!==v||"not"===b.type&&"sentence_letter"!==(p=b.left.type)&&"predicate"!==p)return!1;return!0};b=function(a,b){var c,d,l,g,v,p;null==b&&(b="x");g=("\u03b1"===(v=b[0])||"\u03b2"===v||"\u03b3"===v||"\u03c4"===v?"term_metavariable":
void 0)||"variable";c=0;d={};l=function(a){var l;null==d[a.name]&&(c+=1,l=""+b+c,d[a.name]=l);return d[a.name]};p=function(a){if(null!=d[a.name])return delete d[a.name]};return e.walkMutate(a,function(a){if(null===a||null==(null!=a?a.boundVariable:void 0)&&(null==(null!=a?a.type:void 0)||"variable"!==a.type))return a;null!=a.boundVariable&&p(a.boundVariable);null!=(null!=a?a.type:void 0)&&"variable"===a.type&&(a.name=l(a),a.type=g);return a},{topDown:!0})};f.renameVariables=b;f.convertToPNFsimplifyAndSort=
function(a){a=r(a);a=u(a);a=d(a);w(a);return a};f.areExpressionsEquivalent=function(a,b){a=r(a);b=r(b);return n(a,b)};n=function(a,c){var l,e,v;a=u(a);a=d(a);w(a);c=u(c);c=d(c);w(c);e=b(a,"\u03c4");l=g(e);v=g(c);l=k.find(v,l);if(!1===l)return!1;e=k.apply(e,l);return h(e,c)};f.arePNFExpressionsEquivalent=n;d=function(a){var b,c,d,l,e;e=B(a);a=g(a);b=D(a,"and");a=[];d=0;for(l=b.length;d<l;d++)c=b[d],a.push(D(c,"or"));c=0;for(d=a.length;c<d;c++)b=a[c],p(b);v(a);l=[];c=0;for(d=a.length;c<d;c++)b=a[c],
l.push(t(b,"or"));a=t(l,"and");return K(a,e)};f.sortPNFExpression=d;g=function(a){return null!=a.boundVariable?g(a.left):a};f.removeQuantifiers=g;D=function(a,b){var c;if(null!=a.type&&a.type!==b)return[a];if(null!=a.type&&a.type===b)return c=[],c.push.apply(c,D(a.left,b)),c.push.apply(c,D(a.right,b)),c;throw Error("listJuncts called with type = "+b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listJuncts=D;p=function(a){return a.sort(e.atomicExpressionComparator)};f.sortJuncts=
p;v=function(a){return a.sort(e.listOfAtomicExpressionsComparator)};f.sortListOfJuncts=v;t=function(a,b){var c,d;if(!a||null==a.length||0===a.length)throw Error("rebuildExpression called with listOfJuncts = "+a);if(1===a.length)return a[0];c=a.shift();d=t(a,b);return{type:b,left:c,right:d}};f.rebuildExpression=t;c=function(a,b){var d;if(null!=a.type&&a.type!==b)return{quantifiedExpression:a};if(null!=a.type&&a.type===b)return d=c(a.left,b),null==d.boundVariables&&(d.boundVariables=[]),d.boundVariables.push(a.boundVariable),
d;throw Error("listQuants called with type = "+b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listQuants=c;B=function(a){var b;return null!=a.boundVariable?(b=B(a.left),{type:a.type,symbol:a.symbol,location:a.location,boundVariable:a.boundVariable,left:b,right:null}):null};f.getPrefixedQuantifiers=B;K=function(a,b){if(null===b)return a;null!==b.left?K(a,b.left):b.left=a;return b};f.attachExpressionToQuantifiers=K;h=function(a,b,c){var d;null==c&&(c={quantifierType:null,leftBoundVariables:[],
rightBoundVariables:[]});d=(null!=a?a.type:void 0)||null;if(c.quantifierType!==d){c.leftBoundVariables.sort();c.rightBoundVariables.sort();if(!A.isEqual(c.leftBoundVariables,c.rightBoundVariables))return!1;c.leftBoundVariables=[];c.rightBoundVariables=[];c.quantifierType=d}if(null===a||null==a.boundVariable)return null===b||null==b.boundVariable?!0:!1;if(null===b||null==b.type||b.type!==d)return!1;c.leftBoundVariables.push(a.boundVariable.name);c.rightBoundVariables.push(b.boundVariable.name);return h(a.left,
b.left,c)};f.arePrefixedQuantifiersEquivalent=h;w=function(a,b){var c,d,l,g;void 0===b&&(b=H(a));if(null==(null!=a?a.type:void 0))return a;if("identity"!==a.type)return null!=a.left&&w(a.left,b),null!=a.right&&w(a.right,b),a;c=a.termlist[0];l=a.termlist[1];1===e.termComparator(c,l)&&(d=[l,c],c=d[0],l=d[1]);"variable"===c.type&&"variable"===l.type&&(d=b.indexOf(c.name),g=b.indexOf(l.name),d>g&&(d=[l,c],c=d[0],l=d[1]));a.termlist=[c,l];return a};f.sortIdentityStatements=w;H=function(a,b){var c,d;null==
b&&(b={quantifierType:null,thisTypeBoundVariables:[],allBoundVariables:[]});c=(null!=a?a.type:void 0)||null;b.quantifierType!==c&&(b.thisTypeBoundVariables.sort(),(d=b.allBoundVariables).push.apply(d,b.thisTypeBoundVariables),b.thisTypeBoundVariables=[],b.quantifierType=c);if(null===c||null==a.boundVariable)return b.allBoundVariables;b.thisTypeBoundVariables.push(a.boundVariable.name);return H(a.left,b)};f._getVariableOrder=H;u=function(a){a=e.exhaust(a,function(a){var b,c,e;c=l.subs_eliminate_redundancy;
for(b in c)e=c[b],a=l.doSubRecursive(a,e);return d(a)});return a=z(a)};f.eliminateRedundancyInPNF=u;x=function(a,b){var c;if(null!=b.termlist){var d,l,e,g;e=b.termlist;g=[];d=0;for(l=e.length;d<l;d++)c=e[d],g.push(c.name);if(0<=I.call(g,a))return!0}return null!=b.boundVariable&&b.boundVariable.name===a?!1:null!=b.left&&x(a,b.left)||null!=b.right&&x(a,b.right)?!0:!1};f.isVariableFree=x;z=function(a){a=e.cloneExpression(a);return e.walkMutate(a,function(a){return null==(null!=a?a.boundVariable:void 0)||
x(a.boundVariable.name,a.left)?a:a.left})};f.removeQuantifiersThatBindNothing=z},{"./match":8,"./substitute":31,"./util":33,lodash:9}],11:[function(a,F,f){var A;a("lodash");A=a("./dialect_manager/dialectManager").getParser("awFOL");f.negate=function(a){var n;n=A.parse("not A");n.left=a;return n};f.conjoin=function(a,n){var h;h=A.parse("A and B");h.left=a;h.right=n;return h}},{"./dialect_manager/dialectManager":5,lodash:9}],12:[function(a,F,f){(function(A){var H=function(){function a(){this.yy={}}
var h=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],u=[1,5],B=[1,6],x=[1,7],D=[1,8],c=[1,9],k=[1,11],r=[1,14],t=[1,15],g=[1,18],z=[1,19],b=[1,16],w=[1,21],p=[1,22],v=[1,23],d=[1,24],l=[1,25],e=[1,26],I=[1,27],q=[1,32],J=[5,10,13,14,15,16,17,18,27,29,34,37],V=[1,40],A=[5,10,13,14,15,16,17,18,26,27,29,34,37],N=[2,32],H=[5,7,9,10,11,13,14,15,16,17,18,19,20,21,23,26,27,29,30,31,32,33,34,35,37],F=[7,9,10,11,19,20,21,23,30,31,32,33,35],Y=[5,10,13,14,15,16,17,18,29,34,37],M=[5,
10,29,34,37],ma=[29,34],h={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,"(":9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,"[":27,substitution_list:28,"]":29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,",":34,name:35,
substitution:36,substitution_symbol:37,"null":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"(",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",29:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",34:",",35:"name",37:"substitution_symbol",38:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,5],[4,3],[4,5],[4,4],
[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,4],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[8,1],[8,3],[24,1],[24,3],[25,1],[25,1],[28,1],[28,3],[36,3],[36,3],[36,3],[36,3],[6,3]],performAction:function(a,b,c,d,l,e,g){a=e.length-1;switch(l){case 1:case 2:return e[a-1];case 3:return e[a-1].box=e[a-2],e[a-1];case 4:this.$={type:"existential_quantifier",symbol:e[a-2],location:g[a-2],boundVariable:e[a-1],left:e[a],right:null};break;case 5:this.$={type:"existential_quantifier",symbol:e[a-
3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:e[a-2],location:g[a-2],boundVariable:e[a-1],left:e[a],right:null};break;case 7:this.$={type:"universal_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 8:this.$={type:"universal_quantifier",symbol:"",location:g[a-2],boundVariable:e[a-2],left:e[a],right:null};break;case 9:this.$={type:"and",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};
break;case 10:this.$={type:"or",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 11:this.$={type:"nand",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 12:this.$={type:"nor",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 13:this.$={type:"arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 14:this.$={type:"double_arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 15:this.$={type:"not",symbol:e[a-1],location:g[a-
1],left:e[a],right:null};break;case 16:this.$={type:"value",symbol:e[a],location:g[a],value:!0,left:null,right:null};break;case 17:this.$={type:"value",symbol:e[a],location:g[a],value:!1,left:null,right:null};break;case 18:case 27:case 32:this.$=e[a];break;case 19:this.$={type:"predicate",name:e[a-3],location:g[a-3],termlist:e[a-1]};break;case 20:this.$={type:"identity",symbol:e[a-1],termlist:[e[a-2],e[a]]};break;case 21:case 28:this.$=e[a-1];break;case 22:e[a-3].substitutions=e[a-3].substitutions&&
e[a-3].substitutions.length?e[a-3].substitutions.concat(e[a-1]):e[a-1];this.$=e[a-3];break;case 23:this.$={type:"expression_variable",location:g[a],letter:e[a],left:null,right:null};break;case 24:this.$={type:"sentence_letter",location:g[a],letter:e[a],left:null,right:null};break;case 25:this.$={type:"variable",name:e[a],location:g[a]};break;case 26:this.$={type:"term_metavariable",name:e[a],location:g[a]};break;case 29:case 33:this.$=[e[a]];break;case 30:case 34:this.$=[e[a-2]].concat(e[a]);break;
case 31:this.$={type:"name",name:e[a],location:g[a]};break;case 35:case 37:this.$={type:"substitution",from:e[a-2],to:e[a],symbol:e[a-1]};break;case 36:case 38:this.$={type:"substitution",from:e[a-2],to:null,symbol:e[a-1]};break;case 39:this.$={type:"box",term:e[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,27:[1,13],30:r,31:t,32:g,33:z,35:b},{1:[3]},{5:[1,20],13:w,14:p,15:v,16:d,17:l,18:e,27:I},{4:29,5:[1,28],7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,
31:t,32:g,33:z,35:b},{8:30,9:q,12:31,32:g,33:z},{4:36,7:[1,33],9:u,11:[1,34],12:35,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{8:37,9:q,12:31,32:g,33:z},{4:38,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},h(J,[2,16]),h(J,[2,17]),h(J,[2,18]),{9:[1,39]},{26:V},{12:17,25:41,32:g,33:z,35:b},h(J,[2,23]),h(J,[2,24]),h(A,[2,31]),h(A,N),h(H,[2,25]),h(H,[2,26]),{1:[2,1]},{4:42,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:43,7:f,
9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:44,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:45,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:46,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:47,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:51,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:50,28:48,30:r,31:t,32:g,33:z,35:b,36:49},{1:[2,
2]},{5:[1,52],13:w,14:p,15:v,16:d,17:l,18:e,27:I},{4:53,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},h(F,[2,27]),{12:54,32:g,33:z},{8:55,9:q,12:31,32:g,33:z},{8:56,9:q,12:31,32:g,33:z},{10:[1,57],26:N},{10:[1,58],13:w,14:p,15:v,16:d,17:l,18:e,27:I},{4:59,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},h(Y,[2,15],{27:I}),{12:17,24:60,25:61,32:g,33:z,35:b},{12:17,25:62,32:g,33:z,35:b},{29:[1,63]},h(Y,[2,9],{27:I}),h(Y,[2,10],{27:I}),h(Y,[2,
11],{27:I}),h(Y,[2,12],{27:I}),h(M,[2,13],{13:w,14:p,15:v,16:d,27:I}),h(M,[2,14],{13:w,14:p,15:v,16:d,27:I}),{29:[1,64]},{29:[2,33],34:[1,65]},{26:V,37:[1,66]},{13:w,14:p,15:v,16:d,17:l,18:e,27:I,37:[1,67]},{1:[2,3]},h(Y,[2,4],{27:I}),{10:[1,68]},{4:53,7:f,9:u,10:[1,69],11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:59,7:f,9:u,10:[1,70],11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:71,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,
33:z,35:b},h(J,[2,21]),h(Y,[2,6],{27:I}),{10:[1,72]},{10:[2,29],34:[1,73]},h(J,[2,20]),h([5,7,9,11,19,20,21,23,30,31,32,33,35],[2,39]),h(J,[2,22]),{4:51,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:50,28:74,30:r,31:t,32:g,33:z,35:b,36:49},{12:17,25:75,32:g,33:z,35:b,38:[1,76]},{4:77,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b,38:[1,78]},h(F,[2,28]),{4:79,7:f,9:u,11:B,12:17,19:x,20:D,21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},{4:80,7:f,9:u,11:B,12:17,19:x,20:D,
21:c,22:10,23:k,25:12,30:r,31:t,32:g,33:z,35:b},h(Y,[2,8],{27:I}),h(J,[2,19]),{12:17,24:81,25:61,32:g,33:z,35:b},{29:[2,34]},h(ma,[2,35]),h(ma,[2,36]),h(ma,[2,37],{13:w,14:p,15:v,16:d,17:l,18:e,27:I}),h(ma,[2,38]),h(Y,[2,5],{27:I}),h(Y,[2,7],{27:I}),{10:[2,30]}],defaultActions:{20:[2,1],28:[2,2],52:[2,3],74:[2,34],81:[2,30]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],
c=[null],d=[],l=this.table,e="",g=0,v=0,p=0,q=d.slice.call(arguments,1),k=Object.create(this.lexer),h={},r;for(r in this.yy)Object.prototype.hasOwnProperty.call(this.yy,r)&&(h[r]=this.yy[r]);k.setInput(a,h);h.lexer=k;h.parser=this;"undefined"==typeof k.yylloc&&(k.yylloc={});r=k.yylloc;d.push(r);var w=k.options&&k.options.ranges;this.parseError="function"===typeof h.parseError?h.parseError:Object.getPrototypeOf(this).parseError;for(var t,I,f,n,ma={},z,N;;){f=b[b.length-1];if(this.defaultActions[f])n=
this.defaultActions[f];else{if(null===t||"undefined"==typeof t)t=void 0,t=k.lex()||1,"number"!==typeof t&&(t=this.symbols_[t]||t);n=l[f]&&l[f][t]}if("undefined"===typeof n||!n.length||!n[0]){var M="";N=[];for(z in l[f])this.terminals_[z]&&2<z&&N.push("'"+this.terminals_[z]+"'");M=k.showPosition?"Parse error on line "+(g+1)+":\n"+k.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[t]||t)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==t?"end of input":"'"+(this.terminals_[t]||
t)+"'");this.parseError(M,{text:k.match,token:this.terminals_[t]||t,line:k.yylineno,loc:r,expected:N})}if(n[0]instanceof Array&&1<n.length)throw Error("Parse Error: multiple actions possible at state: "+f+", token: "+t);switch(n[0]){case 1:b.push(t);c.push(k.yytext);d.push(k.yylloc);b.push(n[1]);t=null;I?(t=I,I=null):(v=k.yyleng,e=k.yytext,g=k.yylineno,r=k.yylloc,0<p&&p--);break;case 2:N=this.productions_[n[1]][1];ma.$=c[c.length-N];ma._$={first_line:d[d.length-(N||1)].first_line,last_line:d[d.length-
1].last_line,first_column:d[d.length-(N||1)].first_column,last_column:d[d.length-1].last_column};w&&(ma._$.range=[d[d.length-(N||1)].range[0],d[d.length-1].range[1]]);f=this.performAction.apply(ma,[e,v,g,h,n[1],c,d].concat(q));if("undefined"!==typeof f)return f;N&&(b=b.slice(0,-2*N),c=c.slice(0,-1*N),d=d.slice(0,-1*N));b.push(this.productions_[n[1]][0]);c.push(ma.$);d.push(ma._$);n=l[b[b.length-2]][b[b.length-1]];b.push(n);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,
b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=
a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);
c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=
!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=
this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,
matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var l in d)this[l]=d[l];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),l=0;l<d.length;l++)if((b=this._input.match(this.rules[d[l]]))&&(!a||b[0].length>a[0].length))if(a=b,c=l,this.options.backtrack_lexer){a=this.test_match(b,d[l]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return this.popState(),9;case 2:return 9;case 3:return 10;case 4:return 27;case 5:return 29;case 6:return 34;case 7:return this.begin("expectLeftBracket"),23;case 8:return 37;case 9:return 20;case 10:return 21;case 11:return 26;case 12:return 13;case 13:return 17;
case 14:return 18;case 15:return 14;case 16:return 19;case 17:return 16;case 18:return 15;case 19:return 11;case 20:return 7;case 21:return 31;case 22:return 35;case 23:return 32;case 24:return 30;case 25:return 33;case 26:return 38;case 27:return 5;case 28:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][A-Za-z0-9]*(?=(\()))/,/^(?:--\x3e)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE]|\u22a5|_\|_|[cC][oO][nN][tT][rR][aA][dD][iI][cC][tT][iI][oO][nN]|[cC][oO][nN][tT][rR][aA])/,
/^(?:=)/,/^(?:[aA][nN][dD]|&|\u2227|\u2022)/,/^(?:[aA][rR][rR][oO][wW]|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:[oO][rR]|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:[nN][oO][tT]|\u00ac|~|\u02dc|!)/,/^(?:[nN][oO][rR]|\u2193)/,/^(?:[nN][aA][nN][dD]|\u2191)/,/^(?:[aA][lL][lL]|\u2200|[eE][vV][eE][rR][yY])/,/^(?:[sS][oO][mM][eE]|[eE][xX][iI][sS][tT][sS]|\u2203)/,/^(?:[A-Zpqrs][0-9]*)/,/^(?:[a-d][0-9]*)/,/^(?:[etxyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,
/^(?:[nN][uU][lL][lL])/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[1],inclusive:!1},INITIAL:{rules:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}}}();h.lexer=f;a.prototype=h;h.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=H,f.Parser=H.Parser,f.parse=function(){return H.parse.apply(H,arguments)},f.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),A.exit(1));n=a("fs").readFileSync(a("path").normalize(n[1]),
"utf8");return f.parser.parse(n)},"undefined"!==typeof F&&a.main===F&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],13:[function(a,F,f){(function(A){var H=function(){function a(){this.yy={}}var h=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],u=[1,5],B=[1,6],x=[1,7],D=[1,9],c=[1,12],k=[1,13],r=[1,18],t=[1,19],g=[1,14],z=[1,15],b=[1,17],w=[1,21],p=[1,22],v=[1,23],d=[1,24],l=[1,25],e=[1,26],I=[1,27],q=[1,30],J=[5,10,13,14,15,16,17,18,27,28,
38],V=[1,38],A=[5,10,13,14,15,16,17,18,27,28,38,39],N=[5,10,13,14,15,16,17,18,26,27,28,32,33,34,35,36,38,39],H=[2,31],F=[5,10,13,14,15,16,17,18,28,38],Y=[5,10,28,38],M=[28,38],h={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,
term:25,identity:26,"[":27,"]":28,substitution_list:29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",28:"]",30:"expression_variable",
31:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[9,1],[24,1],[24,2],[25,1],[25,1],[25,1],[25,1],[29,1],[29,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,l,e,g){a=e.length-1;switch(l){case 1:case 2:return e[a-
1];case 3:return e[a-1].box=e[a-2],e[a-1];case 4:this.$={type:"existential_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:"",location:g[a-2],boundVariable:e[a-2],left:e[a],right:null};break;case 7:this.$={type:"and",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 8:this.$=
{type:"or",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 9:this.$={type:"nand",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 10:this.$={type:"nor",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 11:this.$={type:"arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 12:this.$={type:"double_arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 13:this.$={type:"not",symbol:e[a-1],location:g[a-1],left:e[a],right:null};
break;case 14:this.$={type:"value",symbol:e[a],location:g[a],value:!0,left:null,right:null};break;case 15:this.$={type:"value",symbol:e[a],location:g[a],value:!1,left:null,right:null};break;case 16:case 26:case 31:this.$=e[a];break;case 17:this.$={type:"predicate",name:e[a-1],location:g[a-1],termlist:e[a]};break;case 18:this.$={type:"identity",symbol:e[a-1],termlist:[e[a-2],e[a]]};break;case 19:case 20:this.$=e[a-1];break;case 21:e[a-3].substitutions=e[a-3].substitutions&&e[a-3].substitutions.length?
e[a-3].substitutions.concat(e[a-1]):e[a-1];this.$=e[a-3];break;case 22:this.$={type:"expression_variable",location:g[a],letter:e[a],left:null,right:null};break;case 23:this.$={type:"sentence_letter",location:g[a],letter:e[a],left:null,right:null};break;case 24:this.$={type:"variable",name:e[a],location:g[a]};break;case 25:this.$={type:"term_metavariable",name:e[a],location:g[a]};break;case 27:case 33:this.$=[e[a]];break;case 28:this.$=[e[a-1]].concat(e[a]);break;case 29:this.$={type:"name",name:e[a],
location:g[a]};break;case 30:this.$={type:"name_hat",name:e[a],location:g[a]};break;case 32:this.$={type:"term_metavariable_hat",name:e[a],location:g[a]};break;case 34:this.$=[e[a-2]].concat(e[a]);break;case 35:case 37:this.$={type:"substitution",from:e[a-2],to:e[a],symbol:e[a-1]};break;case 36:case 38:this.$={type:"substitution",from:e[a-2],to:null,symbol:e[a-1]};break;case 39:this.$={type:"box",term:e[a-1]}}},table:[{3:1,4:2,6:3,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:[1,11],30:c,31:k,32:r,
33:t,34:g,35:z,36:b},{1:[3]},{5:[1,20],13:w,14:p,15:v,16:d,17:l,18:e,27:I},{4:29,5:[1,28],7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{4:34,7:f,8:[1,31],11:[1,32],12:33,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{4:35,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},h(J,[2,14]),h(J,[2,15]),h(J,[2,16]),{12:16,24:36,25:37,32:r,33:t,34:g,35:z,36:b},{26:V},{4:39,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:40,
27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},h(A,[2,22]),h(A,[2,23]),h(N,[2,29]),h(N,[2,30]),h(N,H),h(N,[2,32]),h(N,[2,24]),h(N,[2,25]),{1:[2,1]},{4:41,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{4:42,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{4:43,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{4:44,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{4:45,7:f,
12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{4:46,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{12:16,22:50,25:49,29:47,30:c,31:k,32:r,33:t,34:g,35:z,36:b,37:48},{1:[2,2]},{5:[1,51],13:w,14:p,15:v,16:d,17:l,18:e,27:I},{4:39,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{9:52,12:53,32:r,33:t},{9:54,12:53,32:r,33:t},{10:[1,55],26:H},{10:[1,56],13:w,14:p,15:v,16:d,17:l,18:e,27:I},h(F,[2,13],{27:I}),
h(J,[2,17]),h(J,[2,27],{12:16,25:37,24:57,32:r,33:t,34:g,35:z,36:b}),{12:16,25:58,32:r,33:t,34:g,35:z,36:b},{13:w,14:p,15:v,16:d,17:l,18:e,27:I,28:[1,59]},{26:V,28:[1,60]},h(F,[2,7],{27:I}),h(F,[2,8],{27:I}),h(F,[2,9],{27:I}),h(F,[2,10],{27:I}),h(Y,[2,11],{13:w,14:p,15:v,16:d,27:I}),h(Y,[2,12],{13:w,14:p,15:v,16:d,27:I}),{28:[1,61]},{28:[2,33],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},{10:[1,65]},{10:[2,26]},{10:[1,66]},{4:67,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,
35:z,36:b},h(J,[2,19]),h(J,[2,28]),h(J,[2,18]),h(J,[2,20]),h([5,7,19,20,21,23,27,30,31,32,33,34,35,36],[2,39]),h(J,[2,21]),{12:16,22:50,25:49,29:68,30:c,31:k,32:r,33:t,34:g,35:z,36:b,37:48},{12:16,25:69,32:r,33:t,34:g,35:z,36:b,40:[1,70]},{4:71,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b,40:[1,72]},{4:73,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,35:z,36:b},{4:74,7:f,12:16,19:u,20:B,21:x,22:8,23:D,25:10,27:q,30:c,31:k,32:r,33:t,34:g,
35:z,36:b},h(F,[2,6],{27:I}),{28:[2,34]},h(M,[2,35]),h(M,[2,36]),h(M,[2,37],{13:w,14:p,15:v,16:d,17:l,18:e,27:I}),h(M,[2,38]),h(F,[2,4],{27:I}),h(F,[2,5],{27:I})],defaultActions:{20:[2,1],28:[2,2],51:[2,3],53:[2,26],68:[2,34]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],e=this.table,l="",g=0,v=0,p=0,q=d.slice.call(arguments,1),k=Object.create(this.lexer),
h={},r;for(r in this.yy)Object.prototype.hasOwnProperty.call(this.yy,r)&&(h[r]=this.yy[r]);k.setInput(a,h);h.lexer=k;h.parser=this;"undefined"==typeof k.yylloc&&(k.yylloc={});r=k.yylloc;d.push(r);var t=k.options&&k.options.ranges;this.parseError="function"===typeof h.parseError?h.parseError:Object.getPrototypeOf(this).parseError;for(var w,f,I,n,z={},N,M;;){I=b[b.length-1];if(this.defaultActions[I])n=this.defaultActions[I];else{if(null===w||"undefined"==typeof w)w=void 0,w=k.lex()||1,"number"!==typeof w&&
(w=this.symbols_[w]||w);n=e[I]&&e[I][w]}if("undefined"===typeof n||!n.length||!n[0]){var J="";M=[];for(N in e[I])this.terminals_[N]&&2<N&&M.push("'"+this.terminals_[N]+"'");J=k.showPosition?"Parse error on line "+(g+1)+":\n"+k.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==w?"end of input":"'"+(this.terminals_[w]||w)+"'");this.parseError(J,{text:k.match,token:this.terminals_[w]||w,line:k.yylineno,loc:r,expected:M})}if(n[0]instanceof
Array&&1<n.length)throw Error("Parse Error: multiple actions possible at state: "+I+", token: "+w);switch(n[0]){case 1:b.push(w);c.push(k.yytext);d.push(k.yylloc);b.push(n[1]);w=null;f?(w=f,f=null):(v=k.yyleng,l=k.yytext,g=k.yylineno,r=k.yylloc,0<p&&p--);break;case 2:M=this.productions_[n[1]][1];z.$=c[c.length-M];z._$={first_line:d[d.length-(M||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(M||1)].first_column,last_column:d[d.length-1].last_column};t&&(z._$.range=[d[d.length-
(M||1)].range[0],d[d.length-1].range[1]]);I=this.performAction.apply(z,[l,v,g,h,n[1],c,d].concat(q));if("undefined"!==typeof I)return I;M&&(b=b.slice(0,-2*M),c=c.slice(0,-1*M),d=d.slice(0,-1*M));b.push(this.productions_[n[1]][0]);c.push(z.$);d.push(z._$);n=e[b[b.length-2]][b[b.length-1]];b.push(n);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=
a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&
this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+
1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");
return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&
(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=
this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var e in d)this[e]=d[e];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!a||
b[0].length>a[0].length))if(a=b,c=e,this.options.backtrack_lexer){a=this.test_match(b,d[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,b,c,d){switch(c){case 1:return 7;case 2:return 10;case 3:return 27;case 4:return 28;case 5:return 38;case 6:return 23;case 7:return 39;case 8:return 20;case 9:return 21;case 10:return 26;case 11:return 13;case 12:return 17;case 13:return 18;case 14:return 14;case 15:return 19;case 16:return 16;case 17:return 15;case 18:return 11;case 19:return 8;case 20:return 31;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 30;case 26:return 36;
case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,
/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();h.lexer=f;a.prototype=h;h.Parser=a;return new a}();"undefined"!==typeof a&&
"undefined"!==typeof f&&(f.parser=H,f.Parser=H.Parser,f.parse=function(){return H.parse.apply(H,arguments)},f.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),A.exit(1));n=a("fs").readFileSync(a("path").normalize(n[1]),"utf8");return f.parser.parse(n)},"undefined"!==typeof F&&a.main===F&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],14:[function(a,F,f){(function(A){var H=function(){function a(){this.yy={}}var h=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=
b);return c},f=[1,4],u=[1,5],B=[1,6],x=[1,7],D=[1,8],c=[1,10],k=[1,12],r=[1,14],t=[1,15],g=[1,20],z=[1,21],b=[1,16],w=[1,17],p=[1,19],v=[1,23],d=[1,24],l=[1,25],e=[1,26],I=[1,27],q=[1,28],J=[1,29],V=[1,32],A=[5,10,11,12,13,14,15,25,26,27,38],N=[1,39],F=[5,10,11,12,13,14,15,25,26,27,38,39],H=[5,10,11,12,13,14,15,23,25,26,27,32,33,34,35,36,38,39],Y=[5,7,9,10,11,12,13,14,15,16,17,18,20,23,24,25,26,27,29,30,32,33,34,35,36,38,39],M=[5,10,11,12,13,14,15,25,27,38],ma=[5,25,27,38],G=[27,38],h={trace:function(){},
yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,universal_quantifier:9,and:10,or:11,nand:12,nor:13,arrow:14,double_arrow:15,not:16,"true":17,"false":18,sentence_letter_or_expression_variable:19,predicate:20,termlist:21,term:22,identity:23,"(":24,")":25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,
",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"universal_quantifier",10:"and",11:"or",12:"nand",13:"nor",14:"arrow",15:"double_arrow",16:"not",17:"true",18:"false",20:"predicate",23:"identity",24:"(",25:")",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],
[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[19,1],[19,1],[31,1],[31,1],[8,1],[21,1],[21,2],[22,1],[22,1],[22,1],[22,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,e,l,g){a=l.length-1;switch(e){case 1:case 2:return l[a-1];case 3:return l[a-1].box=l[a-2],l[a-1];case 4:this.$={type:"existential_quantifier",symbol:l[a-2],location:g[a-2],boundVariable:l[a-1],left:l[a],right:null};break;case 5:this.$={type:"universal_quantifier",
symbol:l[a-2],location:g[a-2],boundVariable:l[a-1],left:l[a],right:null};break;case 6:this.$={type:"and",symbol:l[a-1],location:g[a-1],left:l[a-2],right:l[a]};break;case 7:this.$={type:"or",symbol:l[a-1],location:g[a-1],left:l[a-2],right:l[a]};break;case 8:this.$={type:"nand",symbol:l[a-1],location:g[a-1],left:l[a-2],right:l[a]};break;case 9:this.$={type:"nor",symbol:l[a-1],location:g[a-1],left:l[a-2],right:l[a]};break;case 10:this.$={type:"arrow",symbol:l[a-1],location:g[a-1],left:l[a-2],right:l[a]};
break;case 11:this.$={type:"double_arrow",symbol:l[a-1],location:g[a-1],left:l[a-2],right:l[a]};break;case 12:this.$={type:"not",symbol:l[a-1],location:g[a-1],left:l[a],right:null};break;case 13:this.$={type:"value",symbol:l[a],location:g[a],value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:l[a],location:g[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=l[a];break;case 16:this.$={type:"predicate",name:l[a-1],location:g[a-1],termlist:l[a]};break;case 17:this.$=
{type:"identity",symbol:l[a-1],termlist:[l[a-2],l[a]]};break;case 18:case 19:this.$=l[a-1];break;case 20:l[a-3].substitutions=l[a-3].substitutions&&l[a-3].substitutions.length?l[a-3].substitutions.concat(l[a-1]):l[a-1];this.$=l[a-3];break;case 21:this.$={type:"expression_variable",location:g[a],letter:l[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:g[a],letter:l[a],left:null,right:null};break;case 23:this.$={type:"variable",name:l[a],location:g[a]};break;case 24:this.$=
{type:"term_metavariable",name:l[a],location:g[a]};break;case 26:case 32:this.$=[l[a]];break;case 27:this.$=[l[a-1]].concat(l[a]);break;case 28:this.$={type:"name",name:l[a],location:g[a]};break;case 29:this.$={type:"name_hat",name:l[a],location:g[a]};break;case 31:this.$={type:"term_metavariable_hat",name:l[a],location:g[a]};break;case 33:this.$=[l[a-2]].concat(l[a]);break;case 34:case 36:this.$={type:"substitution",from:l[a-2],to:l[a],symbol:l[a-1]};break;case 35:case 37:this.$={type:"substitution",
from:l[a-2],to:null,symbol:l[a-1]};break;case 38:this.$={type:"box",term:l[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:[1,13],29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{1:[3]},{5:[1,22],10:v,11:d,12:l,13:e,14:I,15:q,26:J},{4:31,5:[1,30],7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{8:33,31:34,32:g,33:z},{8:35,31:34,32:g,33:z},{4:36,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},
h(A,[2,13]),h(A,[2,14]),h(A,[2,15]),{21:37,22:38,31:18,32:g,33:z,34:b,35:w,36:p},{23:N},{4:40,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{4:41,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:42,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},h(F,[2,21]),h(F,[2,22]),h(H,[2,28]),h(H,[2,29]),h(H,[2,30]),h(H,[2,31]),h(Y,[2,23]),h(Y,[2,24]),{1:[2,1]},{4:43,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{4:44,7:f,9:u,16:B,
17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{4:45,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{4:46,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{4:47,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{4:48,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{19:52,22:51,28:49,29:r,30:t,31:18,
32:g,33:z,34:b,35:w,36:p,37:50},{1:[2,2]},{5:[1,53],10:v,11:d,12:l,13:e,14:I,15:q,26:J},{4:41,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},{4:54,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},h([7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,25]),{4:55,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p},h(M,[2,12],{26:J}),h(A,[2,16]),h(A,[2,26],{31:18,22:38,21:56,32:g,33:z,
34:b,35:w,36:p}),{22:57,31:18,32:g,33:z,34:b,35:w,36:p},{10:v,11:d,12:l,13:e,14:I,15:q,25:[1,58],26:J},{10:v,11:d,12:l,13:e,14:I,15:q,26:J,27:[1,59]},{23:N,27:[1,60]},h(M,[2,6],{26:J}),h(M,[2,7],{26:J}),h(M,[2,8],{26:J}),h(M,[2,9],{26:J}),h(ma,[2,10],{10:v,11:d,12:l,13:e,26:J}),h(ma,[2,11],{10:v,11:d,12:l,13:e,26:J}),{27:[1,61]},{27:[2,32],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},h(M,[2,4],{26:J}),h(M,[2,5],{26:J}),h(A,[2,27]),h(A,[2,17]),h(A,[2,18]),h(A,[2,19]),h([5,7,9,16,17,18,20,24,26,29,
30,32,33,34,35,36],[2,38]),h(A,[2,20]),{19:52,22:51,28:65,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p,37:50},{22:66,31:18,32:g,33:z,34:b,35:w,36:p,40:[1,67]},{4:68,7:f,9:u,16:B,17:x,18:D,19:9,20:c,22:11,24:k,26:V,29:r,30:t,31:18,32:g,33:z,34:b,35:w,36:p,40:[1,69]},{27:[2,33]},h(G,[2,34]),h(G,[2,35]),h(G,[2,36],{10:v,11:d,12:l,13:e,14:I,15:q,26:J}),h(G,[2,37])],defaultActions:{22:[2,1],30:[2,2],53:[2,3],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=
a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],l=this.table,e="",g=0,v=0,p=0,q=d.slice.call(arguments,1),k=Object.create(this.lexer),h={},r;for(r in this.yy)Object.prototype.hasOwnProperty.call(this.yy,r)&&(h[r]=this.yy[r]);k.setInput(a,h);h.lexer=k;h.parser=this;"undefined"==typeof k.yylloc&&(k.yylloc={});r=k.yylloc;d.push(r);var w=k.options&&k.options.ranges;this.parseError="function"===typeof h.parseError?h.parseError:Object.getPrototypeOf(this).parseError;
for(var f,t,G,I,n={},z,N;;){G=b[b.length-1];if(this.defaultActions[G])I=this.defaultActions[G];else{if(null===f||"undefined"==typeof f)f=void 0,f=k.lex()||1,"number"!==typeof f&&(f=this.symbols_[f]||f);I=l[G]&&l[G][f]}if("undefined"===typeof I||!I.length||!I[0]){var M="";N=[];for(z in l[G])this.terminals_[z]&&2<z&&N.push("'"+this.terminals_[z]+"'");M=k.showPosition?"Parse error on line "+(g+1)+":\n"+k.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+
(g+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'");this.parseError(M,{text:k.match,token:this.terminals_[f]||f,line:k.yylineno,loc:r,expected:N})}if(I[0]instanceof Array&&1<I.length)throw Error("Parse Error: multiple actions possible at state: "+G+", token: "+f);switch(I[0]){case 1:b.push(f);c.push(k.yytext);d.push(k.yylloc);b.push(I[1]);f=null;t?(f=t,t=null):(v=k.yyleng,e=k.yytext,g=k.yylineno,r=k.yylloc,0<p&&p--);break;case 2:N=this.productions_[I[1]][1];n.$=c[c.length-
N];n._$={first_line:d[d.length-(N||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(N||1)].first_column,last_column:d[d.length-1].last_column};w&&(n._$.range=[d[d.length-(N||1)].range[0],d[d.length-1].range[1]]);G=this.performAction.apply(n,[e,v,g,h,I[1],c,d].concat(q));if("undefined"!==typeof G)return G;N&&(b=b.slice(0,-2*N),c=c.slice(0,-1*N),d=d.slice(0,-1*N));b.push(this.productions_[I[1]][0]);c.push(n.$);d.push(n._$);I=l[b[b.length-2]][b[b.length-1]];b.push(I);break;case 3:return!0}}}},
f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];
this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=
this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},
reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?
"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,
last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?
c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;
if(this._backtrack)for(var l in d)this[l]=d[l];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),l=0;l<d.length;l++)if((b=this._input.match(this.rules[d[l]]))&&(!a||b[0].length>a[0].length))if(a=b,c=l,this.options.backtrack_lexer){a=this.test_match(b,d[l]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==
a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?
this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return 24;case 2:return 25;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 20;case 7:return 39;case 8:return 17;
case 9:return 18;case 10:return 23;case 11:return 10;case 12:return 14;case 13:return 15;case 14:return 11;case 15:return 16;case 16:return 13;case 17:return 12;case 18:return 9;case 19:return 7;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,
/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-w][0-9]*\^)/,/^(?:[a-w][0-9]*)/,/^(?:[xyz][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,
/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();h.lexer=f;a.prototype=h;h.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=H,f.Parser=H.Parser,f.parse=function(){return H.parse.apply(H,arguments)},f.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),A.exit(1));n=a("fs").readFileSync(a("path").normalize(n[1]),
"utf8");return f.parser.parse(n)},"undefined"!==typeof F&&a.main===F&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],15:[function(a,F,f){(function(A){var H=function(){function a(){this.yy={}}var h=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,3],u=[1,4],B=[1,5],x=[1,6],D=[1,8],c=[1,10],k=[1,11],r=[1,14],t=[1,15],g=[1,12],z=[1,17],b=[1,18],w=[1,19],p=[1,20],v=[1,21],d=[1,22],l=[1,23],e=[5,9,11,12,13,14,15,16,25,27,35,36],I=[1,30],q=[5,9,11,12,
13,14,15,16,24,25,27,31,32,33,35,36],J=[5,9,11,12,13,14,15,16,27,35,36],A=[5,9,27,35,36],H=[27,35],h={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"(":6,existential_quantifier:7,quantifier_variable:8,")":9,universal_quantifier:10,and:11,or:12,nand:13,nor:14,arrow:15,double_arrow:16,not:17,"true":18,"false":19,sentence_letter_or_expression_variable:20,predicate:21,termlist:22,term:23,identity:24,"[":25,substitution_list:26,"]":27,expression_variable:28,sentence_letter:29,variable_or_metavariable:30,
variable:31,term_metavariable:32,name:33,substitution:34,",":35,substitution_symbol:36,"null":37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"(",7:"existential_quantifier",9:")",10:"universal_quantifier",11:"and",12:"or",13:"nand",14:"nor",15:"arrow",16:"double_arrow",17:"not",18:"true",19:"false",21:"predicate",24:"identity",25:"[",27:"]",28:"expression_variable",29:"sentence_letter",31:"variable",32:"term_metavariable",33:"name",35:",",36:"substitution_symbol",37:"null"},productions_:[0,[3,
2],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,4],[20,1],[20,1],[30,1],[30,1],[8,1],[22,1],[22,2],[23,1],[23,1],[26,1],[26,3],[34,3],[34,3],[34,3],[34,3]],performAction:function(a,b,c,d,l,e,g){a=e.length-1;switch(l){case 1:return e[a-1];case 2:this.$={type:"existential_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 3:this.$={type:"universal_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-
2],left:e[a],right:null};break;case 4:this.$={type:"and",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 5:this.$={type:"or",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 6:this.$={type:"nand",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 7:this.$={type:"nor",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 8:this.$={type:"arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 9:this.$={type:"double_arrow",symbol:e[a-
1],location:g[a-1],left:e[a-2],right:e[a]};break;case 10:this.$={type:"not",symbol:e[a-1],location:g[a-1],left:e[a],right:null};break;case 11:this.$={type:"value",symbol:e[a],location:g[a],value:!0,left:null,right:null};break;case 12:this.$={type:"value",symbol:e[a],location:g[a],value:!1,left:null,right:null};break;case 13:case 22:case 26:this.$=e[a];break;case 14:this.$={type:"predicate",name:e[a-1],location:g[a-1],termlist:e[a]};break;case 15:this.$={type:"identity",symbol:e[a-1],termlist:[e[a-
2],e[a]]};break;case 16:this.$=e[a-1];break;case 17:e[a-3].substitutions=e[a-3].substitutions&&e[a-3].substitutions.length?e[a-3].substitutions.concat(e[a-1]):e[a-1];this.$=e[a-3];break;case 18:this.$={type:"expression_variable",location:g[a],letter:e[a],left:null,right:null};break;case 19:this.$={type:"sentence_letter",location:g[a],letter:e[a],left:null,right:null};break;case 20:this.$={type:"variable",name:e[a],location:g[a]};break;case 21:this.$={type:"term_metavariable",name:e[a],location:g[a]};
break;case 23:case 27:this.$=[e[a]];break;case 24:this.$=[e[a-1]].concat(e[a]);break;case 25:this.$={type:"name",name:e[a],location:g[a]};break;case 28:this.$=[e[a-2]].concat(e[a]);break;case 29:case 31:this.$={type:"substitution",from:e[a-2],to:e[a],symbol:e[a-1]};break;case 30:case 32:this.$={type:"substitution",from:e[a-2],to:null,symbol:e[a-1]}}},table:[{3:1,4:2,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{1:[3]},{5:[1,16],11:z,12:b,13:w,14:p,15:v,16:d,25:l},{4:26,6:f,7:[1,
24],10:[1,25],17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{4:27,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},h(e,[2,11]),h(e,[2,12]),h(e,[2,13]),{22:28,23:29,30:13,31:r,32:t,33:g},{24:I},h(e,[2,18]),h(e,[2,19]),h(q,[2,25]),h(q,[2,26]),h(q,[2,20]),h(q,[2,21]),{1:[2,1]},{4:31,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{4:32,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{4:33,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,
30:13,31:r,32:t,33:g},{4:34,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{4:35,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{4:36,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{4:40,6:f,17:u,18:B,19:x,20:7,21:D,23:39,26:37,28:c,29:k,30:13,31:r,32:t,33:g,34:38},{8:41,30:42,31:r,32:t},{8:43,30:42,31:r,32:t},{9:[1,44],11:z,12:b,13:w,14:p,15:v,16:d,25:l},h(J,[2,10],{25:l}),h(e,[2,14]),h(e,[2,23],{30:13,23:29,22:45,31:r,32:t,33:g}),{23:46,30:13,
31:r,32:t,33:g},h(J,[2,4],{25:l}),h(J,[2,5],{25:l}),h(J,[2,6],{25:l}),h(J,[2,7],{25:l}),h(A,[2,8],{11:z,12:b,13:w,14:p,25:l}),h(A,[2,9],{11:z,12:b,13:w,14:p,25:l}),{27:[1,47]},{27:[2,27],35:[1,48]},{24:I,36:[1,49]},{11:z,12:b,13:w,14:p,15:v,16:d,25:l,36:[1,50]},{9:[1,51]},{9:[2,22]},{9:[1,52]},h(e,[2,16]),h(e,[2,24]),h(e,[2,15]),h(e,[2,17]),{4:40,6:f,17:u,18:B,19:x,20:7,21:D,23:39,26:53,28:c,29:k,30:13,31:r,32:t,33:g,34:38},{23:54,30:13,31:r,32:t,33:g,37:[1,55]},{4:56,6:f,17:u,18:B,19:x,20:7,21:D,
23:9,28:c,29:k,30:13,31:r,32:t,33:g,37:[1,57]},{4:58,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{4:59,6:f,17:u,18:B,19:x,20:7,21:D,23:9,28:c,29:k,30:13,31:r,32:t,33:g},{27:[2,28]},h(H,[2,29]),h(H,[2,30]),h(H,[2,31],{11:z,12:b,13:w,14:p,15:v,16:d,25:l}),h(H,[2,32]),h(J,[2,2],{25:l}),h(J,[2,3],{25:l})],defaultActions:{16:[2,1],42:[2,22],53:[2,28]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,
b);}},parse:function(a){var b=[0],c=[null],d=[],l=this.table,e="",g=0,v=0,p=0,k=d.slice.call(arguments,1),q=Object.create(this.lexer),h={},r;for(r in this.yy)Object.prototype.hasOwnProperty.call(this.yy,r)&&(h[r]=this.yy[r]);q.setInput(a,h);h.lexer=q;h.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});r=q.yylloc;d.push(r);var f=q.options&&q.options.ranges;this.parseError="function"===typeof h.parseError?h.parseError:Object.getPrototypeOf(this).parseError;for(var w,t,I,n,z={},J,u;;){I=b[b.length-
1];if(this.defaultActions[I])n=this.defaultActions[I];else{if(null===w||"undefined"==typeof w)w=void 0,w=q.lex()||1,"number"!==typeof w&&(w=this.symbols_[w]||w);n=l[I]&&l[I][w]}if("undefined"===typeof n||!n.length||!n[0]){var B="";u=[];for(J in l[I])this.terminals_[J]&&2<J&&u.push("'"+this.terminals_[J]+"'");B=q.showPosition?"Parse error on line "+(g+1)+":\n"+q.showPosition()+"\nExpecting "+u.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==w?"end of input":
"'"+(this.terminals_[w]||w)+"'");this.parseError(B,{text:q.match,token:this.terminals_[w]||w,line:q.yylineno,loc:r,expected:u})}if(n[0]instanceof Array&&1<n.length)throw Error("Parse Error: multiple actions possible at state: "+I+", token: "+w);switch(n[0]){case 1:b.push(w);c.push(q.yytext);d.push(q.yylloc);b.push(n[1]);w=null;t?(w=t,t=null):(v=q.yyleng,e=q.yytext,g=q.yylineno,r=q.yylloc,0<p&&p--);break;case 2:u=this.productions_[n[1]][1];z.$=c[c.length-u];z._$={first_line:d[d.length-(u||1)].first_line,
last_line:d[d.length-1].last_line,first_column:d[d.length-(u||1)].first_column,last_column:d[d.length-1].last_column};f&&(z._$.range=[d[d.length-(u||1)].range[0],d[d.length-1].range[1]]);I=this.performAction.apply(z,[e,v,g,h,n[1],c,d].concat(k));if("undefined"!==typeof I)return I;u&&(b=b.slice(0,-2*u),c=c.slice(0,-1*u),d=d.slice(0,-1*u));b.push(this.productions_[n[1]][0]);c.push(z.$);d.push(z._$);n=l[b[b.length-2]][b[b.length-1]];b.push(n);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,
b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=
a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);
c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=
!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=
this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,
matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var l in d)this[l]=d[l];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),l=0;l<d.length;l++)if((b=this._input.match(this.rules[d[l]]))&&(!a||b[0].length>a[0].length))if(a=b,c=l,this.options.backtrack_lexer){a=this.test_match(b,d[l]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return 6;case 2:return 9;case 3:return 25;case 4:return 27;case 5:return 35;case 6:return 21;case 7:return 36;case 8:return 18;case 9:return 19;case 10:return 24;case 11:return 11;case 12:return 15;case 13:return 16;case 14:return 12;case 15:return 17;case 16:return 14;
case 17:return 13;case 18:return 10;case 19:return 7;case 20:return 29;case 21:return 37;case 22:return 33;case 23:return 31;case 24:return 28;case 25:return 32;case 26:return 5;case 27:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,
/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],inclusive:!0}}}}();h.lexer=
f;a.prototype=h;h.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=H,f.Parser=H.Parser,f.parse=function(){return H.parse.apply(H,arguments)},f.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),A.exit(1));n=a("fs").readFileSync(a("path").normalize(n[1]),"utf8");return f.parser.parse(n)},"undefined"!==typeof F&&a.main===F&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],16:[function(a,F,f){(function(A){var H=function(){function a(){this.yy=
{}}var h=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],u=[1,5],B=[1,6],x=[1,7],D=[1,9],c=[1,12],k=[1,13],r=[1,18],t=[1,19],g=[1,14],z=[1,15],b=[1,17],w=[1,21],p=[1,22],v=[1,23],d=[1,24],l=[1,25],e=[1,26],I=[1,27],q=[1,30],J=[5,10,12,13,14,15,16,17,26,27,38],A=[1,37],H=[5,10,12,13,14,15,16,17,26,27,38,39],F=[5,10,12,13,14,15,16,17,25,26,27,32,33,34,35,36,38,39],ja=[5,10,12,13,14,15,16,17,27,38],Lb=[5,10,27,38],Y=[27,38],h={trace:function(){},yy:{},symbols_:{error:2,expressions:3,
e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,and:12,or:13,nand:14,nor:15,arrow:16,double_arrow:17,not:18,"true":19,"false":20,sentence_letter_or_expression_variable:21,predicate:22,termlist:23,term:24,identity:25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,
$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",12:"and",13:"or",14:"nand",15:"nor",16:"arrow",17:"double_arrow",18:"not",19:"true",20:"false",22:"predicate",25:"identity",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,
3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[21,1],[21,1],[31,1],[31,1],[9,1],[23,1],[23,2],[24,1],[24,1],[24,1],[24,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,l,e,g){a=e.length-1;switch(l){case 1:case 2:return e[a-1];case 3:return e[a-1].box=e[a-2],e[a-1];case 4:this.$={type:"existential_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:e[a-3],location:g[a-
3],boundVariable:e[a-2],left:e[a],right:null};break;case 6:this.$={type:"and",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 7:this.$={type:"or",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 8:this.$={type:"nand",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 9:this.$={type:"nor",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 10:this.$={type:"arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 11:this.$={type:"double_arrow",
symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 12:this.$={type:"not",symbol:e[a-1],location:g[a-1],left:e[a],right:null};break;case 13:this.$={type:"value",symbol:e[a],location:g[a],value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:e[a],location:g[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=e[a];break;case 16:this.$={type:"predicate",name:e[a-1],location:g[a-1],termlist:e[a]};break;case 17:this.$={type:"identity",symbol:e[a-1],termlist:[e[a-
2],e[a]]};break;case 18:case 19:this.$=e[a-1];break;case 20:e[a-3].substitutions=e[a-3].substitutions&&e[a-3].substitutions.length?e[a-3].substitutions.concat(e[a-1]):e[a-1];this.$=e[a-3];break;case 21:this.$={type:"expression_variable",location:g[a],letter:e[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:g[a],letter:e[a],left:null,right:null};break;case 23:this.$={type:"variable",name:e[a],location:g[a]};break;case 24:this.$={type:"term_metavariable",name:e[a],location:g[a]};
break;case 26:case 32:this.$=[e[a]];break;case 27:this.$=[e[a-1]].concat(e[a]);break;case 28:this.$={type:"name",name:e[a],location:g[a]};break;case 29:this.$={type:"name_hat",name:e[a],location:g[a]};break;case 31:this.$={type:"term_metavariable_hat",name:e[a],location:g[a]};break;case 33:this.$=[e[a-2]].concat(e[a]);break;case 34:case 36:this.$={type:"substitution",from:e[a-2],to:e[a],symbol:e[a-1]};break;case 35:case 37:this.$={type:"substitution",from:e[a-2],to:null,symbol:e[a-1]};break;case 38:this.$=
{type:"box",term:e[a-1]}}},table:[{3:1,4:2,6:3,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:[1,11],29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{1:[3]},{5:[1,20],12:w,13:p,14:v,15:d,16:l,17:e,26:I},{4:29,5:[1,28],7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{4:33,7:f,8:[1,31],11:[1,32],18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{4:34,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},h(J,[2,13]),h(J,[2,14]),
h(J,[2,15]),{23:35,24:36,31:16,32:r,33:t,34:g,35:z,36:b},{25:A},{4:38,7:f,18:u,19:B,20:x,21:8,22:D,24:39,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},h(H,[2,21]),h(H,[2,22]),h(F,[2,28]),h(F,[2,29]),h(F,[2,30]),h(F,[2,31]),h(F,[2,23]),h(F,[2,24]),{1:[2,1]},{4:40,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{4:41,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{4:42,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,
33:t,34:g,35:z,36:b},{4:43,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{4:44,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{4:45,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{21:49,24:48,28:46,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b,37:47},{1:[2,2]},{5:[1,50],12:w,13:p,14:v,15:d,16:l,17:e,26:I},{4:38,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{9:51,
31:52,32:r,33:t},{9:53,31:52,32:r,33:t},{10:[1,54],12:w,13:p,14:v,15:d,16:l,17:e,26:I},h(ja,[2,12],{26:I}),h(J,[2,16]),h(J,[2,26],{31:16,24:36,23:55,32:r,33:t,34:g,35:z,36:b}),{24:56,31:16,32:r,33:t,34:g,35:z,36:b},{12:w,13:p,14:v,15:d,16:l,17:e,26:I,27:[1,57]},{25:A,27:[1,58]},h(ja,[2,6],{26:I}),h(ja,[2,7],{26:I}),h(ja,[2,8],{26:I}),h(ja,[2,9],{26:I}),h(Lb,[2,10],{12:w,13:p,14:v,15:d,26:I}),h(Lb,[2,11],{12:w,13:p,14:v,15:d,26:I}),{27:[1,59]},{27:[2,32],38:[1,60]},{39:[1,61]},{39:[1,62]},{1:[2,3]},
{10:[1,63]},{10:[2,25]},{10:[1,64]},h(J,[2,18]),h(J,[2,27]),h(J,[2,17]),h(J,[2,19]),h([5,7,18,19,20,22,26,29,30,32,33,34,35,36],[2,38]),h(J,[2,20]),{21:49,24:48,28:65,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b,37:47},{24:66,31:16,32:r,33:t,34:g,35:z,36:b,40:[1,67]},{4:68,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b,40:[1,69]},{4:70,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,30:k,31:16,32:r,33:t,34:g,35:z,36:b},{4:71,7:f,18:u,19:B,20:x,21:8,22:D,24:10,26:q,29:c,
30:k,31:16,32:r,33:t,34:g,35:z,36:b},{27:[2,33]},h(Y,[2,34]),h(Y,[2,35]),h(Y,[2,36],{12:w,13:p,14:v,15:d,16:l,17:e,26:I}),h(Y,[2,37]),h(ja,[2,4],{26:I}),h(ja,[2,5],{26:I})],defaultActions:{20:[2,1],28:[2,2],50:[2,3],52:[2,25],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],e=this.table,l="",g=0,v=0,p=0,q=d.slice.call(arguments,1),k=Object.create(this.lexer),
h={},f;for(f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(h[f]=this.yy[f]);k.setInput(a,h);h.lexer=k;h.parser=this;"undefined"==typeof k.yylloc&&(k.yylloc={});f=k.yylloc;d.push(f);var r=k.options&&k.options.ranges;this.parseError="function"===typeof h.parseError?h.parseError:Object.getPrototypeOf(this).parseError;for(var w,t,I,n,z={},u,J;;){I=b[b.length-1];if(this.defaultActions[I])n=this.defaultActions[I];else{if(null===w||"undefined"==typeof w)w=void 0,w=k.lex()||1,"number"!==typeof w&&
(w=this.symbols_[w]||w);n=e[I]&&e[I][w]}if("undefined"===typeof n||!n.length||!n[0]){var B="";J=[];for(u in e[I])this.terminals_[u]&&2<u&&J.push("'"+this.terminals_[u]+"'");B=k.showPosition?"Parse error on line "+(g+1)+":\n"+k.showPosition()+"\nExpecting "+J.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==w?"end of input":"'"+(this.terminals_[w]||w)+"'");this.parseError(B,{text:k.match,token:this.terminals_[w]||w,line:k.yylineno,loc:f,expected:J})}if(n[0]instanceof
Array&&1<n.length)throw Error("Parse Error: multiple actions possible at state: "+I+", token: "+w);switch(n[0]){case 1:b.push(w);c.push(k.yytext);d.push(k.yylloc);b.push(n[1]);w=null;t?(w=t,t=null):(v=k.yyleng,l=k.yytext,g=k.yylineno,f=k.yylloc,0<p&&p--);break;case 2:J=this.productions_[n[1]][1];z.$=c[c.length-J];z._$={first_line:d[d.length-(J||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(J||1)].first_column,last_column:d[d.length-1].last_column};r&&(z._$.range=[d[d.length-
(J||1)].range[0],d[d.length-1].range[1]]);I=this.performAction.apply(z,[l,v,g,h,n[1],c,d].concat(q));if("undefined"!==typeof I)return I;J&&(b=b.slice(0,-2*J),c=c.slice(0,-1*J),d=d.slice(0,-1*J));b.push(this.productions_[n[1]][0]);c.push(z.$);d.push(z._$);n=e[b[b.length-2]][b[b.length-1]];b.push(n);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=
a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&
this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+
1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");
return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&
(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=
this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var e in d)this[e]=d[e];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!a||
b[0].length>a[0].length))if(a=b,c=e,this.options.backtrack_lexer){a=this.test_match(b,d[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,b,c,d){switch(c){case 1:return 7;case 2:return 10;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 22;case 7:return 39;case 8:return 19;case 9:return 20;case 10:return 25;case 11:return 12;case 12:return 16;case 13:return 17;case 14:return 13;case 15:return 18;case 16:return 15;case 17:return 14;case 18:return 11;case 19:return 8;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;
case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,
/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();h.lexer=f;a.prototype=h;h.Parser=a;return new a}();"undefined"!==typeof a&&
"undefined"!==typeof f&&(f.parser=H,f.Parser=H.Parser,f.parse=function(){return H.parse.apply(H,arguments)},f.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),A.exit(1));n=a("fs").readFileSync(a("path").normalize(n[1]),"utf8");return f.parser.parse(n)},"undefined"!==typeof F&&a.main===F&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],17:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c,k,r,t,g,z,b,w,p,v=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in
this&&this[b]===a)return b;return-1};h=a("lodash");w=a("./justification_parser");D=a("../dialect_manager/dialectManager");x=a("./add_line_numbers").cleanNumber;n=w.parse("premise");A=w.parse("close branch");H=w.parse("open branch");f.to=function(a){var l;l={visit:function(a){var d,l,v;"line"!==(l=a.type)&&"close_branch"!==l&&"open_branch"!==l||null!=a.justification||null!=a.justificationErrors||("close_branch"===a.type&&(a.justification=A),"open_branch"===a.type&&(a.justification=H),"line"===a.type&&
(l=p(a.content),a.justification=l.justification,a.content=l.rest,a.justificationErrors=l.justificationErrors,a.justificationText=l.justificationText),null!=(null!=(v=a.justification)?v.numbers:void 0)&&(a.justification.numbers=function(){var b,c,l,g;l=a.justification.numbers;g=[];b=0;for(c=l.length;b<c;b++)d=l[b],g.push(x(d));return g}()),a.getRuleName=b,a.findLine=k,a.findBlock=c,a.findLineOrBlock=r,a.getCitedLines=g,a.getLinesThatCiteMe=z,a.getCitedBlocks=t,a.isPremise=function(){return a.justification.rule.connective===
n.rule.connective})}};a.walk(l);l={visit:function(a){"line"===a.type&&null==a.justification&&null==a.justificationErrors&&B(a)&&(a.justification=n)}};a.walk(l);l={visit:function(a){"block"===a.type&&(a.getConclusion=function(){var b;b=h.last(a.content);return"line"===b.type&&null!=b.sentence?b.sentence:!1},a.getPremises=function(){var b,c;b=h.filter(a.content,function(a){var b,c;return"line"!==a.type||null==a.sentence||"premise"!==(null!=(b=a.justification)?null!=(c=b.rule)?c.connective:void 0:void 0)?
!1:!0});return function(){var a,d,e;e=[];a=0;for(d=b.length;a<d;a++)c=b[a],e.push(c.sentence);return e}()})}};a.walk(l);return a};K=/((\s)*\/\/)|(\\)|(--)/;u=/(\S+)(\s\s\s)(?=\s*\S+)/;p=function(a){var b,c,g,v;c=a.match(K);if(null!=c)v=a.slice(0,c.index),g=c[0].length,a=a.slice(c.index+g);else if(c=a.match(u),null!=c)v=c[1],v=a.slice(0,c.index+v.length),g=c[0].length,a=a.slice(c.index+g);else return{justification:null,rest:a,justificationErrors:null};try{b=w.parse(a)}catch(k){return{justification:null,
rest:v,justificationErrors:k.message,justificationText:a}}return{justification:b,rest:v,justificationErrors:null}};B=function(a){var b,c,g,v,k,p;b=a.parent;if(a===b.content[0])return!0;if(null!=b.parent)return!1;k=b.content;p=v=!1;c=0;for(g=k.length;c<g;c++){b=k[c];if("divider"===b.type){p=!0;break}b===a&&(v=!0)}return v&&p?!0:!1};f._isPremise=B;b=function(){var a,b,c,g;if(null==(null!=(a=this.justification)?a.rule:void 0))return"";g=D.getSymbols();a=g[this.justification.rule.connective]||this.justification.rule.connective;
c=(1!==(null!=a?a.length:void 0)?" ":void 0)||"";b=this.justification.rule.variant.intronation||"";b=g[b]||b;return(""+a+c+b+" "+(this.justification.rule.variant.side||"")).trim()};k=function(a){return this.findAbove(function(b){if("line"===b.type&&b.number===a)return!0})};c=function(a){return this.findAbove(function(b){if("block"===b.type&&b.number===a)return!0})};r=function(a){return this.findAbove(function(b){if(("block"===b.type||"line"===b.type)&&b.number===a)return!0})};g=function(){var a,b,
c,g,v;if(null==(null!=(a=this.justification)?a.numbers:void 0))return[];a=[];g=this.justification.numbers;b=0;for(c=g.length;b<c;b++)v=g[b],v=this.findLine(v),!1!==v&&a.push(v);return a};z=function(){var a,b;b=this;a=[];this.parent.walk({visit:function(c){null!=c.getCitedLines&&0<=v.call(c.getCitedLines(),b)&&a.push(c)}});return a};t=function(){var a,b,c,g,v;if(!this.justification.numbers)return[];a=[];g=this.justification.numbers;b=0;for(c=g.length;b<c;b++)v=g[b],v=this.findBlock(v),!1!==v&&a.push(v);
return a}},{"../dialect_manager/dialectManager":5,"./add_line_numbers":18,"./justification_parser":25,lodash:9}],18:[function(a,F,f){var A,H,n,h,K,u=[].indexOf||function(a){for(var h=0,f=this.length;h<f;h++)if(h in this&&this[h]===a)return h;return-1};A=a("lodash");n=/^([|\s])*\(?([0-9]\S*)([|\s]*)([\s\S]*)/;H=/\.*\)?$/;h=function(a){return a.replace(H,"")};f.cleanNumber=h;K=function(a){var f;return(f=a.content.match(n))?(a=f[2],a=h(a),{lineNumber:a,rest:f[4]}):{lineNumber:null,rest:a.content}};f.to=
function(a,h){a.walk({usedLineNumbers:[],lineCounter:0,userNumberedLines:!1,visit:function(a){var c,k;if("block"!==a.type){this.lineCounter+=1;k=K(a);c=k.lineNumber;k=k.rest;if(c||0===c)this.userNumberedLines=!0;null===c&&(c="line"===a.type?""+this.lineCounter:this.lineCounter+"x");if((null==h||!h.treeProof)&&0<=u.call(this.usedLineNumbers,c))throw Error("Duplicate line number '"+c+"' used for the second time at line "+this.lineCounter+".  Line numbers must be unique.");this.usedLineNumbers.push(c);
a.number=c;a.content=k}}});a.walk({visit:function(h){var c;if("block"===h.type&&(a=h,0!==a.content.length)){h=a.content[0];for(c=A.last(a.content);"block"===c.type;)c=A.last(c.content);null!=h.number&&null!=c.number&&(a.number=h.number+"-"+c.number)}}});return a}},{lodash:9}],19:[function(a,F,f){var A;A=a("../fol");a("../substitute");a("../util");f.to=function(a){a.walk({visit:function(a){if("line"===a.type&&null==a.sentence&&null==a.sentenceErrors){a.sentenceText=a.content;try{a.sentence=A.parse(a.sentenceText)}catch(h){a.sentenceErrors=
h.message}a.canBeDecomposed=function(){var h;h=a.sentence;return null==h||null==h.left||"not"===h.type&&null==h.left.left?!1:!0}}}});return a}},{"../fol":7,"../substitute":31,"../util":33}],20:[function(a,F,f){var A,H,n;H=a("lodash");a("../fol");a("../substitute");n=a("../util");f.to=function(a){a.walk({visit:function(a){null!=(null!=a?a.type:void 0)&&"block"!==a.type&&(a.status=new A(a),a.getErrorMessage=function(){return a.status.getMessage()})}});return a};A=function(){function a(h){var f;this.line=
h;this.messages=[];this.verificationAttempted=this.verified=!1;this.sentenceParsed=null!=this.line.sentence;this.justificationParsed=null!=this.line.justification;null!=this.line.sentenceErrors&&(h=n.getLanguageNames(),this.addMessage("the sentence you wrote (\u2018"+this.line.sentenceText.trim()+"\u2019) is not a sentence or well-formed formula of "+h.join(" or ")+"."));null!=this.line.justificationErrors&&this.addMessage("the justification you supplied ("+(null!=(f=this.line.justificationText)?
f.trim():void 0)+") either mentions a rule you can't use here or doesn't make sense.");"line"===this.line.type&&null==this.line.justification&&null==this.line.justificationErrors&&this.addMessage("you supplied no justification for this line.")}a.prototype.addMessage=function(a){return this.messages.push(a)};a.prototype.addMessageIfNoneAlready=function(a){if(0===this.messages.length)return this.messages.push(a)};a.prototype.clearMessages=function(){return this.messages=[]};a.prototype.popMessage=function(){return 0<
this.messages.length?this.messages.pop():""};a.prototype.addAlthoughMessage=function(a){if(null!=this._addedAlthough)return this.addMessage("and although "+a);this.addMessage("although "+a);return this._addedAlthough=!0};a.prototype.getMessage=function(){var a,h,f,n,A;if(0===this.messages.length)return"";this.messages=H.uniq(this.messages);f="This line is "+((this.verified?void 0:"not correct because")||"correct but")+" "+this.messages[0];1<this.messages.length&&(f+=" And also "+this.messages[1]);
2<this.messages.length&&(f+=" Further, "+this.messages[2]);3<this.messages.length&&(f+=" And, for another thing, "+this.messages[3]);if(4<this.messages.length)for(n=this.messages.splice(4),a=0,h=n.length;a<h;a++)A=n[a],f+=" And "+A;return f};return a}()},{"../fol":7,"../substitute":31,"../util":33,lodash:9}],21:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c,k,r,t,g,z,b,w,p=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};A=a("lodash");b=a("../util");
D=a("./block_parser");K=a("./add_line_numbers");h=a("./add_justification");u=a("./add_sentences");B=a("./add_status");a("./fitch_rules");a("./teller_rules");a("./forallx_rules");a("./logicbook_rules");a("./logicbook_tree_rules");z=a("../dialect_manager/dialectManager");n=function(a){a=D.parse(a);K.to(a);h.to(a);u.to(a);B.to(a);return a};f.to=function(a){a.walk({visit:function(b){null!=(null!=b?b.type:void 0)&&("block"===b.type?b.verify=function(a){var c;null==a&&(a=z.getCurrentRules());c=!0;b.walk({visit:function(b){var d;
if("line"===(d=b.type)||"close_branch"===d||"open_branch"===d)b=b.verify(a),c=c&&b}});return c}:(b.verify=function(c){null==c&&(c=z.getCurrentRules());return w(b,a,c)},b.canLineBeTicked=function(){return c(b)}))}});return a.verifyTree=function(b){null==b&&(b=z.getTreeRules());if(!1===a.verify(b))return!1;console.log("verify done");if(x(a))return!1;console.log("anythingOtherThanABranchOccursAfterABranch done");b=a.getChildren();if(!1===k(b))return!1;console.log("checkBranchingRules done");return!1===
g(a)?!1:!0}};x=function(a){var b,c,e,g,k;c=a.getChildren();if(!(0<(null!=c?c.length:void 0)))return!1;e=0;for(g=c.length;e<g;e++)if(b=c[e],x(b))return!0;b=!1;g=a.content;c=0;for(e=g.length;c<e;c++)if(a=g[c],"block"===a.type&&(b=!0),b&&"block"!==(k=a.type)&&"blank_line"!==k)return!0;return!1};g=function(a){return!1===a.walk({visit:function(a){var b;if(null!=a&&null!=(b=a.justification)&&b.ticked&&!1===c(a))return!1}})?!1:!0};k=function(a){var b,c,e,g,q,h,f,r,w,t,n,z;if(!(0<(null!=a?a.length:void 0)))return!0;
c=0;for(h=a.length;c<h;c++)if(b=a[c],b=k(b),!1===b)return!1;c=null!=(t=a[0].getFirstLine())?null!=(g=t.rulesChecked)?null!=(f=g[0])?f.rule.ruleSet:void 0:void 0:void 0;if(null==c)throw Error("Could not get ruleSet at line "+(null!=(w=a[0].getFirstLine())?w.number:void 0)+".");t=[];g=0;for(f=a.length;g<f;g++){b=a[g];w=b.getFirstLine();console.log("at line "+(null!=w?w.number:void 0)+".");h=null!=w?null!=(n=w.rulesChecked)?n[0].rule:void 0:void 0;if(null==h)throw Error("Could not get rule at line "+
(null!=(z=b.getFirstLine())?z.number:void 0)+".");if(0<=p.call(t,h)&&1<c.length){e=!1;q=0;for(r=c.length;q<r;q++)b=c[q],0>p.call(t,b)&&b.check(w)&&(e=!0,t.push(b));if(!e)return w.status.addMessage("you cannot use the same rule twice in branching"),console.log("you cannot use the same rule twice in branching"),!1}if(h.ruleSet!==c)return!1;t.push(h)}if(t.length<c.length&&1<c.length){z=[];a=0;for(n=c.length;a<n;a++)b=c[a],b.isBranchingRule&&z.push(b);a=z.length;if(t.length<a)return!1}return!0};f.lineNeedsToBeTicked=
function(a){return null==a.sentence?!1:"identity"===sentence.type?!0:null==sentence.left||"not"===sentence.type&&null==sentence.left.left?!1:!0};c=function(a){var b,c;c=z.getCurrentRules();b=a.sentence;c=c.tickCheckers[b.type];if(null==c)return!0;if(!A.isFunction(c)){b=b.left;if(null==b)return!0;c=c[b.type];if(null==c)return!0}return c(a)};f.canLineBeTicked=c;w=function(a,b,c){var e,g;null==c&&(c=z.getCurrentRules());A.isString(b)&&(b=n(b));e=b;if(null!=a.type)e=a;else if(e=e.getLine(a),!e)throw Error("Could not find line "+
a+" in "+b);e.status.verificationAttempted=!0;if("line"!==(g=e.type)&&"close_branch"!==g&&"open_branch"!==g)return e.status.verified=!0,e.status.addMessage("(This is a "+e.type.replace(/_/g," ")+")"),!0;if(null!=e.sentenceErrors||null!=e.justificationErrors||null==e.justification)return e.status.verified=!1;a=H(e);return!0!==a?(e.status.addMessage(a),e.status.verified=!1):r(e,c)};f._line=w;H=function(a){var c,l,e,g,k,h,f,r;h=a.justification.numbers;if(!h)return!0;e=0;for(g=h.length;e<g;e++){k=h[e];
l=a.findLineOrBlock(k);if(!l)return"something you cited, "+k+", cannot be cited here (either it does not exist, or it is below this line, or else it occurs above but in a closed subproof).";c=[];for(f=a.parent;f;)c.push(f),f=f.parent;if(0<=p.call(c,l))return"you cannot cite a subproof ("+k+") from within that subproof (you must close it, then cite it).";if("line"!==(r=l.type)&&"block"!==r)return"you cannot cite line "+k+" because it is a "+l.type.replace(/_/g," ")+".";if("line"===l.type&&!0!==l.status.sentenceParsed)return a=
b.getLanguageNames(),"you cannot cite line "+k+" yet because it does not contain a correct sentence of "+a.join(" or ")+".";if("block"===l.type){c=l.getFirstLine();l=l.getLastLine();if("block"===l.type)return"you cannot cite "+k+" because it finishes with an unclosed (sub)subproof (you must close it, then cite it)";if(null==c||null==l||!c.status.sentenceParsed||!l.status.sentenceParsed)return a=b.getLanguageNames(),"you cannot cite subproof "+k+" yet because it contains lines that are not correct sentence of "+
a.join(" or ")+"."}}return!0};f._linesCitedAreOk=H;t=function(a,b){var c,e,g,k,p,h;e=[];g=0;for(k=b.length;g<k;g++){c=b[g];c=c.check(a);if(!0===c)return a.status.verified=!0;c=a.status.popMessage();null!=c&&e.push(c)}a.status.verified=!1;1===e.length&&a.status.addMessage(e[0]);if(1<e.length){c="This rule has multiple forms and none of them matched.  ";g=k=0;for(p=e.length;k<p;g=++k)h=e[g],c+="("+g+") "+h+"  ";a.status.addMessage(c)}return!1};r=function(a,b){var c,e,g,k,p,h,f;c=a.justification.rule.connective;
e=null!=(k=a.justification.rule.variant)?k.intronation:void 0;k=null!=(p=a.justification.rule.variant)?p.side:void 0;p=b[c];if(null==p)return a.status.addMessage(("the rule you specified, `"+c+" "+(e||"")+" "+(k||"")+"` does not exist (or, if it does, you are not allowed to use it in this proof).").replace(/\s\s+/g,"")),a.status.verified=!1;if(!e){if("rule"===p.type)return t(a,[p]);if(A.isArray(p))return t(a,p);a.status.addMessage("you only partially specified the rule: `"+c+"` needs something extra (intro? elim?).");
return a.status.verified=!1}p=p[e];if(null==p)return a.status.addMessage("you specified the rule "+c+" *"+e+"* but there is no \u2018"+e+"\u2019 version of the rule for "+c+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;if(!k){if("rule"===p.type)return t(a,[p]);if(A.isArray(p))return t(a,p);c=[];"rule"===(null!=(h=p.left)?h.type:void 0)&&c.push(p.left);if(A.isArray(p.left))for(f=p.left,e=0,k=f.length;e<k;e++)h=f[e],c.push(h);"rule"===(null!=(g=p.right)?g.type:
void 0)&&c.push(p.right);if(A.isArray(p.right))for(e=p.right,g=0,p=e.length;g<p;g++)h=e[g],c.push(h);return t(a,c)}if(null==p[k])return a.status.addMessage("you specified the rule "+c+" "+e+" *"+k+"* but there is no \u2018"+k+"\u2019 version of  "+c+" "+e+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;c=p[k];A.isArray(c)||(c=[c]);return t(a,c)}},{"../dialect_manager/dialectManager":5,"../util":33,"./add_justification":17,"./add_line_numbers":18,"./add_sentences":19,
"./add_status":20,"./block_parser":22,"./fitch_rules":23,"./forallx_rules":24,"./logicbook_rules":26,"./logicbook_tree_rules":27,"./teller_rules":30,lodash:9}],22:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c,k,r,t,g,z,b,w=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};H=a("lodash");b=a("../util");f.parse=function(a){var b,c,l,e,g,k,h,f,r;H.isString(a)&&(a=a.split("\n"));if(0===a.length)return new A("");B(a);a=x(a);b=a[0];r=!1;l=0;for(c=a.length;l<
c;l++)g=a[l],0<=w.call(g.indentation,"|")&&(r=!0);for(c=l=new A(b.indentation);0<a.length;)if(g=a.shift(),"line"===g.type||r&&"blank_line"===g.type){for(g.indentation.length>c.indentation.length&&(c=c.newBlock(g.indentation));c&&g.indentation.length<c.indentation.length;)c=c.close();if(!c||g.indentation.length!==c.indentation.length)throw Error("Bad indentation at line "+g.idx+" ("+g.originalText+"). (It is indented to a level to which no earlier line is indented.)");c.newLine(g)}else if("divider"===
(f=g.type)||"close_branch"===f||"open_branch"===f)c.newLine(g);else if("blank_line"===g.type&&!r){for(b=[g];0<a.length&&"blank_line"===a[0].type;)b.push(a.shift());if(c===l)for(e=0,k=b.length;e<k;e++)g=b[e],c.newLine(g);else if(e=a[0].indentation,e.length===c.indentation.length){e=c;h=c.close();k=0;for(c=b.length;k<c;k++)g=b[k],h.newLine(g);c=h.newBlock(e.indentation)}else if(e.length>c.indentation.length){h=0;for(k=b.length;h<k;h++)g=b[h],c.newLine(g);c=c.newBlock(e)}else{for(;c&&e.length<c.indentation.length;)c=
c.close();if(!c||e.length!==c.indentation.length)throw Error("Bad indentation at line "+g.idx+" ("+g.originalText+"). (It is indented to a level to which no earlier line is indented.)");k=0;for(e=b.length;k<e;k++)g=b[k],c.newLine(g)}}for(;c!==l;)c=c.close();return c};B=function(a){};x=function(a){var b,d,l,e,g,h,f,t,n;e=u(a);t=[];l=g=0;for(h=a.length;g<h;l=++g)f=a[l],b=z(f,e),d=b.indentation,b=b.content,n="line",D(b)&&(n="blank_line"),k(b)&&(n="divider"),c(b)&&(n="close_branch"),r(b)&&(n="open_branch"),
t.push({indentation:d,content:b,idx:l+1,type:n,originalText:f});a=!1;l=[];g=0;for(e=t.length;g<e;g++)d=t[g],l.push(d.indentation);e=0;for(g=l.length;e<g;e++)if(d=l[e],0<=w.call(d,"|")){a=!0;break}if(a)for(l=0,a=t.length;l<a;l++)d=t[l],d.indentation=d.indentation.replace(/\s+/g,"");return t};n=/^([|\s]+)/;u=function(a){var b,c,l,e,g;if(!a||0===a.length)return!0;c=null!=(l=a[0].match(n))?l[1]:void 0;l=0;for(e=a.length;l<e;l++)if(b=a[l],""!==b.replace(/[|-\s]/g,"")&&(g=b.match(n),b=null!=g?g[1]:void 0,
null!==g&&b!==c))return!0;return!1};f.areLinesFormattedIndentationFirst=u;h=/^([|\s]*)([\s\S]*)/;K=/^([|\s]*)(\(?[0-9]+[^|\s]*)?([|\s]*)([\s\S]*)/;z=function(a,b){var c,l,e,g;if(b)return c=a.match(h),{indentation:c[1],content:c[2]};c=a.match(K);g=c[1]||"";l=c[2];e=c[3]||"";c=c[4]||"";return l?{indentation:e,content:l+" "+c}:{indentation:g,content:""+c}};f.split=z;g=function(a){return a.replace(/[0-9]\S*/,"")};t=function(a){return a.replace(/\|/g,"")};k=function(a){a=g(a);a=t(a);return null!==a.match(/^\s*(--)/)?
!0:!1};f._isDivider=k;D=function(a){a=g(a);a=t(a);return""===a.trim()};f._isBlank=D;c=function(a){var b;a=g(a);a=t(a);return"X"===("function"===typeof a.trim?"function"===typeof(b=a.trim()).toUpperCase?b.toUpperCase():void 0:void 0)};r=function(a){var b;a=g(a);a=t(a);return"O"===("function"===typeof a.trim?"function"===typeof(b=a.trim()).toUpperCase?b.toUpperCase():void 0:void 0)};A=function(){function a(b,c,l){this.indentation=b;this.parent=c;this.prev=l;this.type="block";this.content=[];null!=this.prev&&
(this.prev.next=this);this._depth=null==this.parent?1:this.parent._depth+1}a.prototype.getFirstLine=function(){return 0<this.content.length?this.content[0]:null};a.prototype.getLastLine=function(){return 0<this.content.length?H.last(this.content):null};a.prototype.getChildren=function(){var a,b,c,e,g;g=[];e=this.content;b=0;for(c=e.length;b<c;b++)a=e[b],"block"===a.type&&g.push(a);return g};a.prototype.removeBlankAndDividerLines=function(){this.content=this.content.filter(function(a){var b;return!("blank_line"===
(b=a.type)||"divider"===b)});return this};a.prototype.newLine=function(a){var b;a.parent=this;b=this.getLastLine();a.prev=b;null!=b&&(b.next=a);a.lineNumberInSource=a.idx;a.findAbove=function(a){var b;for(b=this.prev||this.parent;null!=b&&null!=b.parent;){if(a(b))return b;b=null==b.prev&&null!=b.parent?b.parent:b.prev}return!1};a.findAllAbove=function(a){var b,c;c=[];for(b=this.findAbove(a);b;)c.push(b),b=b.findAbove(a);return c};this.content.push(a);return a};a.prototype.newBlock=function(b){b=new a(b,
this,this.getLastLine());this.content.push(b);return b};a.prototype.close=function(){return this.parent};a.prototype.walk=function(a){var b,c,e,g;b=a.visit(this);if(null!=b)return b;g=this.content;c=0;for(e=g.length;c<e;c++)if(b=g[c],b="block"===b.type?b.walk(a):a.visit(b),null!=b)return b};a.prototype.getLine=function(a){var b;b=this.walk({onLine:0,visit:function(b){if("block"!==b.type&&(this.onLine+=1,this.onLine===a))return b}});if(null==b)throw Error("Could not get line number "+a);return b};
a.prototype.getLeaves=function(){var a;a=[];this.walk({visit:function(b){"block"!==b.type||0<b.getChildren().length||(b=b.getLastLine(),a.push(b))}});return a};a.prototype.areAllBranchesClosed=function(){var a,b,c;c=this.getLeaves();b=H.uniq(function(){var b,d,g;g=[];b=0;for(d=c.length;b<d;b++)a=c[b],g.push(a.type);return g}());return 1!==b.length?!1:0<=w.call(b,"close_branch")};a.prototype.areAllBranchesClosedOrOpen=function(){var a,b,c;c=this.getLeaves();b=H.uniq(function(){var b,d,g;g=[];b=0;for(d=
c.length;b<d;b++)a=c[b],g.push(a.type);return g}());return 0===H.difference(b,["close_branch","open_branch"]).length};a.prototype.toString=function(){return JSON.stringify(this,function(a,c){return!c||"prev"!==a&&"parent"!==a?"sentence"===a?b.expressionToString(c):H.isFunction(c)?void 0:c:"[circular reference to "+(null!=c?c.type:void 0)+", depth "+(null!=c?c._depth:void 0)+"]"},4)};return a}();f.Block=A},{"../util":33,lodash:9}],23:[function(a,F,f){F=a("../dialect_manager/dialectManager");a=a("./rule");
a.setParser(F.getParser("awFOL"));a={_description:"Rules of proof for classical first-order logic.  The rules assume that\nthere is no possible situation with an empty domain.",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8",
"\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:a.from(a.subproof("\u03c6","contradiction")).to("not \u03c6")},contradiction:{elim:a.from("contradiction").to("\u03c6"),intro:a.from("not \u03c6").and("\u03c6").to("contradiction")},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),
right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),
intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:{left:a.from(a.subproof("[\u03b1]","\u03c6[\u03c4--\x3e\u03b1]")).to("all \u03c4 \u03c6"),right:a.from(a.subproof("[\u03b1]\u03c6","\u03c8")).to("all \u03c4 (\u03c6 arrow \u03c8)[\u03b1--\x3e\u03c4]")}}};f.rules=a;F.registerRuleSet("fitch",a)},{"../dialect_manager/dialectManager":5,"./rule":29}],24:[function(a,F,f){F=a("../dialect_manager/dialectManager");
a=a("./rule");a.setParser(F.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),right:a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")},
intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},not:{elim:a.from(a.subproof("not \u03c6",
"\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),
intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},dilemma:a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),
commutivity:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 <-> \u03c7",to:"\u03c7 <-> \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",
{to:"\u03c8 <-> \u03c7",from:"\u03c7 <-> \u03c8"}))],DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",from:"not \u03c8 or not \u03c7"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",
{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",from:"\u03c8"}))],"material-conditional":[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"not \u03c8 arrow \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"not \u03c8 arrow \u03c7"}))],
"biconditional-exchange":[a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"}))],"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",
{from:"not (exists x) \u03c8",to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",from:"(all x) not \u03c8"}))]};f.rules=a;F.registerRuleSet("forallx",a)},{"../dialect_manager/dialectManager":5,"./rule":29}],25:[function(a,F,f){(function(A){var H=function(){function a(){this.yy={}}var h=function(a,b,c,g){c=c||{};for(g=a.length;g--;c[a[g]]=b);return c},f=[1,7],u=[1,12],B=[1,13],x=[1,14],A=[1,15],c=[1,16],k=[1,17],r=[1,11],t=[1,18],g=[1,19],z=[5,7],b=[5,7,22],
w=[5,7,10,16,17,18,19,20,21,23,24],p=[5,7,10,20,21,22],v=[5,7,10,16,17,18,19,22],h={trace:function(){},yy:{},symbols_:{error:2,justification:3,j:4,EOF:5,j2:6,tick:7,rule_name:8,numberlist:9,connective:10,intronation:11,rule_name_option0:12,rule_name_option1:13,side:14,rule_name_group0:15,elim:16,intro:17,decomposition:18,decomposition2:19,left:20,right:21,number:22,reit:23,premise:24,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"tick",10:"connective",16:"elim",17:"intro",18:"decomposition",19:"decomposition2",
20:"left",21:"right",22:"number",23:"reit",24:"premise"},productions_:[0,[3,2],[4,1],[4,2],[4,2],[6,1],[6,2],[6,2],[8,3],[8,3],[8,3],[8,3],[8,3],[8,3],[8,1],[8,1],[11,1],[11,1],[11,1],[11,1],[14,1],[14,1],[9,1],[9,2],[12,0],[12,1],[13,0],[13,1],[15,1],[15,1]],performAction:function(a,b,c,g,k,h,f){a=h.length-1;switch(k){case 1:return h[a-1];case 2:this.$=h[a];break;case 3:h[a].ticked=!0;this.$=h[a];break;case 4:h[a-1].ticked=!0;this.$=h[a-1];break;case 5:this.$={type:"justification",rule:h[a],location:f[a]};
break;case 6:this.$={type:"justification",rule:h[a-1],location:f[a-1],numbers:h[a]};break;case 7:this.$={type:"justification",rule:h[a],location:f[a],numbers:h[a-1]};break;case 8:this.$={type:"rule",connective:h[a-2],variant:{type:"variant",intronation:h[a-1],side:h[a]}};break;case 9:this.$={type:"rule",connective:h[a-1],variant:{type:"variant",intronation:h[a-2],side:h[a]}};break;case 10:this.$={type:"rule",connective:h[a-1],variant:{type:"variant",intronation:h[a],side:h[a-2]}};break;case 11:this.$=
{type:"rule",connective:h[a-2],variant:{type:"variant",intronation:h[a],side:h[a-1]}};break;case 12:this.$={type:"rule",connective:h[a],variant:{type:"variant",intronation:h[a-1],side:h[a-2]}};break;case 13:this.$={type:"rule",connective:h[a],variant:{type:"variant",intronation:h[a-2],side:h[a-1]}};break;case 14:case 15:this.$={type:"rule",connective:h[a],variant:{type:"variant",intronation:null,side:null}};break;case 16:this.$="elim";break;case 17:this.$="intro";break;case 18:this.$="decomposition";
break;case 19:this.$="decomposition2";break;case 20:this.$="left";break;case 21:this.$="right";break;case 22:this.$=[h[a]];break;case 23:this.$=[h[a-1]].concat(h[a])}},table:[{3:1,4:2,6:3,7:[1,4],8:5,9:6,10:f,11:8,14:9,15:10,16:u,17:B,18:x,19:A,20:c,21:k,22:r,23:t,24:g},{1:[3]},{5:[1,20]},{5:[2,2],7:[1,21]},{6:22,8:5,9:6,10:f,11:8,14:9,15:10,16:u,17:B,18:x,19:A,20:c,21:k,22:r,23:t,24:g},h(z,[2,5],{9:23,22:r}),{8:24,10:f,11:8,14:9,15:10,16:u,17:B,18:x,19:A,20:c,21:k,23:t,24:g},h(b,[2,14],{11:25,14:26,
16:u,17:B,18:x,19:A,20:c,21:k}),{10:[1,27],14:28,20:c,21:k},{10:[1,29],11:30,16:u,17:B,18:x,19:A},h(b,[2,15]),h(w,[2,22],{9:31,22:r}),h(p,[2,16]),h(p,[2,17]),h(p,[2,18]),h(p,[2,19]),h(v,[2,20]),h(v,[2,21]),h(b,[2,28]),h(b,[2,29]),{1:[2,1]},{5:[2,4]},{5:[2,3]},h(z,[2,6]),h(z,[2,7]),h(b,[2,24],{12:32,14:33,20:c,21:k}),{11:34,16:u,17:B,18:x,19:A},h(b,[2,26],{13:35,14:36,20:c,21:k}),{10:[1,37]},{11:38,16:u,17:B,18:x,19:A},{10:[1,39]},h(w,[2,23]),h(b,[2,8]),h(b,[2,25]),h(b,[2,11]),h(b,[2,9]),h(b,[2,27]),
h(b,[2,13]),h(b,[2,10]),h(b,[2,12])],defaultActions:{20:[2,1],21:[2,4],22:[2,3]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],g=[],k=this.table,h="",f=0,p=0,r=0,w=g.slice.call(arguments,1),t=Object.create(this.lexer),v={},n;for(n in this.yy)Object.prototype.hasOwnProperty.call(this.yy,n)&&(v[n]=this.yy[n]);t.setInput(a,v);v.lexer=t;v.parser=this;"undefined"==typeof t.yylloc&&
(t.yylloc={});n=t.yylloc;g.push(n);var z=t.options&&t.options.ranges;this.parseError="function"===typeof v.parseError?v.parseError:Object.getPrototypeOf(this).parseError;for(var G,E,u,x,A={},B,D;;){u=b[b.length-1];if(this.defaultActions[u])x=this.defaultActions[u];else{if(null===G||"undefined"==typeof G)G=void 0,G=t.lex()||1,"number"!==typeof G&&(G=this.symbols_[G]||G);x=k[u]&&k[u][G]}if("undefined"===typeof x||!x.length||!x[0]){var F="";D=[];for(B in k[u])this.terminals_[B]&&2<B&&D.push("'"+this.terminals_[B]+
"'");F=t.showPosition?"Parse error on line "+(f+1)+":\n"+t.showPosition()+"\nExpecting "+D.join(", ")+", got '"+(this.terminals_[G]||G)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==G?"end of input":"'"+(this.terminals_[G]||G)+"'");this.parseError(F,{text:t.match,token:this.terminals_[G]||G,line:t.yylineno,loc:n,expected:D})}if(x[0]instanceof Array&&1<x.length)throw Error("Parse Error: multiple actions possible at state: "+u+", token: "+G);switch(x[0]){case 1:b.push(G);c.push(t.yytext);g.push(t.yylloc);
b.push(x[1]);G=null;E?(G=E,E=null):(p=t.yyleng,h=t.yytext,f=t.yylineno,n=t.yylloc,0<r&&r--);break;case 2:D=this.productions_[x[1]][1];A.$=c[c.length-D];A._$={first_line:g[g.length-(D||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(D||1)].first_column,last_column:g[g.length-1].last_column};z&&(A._$.range=[g[g.length-(D||1)].range[0],g[g.length-1].range[1]]);u=this.performAction.apply(A,[h,p,f,v,x[1],c,g].concat(w));if("undefined"!==typeof u)return u;D&&(b=b.slice(0,-2*D),
c=c.slice(0,-1*D),g=g.slice(0,-1*D));b.push(this.productions_[x[1]][0]);c.push(A.$);g.push(A._$);x=k[b[b.length-2]][b[b.length-1]];b.push(x);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,
first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=
this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var g=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-
b};this.options.ranges&&(this.yylloc.range=[g[0],g[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},
less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,
g;this.options.backtrack_lexer&&(g={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(g.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,
this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var k in g)this[k]=g[k];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var g=this._currentRules(),k=0;k<g.length;k++)if((b=this._input.match(this.rules[g[k]]))&&(!a||b[0].length>a[0].length))if(a=b,c=k,this.options.backtrack_lexer){a=this.test_match(b,g[k]);if(!1!==a)return a;
if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,g[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,b,c,g){switch(c){case 0:return b.yytext=
a.lexer.matches[1],22;case 1:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],22;case 2:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],22;case 3:return b.yytext=a.lexer.matches[1],22;case 4:return 16;case 5:return 17;case 6:return 19;case 7:return 18;case 8:return 7;case 9:return b.yytext="contradiction",10;case 10:return b.yytext="or",10;case 11:return b.yytext="identity",10;case 12:return b.yytext="and",10;case 13:return b.yytext="double_arrow",10;case 14:return b.yytext="arrow",
10;case 15:return b.yytext="not",10;case 16:return b.yytext="reit",23;case 17:return b.yytext="premise",24;case 18:return b.yytext="weakening",10;case 19:return b.yytext="cases",10;case 20:return b.yytext="DC",10;case 21:return b.yytext="reductio",10;case 22:return b.yytext="DM",10;case 23:return b.yytext="contraposition",10;case 24:return b.yytext="C",10;case 25:return b.yytext="contradiction",10;case 26:return b.yytext="not-all",10;case 27:return b.yytext="all-not",10;case 28:return b.yytext="exists-not",
10;case 29:return b.yytext="not-exists",10;case 30:return b.yytext="dilemma",10;case 31:return b.yytext="modus-tollens",10;case 32:return b.yytext="hypothetical-syllogism",10;case 33:return b.yytext="disjunctive-syllogism",10;case 34:return b.yytext="commutivity",10;case 35:return b.yytext="double-negation",10;case 36:return b.yytext="material-conditional",10;case 37:return b.yytext="biconditional-exchange",10;case 38:return b.yytext="quantifier-negation",10;case 39:return b.yytext="implication",
10;case 40:return b.yytext="transposition",10;case 41:return b.yytext="distribution",10;case 42:return b.yytext="association",10;case 43:return b.yytext="idempotence",10;case 44:return b.yytext="exportation",10;case 45:return b.yytext="equivalence",10;case 46:return b.yytext="not_double_arrow",10;case 47:return b.yytext="not_and",10;case 48:return b.yytext="not_or",10;case 49:return b.yytext="not_arrow",10;case 50:return b.yytext="universal",10;case 51:return b.yytext="existential",10;case 52:return 20;
case 53:return 21;case 54:return b.yytext="close-branch",10;case 55:return b.yytext="open-branch",10;case 57:return 5;case 60:console.log(b.yytext)}},rules:[/^(?:([0-9][^,\s]*)(\s+and\s+)(?=[0-9]))/i,/^(?:([0-9][^,\s]*)\s+to\s+([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*?)\s*(?:-+)\s*([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*)(?:(\s*,)*))/i,/^(?:elimination|eliminate|elim|e)/i,/^(?:introduction|introduce|intro|i)/i,/^(?:decomposition-2|decomposition2|d-2|d2)/i,/^(?:decomposition|d)/i,/^(?:\u2713|tick)/i,/^(?:\u22a5|_\|_|contradiction|contra|false)/i,
/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/i,/^(?:=|identity)/i,/^(?:and|conjunction|\u2227|\u2022|&)/i,/^(?:double_arrow|\u2194|\u2261|\u21d4|<->)/i,/^(?:arrow|->|\u21d2|\u2192|\u2283)/i,/^(?:not|\u00ac|\u02dc|~|!|negation)/i,/^(?:reit|reiteration|r)/i,/^(?:premise|assumption|set member|sm|p)/i,/^(?:weakening|w)/i,/^(?:argument by cases|cases|ac)/i,/^(?:denying the consequent|dc)/i,/^(?:reductio|rd|reductio ad absurdum)/i,/^(?:dm|deMorgan|dem|de morgan)/i,/^(?:contraposition|cp)/i,/^(?:conditional|c)/i,
/^(?:cd)/i,/^(?:(negated|not_|not-|not|~|\u00ac|!)(\s)?(all|\u2200|every|universal))/i,/^(?:all not|all-not|\u2200~)/i,/^(?:exists not|exists-not|\u2203~)/i,/^(?:(negated|not_|not-|not|~|\u00ac|!)(\s)?(some|exists|\u2203|existential))/i,/^(?:dilemma|dil)/i,/^(?:mt|modus tollens|modus-tollens)/i,/^(?:hs|hypothetical syllogism|hypothetical-syllogism)/i,/^(?:ds|disjunctive syllogism|disjunctive-syllogism)/i,/^(?:commutivity|comm|com)/i,/^(?:dn|double-negation|double negation|negated negation|negated-negation|~~|~ ~|\u00ac\u00ac|\u00ac \u00ac|not not)/i,
/^(?:mc|material-conditional|material conditional)/i,/^(?:bex|\u2194ex|biconditional-exchange|biconditional exchange)/i,/^(?:qn|quantifier-negation|quantifier negation)/i,/^(?:implication|impl)/i,/^(?:transposition|trans)/i,/^(?:distribution|dist)/i,/^(?:association|assoc)/i,/^(?:idempotence|idem)/i,/^(?:exportation|exp)/i,/^(?:equivalence|equiv)/i,/^(?:not_double_arrow|negated biconditional|negated-biconditional|not <->|~ <->|~<->|not<->|~\u2194|~\u2261|~ \u2194|~ \u2261|\u00ac\u2194|\u00ac\u2261|\u00ac \u2194|\u00ac \u2261)/i,
/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(and|conjunction|\u2227|\u2022|&))/i,/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(disjunction|or|\u2228|\|))/i,/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(conditional|arrow|->|\u21d2|\u2192|\u2283))/i,/^(?:all|\u2200|every|universal)/i,/^(?:some|exists|\u2203|existential)/i,/^(?:left)/i,/^(?:right)/i,/^(?:close branch|close-branch)/i,/^(?:open branch|open-branch)/i,/^(?:[\s,]+)/i,/^(?:$)/i,/^(?:\w+)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,
9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0}}}}();h.lexer=f;a.prototype=h;h.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=H,f.Parser=H.Parser,f.parse=function(){return H.parse.apply(H,arguments)},f.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),A.exit(1));n=a("fs").readFileSync(a("path").normalize(n[1]),"utf8");return f.parser.parse(n)},
"undefined"!==typeof F&&a.main===F&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],26:[function(a,F,f){F=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(F.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},
arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),
right:a.from("\u03c6").to("\u03c8 or \u03c6")}},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),"disjunctive-syllogism":[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),
a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")],commutivity:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"}))],implication:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",
to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"}))],DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",
from:"not \u03c8 or not \u03c7"}))],transposition:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c7 arrow not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c7 arrow not \u03c8"}))],distribution:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 or \u03c83)",to:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 or \u03c83)",from:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),
a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 and \u03c83)",to:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 and \u03c83)",from:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"}))],association:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 and \u03c83)",to:"(\u03c81 and \u03c82) and \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 and \u03c83)",from:"(\u03c81 and \u03c82) and \u03c83"})),
a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 or \u03c83)",to:"(\u03c81 or \u03c82) or \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 or \u03c83)",from:"(\u03c81 or \u03c82) or \u03c83"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",from:"\u03c8"}))],idempotence:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 and \u03c8"})),
a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 or \u03c8"}))],exportation:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 -> (\u03c82 -> \u03c83)",to:"(\u03c81 and \u03c82) -> \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 -> (\u03c82 -> \u03c83)",from:"(\u03c81 and \u03c82) -> \u03c83"}))],equivalence:[a.from("\u03c6").to(a.replace("\u03c6",
{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",from:"\u03c8 <-> \u03c7"}))],universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),
intro:a.from(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",
{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (exists x) \u03c8",to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",from:"(all x) not \u03c8"}))],identity:{intro:a.to("all \u03c4 \u03c4=\u03c4"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}}};f.rules=a;F.registerRuleSet("logicbook",
a)},{"../dialect_manager/dialectManager":5,"./rule":29}],27:[function(a,F,f){var A,H,n;F=a("../dialect_manager/dialectManager");A=a("lodash");n=a("./rule");n.setParser(F.getParser("awFOL"));a={_description:"Rules of proof for tree proofs as presented in Bergman et al, \u2018The Logic Book\u2019 (2014).  ",premise:n.from().to(n.premiseInTreeProof()),"close-branch":n.from().to(n.closeBranch()),"open-branch":n.from().to(n.openBranch()),"double-negation":{decomposition:n.from("not not \u03c6").to(n.matches("\u03c6").and.doesntBranch())},
and:{decomposition:[n.from("\u03c6 and \u03c8").to(n.matches("\u03c6").and.doesntBranch()),n.from("\u03c6 and \u03c8").to(n.matches("\u03c8").and.doesntBranch())]},or:{decomposition:[n.from("\u03c6 or \u03c8").to(n.matches("\u03c6").and.branches()),n.from("\u03c6 or \u03c8").to(n.matches("\u03c8").and.branches())]},arrow:{decomposition:[n.from("\u03c6 arrow \u03c8").to(n.matches("not \u03c6").and.branches()),n.from("\u03c6 arrow \u03c8").to(n.matches("\u03c8").and.branches())]},double_arrow:{decomposition:[n.from("\u03c6 <-> \u03c8").to(n.matches("\u03c6").and.branches()),
n.from("\u03c6 <-> \u03c8").to(n.matches("\u03c8").and.doesntBranch()).where(n.previousLineMatches("\u03c6")).andAlso.where(n.previousLineCitesSameLines()),n.from("\u03c6 <-> \u03c8").to(n.matches("not \u03c6").and.branches()),n.from("\u03c6 <-> \u03c8").to(n.matches("not \u03c8").and.doesntBranch()).where(n.previousLineMatches("not \u03c6")).andAlso.where(n.previousLineCitesSameLines())]},not_and:{decomposition:[n.from("not (\u03c6 and \u03c8)").to(n.matches("not \u03c6").and.branches()),n.from("not (\u03c6 and \u03c8)").to(n.matches("not \u03c8").and.branches()),
n.from("\u03c6").to(n.matches("\u03c8"))]},not_or:{decomposition:[n.from("not (\u03c6 or \u03c8)").to(n.matches("not \u03c6").and.doesntBranch()),n.from("not (\u03c6 or \u03c8)").to(n.matches("not \u03c8").and.doesntBranch())]},not_arrow:{decomposition:[n.from("not (\u03c6 arrow \u03c8)").to(n.matches("\u03c6").and.doesntBranch()),n.from("not (\u03c6 arrow \u03c8)").to(n.matches("not \u03c8").and.doesntBranch())]},not_double_arrow:{decomposition:[n.from("not (\u03c6 <-> \u03c8)").to(n.matches("\u03c6").and.branches()),
n.from("not (\u03c6 <-> \u03c8)").to(n.matches("not \u03c8").and.doesntBranch()).where(n.previousLineMatches("\u03c6")).andAlso.where(n.previousLineCitesSameLines()),n.from("not (\u03c6 <-> \u03c8)").to(n.matches("not \u03c6").and.branches()),n.from("not (\u03c6 <-> \u03c8)").to(n.matches("\u03c8").and.doesntBranch()).where(n.previousLineMatches("not \u03c6")).andAlso.where(n.previousLineCitesSameLines())]},universal:{decomposition:n.from("all \u03c4 \u03c6").to(n.matches("\u03c6[\u03c4--\x3e\u03b1]").and.doesntBranch())},
existential:{decomposition:n.from("exists \u03c4 \u03c6").to(n.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1").and.doesntBranch()),decomposition2:n.from("exists \u03c4 \u03c6").to(n.matches("\u03c6[\u03c4--\x3e\u03b1]").and.branches()).where(n.ruleIsAppliedToEveryExistingConstantAndANewConstant("\u03b1"))},"not-all":{decomposition:n.from("not all \u03c4 \u03c6").to(n.matches("exists \u03c4 not \u03c6").and.doesntBranch())},"not-exists":{decomposition:n.from("not exists \u03c4 \u03c6").to(n.matches("all \u03c4 not \u03c6").and.doesntBranch())},
identity:{decomposition:[n.from("\u03b1=\u03b2").and("\u03c6").to(n.matches("\u03c6[\u03b1--\x3e\u03b2]").and.doesntBranch()),n.from("\u03b2=\u03b1").and("\u03c6").to(n.matches("\u03c6[\u03b1--\x3e\u03b2]").and.doesntBranch())]}};a.tickCheckers={and:n.tickIf.allRulesAppliedInEveryBranch(a.and.decomposition),or:n.tickIf.someRuleAppliedInEveryBranch(a.or.decomposition),arrow:n.tickIf.someRuleAppliedInEveryBranch(a.arrow.decomposition),double_arrow:n.tickIf.someRuleAppliedInEveryBranch([a.double_arrow.decomposition[1],
a.double_arrow.decomposition[3]]),universal_quantifier:n.tickIf.ruleAppliedAtLeastOnceAndAppliedToEveryExistingConstant(a.universal.decomposition),existential_quantifier:n.tickIf.someRuleAppliedInEveryBranch([a.existential.decomposition2]),not:{not:n.tickIf.allRulesAppliedInEveryBranch([a["double-negation"].decomposition]),and:n.tickIf.someRuleAppliedInEveryBranch(a.not_and.decomposition),or:n.tickIf.allRulesAppliedInEveryBranch(a.not_or.decomposition),arrow:n.tickIf.allRulesAppliedInEveryBranch(a.not_arrow.decomposition),
double_arrow:n.tickIf.someRuleAppliedInEveryBranch([a.not_double_arrow.decomposition[1],a.not_double_arrow.decomposition[3]]),universal_quantifier:n.tickIf.allRulesAppliedInEveryBranch(a["not-all"].decomposition),existential_quantifier:n.tickIf.allRulesAppliedInEveryBranch(a["not-exists"].decomposition)}};H=function(a){var f,u,B,x,D;D=[];for(u in a)if("rule"===a[u].type)n=a[u],null==n.ruleSet&&(n.ruleSet=[n]);else{if(A.isArray(a[u]))for(x=a[u],f=0,B=x.length;f<B;f++)n=x[f],n.ruleSet=x;A.isObject(a[u])?
D.push(H(a[u])):D.push(void 0)}return D};H(a);f.rules=a;F.registerRuleSet("logicbook_tree",a)},{"../dialect_manager/dialectManager":5,"./rule":29,lodash:9}],28:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c,k,r=[].indexOf||function(a){for(var c=0,k=this.length;c<k;c++)if(c in this&&this[c]===a)return c;return-1};A=a("lodash");x=a("./block_parser");h=a("./add_line_numbers");n=a("./add_justification");K=a("./add_sentences");u=a("./add_status");B=a("./add_verification");D=a("../dialect_manager/dialectManager");
c=function(a,c){A.isString(a)||(a=""+a);return a.length>=c?a:a+Array(c-a.length+1).join(" ")};H=function(a){a.clone=function(c){return k(a.toString(),c)};a.detachChildren=function(){var c,k;k=a.clone({treeProof:!0});c=k.getChildren();k.content=k.content.filter(function(a){return!(0<=r.call(c,a))});return{children:c,childlessProof:k}};return a.toString=function(g){var k,b,h,f,r,d,l,e,n,q,u;null==g&&(g={});q={result:[],lineNumber:0,addLineNumbers:!0,needLineNumbers:!1,lookBackTwo:[],getAndIncLineNumber:function(a){var b,
d;q.lineNumber+=1;return null!=a.number||!1===q.addLineNumbers?(d=parseInt(("function"===typeof(b=a.number).replace?b.replace("x",""):void 0)||a.number),d!==q.lineNumber&&(q.needLineNumbers=!0),q.addLineNumbers=!1,c(a.number,3)):c(q.lineNumber,3)},visit:function(a){var b,d,e,l,k,h;"divider"===a.type||g.treeProof||"block"!==(null!=(b=q.lookBackTwo[0])?b.type:void 0)||"line"!==(null!=(d=q.lookBackTwo[1])?d.type:void 0)||(b=q.lookBackTwo[0],null!=b.parent&&(b=q.lookBackTwo[1],b.parent===a.parent&&q.result.push({number:c(q.getAndIncLineNumber(b).trim()+
"y",3),indentation:b.indentation.trim()+"---",sentence:"",justification:""})));q.lookBackTwo.push(a);2<q.lookBackTwo.length&&q.lookBackTwo.shift();"blank_line"===a.type&&(b=a,q.result.push({number:""+q.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"",justification:""}));"divider"===a.type&&(b=a,q.result.push({number:""+q.getAndIncLineNumber(b),indentation:b.indentation.trim()+"---",sentence:"",justification:""}));"close_branch"===a.type&&(b=a,q.result.push({number:""+q.getAndIncLineNumber(b),
indentation:""+b.indentation.trim(),sentence:"X",justification:""}));"open_branch"===a.type&&(b=a,q.result.push({number:""+q.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"O",justification:""}));"line"===a.type&&(b=a,a="premise"===b.getRuleName()?"":null!=b.justification?b.getRuleName()+" "+((null!=(e=b.justification)?null!=(l=e.numbers)?l.join(", "):void 0:void 0)||""):(null!=(k=b.justificationText)?k.trim():void 0)||"",q.result.push({number:""+q.getAndIncLineNumber(b),indentation:""+
b.indentation,sentence:""+(b.sentence||b.sentenceText),justification:a,ticked:null!=(h=b.justification)?h.ticked:void 0}))}};a.walk(q);n="";r=A.max(function(){var a,b,c,d,e,g;c=q.result;g=[];a=0;for(b=c.length;a<b;a++)u=c[a],g.push((null!=(d=u.sentence)?d.length:void 0)+(null!=(e=u.indentation)?e.length:void 0));return g}());e=D.getSymbols().tick||"\u2713";e+=" ";d=q.result;k=0;for(h=d.length;k<h;k++)f=d[k],l=(f.ticked?e:void 0)||"",b=c(((g.treeProof?void 0:f.indentation)||"")+" "+f.sentence,r+1),
(q.needLineNumbers||!0===g.numberLines)&&!1!==g.numberLines&&(n+=f.number+" "),n+=b+"   "+l+f.justification+"\n";return n.trim()}};k=function(a,c){var k,b;try{k=x.parse(a,c),h.to(k,c),n.to(k,c),K.to(k,c),u.to(k,c),B.to(k,c)}catch(f){return f.message}b=k;b.listErrorMessages=function(){var a;a=[];b.walk({visit:function(b){var c;if(("line"===(c=null!=b?b.type:void 0)||"close_branch"===c||"open_branch"===c)&&!1===b.status.verified)return c=b.number,b=b.status.getMessage(),a.push(c+": "+b)}});return a.join("\n")};
b.walk({visit:function(a){"block"===a.type&&H(a)}});return b};f.parse=k},{"../dialect_manager/dialectManager":5,"./add_justification":17,"./add_line_numbers":18,"./add_sentences":19,"./add_status":20,"./add_verification":21,"./block_parser":22,lodash:9}],29:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c,k,r,t,g,z,b,w,p,v,d,l,e,I,q,J,V,Wb,N,ja,Lb,Y,M=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},ma=[].slice;A=a("lodash");a("../util");Lb=a("../substitute");
v=a("../fol");Wb=void 0;f.setParser=function(a){return Wb=a};Y={};f.tickIf=Y;n=function(a,b,c){var d,e,g,l,k,h,f;h=[];e=0;for(g=a.length;e<g;e++)if(d=a[e],d.parent===b)for(null==d.rulesChecked&&d.verify(),f=d.rulesChecked,k=0,l=f.length;k<l;k++)d=f[k],d=d.rule,h.push(d);e=[];l=0;for(g=c.length;l<g;l++)d=c[l],0>M.call(h,d)&&e.push(d);if(0===e.length)return!0;b=b.getChildren();if(!(0<(null!=b?b.length:void 0)))return!1;h=0;for(c=b.length;h<c;h++)if(d=b[h],d=n(a,d,e),!1===d)return!1;return!0};Y.allRulesAppliedInEveryBranch=
function(a){return function(b){var c;c=b.getLinesThatCiteMe();return n(c,b.parent,a)}};x=function(a,b,c){var d,e,g,l,k,h;e=0;for(g=a.length;e<g;e++)if(d=a[e],d.parent===b)for(null==d.rulesChecked&&d.verify(),h=d.rulesChecked,l=0,d=h.length;l<d;l++)if(k=h[l],k=k.rule,0<=M.call(c,k))return!0;b=b.getChildren();if(!(0<(null!=b?b.length:void 0)))return!1;g=0;for(e=b.length;g<e;g++)if(d=b[g],d=x(a,d,c),!1===d)return!1;return!0};Y.someRuleAppliedInEveryBranch=function(a){return function(b){var c;c=b.getLinesThatCiteMe();
return x(c,b.parent,a)}};Y.ruleAppliedAtLeastOnceAndAppliedToEveryExistingConstant=function(a){return function(b){if(!Y.someRuleAppliedInEveryBranch([a])(b))return!1}};H=function(){function a(b){b=g(b);this._requirements={from:(null!=b?[b]:void 0)||[],to:void 0};this.whereReqs=[];this.andAlso=this}a.prototype.type="rule";a.prototype.and=function(a){a=g(a);this._requirements.from.push(a);return this};a.prototype.to=function(a){if(null!=this._requirements.to)throw Error("You cannot specify `.to` more than once in a single rule.");
a=g(a);this._requirements.to=a;a.isBranchingRule&&(this.isBranchingRule=!0);return this};a.prototype.where=function(a){this.whereReqs.push(a);return this};a.prototype.check=function(a){var b,c,d,e,g;b=t(a,this._requirements);if(!1===b)return!1;e=this.whereReqs;c=0;for(d=e.length;c<d;c++)if(g=e[c],b=g.check(a,b,this),!1===b)return!1;null==a.rulesChecked&&(a.rulesChecked=[]);a.rulesChecked.push({rule:this,matches:b});return!0};return a}();d=function(a){return new H(a)};f.from=d;f.to=function(a){return d().to(a)};
f.previousLineMatches=function(a){A.isString(a)&&(a=v.parse(a));return{check:function(b,c,d){for(b=b.prev;null==b.sentence&&null!=b.prev;)b=b.prev;return null==(null!=b?b.sentence:void 0)?!1:p(b,a,c)}}};f.previousLineCitesSameLines=function(){return{check:function(a,b,c){for(b=a.prev;null==b.sentence&&null!=b.prev;)b=b.prev;return a.getCitedLines().length!==b.getCitedLines().length?!1:A.intersection(a.getCitedLines(),b.getCitedLines()).length===a.getCitedLines().length}}};f.ruleIsAppliedToEveryExistingConstantAndANewConstant=
function(a){return{check:function(b,c,d){var e,g,l,k,h,f,p,r,w,q,t,v;t=b.parent.parent.getChildren();k=function(){var a,b,c;c=[];a=0;for(b=t.length;a<b;a++)v=t[a],c.push(v.getFirstLine());return c}();e=0;for(g=k.length;e<g;e++)if(q=k[e],q!==b){if(!(0<(null!=(l=q.rulesChecked)?l.length:void 0)))return c;h=function(){var a,b,c,d;c=q.rulesChecked;d=[];b=0;for(a=c.length;b<a;b++)v=c[b],d.push(v.rule);return d}();if(0>M.call(h,d))return c}r=[];b.findAbove(function(a){null!=a.sentence&&r.push(a.sentence.getNames())});
r=A.uniq(A.flatten(r));e=[];h=0;for(g=k.length;h<g;h++)for(q=k[h],w=q.rulesChecked||[{rule:d,matches:c}],f=0,l=w.length;f<l;f++)p=w[f],p.rule===d&&(p=p.matches,p=p[a],e.push(p.name));g=0;for(k=r.length;g<k;g++)if(d=r[g],0>M.call(e,d))return b.status.addMessage("you don\u2019t have a branch for the name \u2018"+d+"\u2019"),!1;g=0;for(k=e.length;g<k;g++)if(d=e[g],!(0<=M.call(r,d)))return c;b.status.addMessage("you don\u2019t branch for a new name");return!1}}};f.branch=function(a){return e(a).isFirstLineOfASubproof()};
e=function(a){var c,d;d=V(a);c=[function(a,b){return p(a,d,b)}];a={check:function(a,b){var d,e,g,l;d=b;g=0;for(l=c.length;g<l;g++)if(e=c[g],d=e(a,d),!1===d)return!1;return d},toString:function(){return d.toString()},isNewName:function(a){var d;d=K(a);c.push(function(a,c){var e;e=d.clone();e=e.applyMatches(c).applySubstitutions();return b(e.name,a)?!1:c});return this},isNotInAnyUndischargedPremise:function(a){var b;b=K(a);c.push(function(a,c){var d;d=b.clone();d=d.applyMatches(c).applySubstitutions();
return w(d.name,a)?!1:c});return this},branches:function(){this.isBranchingRule=!0;c.push(function(a,b){var c;c=a.parent;return null==c.parent||c.getFirstLine()!==a?(a.status.addMessage("to use this rule you must branch"),!1):b});return this},doesntBranch:function(){c.push(function(a,b){var c;c=a.parent;return(null!=c?c.getFirstLine():void 0)===a?(a.status.addMessage("you cannot use this rule to branch"),!1):b});return this}};return a.and=a};f.matches=e;f.replace=function(a,b){var c,d;d=V(a);b.from=
V(b.from);b.to=V(b.to);c=[function(a,c){var e,g,l,k;l=d.listMetaVariableNames().inExpression;e=0;for(g=l.length;e<g;e++)if(k=l[e],!(k in c))return!1;g=d.clone().applyMatches(c);e=a.sentence;null==g.box&&null!=e.box&&(e=e.clone(),delete e.box);return Lb.isOneASubstitutionInstanceOfTheOther(e,g,b)}];return{check:function(a,b){var d,e,g,l;d=b;g=0;for(l=c.length;g<l;g++)if(e=c[g],d=e(a,d),!1===d)return!1;return d},toString:function(){return d.toString()+"["+b.from.toString()+"--\x3e"+b.to.toString()+
"]"}}};p=function(a,c,d){var e,g,l,k;if("line"!==a.type)return!1;l=c.listMetaVariableNames().inSub.left;e=0;for(g=l.length;e<g;e++)if(k=l[e],!(k in d))return!1;c=c.clone().applyMatches(d);if(null===c.applySubstitutions())return!1;e=a.sentence;if(null==e)return!1;null==c.box&&null!=e.box&&(e=e.clone(),delete e.box);d=e.findMatches(c,d);if(!1===d)return!1;if(null!=c.box||"box"===c.type)if(c=("box"===c.type?c:void 0)||(null!=c.box?c.box:void 0),c=c.applyMatches(d).applySubstitutions(),c=c.term.name,
a=b(c,a),!1!==a)return!1;return d};b=function(a,b){return b.findAbove(function(b){return"line"!==b.type?!1:0<=M.call(b.sentence.getNames(),a)?!0:!1})};w=function(a,b){return b.isPremise()&&0<=M.call(b.sentence.getNames(),a)?!0:b.findAbove(function(b){return"line"===b.type&&b.isPremise()?0<=M.call(b.sentence.getNames(),a)?!0:!1:!1})};g=function(a){return A.isString(a)?e(a):a};f.subproof=function(a,b){var c,d,e,k;e=g(a);d=g(b);c=[function(a,b){var c,g,l;g=a.getFirstLine();c=a.getLastLine();l=e.check(g,
b);if(!1!==l&&(l=d.check(c,l),!1!==l))return l;c=d.check(c,b);if(!1===c)return!1;g=e.check(g,c);return!1===g?!1:g}];k=[function(){return e.toString()+" \u22a2 "+d.toString()}];return{type:"subproof",check:function(a,b){var d,e,g,l;d=b;g=0;for(l=c.length;g<l;g++)if(e=c[g],d=e(a,d),!1===d)return!1;return d},contains:function(){var a,b;a=1<=arguments.length?ma.call(arguments,0):[];a=function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(V(b));return e}();c.push(function(b,c){var d,e,g,k,
h;k=[];h=b.content;e=0;for(g=h.length;e<g;e++)d=h[e],"line"===d.type&&(d.isPremise()||k.push(d));return l(k,a,c)});k.push(function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(b.toString());return", where this subproof contains "+e.join(" and ")});return this},toString:function(){var a,b,c,d;d="";b=0;for(c=k.length;b<c;b++)a=k[b],d+=a();return d}}};l=function(a,b,c){var d,e,g,k;if(0===b.length)return c;b=A.clone(b);e=b.pop();c=D(a,e,c);if(0===c.length)return!1;e=0;for(g=c.length;e<g;e++)if(d=
c[e],d=d.matches,d=k=l(a,b,d),!1!==k)return d;return!1};f.linesContainPatterns=l;D=function(a,b,c){var d,e,g,l,k;l=[];d=0;for(e=a.length;d<e;d++)g=a[d],k=g.sentence,k=null!=k?k.findMatches(b,c):void 0,!1!==k&&l.push({line:g,matches:k});return l};t=function(a,b){var c,d,e,g,l,h,f,p;if(!r(a,b))return!1;g=[];h=a.getCitedLines();d=0;for(l=h.length;d<l;d++)e=h[d],0<=M.call(g,e)?g.push(A.clone(e)):g.push(e);d=a.getCitedBlocks();g=u(g);d=u(d);f=0;for(l=g.length;f<l;f++)for(e=g[f],p=0,h=d.length;p<h;p++)if(c=
d[p],c=k(b,a,e,c),!1!==c)return g=c;f=a.getRuleName();d=[];null!=b.to&&d.push("on a line with the form "+b.to);h=b.from;e=0;for(g=h.length;e<g;e++)l=h[e],"subproof"===l.type?d.push(" citing a subproof of the form "+l):d.push(" citing a line of the form "+l);a.status.addMessageIfNoneAlready("you can only use "+f+" "+d.join("; ")+".");return!1};k=function(a,b,d,e){var g,l,k;g=[];null!=a.to&&g.push({req:a.to,linesOrBlocks:[b]});k=a.from;b=0;for(l=k.length;b<l;b++)a=k[b],g.push({req:a,linesOrBlocks:("subproof"===
a.type?e:void 0)||d});d=u(g);g=0;for(e=d.length;g<e;g++)if(a=d[g],a=c(a),!1!==a)return d=a;return!1};r=function(a,b){var c,d,e,g,l,k,h,f;e=a.getCitedLines().length;c=a.getCitedBlocks().length;g=d=0;f=b.from;k=0;for(l=f.length;k<l;k++)h=f[k],"subproof"===h.type?g+=1:d+=1;if(!0===(d===e&&g===c))return!0;k=J(d,"line");l=J(g,"subproof");g=(k&&l?"and ":void 0)||(k||l?void 0:"nothing")||"";e=J(e,"line");d=J(c,"subproof");c=(e&&d?"and ":void 0)||(e||d?void 0:"nothing")||"";h=a.getRuleName();a.status.addMessage(("you must cite "+
k+" "+g+l+" when using the rule "+h+" (you cited "+e+" "+c+d+").").replace(/\s\s+/g," "));return!1};c=function(a){var b,c,d,e,g,l,k,h,f,p;h=[];d={};e=0;for(g=a.length;e<g;e++){b=a[e];p=b.req;c=[];f=b.linesOrBlocks;k=0;for(l=f.length;k<l;k++)b=f[k],0>M.call(h,b)&&c.push(b);c=z(p,c,d);if(!1===c)return!1;d=c.newMatches;c=c.matchedLineOrBlock;h.push(c)}return d};z=function(a,b,c){var d,e,g,l;d=0;for(e=b.length;d<e;d++)if(g=b[d],l=a.check(g,c),!1!==l)return{newMatches:l,matchedLineOrBlock:g};return!1};
f.premise=function(){return{check:h}};h=function(a,b){return a.prev?null!=a.parent.parent?(a.status.addMessage("only the first line of a subproof may be a premise."),!1):a.findAbove(function(a){var b,c;if("line"===a.type){if(c="premise"===(null!=(b=a.justification)?b.rule.connective:void 0))return!1;if(!c)return!0}return"block"===a.type?!0:!1})?(a.status.addMessage("premises may not occur after non-premises."),!1):b:b};f.premiseInTreeProof=function(){return{check:function(a,b){return null!=a.parent.parent?
(a.status.addMessage("you cannot have a premise (aka \u2018assumption\u2019, \u2018set member\u2019) in a branch"),!1):h(a,b)}}};N=v.parse("\u03c6");q=v.parse("not \u03c6");I=v.parse("not \u03b1=\u03b1");f.closeBranch=function(){return{check:function(a,b){var c;if(null!=a.next)return a.status.addMessage("You can only close on the final line of a branch."),!1;c=a.findAllAbove(function(a){return"line"===a.type});if(!1!==l(c,[q,N],{})||!1!==l(c,[I],{}))return b;a.status.addMessage("you can only close a branch if it contains either a sentence like \u2018\u00ac\u03b1=\u03b1\u2019, or two sentences like \u2018\u03c6\u2019 and \u2018\u00ac\u03c6\u2019.");
return!1}}};B=v.parse("\u03b1=\u03b1");ja=function(a){return null!=a&&!1!==a.findMatches(B)};f.openBranch=function(){return{check:function(a,b){var c,d,e,g,k,h,f,p,r,w,t,n,z,u,x,A,B,D,F;if(null!=a.next)return a.status.addMessage("You can only put a \u2018branch open\u2019 marker on the final line of a branch."),!1;x=a.findAllAbove(function(a){return"line"===a.type});e=l(x,[N,q],{});r=l(x,[I],{});if(!1!==e||!1!==r)return a.status.addMessage("You can only mark a branch open if it contains neither a sentence like \u2018\u00ac\u03b1=\u03b1\u2019, nor two sentences like \u2018\u03c6\u2019 and \u00ac\u2018\u03c6\u2019."),
!1;r=0;for(z=x.length;r<z;r++)if(e=x[r],!e.canLineBeTicked())return a.status.addMessage("You can only mark a branch open if you have exhaustively decomposed every sentence on it, but line "+e.number+" has not been exhaustively decomposed."),!1;r=function(){var a,b,c,d;d=[];b=0;for(a=x.length;b<a;b++)w=x[b],"identity"===(null!=(c=w.sentence)?c.type:void 0)&&!1===ja(w.sentence)&&d.push(w);return d}();F=function(){var a,b,c;c=[];b=0;for(a=x.length;b<a;b++)w=x[b],!1===w.canBeDecomposed()&&c.push(w);return c}();
A=0;for(z=r.length;A<z;A++){e=r[A];p=e.sentence.getNames();k=p[0];p=p[1];c=[];d=[];n=0;for(u=F.length;n<u;n++)D=F[n],D===e||ja(D.sentence)||((h=0<=M.call(D.sentence.getNames(),k))&&c.push(D),(h=0<=M.call(D.sentence.getNames(),p))&&d.push(D));B=function(){var a,b,c;c=[];b=0;for(a=x.length;b<a;b++)t=x[b],null!=t.sentence&&c.push(t.sentence.toString({replaceSymbols:!0}));return c}();u=v.parse("\u03c6["+k+"--\x3e"+p+"]").substitutions;p=v.parse("\u03c6["+p+"--\x3e"+k+"]").substitutions;f=function(a,b){var c;
c=a.clone();c.substitutions=b;return c.getAllSubstitutionInstances()};g=function(a){var b,c,d,e;c=0;for(b=a.length;c<b;c++)if(e=a[c],d=e.toString({replaceSymbols:!0}),0>M.call(B,d))return!1;return!0};k=function(a,b){var c,d,e;d=0;for(c=a.length;d<c;d++)if(e=a[d],!g(f(e,b)))return!1;return!0};n=function(){var a,b,d,e;d=c;e=[];b=0;for(a=d.length;b<a;b++)D=d[b],e.push(D.sentence);return e}();if(!k(n,u))return a.status.addMessage("You can only mark a branch open if you have exhaustively applied every identity statement in it, but you have not done so for the identity statement on line "+
e.number+" ."),!1;u=function(){var a,b,c,e;c=d;e=[];b=0;for(a=c.length;b<a;b++)D=c[b],e.push(D.sentence);return e}();if(!k(u,p))return a.status.addMessage("You can only mark a branch open if you have exhaustively applied every identity statement in it, but you have not done so for the identity statement on line "+e.number+" ."),!1}return b}}};f._notImplementedYet=function(a){throw Error("the rule `"+a.justification.rule.connective+"` (or some part of it) is not implemented yet!");};V=function(a){A.isString(a)&&
(a=v.parse(a,Wb));return a};K=function(a){return A.isString(a)?V("F("+a+")").termlist[0]:a};u=function(a){var b,c,d,e,g,l,k,h;if(0===a.length)return[[]];h=[];c=e=0;for(g=a.length-1;0<=g?e<=g:e>=g;c=0<=g?++e:--e)for(b=A.clone(a),c=b.splice(c,1),k=u(b),d=b=0,l=k.length-1;0<=l?b<=l:b>=l;d=0<=l?++b:--b)d=c.concat(k[d]),h.push(d);return h};f._permutations=u;J=function(a,b){if(0===a)return"";if(1===a)return"1 "+b;if(1<a)return a+" "+b+"s"}},{"../fol":7,"../substitute":31,"../util":33,lodash:9}],30:[function(a,
F,f){F=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(F.getParser("teller"));a={_description:"Rules of proof for classical first-order logic as presented in Paul Teller,\nA Modern Formal Logic Primer (1998).",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),
a.from("not \u03c6 or \u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6"),a.from("\u03c6 or not \u03c8").and("\u03c8").to("\u03c6")]},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:[a.from(a.subproof("\u03c6","\u03c8 and not \u03c8")).to("not \u03c6"),a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")]},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),
intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:[a.from("\u03c6\u2194\u03c8").to("\u03c6 arrow \u03c8"),a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6\u2194\u03c8").to("\u03c8 arrow \u03c6"),a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")]},intro:a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c6").to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),
right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("(exists \u03c4) \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("(exists \u03c4) \u03c6")},universal:{elim:a.from("(all \u03c4) \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1^]").to("(all \u03c4) \u03c6")},weakening:a.from("\u03c6").to("\u03c8 arrow \u03c6"),cases:[a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),
a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7")],DC:[a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),a.from("\u03c6 arrow not \u03c8").and("\u03c8").to("not \u03c6"),a.from("not \u03c6 arrow \u03c8").and("not \u03c8").to("\u03c6")],reductio:[a.from(a.subproof("not \u03c6","\u03c8 and not \u03c8")).to("\u03c6"),a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6")],DM:[a.from("not (\u03c6 or \u03c8)").to("not \u03c6 and not \u03c8"),
a.from("not \u03c6 and not \u03c8").to("not (\u03c6 or \u03c8)"),a.from("not (\u03c6 and \u03c8)").to("not \u03c6 or not \u03c8"),a.from("not \u03c6 or not \u03c8").to("not (\u03c6 and \u03c8)")],contraposition:[a.from("\u03c6 arrow \u03c8").to("not \u03c8 arrow not \u03c6"),a.from("not \u03c8 arrow not \u03c6").to("\u03c6 arrow \u03c8"),a.from("not \u03c6 arrow \u03c8").to("not \u03c8 arrow \u03c6"),a.from("not \u03c8 arrow \u03c6").to("not \u03c6 arrow \u03c8"),a.from("\u03c6 arrow not \u03c8").to("\u03c8 arrow not \u03c6"),
a.from("\u03c8 arrow not \u03c6").to("\u03c6 arrow not \u03c8")],C:[a.from("\u03c6 arrow \u03c8").to("not \u03c6 or \u03c8"),a.from("not \u03c6 or \u03c8").to("\u03c6 arrow \u03c8"),a.from("not (\u03c6 arrow \u03c8)").to("\u03c6 and not \u03c8"),a.from("\u03c6 and not \u03c8").to("not (\u03c6 arrow \u03c8)")],CD:a.from("\u03c6").and("not \u03c6").to("\u03c8"),"not-all":a.from("not (all \u03c4) \u03c6").to("(exists \u03c4) not \u03c6"),"all-not":a.from("(all \u03c4) not  \u03c6").to("not (exists \u03c4) \u03c6"),
"not-exists":a.from("not (exists \u03c4) \u03c6").to("(all \u03c4) not \u03c6"),"exists-not":a.from("(exists \u03c4) not \u03c6").to("not (all \u03c4) \u03c6")};f.rules=a;F.registerRuleSet("teller",a)},{"../dialect_manager/dialectManager":5,"./rule":29}],31:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c;A=a("lodash");c=a("./util");F=a("./dialect_manager/dialectManager").getParser("awFOL");u=a("./match");n={replace_arrow:{from:"\u03c6 arrow \u03c8",to:"(not \u03c6) or \u03c8"},replace_double_arrow:{from:"\u03c6 \u2194 \u03c8",
to:"(\u03c6 or (not \u03c8)) and ((not \u03c6) or \u03c8)"},demorgan1:{from:"not (\u03c6 and \u03c8)",to:"((not \u03c6) or (not \u03c8))"},demorgan2:{from:"not (\u03c6 or \u03c8)",to:"((not \u03c6) and (not \u03c8))"},dbl_neg:{from:"not not \u03c6",to:"\u03c6"},not_all:{from:"not ((all \u03c4) \u03c6)",to:"(exists \u03c4) (not \u03c6)"},not_exists:{from:"not ((exists \u03c4) \u03c6)",to:"(all \u03c4) (not \u03c6)"},cnf_left:{from:"\u03c61 or (\u03c62 and \u03c63)",to:"(\u03c61 or \u03c62) and (\u03c61 or \u03c63)"},
cnf_right:{from:"(\u03c62 and \u03c63) or \u03c61",to:"(\u03c62 or \u03c61) and (\u03c63 or \u03c61)"},all_and_left:{from:"\u03c6 and ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 and \u03c8)"},all_and_right:{from:"((all \u03c4) \u03c8) and \u03c6",to:"(all \u03c4) (\u03c8 and \u03c6)"},all_or_left:{from:"\u03c6 or ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 or \u03c8)"},all_or_right:{from:"((all \u03c4) \u03c8) or \u03c6",to:"(all \u03c4) (\u03c8 or \u03c6)"},exists_and_left:{from:"\u03c6 and ((exists \u03c4) \u03c8)",
to:"(exists \u03c4) (\u03c6 and \u03c8)"},exists_and_right:{from:"((exists \u03c4) \u03c8) and \u03c6",to:"(exists \u03c4) (\u03c8 and \u03c6)"},exists_or_left:{from:"\u03c6 or ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 or \u03c8)"},exists_or_right:{from:"((exists \u03c4) \u03c8) or \u03c6",to:"(exists \u03c4) (\u03c8 or \u03c6)"}};x={};for(K in n)D=n[K],a=F.parse(D.from),c.delExtraneousProperties(a),D=F.parse(D.to),c.delExtraneousProperties(D),a={from:a,to:D},x[K]=a;f.subsForPNF=x;n={identity:{from:"\u03c4=\u03c4",
to:"true"},not_true:{from:"not true",to:"false"},not_false:{from:"not false",to:"true"},or_duplicate:{from:"\u03c6 or \u03c6",to:"\u03c6"},or_duplicate_left:{from:"\u03c6 or (\u03c6 or \u03c8)",to:"\u03c6 or \u03c8"},or_duplicate_right:{from:"(\u03c8 or \u03c6) or \u03c6",to:"\u03c8 or \u03c6"},and_duplicate:{from:"\u03c6 and \u03c6",to:"\u03c6"},and_duplicate_left:{from:"\u03c6 and (\u03c6 and \u03c8)",to:"\u03c6 and \u03c8"},and_duplicate_right:{from:"(\u03c8 and \u03c6) and \u03c6",to:"\u03c8 and \u03c6"},
false_or:{from:"false or \u03c6",to:"\u03c6"},true_or:{from:"true or \u03c6",to:"true"},false_and:{from:"false and \u03c6",to:"false"},true_and:{from:"true and \u03c6",to:"\u03c6"},contradiction_and:{from:"\u03c6 and not \u03c6",to:"false"},contradiction_and_left:{from:"\u03c6 and (not \u03c6 and \u03c8)",to:"false"},contradiction_and_right:{from:"(\u03c8 and \u03c6) and not \u03c6",to:"false"},taut_or:{from:"\u03c6 or not \u03c6",to:"true"},taut_and_left:{from:"\u03c6 or (not \u03c6 or \u03c8)",
to:"true"},taut_and_right:{from:"(\u03c8 or \u03c6) or not \u03c6",to:"true"}};x={};for(K in n)D=n[K],a=F.parse(D.from),c.delExtraneousProperties(a),D=F.parse(D.to),c.delExtraneousProperties(D),a={from:a,to:D},x[K]=a;f.subs_eliminate_redundancy=x;h=function(a,c){var h;return(h=u.findWithoutApplyingSubs(a,c.from))?u.apply(c.to,h):a};f.doSub=h;f.doSubRecursive=function(a,f,t){null==t&&(t={});return c.walkMutate(a,function(a){return null===a||A.isArray(a)||null!=a.type&&"box"===a.type?a:h(a,f)})};B=
function(a,h,f){var g,n,b;null==f&&(f={});g=h.from;n=h.to;b=function(a){if(null===a||A.isArray(a)||b._inSub)return a;if(c.areIdenticalExpressions(a,g)){if(null===n)throw Error("_internal: replace to null");return c.cloneExpression(n)}return a};a=f.noClone?a:c.cloneExpression(a);return c.walkMutate(a,b)};f.replace=B;f.applySubstitutions=function(a){var h;h=function(a){var c,k,b,h;if(null==(null!=a?a.substitutions:void 0))return a;h=A.cloneDeep(a.substitutions);delete a.substitutions;c=0;for(k=h.length;c<
k;c++)b=h[c],b={from:b.from,to:b.to},a=B(a,b);return a};a=A.cloneDeep(a);try{return c.walkMutate(a,h)}catch(f){a=f;if("_internal: replace to null"===a.message)return null;throw a;}};H=function(a,f,n){var g;if(c.areIdenticalExpressions(a,f))return!0;g=function(a,b){var c,g,k,d;d="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");g=0;for(k=d.length;g<k;g++)if(c=d[g],null!=a[c]||null!=b[c]){if(null==a[c]||null==b[c])return!1;if(A.isString(a[c])){if(a[c]!==
b[c])return!1}else if(!H(a[c],b[c],n))return!1}return!0};if(g(a,f))return!0;a=h(c.cloneExpression(a),n);return g(a,f)?!0:!1};f.isOneASubstitutionInstanceOfTheOther=function(a,h,f){a=c.delExtraneousProperties(c.cloneExpression(a));h=c.delExtraneousProperties(c.cloneExpression(h));return H(a,h,f)};f.isThereAWayOfApplyingTheSubstitutionToMakeTheFunctionReturnTrue=function(a,f,n){a=c.cloneExpression(a);f=h(a,f);if(n(f))return!0}},{"./dialect_manager/dialectManager":5,"./match":8,"./util":33,lodash:9}],
32:[function(a,F,f){a("lodash");F.exports={"default":{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",propLanguageName:"FOL",predLanguageName:"FOL",elim:" Elim",intro:" Intro",decomposition:"D",decomposition2:"D2"},copi:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2022",
arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"",universal:"all",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0},teller:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",
quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,"not-all":"~\u2200","all-not":"\u2200~","exists-not":"\u2203~","not-exists":"~\u2203",propLanguageName:"sentence logic",predLanguageName:"predicate logic"},forallx:{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!1,
predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",predLanguageName:"QL"},logicbook:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",predLanguageName:"PL",association:"Assoc",
premise:"Assumption",DM:"DeM",decomposition:"D",decomposition2:"D2",tick:"\u2713","double-negation":"~ ~",not_double_arrow:"~ \u2261",not_and:"~ &",not_or:"~ \u2228",not_arrow:"~ \u2283"}}},{lodash:9}],33:[function(a,F,f){var A,H,n,h,K,u,B,x,D,c,k,r,t,g,z={}.hasOwnProperty;A=a("lodash");B=a("./dialect_manager/dialectManager");g=function(a,c,k){var h;if(A.isArray(a)){var d,l,e;e=[];d=0;for(l=a.length;d<l;d++)h=a[d],e.push(g(h,c,k));return e}if(null===a)return c(a);null!=(null!=k?k.topDown:void 0)&&
k.topDown&&(h=c(a));c._trace&&console.log("walkMutate got "+util.expressionToString(a));null!=a.box&&(c._inBox=!0,a.box=g(a.box,c,k),c._inBox=void 0);null!=a.substitutions&&(null==c._inSubCount&&(c._inSubCount=0),c._inSubCount+=1,c._inSub=!0,a.substitutions=g(a.substitutions,c,k),--c._inSubCount,0===c._inSubCount&&(c._inSub=void 0));"substitution"===a.type&&(c._inSubLeft=!0,a.from=g(a.from,c,k),c._inSubLeft=void 0,a.to=g(a.to,c,k));null!=a.boundVariable&&(c._inBoundVariable=!0,a.boundVariable=g(a.boundVariable,
c,k),c._inBoundVariable=void 0);null!=a.termlist&&(a.termlist=g(a.termlist,c,k));null!=a.term&&(a.term=g(a.term,c,k));null!=a.left&&(a.left=g(a.left,c,k));null!=a.right&&(a.right=g(a.right,c,k));return null!=(null!=k?k.topDown:void 0)&&k.topDown?h:c(a)};f.walkMutate=g;r=function(a,c,k){var h;h=function(a){var b,e;for(b in h)z.call(h,b)&&(e=h[b],c[b]=e);c(a);return a};return g(a,h,k)};f.walk=r;t=function(a,c,g,k){var d,l,e;if(null!=g&&(k=g(a,c),void 0!==k))return k;if(null===a||null===c)return a===
c;l=[A.isBoolean,A.isNumber,A.isString];k=0;for(d=l.length;k<d;k++)if(e=l[k],e(a)||e(c))return a===c;if(A.isArray(a)||A.isArray(c)){if(!A.isArray(a)||!A.isArray(c)||a.length!==c.length)return!1;d=l=0;for(e=a.length;l<e;d=++l)if(k=a[d],!t(k,c[d],g))return!1;return!0}e="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");d=0;for(l=e.length;d<l;d++)if(k=e[d],(k in a||k in c)&&!(k in a&&k in c&&t(a[k],c[k],g)))return!1;return!0};f.walkCompare=t;h=function(a,
c,g){return t(a,c,void 0,g)};f.areIdenticalExpressions=h;D=function(a,c){var g,k,d,l;g=c(a);if(void 0!==g)return g;if(null!==a){d=[A.isBoolean,A.isNumber,A.isString];g=0;for(k=d.length;g<k;g++)if(l=d[g],l(a))return;if(A.isArray(a))for(k=0,d=a.length;k<d;k++){if(g=a[k],g=D(g,c),void 0!==g)return g}else for(l="substitutions from to box term boundVariable termlist left right type name letter value".split(" "),k=0,d=l.length;k<d;k++)if(g=l[k],g in a&&(g=D(a[g],c),void 0!==g))return g}};f.find=D;f.walkMutateFindOne=
function(a,c,k){var h,d;h=void 0;d=function(a){var b,g;if(void 0!==h)return a;for(b in d)z.call(d,b)&&(g=d[b],c[b]=g);g=c(a)||{};b=g.newExpression;h=g.aResult;return void 0!==b?b:a};a=g(a,d,k);return{theResult:h,mutatedExpression:a}};H=function(a){var c,g,k,d;if(null===a)return a;d=["location","symbol","parent"];g=0;for(k=d.length;g<k;g++)c=d[g],c in a&&delete a[c];for(c in a)z.call(a,c)&&(g=a[c],A.isFunction(g)&&delete a[c]);return a};f.delExtraneousProperties=function(a){return null==(null!=a?a.type:
void 0)?a:r(a,H)};u=function(a){var c,g,k,d,l;if(null===a)return null;k=[A.isBoolean,A.isNumber,A.isString];c=0;for(g=k.length;c<g;c++)if(d=k[c],d(a))return a;if(A.isArray(a)){d=[];g=0;for(k=a.length;g<k;g++)c=a[g],d.push(u(c));return d}c={};l="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");k=0;for(d=l.length;k<d;k++)g=l[k],g in a&&(c[g]=u(a[g]));return c};f.cloneExpression=u;x=function(a,c){var k,h,d,l,e,f;null==c&&(c={});null!=c.symbols?c.replaceSymbols=
!0:c.symbols=B.getSymbols();l=[A.isBoolean,A.isNumber,A.isString,A.isArray];k=0;for(h=l.length;k<h;k++)if(f=l[k],f(a))return""+a;e=0;k=c.replaceSymbols?u(a):A.cloneDeep(a);h=g(k,function(a){var b,d,g,l,k,h,r,p;if(null===a)return"null";e+=1;h=[A.isBoolean,A.isNumber,A.isString];d=0;for(l=h.length;d<l;d++)if(f=h[d],f(a))return""+a;if(A.isArray(a))return!1===c.symbols.predicationBracketsAndCommas?a.join(""):a.join(",");if(null==(null!=a?a.type:void 0)&&void 0===a)return"[undefined]";if("variable"===
(r=a.type)||"name"===r||"name_hat"===r||"term_metavariable"===r||"term_metavariable_hat"===r)return a.substitutions?"{"+a.name+"["+a.substitutions+"]}":a.name;if("box"===a.type)return"["+a.term+"]";if("termlist"===a.type){g=[];p=0;for(k=a.length;p<k;p++)b=a[p],g.push(b.name);return g}if("substitution"===a.type)return a.from+"--\x3e"+a.to;null!=a.box&&(b=a.box);a.substitutions&&(p="["+a.substitutions+"]");null!=a.termlist&&(d=a.name||a.symbol||c.symbols[a.type]||a.type,!0===c.symbols.singleLetterPredicates&&
"predicate"===a.type&&""!==d.replace(/[A-Z][0-9]*/,"")&&(d=d[0]),k=!1===c.symbols.predicationBracketsAndCommas?""+d+a.termlist.join(""):d+"("+a.termlist.join(",")+")");"identity"===a.type&&(d=a.symbol||"=",l=a.termlist,k=l[0],l=l[1],k=""+k+d+l);if("sentence_letter"===(g=a.type)||"expression_variable"===g)k=a.letter;"value"===a.type&&(k=""+((null!=a.symbol?a.symbol:void 0)||("false"===a.value||!1===a.value?c.symbols["false"]:void 0)||a.value));d=null!=a.right;l=g="";d&&(g="(",l=")");d=a.symbol||c.symbols[a.type]||
"";c.wrapWithDivs&&(d="<span class='_symbolWrap' data-symbolNum='"+e+"'>"+d+"</span>");null!=a.boundVariable&&(k=a.boundVariable,k=""===c.symbols.universal_quantifier||!0===c.symbols.quantifiersInBrackets?"("+d+k+")"+g+a.left+(a.right||"")+l:""+d+k+" "+g+a.left+(a.right||"")+l);null!=a.left&&null==a.boundVariable&&(k=null==a.right?""+g+d+(a.left||"")+l:""+g+(a.left||"")+" "+d+" "+(a.right||"")+l);c.wrapWithDivs&&(k="<span class='_expressionWrap'>"+k+"</span>");return""+(b||"")+k+(p||"")});k={remove_extra_whitespace:{from:/\s+/g,
to:" "},remove_space_between_quantifiers:{from:/([\u2200\u2203].)\s+([\u2200\u2203].)/,to:"$1$2"},remove_space_between_quantifier_and_brackets:{from:/([\u2200\u2203].)\s+(\()/,to:"$1$2"},remove_outer_brackets:{from:/(^\s*\()([\s\S]*)(\)\s*$)/,to:"$2"}};if(""!==c.symbols.universal_quantifier&&!0!==c.symbols.quantifiersInBrackets||null==a.boundVariable)for(d in k)l=k[d],h=h.replace(l.from,l.to);return h.trim()};f.expressionToString=x;f.matchesToString=function(a){var c,g,k;if(!1===a)return"false";if(!a)return"[no]";
c="";for(g in a)z.call(a,g)&&(k=a[g],null!=(null!=k?k.type:void 0)&&(c=c+"\n\t"+g+" : "+x(k)));return c};f.exhaust=function(a,c,g){var k;null==g&&(g=h);for(k=null;!g(k,a);)k=a,a=c(u(k));return a};f.listOfAtomicExpressionsComparator=function(a,c){var g,k,d,l;if(a.length<c.length)return-1;if(a.length>c.length)return 1;k=g=0;for(l=a.length;g<l;k=++g)if(d=a[k],k=K(d,c[k]),0!==k)return k;return 0};K=function(a,g){var h,f;h=n(a.type,g.type);if(0!==h)return h;if("not"===a.type&&"not"!==g.type)return h=K(a.left,
g),0===h?1:h;if("not"!==a.type&&"not"===g.type)return h=K(a,g.left),0===h?-1:h;if("not"===a.type&&"not"===g.type)return K(a.left,g.left);if(null!=a.value)return a.value<g.value?-1:a.value>g.value?1:0;if(null!=a.letter)return a.letter<g.letter?-1:a.letter>g.letter?1:0;if(null!=a.name)return a.name<g.name?-1:a.name>g.name?1:0;if(null!=a.termlist)return h=c(a.termlist[0],a.termlist[1],k),f=c(g.termlist[0],g.termlist[1],k),k(h,f);throw Error("Could not do a comparison for "+JSON.stringify(a,null,4));
};f.atomicExpressionComparator=K;c=function(a,c,g){return 0<g(a,c)?c:a};k=function(a,c){var g;g=n(a.type,c.type);return 0!==g?g:a.name<c.name?-1:a.name>c.name?1:0};f.termComparator=k;n=function(a,c){var g;if("not"===a||"not"===c)return 0;g={value:5,sentence_letter:10,predicate:20,identity:30,name:50,variable:60};return g[a]<g[c]?-1:g[a]>g[c]?1:0};f.listTerms=function(a){var c;c=[];r(a,function(a){var b;if("variable"===(b=a.type)||"name"===b||"term_metavariable"===b)return c.push(a)});return c};f.listMetaVariableNames=
function(a){var c,g;c={inExpression:[],inBox:[],inSub:{left:[],right:[]}};g=function(a){var b;if(null==(null!=a?a.type:void 0)||"term_metavariable"!==a.type&&"expression_variable"!==a.type)return a;b=(null!=(null!=a?a.letter:void 0)?a.letter:void 0)||a.name;null!=g._inSub?null!=g._inSubLeft?c.inSub.left.push(b):c.inSub.right.push(b):null!=g._inBox?c.inBox.push(b):c.inExpression.push(b);return a};r(a,g);return c};f.expressionTypes="existential_quantifier universal_quantifier and or nand nor arrow double_arrow not value predicate identity expression_variable sentence_letter".split(" ");
f.termTypes=["name","variable","term_metavariable"];f.atomicSentenceTypes=["sentence_letter","expression_variable","identity","predicate"];f.expressionContainsSubstitutions=function(a){return!0===D(a,function(a){if(null!=(null!=a?a.substitutions:void 0))return!0})?!0:!1};f.expressionHasSub=function(a,c){var g,k,d,l;if(null==(null!=a?a.substitutions:void 0))return!1;l=a.substitutions;k=0;for(d=l.length;k<d;k++)if(g=l[k],h(g.from,c.from)&&h(g.to,c.to))return!0;return!1};f.getLanguageNames=function(){var a,
c,g;c=null!=(a=B.getSymbols())?a.propLanguageName:void 0;a=(null!=(g=B.getSymbols())?g.predLanguageName:void 0)||"quantificational logic";g=[a];null!=c&&c!==a&&g.unshift(c);return g};f.getPredLanguageName=function(){var a;return(null!=(a=B.getSymbols())?a.predLanguageName:void 0)||"quantificational logic"}},{"./dialect_manager/dialectManager":5,lodash:9}],34:[function(a,F,f){(function(a){var f={inheritAttrs:function(a,k){for(var h in k)"function"!==typeof k[h]&&(a[h]instanceof Object&&k[h]instanceof
Object?this.inheritAttrs(a[h],k[h]):a[h]=k[h])},createMerge:function(a,k){var h={};a&&this.inheritAttrs(h,this.cloneObj(a));k&&this.inheritAttrs(h,k);return h},cloneObj:function(a){if(Object(a)!==a)return a;var k=new a.constructor,h;for(h in a)a.hasOwnProperty(h)&&(k[h]=this.cloneObj(a[h]));return k},addEvent:function(a,k,h){a.addEventListener?a.addEventListener(k,h,!1):a.attachEvent?a.attachEvent("on"+k,h):a["on"+k]=h},hasClass:function(a,k){return-1<(" "+a.className+" ").replace(/[\n\t]/g," ").indexOf(" "+
k+" ")}},n=function(){this.loading=[]};n.prototype={processNode:function(a){for(var k=a.nodeDOM.getElementsByTagName("img"),h=k.length;h--;)this.create(a,k[h])},removeAll:function(a){for(var k=this.loading.length;k--;)this.loading[k]===a&&this.loading.splice(k,1)},create:function(a,k){function h(){n.removeAll(g);a.width=a.nodeDOM.offsetWidth;a.height=a.nodeDOM.offsetHeight}var n=this,g=k.src;this.loading.push(g);if(k.complete)return h();f.addEvent(k,"load",h);f.addEvent(k,"error",h);k.src+="?"+(new Date).getTime()},
isNotLoading:function(){return 0===this.loading.length}};var h={store:[],createTree:function(a){this.store.push(new F(a,this.store.length));return this.store[this.store.length-1]},get:function(a){return this.store[a]},destroy:function(a){var k=this.get(a);if(k){k._R.remove();for(k=k.drawArea;k.firstChild;)k.removeChild(k.firstChild);for(var h=k.className.split(" "),f=[],g=0;g<h.length;g++){var n=h[g];"Treant"!=n&&"Treant-loaded"!=n&&f.push(n)}k.style.overflowY="";k.style.overflowX="";k.className=
f.join(" ");this.store[a]=null}}},F=function(a,k){this.id=k;this.imageLoader=new n;this.CONFIG=f.createMerge(F.CONFIG,a.chart);this.drawArea=document.getElementById(this.CONFIG.container.substring(1));this.drawArea.className+=" Treant";this.nodeDB=new u(a.nodeStructure,this);this.connectionStore={}};F.prototype={positionTree:function(a){var k=this;if(this.imageLoader.isNotLoading()){var h=this.root();this.resetLevelData();this.firstWalk(h,0);this.secondWalk(h,0,0,0);this.positionNodes();this.CONFIG.animateOnInit&&
setTimeout(function(){h.toggleCollapse()},this.CONFIG.animateOnInitDelay);this.loaded||(this.drawArea.className+=" Treant-loaded","[object Function]"===Object.prototype.toString.call(a)&&a(k),this.loaded=!0)}else setTimeout(function(){k.positionTree(a)},10)},firstWalk:function(a,k){a.prelim=null;a.modifier=null;this.setNeighbors(a,k);this.calcLevelDim(a,k);var h=a.leftSibling();if(0===a.childrenCount()||k==this.CONFIG.maxDepth)a.prelim=h?h.prelim+h.size()+this.CONFIG.siblingSeparation:0;else{for(var f=
0,g=a.childrenCount();f<g;f++)this.firstWalk(a.childAt(f),k+1);f=a.childrenCenter()-a.size()/2;h?(a.prelim=h.prelim+h.size()+this.CONFIG.siblingSeparation,a.modifier=a.prelim-f,this.apportion(a,k)):a.prelim=f;a.stackParent?a.modifier+=this.nodeDB.get(a.stackChildren[0]).size()/2+a.connStyle.stackIndent:a.stackParentId&&(a.prelim=0)}},apportion:function(a,k){for(var h=a.firstChild(),f=h.leftNeighbor(),g=1,n=this.CONFIG.maxDepth-k;h&&f&&g<=n;){for(var b=0,w=0,p=f,v=h,d=0;d<g;d++)p=p.parent(),v=v.parent(),
w+=p.modifier,b+=v.modifier,void 0!==v.stackParent&&(b+=v.size()/2);b=f.prelim+w+f.size()+this.CONFIG.subTeeSeparation-(h.prelim+b);if(0<b){v=a;for(w=0;v&&v.id!=p.id;)v=v.leftSibling(),w++;if(v)for(v=a,w=b/w;v.id!=p.id;)v.prelim+=b,v.modifier+=b,b-=w,v=v.leftSibling()}g++;(h=0===h.childrenCount()?a.leftMost(0,g):h.firstChild())&&(f=h.leftNeighbor())}},secondWalk:function(a,k,h,f){if(k<=this.CONFIG.maxDepth){var g=a.prelim+h,n=this.CONFIG.nodeAlign,b=this.CONFIG.rootOrientation,w,p;if("NORTH"==b||
"SOUTH"==b)w=this.levelMaxDim[k].height,p=a.height,a.pseudo&&(a.height=w);else if("WEST"==b||"EAST"==b)w=this.levelMaxDim[k].width,p=a.width,a.pseudo&&(a.width=w);a.X=g;if(a.pseudo)if("NORTH"==b||"WEST"==b)a.Y=f;else{if("SOUTH"==b||"EAST"==b)a.Y=f+(w-p)}else a.Y="CENTER"==n?f+(w-p)/2:"TOP"==n?f+(w-p):f;if("WEST"==b||"EAST"==b)g=a.X,a.X=a.Y,a.Y=g;"SOUTH"==b?a.Y=-a.Y-p:"EAST"==b&&(a.X=-a.X-p);0!==a.childrenCount()&&(0===a.id&&this.CONFIG.hideRootNode?this.secondWalk(a.firstChild(),k+1,h+a.modifier,
f):this.secondWalk(a.firstChild(),k+1,h+a.modifier,f+w+this.CONFIG.levelSeparation));a.rightSibling()&&this.secondWalk(a.rightSibling(),k,h,f)}},positionNodes:function(){var a=this.nodeDB.getMinMaxCoord("X",null,null),k=this.nodeDB.getMinMaxCoord("Y",null,null),h=a.max-a.min,f=k.max-k.min,g=this.drawArea.clientWidth/2-(a.max-h/2),n=this.drawArea.clientHeight/2-(k.max-f/2),a=0>=a.min+g?Math.abs(a.min):0,k=0>=k.min+n?Math.abs(k.min):0,b,w,p;this.handleOverflow(h,f);b=0;for(w=this.nodeDB.db.length;b<
w;b++)if(p=this.nodeDB.get(b),0!==p.id||!this.CONFIG.hideRootNode){p.X+=a+(h<this.drawArea.clientWidth?g:this.CONFIG.padding);p.Y+=k+(f<this.drawArea.clientHeight?n:this.CONFIG.padding);var v=p.collapsedParent(),d=null;v?(d=v.connectorPoint(!0),p.hide(d)):p.positioned?p.show():(p.nodeDOM.style.left=p.X+"px",p.nodeDOM.style.top=p.Y+"px",p.positioned=!0);0===p.id||0===p.parent().id&&this.CONFIG.hideRootNode?!this.CONFIG.hideRootNode&&p.drawLineThrough&&p.drawLineThroughMe():this.setConnectionToParent(p,
d)}},handleOverflow:function(a,k){var h=a<this.drawArea.clientWidth?this.drawArea.clientWidth:a+2*this.CONFIG.padding,f=k<this.drawArea.clientHeight?this.drawArea.clientHeight:k+2*this.CONFIG.padding;this._R?this._R.setSize(h,f):this._R=Raphael(this.drawArea,h,f);if("native"==this.CONFIG.scrollbar)this.drawArea.clientWidth<a&&(this.drawArea.style.overflowX="auto"),this.drawArea.clientHeight<k&&(this.drawArea.style.overflowY="auto");else if("fancy"==this.CONFIG.scrollbar){var g=$(this.drawArea);g.hasClass("ps-container")?
(g.find(".Treant").css({width:h,height:f}),g.perfectScrollbar("update")):(g=g.wrapInner('<div class="Treant"/>'),g.find(".Treant").css({width:h,height:f}),g.perfectScrollbar())}},setConnectionToParent:function(a,k){var h=a.stackParentId,f=h?this.nodeDB.get(h):a.parent(),g=k?this.getPointPathString(k):this.getPathString(f,a,h);this.connectionStore[a.id]?(h=this.connectionStore[a.id],this.animatePath(h,g)):(h=this._R.path(g),this.connectionStore[a.id]=h,a.pseudo&&delete f.connStyle.style["arrow-end"],
f.pseudo&&delete f.connStyle.style["arrow-start"],h.attr(f.connStyle.style),(a.drawLineThrough||a.pseudo)&&a.drawLineThroughMe(k))},getPointPathString:function(a){return["_M",a.x,",",a.y,"L",a.x,",",a.y,a.x,",",a.y].join(" ")},animatePath:function(a,k){a.hidden&&"_"!==k.charAt(0)&&(a.show(),a.hidden=!1);a.animate({path:"_"===k.charAt(0)?k.substring(1):k},this.CONFIG.animation.connectorsSpeed,this.CONFIG.animation.connectorsAnimation,function(){"_"===k.charAt(0)&&(a.hide(),a.hidden=!0)})},getPathString:function(a,
k,h){var f=a.connectorPoint(!0);k=k.connectorPoint(!1);var g=this.CONFIG.rootOrientation,n=a.connStyle.type,b,w,p,v;if("NORTH"==g||"SOUTH"==g)b=p=(f.y+k.y)/2,w=f.x,v=k.x;else if("EAST"==g||"WEST"==g)w=v=(f.x+k.x)/2,b=f.y,p=k.y;var d=f.x+","+f.y,l=w+","+b,e=v+","+p,u=k.x+","+k.y;b=(w+v)/2+","+(b+p)/2;var q;if(h)if(h="EAST"==g||"WEST"==g?k.x+","+f.y:f.x+","+k.y,"step"==n||"straight"==n)q=["M",d,"L",h,"L",u];else{if("curve"==n||"bCurve"==n){var x;a=a.connStyle.stackIndent;"NORTH"==g?x=k.x-a+","+(k.y-
a):"SOUTH"==g?x=k.x-a+","+(k.y+a):"EAST"==g?x=k.x+a+","+f.y:"WEST"==g&&(x=k.x-a+","+f.y);q=["M",d,"L",x,"S",h,u]}}else"step"==n?q=["M",d,"L",l,"L",e,"L",u]:"curve"==n?q=["M",d,"C",l,e,u]:"bCurve"==n?q=["M",d,"Q",l,b,"T",u]:"straight"==n&&(q=["M",d,"L",d,u]);return q.join(" ")},setNeighbors:function(a,k){a.leftNeighborId=this.lastNodeOnLevel[k];a.leftNeighborId&&(a.leftNeighbor().rightNeighborId=a.id);this.lastNodeOnLevel[k]=a.id},calcLevelDim:function(a,k){this.levelMaxDim[k]?(this.levelMaxDim[k].width<
a.width&&(this.levelMaxDim[k].width=a.width),this.levelMaxDim[k].height<a.height&&(this.levelMaxDim[k].height=a.height)):this.levelMaxDim[k]={width:a.width,height:a.height}},resetLevelData:function(){this.lastNodeOnLevel=[];this.levelMaxDim=[]},root:function(){return this.nodeDB.get(0)}};var u=function(a,k){function h(a,c){var b=n.createNode(a,c,k,null);if(a.children){b.children=[];if(a.childrenDropLevel&&0<a.childrenDropLevel)for(;a.childrenDropLevel--;){var u=f.cloneObj(b.connStyle),b=n.createNode("pseudo",
b.id,k,null);b.connStyle=u;b.children=[]}u=a.stackChildren&&!n.hasGrandChildren(a)?b.id:null;null!==u&&(b.stackChildren=[]);for(var p=0,v=a.children.length;p<v;p++)null!==u?(b=n.createNode(a.children[p],b.id,k,u),p+1<v&&(b.children=[])):h(a.children[p],b.id)}}this.db=[];var n=this;k.CONFIG.animateOnInit&&(a.collapsed=!0);h(a,-1);this.createGeometries(k)};u.prototype={createGeometries:function(a){for(var k=this.db.length;k--;)this.get(k).createGeometry(a)},get:function(a){return this.db[a]},createNode:function(a,
k,h,f){a=new B(a,this.db.length,k,h,f);this.db.push(a);0<=k&&this.get(k).children.push(a.id);f&&(this.get(f).stackParent=!0,this.get(f).stackChildren.push(a.id));return a},getMinMaxCoord:function(a,k,h){k=k||this.get(0);var f=k.childrenCount();for(h=h||{min:k[a],max:k[a]+("X"==a?k.width:k.height)};f--;){var g=k.childAt(f),n=g[a]+("X"==a?g.width:g.height),b=g[a];n>h.max&&(h.max=n);b<h.min&&(h.min=b);this.getMinMaxCoord(a,g,h)}return h},hasGrandChildren:function(a){for(var k=a.children.length;k--;)if(a.children[k].children)return!0}};
var B=function(a,k,h,n,g){this.id=k;this.parentId=h;this.treeId=n.id;this.modifier=this.prelim=0;this.stackParentId=g;this.pseudo="pseudo"===a||a.pseudo;this.image=a.image;this.link=f.createMerge(n.CONFIG.node.link,a.link);this.connStyle=f.createMerge(n.CONFIG.connectors,a.connectors);this.drawLineThrough=!1===a.drawLineThrough?!1:a.drawLineThrough||n.CONFIG.node.drawLineThrough;this.collapsable=!1===a.collapsable?!1:a.collapsable||n.CONFIG.node.collapsable;this.collapsed=a.collapsed;this.text=a.text;
this.nodeInnerHTML=a.innerHTML;this.nodeHTMLclass=(n.CONFIG.node.HTMLclass?n.CONFIG.node.HTMLclass:"")+(a.HTMLclass?" "+a.HTMLclass:"");this.nodeHTMLid=a.HTMLid};B.prototype={Tree:function(){return h.get(this.treeId)},dbGet:function(a){return this.Tree().nodeDB.get(a)},size:function(){var a=this.Tree().CONFIG.rootOrientation;if(this.pseudo)return-this.Tree().CONFIG.subTeeSeparation;if("NORTH"==a||"SOUTH"==a)return this.width;if("WEST"==a||"EAST"==a)return this.height},childrenCount:function(){return this.collapsed||
!this.children?0:this.children.length},childAt:function(a){return this.dbGet(this.children[a])},firstChild:function(){return this.childAt(0)},lastChild:function(){return this.childAt(this.children.length-1)},parent:function(){return this.dbGet(this.parentId)},leftNeighbor:function(){if(this.leftNeighborId)return this.dbGet(this.leftNeighborId)},rightNeighbor:function(){if(this.rightNeighborId)return this.dbGet(this.rightNeighborId)},leftSibling:function(){var a=this.leftNeighbor();if(a&&a.parentId==
this.parentId)return a},rightSibling:function(){var a=this.rightNeighbor();if(a&&a.parentId==this.parentId)return a},childrenCenter:function(a){a=this.firstChild();var k=this.lastChild();return a.prelim+(k.prelim-a.prelim+k.size())/2},collapsedParent:function(){var a=this.parent();return a?a.collapsed?a:a.collapsedParent():!1},leftMost:function(a,k){if(a>=k)return this;if(0!==this.childrenCount())for(var h=0,f=this.childrenCount();h<f;h++){var g=this.childAt(h).leftMost(a+1,k);if(g)return g}},connectorPoint:function(a){var k=
this.Tree().CONFIG.rootOrientation,h={};if(this.stackParentId)if("NORTH"==k||"SOUTH"==k)k="WEST";else if("EAST"==k||"WEST"==k)k="NORTH";"NORTH"==k?(h.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,h.y=a?this.Y+this.height:this.Y):"SOUTH"==k?(h.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,h.y=a?this.Y:this.Y+this.height):"EAST"==k?(h.x=a?this.X:this.X+this.width,h.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/
2):"WEST"==k&&(h.x=a?this.X+this.width:this.X,h.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2);return h},pathStringThrough:function(){var a=this.connectorPoint(!0),k=this.connectorPoint(!1);return["M",a.x+","+a.y,"L",k.x+","+k.y].join(" ")},drawLineThroughMe:function(a){var k=a?this.Tree().getPointPathString(a):this.pathStringThrough();this.lineThroughMe=this.lineThroughMe||this.Tree()._R.path(k);k=f.cloneObj(this.connStyle.style);delete k["arrow-start"];delete k["arrow-end"];
this.lineThroughMe.attr(k);a&&(this.lineThroughMe.hide(),this.lineThroughMe.hidden=!0)},addSwitchEvent:function(a){var k=this;f.addEvent(a,"click",function(a){a.preventDefault();k.toggleCollapse()})},toggleCollapse:function(){var a=this.Tree();a.inAnimation||(a.inAnimation=!0,(this.collapsed=!this.collapsed)?$(this.nodeDOM).addClass("collapsed"):$(this.nodeDOM).removeClass("collapsed"),a.positionTree(),setTimeout(function(){a.inAnimation=!1},a.CONFIG.animation.nodeSpeed>a.CONFIG.animation.connectorsSpeed?
a.CONFIG.animation.nodeSpeed:a.CONFIG.animation.connectorsSpeed))},hide:function(a){this.nodeDOM.style.overflow="hidden";var k=$(this.nodeDOM),h=this.Tree(),f=h.CONFIG,g={left:a.x,top:a.y};this.hidden||(g.width=g.height=0);this.startW&&this.startH||(this.startW=k.outerWidth(),this.startH=k.outerHeight());!this.positioned||this.hidden?(this.nodeDOM.style.visibility="hidden",k.css(g),this.positioned=!0):k.animate(g,f.animation.nodeSpeed,f.animation.nodeAnimation,function(){this.style.visibility="hidden"});
this.lineThroughMe&&(k=h.getPointPathString(a),this.hidden?this.lineThroughMe.attr({path:k}):h.animatePath(this.lineThroughMe,h.getPointPathString(a)));this.hidden=!0},show:function(){this.nodeDOM.style.visibility="visible";var a={left:this.X,top:this.Y},k=this.Tree(),h=k.CONFIG;this.hidden&&(a.width=this.startW,a.height=this.startH);$(this.nodeDOM).animate(a,h.animation.nodeSpeed,h.animation.nodeAnimation,function(){this.style.overflow=""});this.lineThroughMe&&k.animatePath(this.lineThroughMe,this.pathStringThrough());
this.hidden=!1}};B.prototype.createGeometry=function(a){if(0===this.id&&a.CONFIG.hideRootNode)this.height=this.width=0;else{var k=a.drawArea,h,f=this.link.href?document.createElement("a"):document.createElement("div");f.className=this.pseudo?"pseudo":B.CONFIG.nodeHTMLclass;this.nodeHTMLclass&&!this.pseudo&&(f.className+=" "+this.nodeHTMLclass);this.nodeHTMLid&&(f.id=this.nodeHTMLid);this.link.href&&(f.href=this.link.href,f.target=this.link.target);if(!this.pseudo){if(this.nodeInnerHTML)if("#"===this.nodeInnerHTML.charAt(0)){var g=
document.getElementById(this.nodeInnerHTML.substring(1));g?(f=g.cloneNode(!0),f.id+="-clone",f.className+=" node"):f.innerHTML="<b> Wrong ID selector </b>"}else f.innerHTML=this.nodeInnerHTML;else if(this.image&&(h=document.createElement("img"),h.src=this.image,f.appendChild(h)),this.text)for(g in this.text)B.CONFIG.textClass[g]&&(h=document.createElement(this.text[g].href?"a":"p"),this.text[g].href&&(h.href=this.text[g].href,this.text[g].target&&(h.target=this.text[g].target)),h.className=B.CONFIG.textClass[g],
h.appendChild(document.createTextNode(this.text[g].val?this.text[g].val:this.text[g]instanceof Object?"'val' param missing!":this.text[g])),f.appendChild(h));if(this.collapsed||this.collapsable&&this.childrenCount()&&!this.stackParentId)g=document.createElement("a"),g.className="collapse-switch",f.appendChild(g),this.addSwitchEvent(g),this.collapsed&&(f.className+=" collapsed")}k.appendChild(f);this.width=f.offsetWidth;this.height=f.offsetHeight;this.nodeDOM=f;a.imageLoader.processNode(this)}};F.CONFIG=
{maxDepth:100,rootOrientation:"NORTH",nodeAlign:"CENTER",levelSeparation:30,siblingSeparation:30,subTeeSeparation:30,hideRootNode:!1,animateOnInit:!1,animateOnInitDelay:500,padding:15,scrollbar:"native",connectors:{type:"curve",style:{stroke:"black"},stackIndent:15},node:{link:{target:"_self"}},animation:{nodeSpeed:450,nodeAnimation:"linear",connectorsSpeed:450,connectorsAnimation:"linear"}};B.CONFIG={nodeHTMLclass:"node",textClass:{name:"node-name",title:"node-title",desc:"node-desc",contact:"node-contact"}};
var x={make:function(a){var k=a.length,h;for(this.jsonStructure={chart:null,nodeStructure:null};k--;)h=a[k],h.hasOwnProperty("container")?this.jsonStructure.chart=h:h.hasOwnProperty("parent")||h.hasOwnProperty("container")||(this.jsonStructure.nodeStructure=h,h.myID=this.getID());this.findChildren(a);return this.jsonStructure},findChildren:function(a){for(var h=[0];h.length;){for(var f=h.pop(),n=this.findNode(this.jsonStructure.nodeStructure,f),g=0,u=a.length,b=[];g<u;g++){var w=a[g];w.parent&&w.parent.myID==
f&&(w.myID=this.getID(),delete w.parent,b.push(w),h.push(w.myID))}b.length&&(n.children=b)}},findNode:function(a,h){var f,n;if(a.myID===h)return a;if(a.children)for(f=a.children.length;f--;)if(n=this.findNode(a.children[f],h))return n},getID:function(){var a=0;return function(){return a++}}()},D=function(a,k){a instanceof Array&&(a=x.make(a));var f=h.createTree(a);f.positionTree(k);this.tree_id=f.id};D.prototype.destroy=function(){h.destroy(this.tree_id)};a.Treant=D})(f)},{}],35:[function(a,F,f){(function(A){var F,
n,h,K,u,B,x,D,c,k,r,t;n=a("lodash");F=a("./Treant").Treant;t=a("../../love-logic_new_project/proofs/proof");u=function(a,h){var b,k,f,r;null!=h?(a.id=h.id+".c"+h.children.indexOf(a),a.parent=h):a.id="r";a.addChild=function(b){b=c(b,a);b.id=this.id+".c"+this.children.length;b.depth=this.depth+1;b.parent=this;this.children.push(b);return b};a.addSib=function(a){return this.parent.addChild(a)};a.getSibs=function(){return null==this.parent?[this]:this.parent.children};a.clear=function(){this.children=
[];this.proofText="";this.displayEditable();return this};a.setProofText=function(a){this.proofText=a;this.displayEditable();return this};a.remove=function(){var a;a=this.parent.children.indexOf(this);this.parent.children.splice(a,1);return this.parent};a.walk=function(a){var b,c,g,h;h=this.children;c=0;for(g=h.length;c<g;c++)b=h[c],b.walk(a);return a(this)};a.setInnerHTML=function(a){this.walk(function(b){return b.innerHTML=a(b)});return this};a.getNodeLocator=function(){var a;a={};this.walk(function(b){return a[b.id]=
b});return a};a._getLinesAndNumbers=function(){var a,b,c,g,h,k,f,n,p;a=this.getFirstLineNumber();p=[];h=this.proofText.split("\n");c=b=0;for(g=h.length;b<g;c=++b)f=h[c],p.push({indentation:"|",number:a+c,text:f.trim()});g=this.children;b=[];f=0;for(c=g.length;f<c;f++)a=g[f],b.push(a._getLinesAndNumbers());c=0;for(h=b.length;c<h;c++)if(a=b[c],0<a.length){f=a[0];n=f.indentation;g=0;for(k=a.length;g<k;g++)f=a[g],f.indentation+="|",p.push(f);p.push({indentation:n,number:" ",text:""})}return p};a.toSequent=
function(){var a,b,c,g,h;g=this._getLinesAndNumbers();h="";a=0;for(c=g.length;a<c;a++)b=g[a],h+=b.number+" "+b.indentation+" "+b.text+"\n";return h.trim()};a.toProofObject=function(){var a;a=this.toSequent();return t.parse(a,{treeProof:!0})};a.getLastLineNumber=function(){var b,c;b=a.proofText.split("\n").length;if(null==a.parent)return b;var e,h,k,f;k=a.parent.getSibs();f=[];e=0;for(h=k.length;e<h;e++)c=k[e],f.push(c.getLastLineNumber());return n.max(f)+b};a.getFirstLineNumber=function(){var b;if(null==
a.parent)return 1;var c,e,h,k;h=a.parent.getSibs();k=[];c=0;for(e=h.length;c<e;c++)b=h[c],k.push(b.getLastLineNumber());return n.max(k)+1};a.toBareTreeProof=function(){var a,b=this.proofText,c=this.id,g=this.depth,h,k,f,n;f=this.children;n=[];h=0;for(k=f.length;h<k;h++)a=f[h],n.push(a.toBareTreeProof());return{proofText:b,id:c,depth:g,children:n}};a.verify=function(){var a,b;a=this.toProofObject();b=a.verifyTree();a=a.listErrorMessages();return{isCorrect:b,errorMessages:a}};a.convertToSymbols=function(){var a;
a=this.toSequent();a=t.parse(a,{treeProof:!0});if(n.isString(a))return a;a=K(a);a.container=this.container;a.onChange=this.onChange;return u(a)};a.displayEditable=function(b,c){var e,h,k;null==this.container&&(this.container=b);null==this.onChange&&(this.onChange=c);e=$(window).scrollLeft();h=$(window).scrollTop();this.resizeContainer(50,50);k=this;x(a,this.container,this.onChange,function(){k.resizeContainer();$(window).scrollLeft(e);return $(window).scrollTop(h)});return a};a.displayStatic=function(b){null==
this.container&&(this.container=b);this.resizeContainer(50,50);D(a,b);this.resizeContainer();return a};a.resizeContainer=function(a,b){var c;c=$("svg",this.container);null==a&&(a=c.width()+150);null==b&&(b=c.height()+50);c=$(this.container);c.height(b);return c.width(a)};a.areAllBranchesClosed=function(){return this.toProofObject().areAllBranchesClosed()};a.areAllBranchesClosedOrOpen=function(){return this.toProofObject().areAllBranchesClosedOrOpen()};a.getPremises=function(){return this.toProofObject().getPremises()};
r=a.children;k=0;for(f=r.length;k<f;k++)b=r[k],u(b,a);return a};f.decorateTreeProof=u;c=function(a,c){var b;b={proofText:a.trim(),depth:0,children:[]};return u(b,c)};f.makeTreeProof=c;B=function(a,c,b,h){$(c).html("");a=a.setInnerHTML(b);c=new F({chart:{container:c,nodeAlign:"BOTTOM",connectors:{type:"straight"}},nodeStructure:a},h);return A.theTreant=c};f.display=B;D=function(a,c){return B(a,c,k)};f.displayStatic=D;x=function(a,c,b,k,f){return B(a,c,r,function(){var f,d,l,e,n,p,r,t;p={theme:"blackboardTree",
smartIndent:!0,lineNumbers:!0,autofocus:!0,mode:"fol",matchBrackets:!0,tabSize:4,extraKeys:{Tab:function(a){return a.replaceSelection("    ")}}};n=a.getNodeLocator();r=$(c+" textarea");d=0;for(l=r.length;d<l;d++)t=r[d],f=$(t).attr("data-proofId"),e=n[f],p.firstLineNumber=e.getFirstLineNumber(),f=CodeMirror.fromTextArea(t,p),f.on("change",function(a){return function(c){c=c.getValue();a.proofText=c;return"function"===typeof b?b(a):void 0}}(e)),f.on("keyHandled",function(a,b,c){return function(b,c,d){if("Enter"===
c)return console.log("#treeAddChild"+a.id.replace(".","-")),$("#treeAddChild"+a.id.replace(".","-")).parent().animate({marginTop:"+=1em"})}}(e,a,c));$(".treeAddChild").click(function(a,b,c){return function(d){e=h($(d.target),c);e.addChild("").addSib("");return a.displayEditable(b)}}(a,c,n));$(".treeAddSib").click(function(a,b,c){return function(d){e=h($(d.target),c);e.addSib("");return a.displayEditable(b)}}(a,c,n));$(".treeRemoveNode").click(function(a,b,c){return function(d){e=h($(d.target),c);
e.remove();return a.displayEditable(b)}}(a,c,n));return"function"===typeof k?k():void 0})};f.displayEditable=x;h=function(a,c){var b;b=a.attr("data-proofId");null==b&&(b=a.parent().attr("data-proofId"));return c[b]};k=function(a){var c,b,h,k,f,d;c=a.proofText;a=a.getFirstLineNumber();f=[];d=c.split("\n");b=c=0;for(h=d.length;c<h;b=++c)k=d[b],f.push(a+b+".  "+k.trim());return"<div style='white-space:pre;margin-left:3em;'>"+f.join("<br>")};r=function(a){var c,b,h,k;h=a.proofText;c=null==a.children||
0===a.children.length;k=null!=(b=a.parent)?b.children:void 0;b=a===(null!=k?k[(null!=k?k.length:NaN)-1]:void 0);h="<div style='white-space:pre;margin-left:3em;width:250px;height:"+20*h.split("\n").length+"px;'><textarea data-proofId='"+a.id+"'>"+h+"</textarea></div>";c&&(h+="<div class='center' style='margin-left:3em;margin-top:2em;'><a id='treeAddChild"+a.id.replace(".","-")+"' class='treeAddChild hint--bottom' data-hint='branch' data-proofId='"+a.id+"' href='#'><i class='material-icons branch'>add_circle_outline</i></a></div>",
b&&(c="<a class='treeRemoveNode hint--bottom' data-hint='remove rightmost node' data-proofId='"+a.id+"' href='#'><i class='material-icons'>remove_circle_outline</i></a>",a="<a class='treeAddSib hint--bottom' data-hint='add a node' data-proofId='"+a.id+"' href='#'><i class='material-icons'>add_circle_outline</i></a>",h="<div style='width:300px;'><div style='float:right;'>"+c+a+"</div>"+h+"</div>"));return h};K=function(a){var c,b,h,k,f;k=a.detachChildren();a=k.childlessProof;b=k.children;h=a.removeBlankAndDividerLines().toString({treeProof:!0,
numberLines:!1});h=function(){var a,b,c,g;c=h.split("\n");g=[];a=0;for(b=c.length;a<b;a++)f=c[a],g.push(f.trim());return g}().join("\n");a={proofText:h,children:function(){var a,g,e;e=[];a=0;for(g=b.length;a<g;a++)c=b[a],e.push(K(c));return e}()};return u(a)};f.convertProofToTreeProof=K;f.fromSequent=function(a){return u(K(t.parse(a,{treeProof:!0})))}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../love-logic_new_project/proofs/proof":28,
"./Treant":34,lodash:36}],36:[function(a,F,f){(function(a){(function(){function H(a,b){a.set(b[0],b[1]);return a}function n(a,b){a.add(b);return a}function h(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function K(a,b,c,d){for(var e=-1,g=a.length;++e<g;){var h=a[e];b(d,h,c(h),a)}return d}function u(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}function B(a,
b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function x(a,b){for(var c=-1,d=a.length,e=-1,g=[];++c<d;){var h=a[c];b(h,c,a)&&(g[++e]=h)}return g}function D(a,b){return!!a.length&&-1<v(a,b,0)}function c(a,b,c){for(var d=-1,e=a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function k(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function r(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function t(a,b,c,d){var e=-1,g=a.length;for(d&&
g&&(c=a[++e]);++e<g;)c=b(c,a[e],e,a);return c}function g(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function z(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function b(a,b,c){for(var d=-1,e=a.length;++d<e;){var g=a[d],h=b(g);if(null!=h&&(k===y?h===h:c(h,k)))var k=h,l=g}return l}function w(a,b,c,d){var e;c(a,function(a,c,g){if(b(a,c,g))return e=d?c:a,!1});return e}function p(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;
return-1}function v(a,b,c){if(b!==b)return G(a,c);--c;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}function d(a,b,c,d,e){e(a,function(a,e,g){c=d?(d=!1,a):b(c,a,e,g)});return c}function l(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function e(a,b){for(var c,d=-1,e=a.length;++d<e;){var g=b(a[d]);g!==y&&(c=c===y?g:c+g)}return c}function I(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function q(a,b){return k(b,function(b){return[b,a[b]]})}function J(a){return function(b){return a(b)}}
function V(a,b){return k(b,function(b){return a[b]})}function Wb(a,b){for(var c=-1,d=a.length;++c<d&&-1<v(b,a[c],0););return c}function N(a,b){for(var c=a.length;c--&&-1<v(b,a[c],0););return c}function ja(a){return a&&a.Object===Object?a:null}function Lb(a,b){if(a!==b){var c=null===a,d=a===y,e=a===a,g=null===b,h=b===y,k=b===b;if(a>b&&!g||!e||c&&!h&&k||d&&k)return 1;if(a<b&&!c||!k||g&&!d&&e||h&&e)return-1}return 0}function Y(a){return db[a]}function M(a){return Lc[a]}function ma(a){return"\\"+$e[a]}
function G(a,b,c){var d=a.length;for(b+=c?0:-1;c?b--:++b<d;){var e=a[b];if(e!==e)return b}return-1}function E(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}function xb(a,b){a="number"==typeof a||Ye.test(a)?+a:-1;return-1<a&&0==a%1&&a<(null==b?9007199254740991:b)}function ob(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function bb(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}function Ib(a,b){for(var c=-1,d=a.length,
e=-1,g=[];++c<d;){var h=a[c];if(h===b||"__lodash_placeholder__"===h)a[c]="__lodash_placeholder__",g[++e]=c}return g}function qd(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function dc(a){if(!a||!qc.test(a))return a.length;for(var b=Aa.lastIndex=0;Aa.test(a);)b++;return b}function Df(a){return zb[a]}function He(a){function f(a){if(na(a)&&!U(a)&&!(a instanceof T)){if(a instanceof F)return a;if(ra.call(a,"__wrapped__"))return Dd(a)}return new F(a)}function A(){}function F(a,
b){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!b;this.__index__=0;this.__values__=y}function T(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function oa(){}function ja(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Ia(a){var b=-1,c=a?a.length:0;for(this.__data__=new ja;++b<c;)this.push(a[b])}function Da(a,b){var c=a.__data__;return Rb(b)?(c=
c.__data__,"__lodash_hash_undefined__"===("string"==typeof b?c.string:c.hash)[b]):c.has(b)}function tb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function db(a,b){var c=Oa(a,b);if(0>c)return!1;c==a.length-1?a.pop():ld.call(a,c,1);return!0}function sb(a,b){var c=Oa(a,b);return 0>c?y:a[c][1]}function Oa(a,b){for(var c=a.length;c--;)if(ca(a[c][0],b))return c;return-1}function zb(a,b,c){var d=Oa(a,b);0>d?a.push([b,c]):a[d][1]=c}function rb(a,b,c,d){return a===
y||ca(a,jc[c])&&!ra.call(d,c)?b:a}function uc(a,b,c){if(c!==y&&!ca(a[b],c)||"number"==typeof b&&c===y&&!(b in a))a[b]=c}function vc(a,b,c){var d=a[b];ra.call(a,b)&&ca(d,c)&&(c!==y||b in a)||(a[b]=c)}function Zb(a,b,c,d){wb(a,function(a,ea,e){b(d,a,c(a),e)});return d}function Yb(a,b){return a&&Pa(b,va(b),a)}function Ca(a,b){for(var c=-1,d=null==a,e=b.length,f=Array(e);++c<e;)f[c]=d?y:ac(a,b[c]);return f}function Oc(a){return ua(a)?a:[]}function Ab(a){return"function"==typeof a?a:Ea}function Bb(a){return U(a)?
a:zd(a)}function ub(a,b,c){a===a&&(c!==y&&(a=a<=c?a:c),b!==y&&(a=a>=b?a:b));return a}function Ra(a,b,c,d,e,f){var g;c&&(g=e?c(a,d,e,f):c(a));if(g!==y)return g;if(!pa(a))return a;if(d=U(a)){if(g=Nc(a),!b)return ha(a,g)}else{var h=Ua(a),k="[object Function]"==h||"[object GeneratorFunction]"==h;if(Of(a))return De(a,b);if("[object Object]"==h||"[object Arguments]"==h||k&&!e){if(E(a))return e?a:{};g=Ie(k?{}:a);if(!b)return Ld(a,Yb(g,a))}else{if(!aa[h])return e?a:{};g=Pd(a,h,b)}}f||(f=new tb);if(e=f.get(a))return e;
f.set(a,g);(d?u:Ta)(a,function(d,e){vc(g,e,Ra(d,b,c,e,a,f))});return d?g:Ld(a,g)}function Lc(a){var b=va(a),c=b.length;return function(d){if(null==d)return!c;for(var e=c;e--;){var f=b[e],g=a[f],h=d[f];if(h===y&&!(f in Object(d))||!g(h))return!1}return!0}}function Sb(a){return pa(a)?nf(a):{}}function ye(a,b,c){if("function"!=typeof a)throw new Wa("Expected a function");return kd(function(){a.apply(y,c)},b)}function kb(a,b,d,e){var f=-1,g=D,h=!0,l=a.length,m=[],n=b.length;if(!l)return m;d&&(b=k(b,J(d)));
e?(g=c,h=!1):200<=b.length&&(g=Da,h=!1,b=new Ia(b));a:for(;++f<l;){var p=a[f],q=d?d(p):p;if(h&&q===q){for(var r=n;r--;)if(b[r]===q)continue a;m.push(p)}else g(b,q,e)||m.push(p)}return m}function Qc(a,b){var c=!0;wb(a,function(a,ea,d){return c=!!b(a,ea,d)});return c}function Ad(a,b){var c=[];wb(a,function(a,ea,d){b(a,ea,d)&&c.push(a)});return c}function la(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];0<b&&ua(g)&&(c||U(g)||ta(g))?1<b?la(g,b-1,c,d):r(d,g):c||(d[d.length]=g)}return d}
function ze(a,b){return null==a?a:me(a,b,Fa)}function Ta(a,b){return a&&me(a,b,va)}function Sc(a,b){return a&&Se(a,b,va)}function wc(a,b){return x(b,function(b){return Ba(a[b])})}function Tc(a,b){b=mb(b,a)?[b+""]:Bb(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[b[c++]];return c&&c==d?a:y}function Wc(a,b){return ra.call(a,b)||"object"==typeof a&&b in a&&null===jd(a)}function Ae(a,b){return b in Object(a)}function Xc(a,b,d){for(var e=d?c:D,f=a.length,g=f,h=Array(f),l=[];g--;){var m=a[g];g&&b&&(m=k(m,
J(b)));h[g]=!d&&(b||120<=m.length)?new Ia(g&&m):y}var m=a[0],n=-1,p=m.length,q=h[0];a:for(;++n<p;){var r=m[n],t=b?b(r):r;if(q?!Da(q,t):!e(l,t,d)){for(g=f;--g;){var u=h[g];if(u?!Da(u,t):!e(a[g],t,d))continue a}q&&q.push(t);l.push(r)}}return l}function Be(a,b,c,d){Ta(a,function(a,ea,e){b(d,c(a),ea,e)});return d}function cc(a,b,c){mb(b,a)||(b=Bb(b),a=Hb(a,b),b=qa(b));b=null==a?a:a[b];return null==b?y:h(b,a,c)}function Cb(a,b,c,d,e){if(a===b)return!0;if(null==a||null==b||!pa(a)&&!na(b))return a!==a&&
b!==b;a:{var f=U(a),g=U(b),h="[object Array]",k="[object Array]";f||(h=Ua(a),"[object Arguments]"==h?h="[object Object]":"[object Object]"!=h&&(f=Qa(a)));g||(k=Ua(b),"[object Arguments]"==k?k="[object Object]":"[object Object]"!=k&&Qa(b));var l="[object Object]"==h&&!E(a),g="[object Object]"==k&&!E(b),k=h==k;if(!k||f||l){if(!(d&2)&&(h=l&&ra.call(a,"__wrapped__"),g=g&&ra.call(b,"__wrapped__"),h||g)){a=Cb(h?a.value():a,g?b.value():b,c,d,e);break a}k?(e||(e=new tb),a=(f?Sd:Ge)(a,b,Cb,c,d,e)):a=!1}else a=
ba(a,b,h,Cb,c,d)}return a}function Yc(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){var h=c[e],k=h[0],l=a[k],m=h[1];if(g&&h[2]){if(l===y&&!(k in a))return!1}else if(h=new tb,k=d?d(l,m,k,a,b,h):y,k===y?!Cb(m,l,d,3,h):!k)return!1}return!0}function Zc(a){var b=typeof a;return"function"==b?a:null==a?Ea:"object"==b?U(a)?Ed(a[0],a[1]):ad(a):Me(a)}function Bd(a){a=null==a?a:Object(a);var b=[],c;for(c in a)b.push(c);
return b}function Ce(a,b){var c=-1,d=Va(a)?Array(a.length):[];wb(a,function(a,ea,e){d[++c]=b(a,ea,e)});return d}function ad(a){var b=Ec(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==y||c in Object(a))}}return function(c){return c===a||Yc(c,a,b)}}function Ed(a,b){return function(c){var d=ac(c,a);return d===y&&d===b?oc(c,a):Cb(b,d,y,3)}}function $a(a,b,c,d,e){if(a!==b){var f=U(b)||Qa(b)?y:Fa(b);u(f||b,function(g,h){f&&(h=g,g=b[h]);if(pa(g)){e||
(e=new tb);var k=h,l=e,m=a[k],n=b[k],p=l.get(n);if(!p){var p=d?d(m,n,k+"",a,b,l):y,q=p===y;q&&(p=n,U(n)||Qa(n)?U(m)?p=m:ua(m)?p=ha(m):(q=!1,p=Ra(n,!0)):Pc(n)||ta(n)?ta(m)?p=Ke(m):!pa(m)||c&&Ba(m)?(q=!1,p=Ra(n,!0)):p=m:q=!1);l.set(n,p);q&&$a(p,n,c,d,l)}uc(a,k,p)}else k=d?d(a[h],g,h+"",a,b,e):y,k===y&&(k=g),uc(a,h,k)})}}function ve(a,b,c){var d=-1,e=P();b=k(b.length?b:Array(1),function(a){return e(a)});a=Ce(a,function(a,c,ea){return{criteria:k(b,function(b){return b(a)}),index:++d,value:a}});return l(a,
function(a,b){var ea;a:{ea=-1;for(var d=a.criteria,Xe=b.criteria,e=d.length,f=c.length;++ea<e;){var g=Lb(d[ea],Xe[ea]);if(g){if(ea>=f){ea=g;break a}ea=g*("desc"==c[ea]?-1:1);break a}}ea=a.index-b.index}return ea})}function xe(a,b){a=Object(a);return t(b,function(b,c){c in a&&(b[c]=a[c]);return b},{})}function we(a,b){var c={};ze(a,function(a,ea){b(a,ea)&&(c[ea]=a)});return c}function da(a){return function(b){return null==b?y:b[a]}}function Uc(a){return function(b){return Tc(b,a)}}function Pb(a,b,
c){var d=-1,e=b.length,f=a;for(c&&(f=k(a,function(a){return c(a)}));++d<e;)for(var g=0,h=b[d],h=c?c(h):h;-1<(g=v(f,h,g));)f!==a&&ld.call(f,g,1),ld.call(a,g,1);return a}function vd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(d==c||e!=f){var f=e;if(xb(e))ld.call(a,e,1);else if(mb(e,a))delete a[e];else{var e=Bb(e),g=Hb(a,e);null!=g&&delete g[qa(e)]}}}return a}function Fb(a,b){return a+nd(R()*(b-a+1))}function td(a,b,c,d){b=mb(b,a)?[b+""]:Bb(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<
f;){var k=b[e];if(pa(h)){var l=c;if(e!=g){var m=h[k],l=d?d(m,k,h):y;l===y&&(l=null==m?xb(b[e+1])?[]:{}:m)}vc(h,k,l)}h=h[k]}return a}function qb(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b);c=c>e?e:c;0>c&&(c+=e);e=b>c?0:c-b>>>0;b>>>=0;for(c=Array(e);++d<e;)c[d]=a[d+b];return c}function Ze(a,b){var c;wb(a,function(a,ea,d){c=b(a,ea,d);return!c});return!!c}function ec(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&2147483647>=e){for(;d<e;){var f=d+e>>>1,g=a[f];(c?g<=b:g<b)&&null!==g?d=
f+1:e=f}return e}return sa(a,b,Ea,c)}function sa(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,k=b===y;e<f;){var l=nd((e+f)/2),m=c(a[l]),n=m!==y,p=m===m;(g?p||d:h?p&&n&&(d||null!=m):k?p&&(d||n):null==m?0:d?m<=b:m<b)?e=l+1:f=l}return Xa(f,4294967294)}function pb(a,b){for(var c=0,d=a.length,e=a[0],f=b?b(e):e,g=f,h=0,k=[e];++c<d;)e=a[c],f=b?b(e):e,ca(f,g)||(g=f,k[++h]=e);return k}function Q(a,b,d){var e=-1,f=D,g=a.length,h=!0,k=[],l=k;if(d)h=!1,f=c;else if(200<=g){if(f=b?null:vf(a))return qd(f);
h=!1;f=Da;l=new Ia}else l=b?[]:k;a:for(;++e<g;){var m=a[e],n=b?b(m):m;if(h&&n===n){for(var p=l.length;p--;)if(l[p]===n)continue a;b&&l.push(n);k.push(m)}else f(l,n,d)||(l!==k&&l.push(n),k.push(m))}return k}function ib(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?qb(a,d?0:f,d?f+1:e):qb(a,d?f+1:0,d?e:f)}function Vc(a,b){var c=a;c instanceof T&&(c=c.value());return t(b,function(a,b){return b.func.apply(b.thisArg,r([a],b.args))},c)}function Sa(a,b,c){for(var d=-1,e=a.length;++d<
e;)var f=f?r(kb(f,a[d],b,c),kb(a[d],f,b,c)):a[d];return f&&f.length?Q(f,b,c):[]}function Hd(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;)c(g,a[d],d<f?b[d]:y);return g}function De(a,b){if(b)return a.slice();var c=new a.constructor(a.length);a.copy(c);return c}function Jd(a){var b=new a.constructor(a.byteLength);(new id(b)).set(new id(a));return b}function Kd(a,b,c,d){var e=-1,f=a.length,g=c.length,h=-1,k=b.length,l=za(f-g,0),m=Array(k+l);for(d=!d;++h<k;)m[h]=b[h];for(;++e<g;)if(d||e<f)m[c[e]]=
a[e];for(;l--;)m[h++]=a[e++];return m}function Rc(a,b,c,d){var e=-1,f=a.length,g=-1,h=c.length,k=-1,l=b.length,m=za(f-h,0),n=Array(m+l);for(d=!d;++e<m;)n[e]=a[e];for(m=e;++k<l;)n[m+k]=b[k];for(;++g<h;)if(d||e<f)n[m+c[g]]=a[e++];return n}function ha(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function Pa(a,b,c){return Kc(a,b,c)}function Kc(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=d?d(c[g],a[g],g,c,a):a[g];vc(c,g,h)}return c}function Ld(a,b){return Pa(a,
Ue(a),b)}function Ac(a,b){return function(c,d){var e=U(c)?K:Zb,f=b?b():{};return e(c,a,P(d),f)}}function Tb(a){return O(function(b,c){var d=-1,e=c.length,f=1<e?c[e-1]:y,g=2<e?c[2]:y,f="function"==typeof f?(e--,f):y;g&&ab(c[0],c[1],g)&&(f=3>e?y:f,e=1);for(b=Object(b);++d<e;)(g=c[d])&&a(b,g,d,f);return b})}function bd(a,b){return function(c,d){if(null==c)return c;if(!Va(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function $b(a){return function(b,
c,d){var e=-1,f=Object(b);d=d(b);for(var g=d.length;g--;){var h=d[a?g:++e];if(!1===c(f[h],h,f))break}return b}}function Ee(a,b,c){function d(){return(this&&this!==Za&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=b&1,f=fc(a);return d}function Md(a){return function(b){b=X(b);var c=qc.test(b)?b.match(Aa):y,d=c?c[0]:b.charAt(0);b=c?c.slice(1).join(""):b.slice(1);return d[a]()+b}}function Jb(a){return function(b){return t(Fd(Mc(b)),a,"")}}function fc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;
case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Sb(a.prototype),b=a.apply(c,b);return pa(b)?b:c}}function Fe(a,b,c){function d(){for(var f=arguments.length,g=Array(f),k=f,l=Z(d);k--;)g[k]=arguments[k];k=3>f&&g[0]!==l&&g[f-1]!==l?[]:Ib(g,l);f-=k.length;return f<
c?Rd(a,b,gc,d.placeholder,y,g,k,y,y,c-f):h(this&&this!==Za&&this instanceof d?e:a,this,g)}var e=fc(a);return d}function Nd(a){return O(function(b){b=la(b,1);var c=b.length,d=c,e=F.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new Wa("Expected a function");if(e&&!g&&"wrapper"==Na(f))var g=new F([],!0)}for(d=g?d:c;++d<c;)var f=b[d],e=Na(f),h="wrapper"==e?ne(f):y,g=h&&Fc(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?g[Na(h[0])].apply(g,h[3]):1==f.length&&Fc(f)?g[e]():g.thru(f);
return function(){var a=arguments,d=a[0];if(g&&1==a.length&&U(d)&&200<=d.length)return g.plant(d).value();for(var ea=0,a=c?b[ea].apply(this,a):d;++ea<c;)a=b[ea].call(this,a);return a}})}function gc(a,b,c,d,e,f,g,h,k,l){function m(){for(var v=arguments.length,x=v,w=Array(v);x--;)w[x]=arguments[x];if(r){var z=Z(m),A,x=w.length;for(A=0;x--;)w[x]===z&&A++}d&&(w=Kd(w,d,e,r));f&&(w=Rc(w,f,g,r));v-=A;if(r&&v<l)return z=Ib(w,z),Rd(a,b,gc,m.placeholder,c,w,z,h,k,l-v);z=p?c:this;x=q?z[a]:a;v=w.length;if(h){A=
w.length;for(var B=Xa(h.length,A),C=ha(w);B--;){var D=h[B];w[B]=xb(D,A)?C[D]:y}}else t&&1<v&&w.reverse();n&&k<v&&(w.length=k);this&&this!==Za&&this instanceof m&&(x=u||fc(x));return x.apply(z,w)}var n=b&128,p=b&1,q=b&2,r=b&24,t=b&512,u=q?y:fc(a);return m}function Od(a,b){return function(c,d){return Be(c,a,b(d),{})}}function Bc(a){return O(function(b){b=k(la(b,1),P());return O(function(c){var d=this;return a(b,function(a){return h(a,d,c)})})})}function hc(a,b,c){b=S(b);a=dc(a);if(!b||a>=b)return"";
b-=a;c=c===y?" ":c+"";a=ud(c,md(b/dc(c)));return qc.test(c)?a.match(Aa).slice(0,b).join(""):a.slice(0,b)}function Qd(a,b,c,d){function e(){for(var b=-1,Xe=arguments.length,k=-1,l=d.length,m=Array(l+Xe),n=this&&this!==Za&&this instanceof e?g:a;++k<l;)m[k]=d[k];for(;Xe--;)m[k++]=arguments[++b];return h(n,f?c:this,m)}var f=b&1,g=fc(a);return e}function Cc(a){return function(b,c,d){d&&"number"!=typeof d&&ab(b,c,d)&&(c=d=y);b=W(b);b=b===b?b:0;c===y?(c=b,b=0):c=W(c)||0;d=d===y?b<c?1:-1:W(d)||0;var e=-1;
c=za(md((c-b)/(d||1)),0);for(var f=Array(c);c--;)f[a?c:++e]=b,b+=d;return f}}function Rd(a,b,c,d,e,f,g,h,k,l){var m=b&8;h=h?ha(h):y;var n=m?g:y;g=m?y:g;var p=m?f:y;f=m?y:f;b=(b|(m?32:64))&~(m?64:32);b&4||(b&=-4);b=[a,b,e,p,n,f,g,h,k,l];c=c.apply(y,b);Fc(a)&&Ve(c,b);c.placeholder=d;return c}function cd(a){var b=ic[a];return function(a,c){a=W(a);if(c=S(c)){var d=(X(a)+"e").split("e"),d=b(d[0]+"e"+(+d[1]+c)),d=(X(d)+"e").split("e");return+(d[0]+"e"+(+d[1]-c))}return b(a)}}function nb(a,b,c,d,e,f,g,h){var k=
b&2;if(!k&&"function"!=typeof a)throw new Wa("Expected a function");var l=d?d.length:0;l||(b&=-97,d=e=y);g=g===y?g:za(S(g),0);h=h===y?h:S(h);l-=e?e.length:0;if(b&64){var m=d,n=e;d=e=y}var p=k?y:ne(a);f=[a,b,c,d,e,m,n,f,g,h];if(p&&(c=f[1],a=p[1],b=c|a,d=128==a&&8==c||128==a&&256==c&&f[7].length<=p[8]||384==a&&p[7].length<=p[8]&&8==c,131>b||d)){a&1&&(f[2]=p[2],b|=c&1?0:4);if(c=p[3])d=f[3],f[3]=d?Kd(d,c,p[4]):ha(c),f[4]=d?Ib(f[3],"__lodash_placeholder__"):ha(p[4]);if(c=p[5])d=f[5],f[5]=d?Rc(d,c,p[6]):
ha(c),f[6]=d?Ib(f[5],"__lodash_placeholder__"):ha(p[6]);(c=p[7])&&(f[7]=ha(c));a&128&&(f[8]=null==f[8]?p[8]:Xa(f[8],p[8]));null==f[9]&&(f[9]=p[9]);f[0]=p[0];f[1]=b}a=f[0];b=f[1];c=f[2];d=f[3];e=f[4];h=f[9]=null==f[9]?k?0:a.length:za(f[9]-l,0);!h&&b&24&&(b&=-25);k=b&&1!=b?8==b||16==b?Fe(a,b,h):32!=b&&33!=b||e.length?gc.apply(y,f):Qd(a,b,c,d):Ee(a,b,c);return(p?Te:Ve)(k,f)}function Sd(a,b,c,d,e,f){var g=-1,h=e&2,k=e&1,l=a.length,m=b.length;if(l!=m&&!(h&&m>l))return!1;if(m=f.get(a))return m==b;m=!0;
for(f.set(a,b);++g<l;){var n=a[g],p=b[g];if(d)var q=h?d(p,n,g,b,a,f):d(n,p,g,a,b,f);if(q!==y){if(q)continue;m=!1;break}if(k){if(!z(b,function(a){return n===a||c(n,a,d,e,f)})){m=!1;break}}else if(n!==p&&!c(n,p,d,e,f)){m=!1;break}}f["delete"](a);return m}function ba(a,b,c,d,e,f){switch(c){case "[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!d(new id(a),new id(b)))break;return!0;case "[object Boolean]":case "[object Date]":return+a==+b;case "[object Error]":return a.name==b.name&&a.message==b.message;
case "[object Number]":return a!=+a?b!=+b:a==+b;case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var g=bb;case "[object Set]":return g||(g=qd),(f&2||a.size==b.size)&&d(g(a),g(b),e,f|1);case "[object Symbol]":return!!vb&&wa.call(a)==wa.call(b)}return!1}function Ge(a,b,c,d,e,f){var g=e&2,h=va(a),k=h.length,l=va(b).length;if(k!=l&&!g)return!1;for(var m=k;m--;){var n=h[m];if(!(g?n in b:Wc(b,n)))return!1}if(l=f.get(a))return l==b;l=!0;f.set(a,b);for(var p=g;++m<k;){var n=
h[m],q=a[n],r=b[n];if(d)var t=g?d(r,q,n,b,a,f):d(q,r,n,a,b,f);if(t===y?q!==r&&!c(q,r,d,e,f):!t){l=!1;break}p||(p="constructor"==n)}l&&!p&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(l=!1));f["delete"](a);return l}function Na(a){for(var b=a.name+"",c=Jc[b],d=ra.call(Jc,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function P(){var a=f.iteratee||$c,a=a===
$c?Zc:a;return arguments.length?a(arguments[0],arguments[1]):a}function Ec(a){a=bc(a);for(var b=a.length;b--;){var c=a[b],d;d=a[b][1];d=d===d&&!pa(d);c[2]=d}return a}function gb(a,b){var c=null==a?y:a[b];return tc(c)?c:y}function Z(a){return(ra.call(f,"placeholder")?f:a).placeholder}function Ua(a){return Ga.call(a)}function Td(a,b,c){if(null==a)return!1;var d=c(a,b);d||mb(b)||(b=Bb(b),a=Hb(a,b),null!=a&&(b=qa(b),d=c(a,b)));c=a?a.length:y;return d||!!c&&yc(c)&&xb(b,c)&&(U(a)||lb(a)||ta(a))}function Nc(a){var b=
a.length,c=a.constructor(b);b&&"string"==typeof a[0]&&ra.call(a,"index")&&(c.index=a.index,c.input=a.input);return c}function Ie(a){return Ba(a.constructor)&&!fb(a)?Sb(jd(a)):{}}function Pd(a,b,c){var d=a.constructor;switch(b){case "[object ArrayBuffer]":return Jd(a);case "[object Boolean]":case "[object Date]":return new d(+a);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return b=
a.buffer,c=c?Jd(b):b,new a.constructor(c,a.byteOffset,a.length);case "[object Map]":return c=a.constructor,t(bb(a),H,new c);case "[object Number]":case "[object String]":return new d(a);case "[object RegExp]":return c=new a.constructor(a.source,Gf.exec(a)),c.lastIndex=a.lastIndex,c;case "[object Set]":return c=a.constructor,t(qd(a),n,new c);case "[object Symbol]":return vb?Object(wa.call(a)):{}}}function Qb(a){var b=a?a.length:y;return yc(b)&&(U(a)||lb(a)||ta(a))?I(b,String):null}function ab(a,b,
c){if(!pa(c))return!1;var d=typeof b;return("number"==d?Va(c)&&xb(b,c.length):"string"==d&&b in c)?ca(c[b],a):!1}function mb(a,b){return"number"==typeof a?!0:!U(a)&&(nc.test(a)||!ya.test(a)||null!=b&&a in Object(b))}function Rb(a){var b=typeof a;return"number"==b||"boolean"==b||"string"==b&&"__proto__"!=a||null==a}function Fc(a){var b=Na(a),c=f[b];if("function"!=typeof c||!(b in T.prototype))return!1;if(a===c)return!0;b=ne(c);return!!b&&a===b[0]}function fb(a){var b=a&&a.constructor,b=Ba(b)&&b.prototype||
jc;return a===b}function Gd(a,b,c,d,e,f){pa(a)&&pa(b)&&(f.set(b,a),$a(a,b,y,Gd,f));return a}function Hb(a,b){return 1==b.length?a:ac(a,qb(b,0,-1))}function zd(a){var b=[];X(a).replace(yb,function(a,c,d,e){b.push(d?e.replace(Uf,"$1"):c||a)});return b}function Dd(a){if(a instanceof T)return a.clone();var b=new F(a.__wrapped__,a.__chain__);b.__actions__=ha(a.__actions__);b.__index__=a.__index__;b.__values__=a.__values__;return b}function Ud(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===y?1:S(b);
return qb(a,0>b?0:b,d)}function yd(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===y?1:S(b);b=d-b;return qb(a,0,0>b?0:b)}function zc(a){return a?a[0]:y}function qa(a){var b=a?a.length:0;return b?a[b-1]:y}function Vd(a,b){return a&&a.length&&b&&b.length?Pb(a,b):a}function Gc(a){return a?Id.call(a):a}function ed(a){if(!a||!a.length)return[];var b=0;a=x(a,function(a){if(ua(a))return b=za(a.length,b),!0});return I(b,function(b){return k(a,da(b))})}function sc(a,b){if(!a||!a.length)return[];var c=ed(a);
return null==b?c:k(c,function(a){return h(b,y,a)})}function fa(a){a=f(a);a.__chain__=!0;return a}function Hc(a,b){return b(a)}function jf(){return this}function Wd(a,b){return"function"==typeof b&&U(a)?u(a,b):wb(a,Ab(b))}function Eb(a,b){var c;if("function"==typeof b&&U(a)){for(c=a.length;c--&&!1!==b(a[c],c,a););c=a}else c=le(a,Ab(b));return c}function Xd(a,b){return(U(a)?k:Ce)(a,P(b,3))}function Gb(a,b){var c=-1,d=Db(a),e=d.length,f=e-1;for(b=ub(S(b),0,e);++c<b;){var e=Fb(c,f),g=d[e];d[e]=d[c];d[c]=
g}d.length=b;return d}function fd(a,b,c){b=c?y:b;b=a&&null==b?a.length:b;return nb(a,128,y,y,y,y,b)}function Yd(a,b){var c;if("function"!=typeof b)throw new Wa("Expected a function");a=S(a);return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=y);return c}}function La(a,b,c){b=c?y:b;a=nb(a,8,y,y,y,y,y,b);a.placeholder=La.placeholder;return a}function Zd(a,b,c){b=c?y:b;a=nb(a,16,y,y,y,y,y,b);a.placeholder=Zd.placeholder;return a}function gd(a,b,c){function d(){q&&Ub(q);l&&Ub(l);t=0;k=l=p=q=
r=y}function e(b,c){c&&Ub(c);l=q=r=y;b&&(t=Cd(),m=a.apply(p,k),q||l||(k=p=y))}function f(){var a=b-(Cd()-n);0>=a||a>b?e(r,l):q=kd(f,a)}function g(){e(w,q)}function h(){k=arguments;n=Cd();p=this;r=w&&(q||!u);if(!1===v)var c=u&&!q;else{t||l||u||(t=n);var d=v-(n-t),e=(0>=d||d>v)&&(u||l);e?(l&&(l=Ub(l)),t=n,m=a.apply(p,k)):l||(l=kd(g,d))}e&&q?q=Ub(q):q||b===v||(q=kd(f,b));c&&(e=!0,m=a.apply(p,k));!e||q||l||(k=p=y);return m}var k,l,m,n,p,q,r,t=0,u=!1,v=!1,w=!0;if("function"!=typeof a)throw new Wa("Expected a function");
b=W(b)||0;pa(c)&&(u=!!c.leading,v="maxWait"in c&&za(W(c.maxWait)||0,b),w="trailing"in c?!!c.trailing:w);h.cancel=d;h.flush=function(){if(q&&r||l&&w)m=a.apply(p,k);d();return m};return h}function $d(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Wa("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);c.cache=f.set(e,d);return d};c.cache=new $d.Cache;return c}function O(a,b){if("function"!=typeof a)throw new Wa("Expected a function");
b=za(b===y?a.length-1:S(b),0);return function(){for(var c=arguments,d=-1,e=za(c.length-b,0),f=Array(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}e=Array(b+1);for(d=-1;++d<b;)e[d]=c[d];e[b]=f;return h(a,this,e)}}function ca(a,b){return a===b||a!==a&&b!==b}function ae(a,b){return a>b}function ta(a){return ua(a)&&ra.call(a,"callee")&&(!je.call(a,"callee")||"[object Arguments]"==Ga.call(a))}function Va(a){return null!=
a&&!("function"==typeof a&&Ba(a))&&yc(wf(a))}function ua(a){return na(a)&&Va(a)}function xd(a){return na(a)?"[object Error]"==Ga.call(a)||"string"==typeof a.message&&"string"==typeof a.name:!1}function Ba(a){a=pa(a)?Ga.call(a):"";return"[object Function]"==a||"[object GeneratorFunction]"==a}function Je(a){return"number"==typeof a&&a==S(a)}function yc(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function pa(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function na(a){return!!a&&
"object"==typeof a}function tc(a){return null==a?!1:Ba(a)?he.test(Mb.call(a)):na(a)&&(E(a)?he:Zf).test(a)}function wd(a){return"number"==typeof a||na(a)&&"[object Number]"==Ga.call(a)}function Pc(a){if(!na(a)||"[object Object]"!=Ga.call(a)||E(a))return!1;a=jd(a);if(null===a)return!0;a=a.constructor;return"function"==typeof a&&a instanceof a&&Mb.call(a)==ge}function be(a){return pa(a)&&"[object RegExp]"==Ga.call(a)}function lb(a){return"string"==typeof a||!U(a)&&na(a)&&"[object String]"==Ga.call(a)}
function pc(a){return"symbol"==typeof a||na(a)&&"[object Symbol]"==Ga.call(a)}function Qa(a){return na(a)&&yc(a.length)&&!!ga[Ga.call(a)]}function ce(a,b){return a<b}function Db(a){if(!a)return[];if(Va(a))return lb(a)?a.match(Aa):ha(a);if(Nb&&a[Nb])return ob(a[Nb]());var b=Ua(a);return("[object Map]"==b?bb:"[object Set]"==b?qd:Ha)(a)}function S(a){if(!a)return 0===a?a:0;a=W(a);if(a===dd||a===-dd)return 1.7976931348623157E308*(0>a?-1:1);var b=a%1;return a===a?b?a-b:a:0}function xa(a){return a?ub(S(a),
0,4294967295):0}function W(a){pa(a)&&(a=Ba(a.valueOf)?a.valueOf():a,a=pa(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(mc,"");var b=Yf.test(a);return b||$f.test(a)?ue(a.slice(2),b?2:8):Xf.test(a)?pd:+a}function Ke(a){return Pa(a,Fa(a))}function X(a){if("string"==typeof a)return a;if(null==a)return"";if(pc(a))return vb?uf.call(a):"";var b=a+"";return"0"==b&&1/a==-dd?"-0":b}function ac(a,b,c){a=null==a?y:Tc(a,b);return a===y?c:a}function Le(a,b){return Td(a,b,Wc)}function oc(a,b){return Td(a,
b,Ae)}function va(a){var b=fb(a);if(!b&&!Va(a))return pf(Object(a));var c=Qb(a),d=!!c,c=c||[],e=c.length,f;for(f in a)!Wc(a,f)||d&&("length"==f||xb(f,e))||b&&"constructor"==f||c.push(f);return c}function Fa(a){for(var b=-1,c=fb(a),d=Bd(a),e=d.length,f=Qb(a),g=!!f,f=f||[],h=f.length;++b<e;){var k=d[b];g&&("length"==k||xb(k,h))||"constructor"==k&&(c||!ra.call(a,k))||f.push(k)}return f}function bc(a){return q(a,va(a))}function Ha(a){return a?V(a,va(a)):[]}function Ic(a){return Pf(X(a).toLowerCase())}
function Mc(a){return(a=X(a))&&a.replace(ag,Y).replace(eg,"")}function ud(a,b){a=X(a);b=S(b);var c="";if(!a||1>b||9007199254740991<b)return c;do b%2&&(c+=a),b=nd(b/2),a+=a;while(b);return c}function Fd(a,b,c){a=X(a);b=c?y:b;b===y&&(b=rd.test(a)?re:fg);return a.match(b)||[]}function xc(a){return function(){return a}}function Ea(a){return a}function $c(a){return Zc("function"==typeof a?a:Ra(a,!0))}function de(a,b,c){var d=va(b),e=wc(b,d);null!=c||pa(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=wc(b,
va(b)));var f=pa(c)&&"chain"in c?c.chain:!0,g=Ba(a);u(e,function(c){var d=b[c];a[c]=d;g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);(c.__actions__=ha(this.__actions__)).push({func:d,args:arguments,thisArg:a});c.__chain__=b;return c}return d.apply(a,r([this.value()],arguments))})});return a}function ee(){}function Me(a){return mb(a)?da(a):Uc(a)}function Ne(a){return a&&a.length?e(a,Ea):0}a=a?hb.defaults({},a,hb.pick(Za,rc)):Za;var kf=a.Date,lf=a.Error,ic=a.Math,
fe=a.RegExp,Wa=a.TypeError,hd=a.Array.prototype,jc=a.Object.prototype,Mb=a.Function.prototype.toString,ra=jc.hasOwnProperty,mf=0,ge=Mb.call(Object),Ga=jc.toString,Oe=Za._,he=fe("^"+Mb.call(ra).replace(Ja,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=eb?a.Buffer:y,Qe=a.Reflect,vb=a.Symbol,id=a.Uint8Array,Ub=a.clearTimeout,ie=Qe?Qe.enumerate:y,jd=Object.getPrototypeOf,Dc=Object.getOwnPropertySymbols,Nb="symbol"==typeof(Nb=vb&&vb.iterator)?Nb:y,nf=Object.create,
je=jc.propertyIsEnumerable,kd=a.setTimeout,ld=hd.splice,md=ic.ceil,nd=ic.floor,of=a.isFinite,ke=hd.join,pf=Object.keys,za=ic.max,Xa=ic.min,qf=a.parseInt,R=ic.random,Id=hd.reverse,Ya=gb(a,"Map"),Vb=gb(a,"Set"),kc=gb(a,"WeakMap"),lc=gb(Object,"create"),od=kc&&new kc,rf=Ya?Mb.call(Ya):"",sf=Vb?Mb.call(Vb):"",tf=kc?Mb.call(kc):"",Re=vb?vb.prototype:y,wa=vb?Re.valueOf:y,uf=vb?Re.toString:y,Jc={};f.templateSettings={escape:Ka,evaluate:Xb,interpolate:Ma,variable:"",imports:{_:f}};var wb=bd(Ta),le=bd(Sc,
!0),me=$b(),Se=$b(!0);ie&&!je.call({valueOf:1},"valueOf")&&(Bd=function(a){return ob(ie(a))});var Te=od?function(a,b){od.set(a,b);return a}:Ea,vf=Vb&&2===(new Vb([1,2])).size?function(a){return new Vb(a)}:ee,ne=od?function(a){return od.get(a)}:ee,wf=da("length"),Ue=Dc||function(){return[]};if(Ya&&"[object Map]"!=Ua(new Ya)||Vb&&"[object Set]"!=Ua(new Vb)||kc&&"[object WeakMap]"!=Ua(new kc))Ua=function(a){var b=Ga.call(a);a="[object Object]"==b?a.constructor:null;if(a="function"==typeof a?Mb.call(a):
"")switch(a){case rf:return"[object Map]";case sf:return"[object Set]";case tf:return"[object WeakMap]"}return b};var Ve=function(){var a=0,b=0;return function(c,d){var e=Cd(),f=16-(e-b);b=e;if(0<f){if(150<=++a)return c}else a=0;return Te(c,d)}}(),xf=O(function(a,b){U(a)||(a=null==a?[]:[Object(a)]);b=la(b,1);for(var c=a,d=b,e=-1,f=c.length,g=-1,h=d.length,k=Array(f+h);++e<f;)k[e]=c[e];for(;++g<h;)k[e++]=d[g];return k}),yf=O(function(a,b){return ua(a)?kb(a,la(b,1,!0)):[]}),zf=O(function(a,b){var c=
qa(b);ua(c)&&(c=y);return ua(a)?kb(a,la(b,1,!0),P(c)):[]}),Af=O(function(a,b){var c=qa(b);ua(c)&&(c=y);return ua(a)?kb(a,la(b,1,!0),y,c):[]}),Bf=O(function(a){var b=k(a,Oc);return b.length&&b[0]===a[0]?Xc(b):[]}),Cf=O(function(a){var b=qa(a),c=k(a,Oc);b===qa(c)?b=y:c.pop();return c.length&&c[0]===a[0]?Xc(c,P(b)):[]}),m=O(function(a){var b=qa(a),c=k(a,Oc);b===qa(c)?b=y:c.pop();return c.length&&c[0]===a[0]?Xc(c,y,b):[]}),C=O(Vd),cb=O(function(a,b){b=k(la(b,1),String);var c=Ca(a,b);vd(a,b.sort(Lb));
return c}),Ye=O(function(a){return Q(la(a,1,!0))}),$e=O(function(a){var b=qa(a);ua(b)&&(b=y);return Q(la(a,1,!0),P(b))}),cg=O(function(a){var b=qa(a);ua(b)&&(b=y);return Q(la(a,1,!0),y,b)}),dg=O(function(a,b){return ua(a)?kb(a,b):[]}),gg=O(function(a){return Sa(x(a,ua))}),hg=O(function(a){var b=qa(a);ua(b)&&(b=y);return Sa(x(a,ua),P(b))}),ig=O(function(a){var b=qa(a);ua(b)&&(b=y);return Sa(x(a,ua),y,b)}),jg=O(ed),kg=O(function(a){var b=a.length,b=1<b?a[b-1]:y,b="function"==typeof b?(a.pop(),b):y;
return sc(a,b)}),lg=O(function(a){a=la(a,1);var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return Ca(b,a)};if(1<b||this.__actions__.length||!(d instanceof T)||!xb(c))return this.thru(e);d=d.slice(c,+c+(b?1:0));d.__actions__.push({func:Hc,args:[e],thisArg:y});return(new F(d,this.__chain__)).thru(function(a){b&&!a.length&&a.push(y);return a})}),mg=Ac(function(a,b,c){ra.call(a,c)?++a[c]:a[c]=1}),ng=Ac(function(a,b,c){ra.call(a,c)?a[c].push(b):a[c]=[b]}),og=O(function(a,b,c){var d=-1,e="function"==
typeof b,f=mb(b),g=Va(a)?Array(a.length):[];wb(a,function(a){var k=e?b:f&&null!=a?a[b]:y;g[++d]=k?h(k,a,c):cc(a,b,c)});return g}),sg=Ac(function(a,b,c){a[c]=b}),wg=Ac(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),rg=O(function(a,b){if(null==a)return[];var c=b.length;1<c&&ab(a,b[0],b[1])?b=[]:2<c&&ab(b[0],b[1],b[2])&&(b.length=1);return ve(a,la(b,1),[])}),Cd=kf.now,ff=O(function(a,b,c){var d=1;if(c.length)var e=Ib(c,Z(ff)),d=d|32;return nb(a,d,b,c,e)}),Nf=O(function(a,b,c){var d=3;if(c.length)var e=
Ib(c,Z(Nf)),d=d|32;return nb(b,d,a,c,e)}),tg=O(function(a,b){return ye(a,1,b)}),ug=O(function(a,b,c){return ye(a,W(b)||0,c)}),vg=O(function(a,b){b=k(la(b,1),P());var c=b.length;return O(function(d){for(var e=-1,f=Xa(d.length,c);++e<f;)d[e]=b[e].call(this,d[e]);return h(a,this,d)})}),Ff=O(function(a,b){var c=Ib(b,Z(Ff));return nb(a,32,y,b,c)}),Qf=O(function(a,b){var c=Ib(b,Z(Qf));return nb(a,64,y,b,c)}),xg=O(function(a,b){return nb(a,256,y,y,y,la(b,1))}),U=Array.isArray,Of=Pe?function(a){return a instanceof
Pe}:xc(!1),yg=Tb(function(a,b){Pa(b,va(b),a)}),Rf=Tb(function(a,b){Pa(b,Fa(b),a)}),pe=Tb(function(a,b,c,d){Kc(b,Fa(b),a,d)}),zg=Tb(function(a,b,c,d){Kc(b,va(b),a,d)}),Ag=O(function(a,b){return Ca(a,la(b,1))}),Bg=O(function(a){a.push(y,rb);return h(pe,y,a)}),Cg=O(function(a){a.push(y,Gd);return h(Sf,y,a)}),Dg=Od(function(a,b,c){a[b]=c},xc(Ea)),Eg=Od(function(a,b,c){ra.call(a,b)?a[b].push(c):a[b]=[c]},P),Fg=O(cc),Gg=Tb(function(a,b,c){$a(a,b,c)}),Sf=Tb(function(a,b,c,d){$a(a,b,c,d)}),Hg=O(function(a,
b){if(null==a)return{};b=k(la(b,1),String);return xe(a,kb(Fa(a),b))}),Ig=O(function(a,b){return null==a?{}:xe(a,la(b,1))}),Jg=Jb(function(a,b,c){b=b.toLowerCase();return a+(c?Ic(b):b)}),Kg=Jb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Lg=Jb(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),Mg=Md("toLowerCase"),Pf=Md("toUpperCase"),Ng=Jb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Og=Jb(function(a,b,c){return a+(c?" ":"")+Ic(b)}),Pg=Jb(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),
Tf=O(function(a,b){try{return h(a,y,b)}catch(c){return xd(c)?c:new lf(c)}}),Qg=O(function(a,b){u(la(b,1),function(b){a[b]=ff(a[b],a)});return a}),Rg=Nd(),Sg=Nd(!0),Tg=O(function(a,b){return function(c){return cc(c,a,b)}}),Ug=O(function(a,b){return function(c){return cc(a,c,b)}}),Vg=Bc(k),Wg=Bc(B),Xg=Bc(z),Yg=Cc(),Zg=Cc(!0),$g=cd("ceil"),ah=cd("floor"),bh=cd("round");f.prototype=A.prototype;F.prototype=Sb(A.prototype);F.prototype.constructor=F;T.prototype=Sb(A.prototype);T.prototype.constructor=T;
oa.prototype=lc?lc(null):jc;ja.prototype.clear=function(){this.__data__={hash:new oa,map:Ya?new Ya:[],string:new oa}};ja.prototype["delete"]=function(a){var b=this.__data__;return Rb(a)?(b="string"==typeof a?b.string:b.hash,(lc?b[a]!==y:ra.call(b,a))&&delete b[a]):Ya?b.map["delete"](a):db(b.map,a)};ja.prototype.get=function(a){var b=this.__data__;return Rb(a)?(b="string"==typeof a?b.string:b.hash,lc?(a=b[a],a="__lodash_hash_undefined__"===a?y:a):a=ra.call(b,a)?b[a]:y,a):Ya?b.map.get(a):sb(b.map,a)};
ja.prototype.has=function(a){var b=this.__data__;Rb(a)?(b="string"==typeof a?b.string:b.hash,a=lc?b[a]!==y:ra.call(b,a)):a=Ya?b.map.has(a):-1<Oa(b.map,a);return a};ja.prototype.set=function(a,b){var c=this.__data__;Rb(a)?("string"==typeof a?c.string:c.hash)[a]=lc&&b===y?"__lodash_hash_undefined__":b:Ya?c.map.set(a,b):zb(c.map,a,b);return this};Ia.prototype.push=function(a){var b=this.__data__;Rb(a)?(b=b.__data__,("string"==typeof a?b.string:b.hash)[a]="__lodash_hash_undefined__"):b.set(a,"__lodash_hash_undefined__")};
tb.prototype.clear=function(){this.__data__={array:[],map:null}};tb.prototype["delete"]=function(a){var b=this.__data__,c=b.array;return c?db(c,a):b.map["delete"](a)};tb.prototype.get=function(a){var b=this.__data__,c=b.array;return c?sb(c,a):b.map.get(a)};tb.prototype.has=function(a){var b=this.__data__,c=b.array;return c?-1<Oa(c,a):b.map.has(a)};tb.prototype.set=function(a,b){var c=this.__data__,d=c.array;d&&(199>d.length?zb(d,a,b):(c.array=null,c.map=new ja(d)));(c=c.map)&&c.set(a,b);return this};
$d.Cache=ja;f.after=function(a,b){if("function"!=typeof b)throw new Wa("Expected a function");a=S(a);return function(){if(1>--a)return b.apply(this,arguments)}};f.ary=fd;f.assign=yg;f.assignIn=Rf;f.assignInWith=pe;f.assignWith=zg;f.at=Ag;f.before=Yd;f.bind=ff;f.bindAll=Qg;f.bindKey=Nf;f.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return U(a)?a:[a]};f.chain=fa;f.chunk=function(a,b){b=za(S(b),0);var c=a?a.length:0;if(!c||1>b)return[];for(var d=0,e=-1,f=Array(md(c/b));d<c;)f[++e]=
qb(a,d,d+=b);return f};f.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e};f.concat=xf;f.cond=function(a){var b=a?a.length:0,c=P();a=b?k(a,function(a){if("function"!=typeof a[1])throw new Wa("Expected a function");return[c(a[0]),a[1]]}):[];return O(function(c){for(var d=-1;++d<b;){var e=a[d];if(h(e[0],this,c))return h(e[1],this,c)}})};f.conforms=function(a){return Lc(Ra(a,!0))};f.constant=xc;f.countBy=mg;f.create=function(a,b){var c=Sb(a);return b?
Yb(c,b):c};f.curry=La;f.curryRight=Zd;f.debounce=gd;f.defaults=Bg;f.defaultsDeep=Cg;f.defer=tg;f.delay=ug;f.difference=yf;f.differenceBy=zf;f.differenceWith=Af;f.drop=Ud;f.dropRight=yd;f.dropRightWhile=function(a,b){return a&&a.length?ib(a,P(b,3),!0,!0):[]};f.dropWhile=function(a,b){return a&&a.length?ib(a,P(b,3),!0):[]};f.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];c&&"number"!=typeof c&&ab(a,b,c)&&(c=0,d=e);e=a.length;c=S(c);0>c&&(c=-c>e?0:e+c);d=d===y||d>e?e:S(d);0>d&&(d+=e);for(d=
c>d?0:xa(d);c<d;)a[c++]=b;return a};f.filter=function(a,b){return(U(a)?x:Ad)(a,P(b,3))};f.flatMap=function(a,b){return la(Xd(a,b),1)};f.flatten=function(a){return a&&a.length?la(a,1):[]};f.flattenDeep=function(a){return a&&a.length?la(a,dd):[]};f.flattenDepth=function(a,b){if(!a||!a.length)return[];b=b===y?1:S(b);return la(a,b)};f.flip=function(a){return nb(a,512)};f.flow=Rg;f.flowRight=Sg;f.fromPairs=function(a){for(var b=-1,c=a?a.length:0,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d};f.functions=
function(a){return null==a?[]:wc(a,va(a))};f.functionsIn=function(a){return null==a?[]:wc(a,Fa(a))};f.groupBy=ng;f.initial=function(a){return yd(a,1)};f.intersection=Bf;f.intersectionBy=Cf;f.intersectionWith=m;f.invert=Dg;f.invertBy=Eg;f.invokeMap=og;f.iteratee=$c;f.keyBy=sg;f.keys=va;f.keysIn=Fa;f.map=Xd;f.mapKeys=function(a,b){var c={};b=P(b,3);Ta(a,function(a,d,e){c[b(a,d,e)]=a});return c};f.mapValues=function(a,b){var c={};b=P(b,3);Ta(a,function(a,d,e){c[d]=b(a,d,e)});return c};f.matches=function(a){return ad(Ra(a,
!0))};f.matchesProperty=function(a,b){return Ed(a,Ra(b,!0))};f.memoize=$d;f.merge=Gg;f.mergeWith=Sf;f.method=Tg;f.methodOf=Ug;f.mixin=de;f.negate=function(a){if("function"!=typeof a)throw new Wa("Expected a function");return function(){return!a.apply(this,arguments)}};f.nthArg=function(a){a=S(a);return function(){return arguments[a]}};f.omit=Hg;f.omitBy=function(a,b){b=P(b);return we(a,function(a,c){return!b(a,c)})};f.once=function(a){return Yd(2,a)};f.orderBy=function(a,b,c,d){if(null==a)return[];
U(b)||(b=null==b?[]:[b]);c=d?y:c;U(c)||(c=null==c?[]:[c]);return ve(a,b,c)};f.over=Vg;f.overArgs=vg;f.overEvery=Wg;f.overSome=Xg;f.partial=Ff;f.partialRight=Qf;f.partition=wg;f.pick=Ig;f.pickBy=function(a,b){return null==a?{}:we(a,P(b))};f.property=Me;f.propertyOf=function(a){return function(b){return null==a?y:Tc(a,b)}};f.pull=C;f.pullAll=Vd;f.pullAllBy=function(a,b,c){return a&&a.length&&b&&b.length?Pb(a,b,P(c)):a};f.pullAt=cb;f.range=Yg;f.rangeRight=Zg;f.rearg=xg;f.reject=function(a,b){var c=U(a)?
x:Ad;b=P(b,3);return c(a,function(a,c,d){return!b(a,c,d)})};f.remove=function(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=P(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}vd(a,e);return c};f.rest=O;f.reverse=Gc;f.sampleSize=Gb;f.set=function(a,b,c){return null==a?a:td(a,b,c)};f.setWith=function(a,b,c,d){d="function"==typeof d?d:y;return null==a?a:td(a,b,c,d)};f.shuffle=function(a){return Gb(a,4294967295)};f.slice=function(a,b,c){var d=a?a.length:0;if(!d)return[];
c&&"number"!=typeof c&&ab(a,b,c)?(b=0,c=d):(b=null==b?0:S(b),c=c===y?d:S(c));return qb(a,b,c)};f.sortBy=rg;f.sortedUniq=function(a){return a&&a.length?pb(a):[]};f.sortedUniqBy=function(a,b){return a&&a.length?pb(a,P(b)):[]};f.split=function(a,b,c){return X(a).split(b,c)};f.spread=function(a,b){if("function"!=typeof a)throw new Wa("Expected a function");b=b===y?0:za(S(b),0);return O(function(c){var d=c[b];c=c.slice(0,b);d&&r(c,d);return h(a,this,c)})};f.tail=function(a){return Ud(a,1)};f.take=function(a,
b,c){if(!a||!a.length)return[];b=c||b===y?1:S(b);return qb(a,0,0>b?0:b)};f.takeRight=function(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===y?1:S(b);b=d-b;return qb(a,0>b?0:b,d)};f.takeRightWhile=function(a,b){return a&&a.length?ib(a,P(b,3),!1,!0):[]};f.takeWhile=function(a,b){return a&&a.length?ib(a,P(b,3)):[]};f.tap=function(a,b){b(a);return a};f.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Wa("Expected a function");pa(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in
c?!!c.trailing:e);return gd(a,b,{leading:d,maxWait:b,trailing:e})};f.thru=Hc;f.toArray=Db;f.toPairs=bc;f.toPairsIn=function(a){return q(a,Fa(a))};f.toPath=function(a){return U(a)?k(a,String):zd(a)};f.toPlainObject=Ke;f.transform=function(a,b,c){var d=U(a)||Qa(a);b=P(b,4);if(null==c)if(d||pa(a)){var e=a.constructor;c=d?U(a)?new e:[]:Ba(e)?Sb(jd(a)):{}}else c={};(d?u:Ta)(a,function(a,d,e){return b(c,a,d,e)});return c};f.unary=function(a){return fd(a,1)};f.union=Ye;f.unionBy=$e;f.unionWith=cg;f.uniq=
function(a){return a&&a.length?Q(a):[]};f.uniqBy=function(a,b){return a&&a.length?Q(a,P(b)):[]};f.uniqWith=function(a,b){return a&&a.length?Q(a,y,b):[]};f.unset=function(a,b){var c;if(null==a)c=!0;else{c=a;var d=b,d=mb(d,c)?[d+""]:Bb(d);c=Hb(c,d);d=qa(d);c=null!=c&&Le(c,d)?delete c[d]:!0}return c};f.unzip=ed;f.unzipWith=sc;f.values=Ha;f.valuesIn=function(a){return null==a?[]:V(a,Fa(a))};f.without=dg;f.words=Fd;f.wrap=function(a,b){b=null==b?Ea:b;return Ff(b,a)};f.xor=gg;f.xorBy=hg;f.xorWith=ig;f.zip=
jg;f.zipObject=function(a,b){return Hd(a||[],b||[],vc)};f.zipObjectDeep=function(a,b){return Hd(a||[],b||[],td)};f.zipWith=kg;f.extend=Rf;f.extendWith=pe;de(f,f);f.add=function(a,b){var c;if(a===y&&b===y)return 0;a!==y&&(c=a);b!==y&&(c=c===y?b:c+b);return c};f.attempt=Tf;f.camelCase=Jg;f.capitalize=Ic;f.ceil=$g;f.clamp=function(a,b,c){c===y&&(c=b,b=y);c!==y&&(c=W(c),c=c===c?c:0);b!==y&&(b=W(b),b=b===b?b:0);return ub(W(a),b,c)};f.clone=function(a){return Ra(a)};f.cloneDeep=function(a){return Ra(a,
!0)};f.cloneDeepWith=function(a,b){return Ra(a,!0,b)};f.cloneWith=function(a,b){return Ra(a,!1,b)};f.deburr=Mc;f.endsWith=function(a,b,c){a=X(a);b="string"==typeof b?b:b+"";var d=a.length;c=c===y?d:ub(S(c),0,d);c-=b.length;return 0<=c&&a.indexOf(b,c)==c};f.eq=ca;f.escape=function(a){return(a=X(a))&&Ob.test(a)?a.replace(ia,M):a};f.escapeRegExp=function(a){return(a=X(a))&&oe.test(a)?a.replace(Ja,"\\$&"):a};f.every=function(a,b,c){var d=U(a)?B:Qc;c&&ab(a,b,c)&&(b=y);return d(a,P(b,3))};f.find=function(a,
b){b=P(b,3);if(U(a)){var c=p(a,b);return-1<c?a[c]:y}return w(a,b,wb)};f.findIndex=function(a,b){return a&&a.length?p(a,P(b,3)):-1};f.findKey=function(a,b){return w(a,P(b,3),Ta,!0)};f.findLast=function(a,b){b=P(b,3);if(U(a)){var c=p(a,b,!0);return-1<c?a[c]:y}return w(a,b,le)};f.findLastIndex=function(a,b){return a&&a.length?p(a,P(b,3),!0):-1};f.findLastKey=function(a,b){return w(a,P(b,3),Sc,!0)};f.floor=ah;f.forEach=Wd;f.forEachRight=Eb;f.forIn=function(a,b){return null==a?a:me(a,Ab(b),Fa)};f.forInRight=
function(a,b){return null==a?a:Se(a,Ab(b),Fa)};f.forOwn=function(a,b){return a&&Ta(a,Ab(b))};f.forOwnRight=function(a,b){return a&&Sc(a,Ab(b))};f.get=ac;f.gt=ae;f.gte=function(a,b){return a>=b};f.has=Le;f.hasIn=oc;f.head=zc;f.identity=Ea;f.includes=function(a,b,c,d){a=Va(a)?a:Ha(a);c=c&&!d?S(c):0;d=a.length;0>c&&(c=za(d+c,0));return lb(a)?c<=d&&-1<a.indexOf(b,c):!!d&&-1<v(a,b,c)};f.indexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;c=S(c);0>c&&(c=za(d+c,0));return v(a,b,c)};f.inRange=function(a,
b,c){b=W(b)||0;c===y?(c=b,b=0):c=W(c)||0;a=W(a);return a>=Xa(b,c)&&a<za(b,c)};f.invoke=Fg;f.isArguments=ta;f.isArray=U;f.isArrayBuffer=function(a){return na(a)&&"[object ArrayBuffer]"==Ga.call(a)};f.isArrayLike=Va;f.isArrayLikeObject=ua;f.isBoolean=function(a){return!0===a||!1===a||na(a)&&"[object Boolean]"==Ga.call(a)};f.isBuffer=Of;f.isDate=function(a){return na(a)&&"[object Date]"==Ga.call(a)};f.isElement=function(a){return!!a&&1===a.nodeType&&na(a)&&!Pc(a)};f.isEmpty=function(a){if(Va(a)&&(U(a)||
lb(a)||Ba(a.splice)||ta(a)))return!a.length;for(var b in a)if(ra.call(a,b))return!1;return!0};f.isEqual=function(a,b){return Cb(a,b)};f.isEqualWith=function(a,b,c){var d=(c="function"==typeof c?c:y)?c(a,b):y;return d===y?Cb(a,b,c):!!d};f.isError=xd;f.isFinite=function(a){return"number"==typeof a&&of(a)};f.isFunction=Ba;f.isInteger=Je;f.isLength=yc;f.isMap=function(a){return na(a)&&"[object Map]"==Ua(a)};f.isMatch=function(a,b){return a===b||Yc(a,b,Ec(b))};f.isMatchWith=function(a,b,c){c="function"==
typeof c?c:y;return Yc(a,b,Ec(b),c)};f.isNaN=function(a){return wd(a)&&a!=+a};f.isNative=tc;f.isNil=function(a){return null==a};f.isNull=function(a){return null===a};f.isNumber=wd;f.isObject=pa;f.isObjectLike=na;f.isPlainObject=Pc;f.isRegExp=be;f.isSafeInteger=function(a){return Je(a)&&-9007199254740991<=a&&9007199254740991>=a};f.isSet=function(a){return na(a)&&"[object Set]"==Ua(a)};f.isString=lb;f.isSymbol=pc;f.isTypedArray=Qa;f.isUndefined=function(a){return a===y};f.isWeakMap=function(a){return na(a)&&
"[object WeakMap]"==Ua(a)};f.isWeakSet=function(a){return na(a)&&"[object WeakSet]"==Ga.call(a)};f.join=function(a,b){return a?ke.call(a,b):""};f.kebabCase=Kg;f.last=qa;f.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;c!==y&&(e=S(c),e=(0>e?za(d+e,0):Xa(e,d-1))+1);if(b!==b)return G(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1};f.lowerCase=Lg;f.lowerFirst=Mg;f.lt=ce;f.lte=function(a,b){return a<=b};f.max=function(a){return a&&a.length?b(a,Ea,ae):y};f.maxBy=function(a,c){return a&&
a.length?b(a,P(c),ae):y};f.mean=function(a){return Ne(a)/(a?a.length:0)};f.min=function(a){return a&&a.length?b(a,Ea,ce):y};f.minBy=function(a,c){return a&&a.length?b(a,P(c),ce):y};f.noConflict=function(){Za._===this&&(Za._=Oe);return this};f.noop=ee;f.now=Cd;f.pad=function(a,b,c){a=X(a);b=S(b);var d=dc(a);if(!b||d>=b)return a;d=(b-d)/2;b=nd(d);d=md(d);return hc("",b,c)+a+hc("",d,c)};f.padEnd=function(a,b,c){a=X(a);return a+hc(a,b,c)};f.padStart=function(a,b,c){a=X(a);return hc(a,b,c)+a};f.parseInt=
function(a,b,c){c||null==b?b=0:b&&(b=+b);a=X(a).replace(mc,"");return qf(a,b||(Wf.test(a)?16:10))};f.random=function(a,b,c){c&&"boolean"!=typeof c&&ab(a,b,c)&&(b=c=y);c===y&&("boolean"==typeof b?(c=b,b=y):"boolean"==typeof a&&(c=a,a=y));a===y&&b===y?(a=0,b=1):(a=W(a)||0,b===y?(b=a,a=0):b=W(b)||0);if(a>b){var d=a;a=b;b=d}return c||a%1||b%1?(c=R(),Xa(a+c*(b-a+te("1e-"+((c+"").length-1))),b)):Fb(a,b)};f.reduce=function(a,b,c){var e=U(a)?t:d,f=3>arguments.length;return e(a,P(b,4),c,f,wb)};f.reduceRight=
function(a,b,c){var e=U(a)?g:d,f=3>arguments.length;return e(a,P(b,4),c,f,le)};f.repeat=ud;f.replace=function(){var a=arguments,b=X(a[0]);return 3>a.length?b:b.replace(a[1],a[2])};f.result=function(a,b,c){if(mb(b,a))d=null==a?y:a[b];else{b=Bb(b);var d=ac(a,b);a=Hb(a,b)}d===y&&(d=c);return Ba(d)?d.call(a):d};f.round=bh;f.runInContext=He;f.sample=function(a){a=Va(a)?a:Ha(a);var b=a.length;return 0<b?a[Fb(0,b-1)]:y};f.size=function(a){if(null==a)return 0;if(Va(a)){var b=a.length;return b&&lb(a)?dc(a):
b}return va(a).length};f.snakeCase=Ng;f.some=function(a,b,c){var d=U(a)?z:Ze;c&&ab(a,b,c)&&(b=y);return d(a,P(b,3))};f.sortedIndex=function(a,b){return ec(a,b)};f.sortedIndexBy=function(a,b,c){return sa(a,b,P(c))};f.sortedIndexOf=function(a,b){var c=a?a.length:0;if(c){var d=ec(a,b);if(d<c&&ca(a[d],b))return d}return-1};f.sortedLastIndex=function(a,b){return ec(a,b,!0)};f.sortedLastIndexBy=function(a,b,c){return sa(a,b,P(c),!0)};f.sortedLastIndexOf=function(a,b){if(a&&a.length){var c=ec(a,b,!0)-1;
if(ca(a[c],b))return c}return-1};f.startCase=Og;f.startsWith=function(a,b,c){a=X(a);c=ub(S(c),0,a.length);return a.lastIndexOf(b,c)==c};f.subtract=function(a,b){var c;if(a===y&&b===y)return 0;a!==y&&(c=a);b!==y&&(c=c===y?b:c-b);return c};f.sum=Ne;f.sumBy=function(a,b){return a&&a.length?e(a,P(b)):0};f.template=function(a,b,c){var d=f.templateSettings;c&&ab(a,b,c)&&(b=y);a=X(a);b=pe({},b,d,rb);c=pe({},b.imports,d.imports,rb);var e=va(c),g=V(c,e),h,k,l=0;c=b.interpolate||qe;var m="__p += '";c=fe((b.escape||
qe).source+"|"+c.source+"|"+(c===Ma?Vf:qe).source+"|"+(b.evaluate||qe).source+"|$","g");var n="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++se+"]")+"\n";a.replace(c,function(b,c,d,e,f,g){d||(d=e);m+=a.slice(l,g).replace(bg,ma);c&&(h=!0,m+="' +\n__e("+c+") +\n'");f&&(k=!0,m+="';\n"+f+";\n__p += '");d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");l=g+b.length;return b});m+="';\n";(b=b.variable)||(m="with (obj) {\n"+m+"\n}\n");m=(k?m.replace(Ef,""):m).replace(gf,
"$1").replace(hf,"$1;");m="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(h?", __e = _.escape":"")+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";b=Tf(function(){return Function(e,n+"return "+m).apply(y,g)});b.source=m;if(xd(b))throw b;return b};f.times=function(a,b){a=S(a);if(1>a||9007199254740991<a)return[];var c=4294967295,d=Xa(a,4294967295);b=Ab(b);a-=4294967295;for(d=I(d,b);++c<a;)b(c);return d};
f.toInteger=S;f.toLength=xa;f.toLower=function(a){return X(a).toLowerCase()};f.toNumber=W;f.toSafeInteger=function(a){return ub(S(a),-9007199254740991,9007199254740991)};f.toString=X;f.toUpper=function(a){return X(a).toUpperCase()};f.trim=function(a,b,c){a=X(a);if(!a)return a;if(c||b===y)return a.replace(mc,"");b+="";if(!b)return a;a=a.match(Aa);b=b.match(Aa);return a.slice(Wb(a,b),N(a,b)+1).join("")};f.trimEnd=function(a,b,c){a=X(a);if(!a)return a;if(c||b===y)return a.replace(Kb,"");b+="";if(!b)return a;
a=a.match(Aa);return a.slice(0,N(a,b.match(Aa))+1).join("")};f.trimStart=function(a,b,c){a=X(a);if(!a)return a;if(c||b===y)return a.replace(jb,"");b+="";if(!b)return a;a=a.match(Aa);return a.slice(Wb(a,b.match(Aa))).join("")};f.truncate=function(a,b){var c=30,d="...";if(pa(b))var e="separator"in b?b.separator:e,c="length"in b?S(b.length):c,d="omission"in b?X(b.omission):d;a=X(a);var f=a.length;if(qc.test(a))var g=a.match(Aa),f=g.length;if(c>=f)return a;f=c-dc(d);if(1>f)return d;c=g?g.slice(0,f).join(""):
a.slice(0,f);if(e===y)return c+d;g&&(f+=c.length-f);if(be(e)){if(a.slice(f).search(e)){var h=c;e.global||(e=fe(e.source,X(Gf.exec(e))+"g"));for(e.lastIndex=0;g=e.exec(h);)var k=g.index;c=c.slice(0,k===y?f:k)}}else a.indexOf(e,f)!=f&&(e=c.lastIndexOf(e),-1<e&&(c=c.slice(0,e)));return c+d};f.unescape=function(a){return(a=X(a))&&ka.test(a)?a.replace(We,Df):a};f.uniqueId=function(a){var b=++mf;return X(a)+b};f.upperCase=Pg;f.upperFirst=Pf;f.each=Wd;f.eachRight=Eb;f.first=zc;de(f,function(){var a={};Ta(f,
function(b,c){ra.call(f.prototype,c)||(a[c]=b)});return a}(),{chain:!1});f.VERSION="4.5.1";u("bind bindKey curry curryRight partial partialRight".split(" "),function(a){f[a].placeholder=f});u(["drop","take"],function(a,b){T.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new T(this);c=c===y?1:za(S(c),0);var e=this.clone();d?e.__takeCount__=Xa(c,e.__takeCount__):e.__views__.push({size:Xa(c,4294967295),type:a+(0>e.__dir__?"Right":"")});return e};T.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});
u(["filter","map","takeWhile"],function(a,b){var c=b+1,d=1==c||3==c;T.prototype[a]=function(a){var b=this.clone();b.__iteratees__.push({iteratee:P(a,3),type:c});b.__filtered__=b.__filtered__||d;return b}});u(["head","last"],function(a,b){var c="take"+(b?"Right":"");T.prototype[a]=function(){return this[c](1).value()[0]}});u(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");T.prototype[a]=function(){return this.__filtered__?new T(this):this[c](1)}});T.prototype.compact=function(){return this.filter(Ea)};
T.prototype.find=function(a){return this.filter(a).head()};T.prototype.findLast=function(a){return this.reverse().find(a)};T.prototype.invokeMap=O(function(a,b){return"function"==typeof a?new T(this):this.map(function(c){return cc(c,a,b)})});T.prototype.reject=function(a){a=P(a,3);return this.filter(function(b){return!a(b)})};T.prototype.slice=function(a,b){a=S(a);var c=this;if(c.__filtered__&&(0<a||0>b))return new T(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==y&&(b=S(b),c=0>b?c.dropRight(-b):c.take(b-
a));return c};T.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()};T.prototype.toArray=function(){return this.take(4294967295)};Ta(T.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=f[d?"take"+("last"==b?"Right":""):b],g=d||/^find/.test(b);e&&(f.prototype[b]=function(){var b=this.__wrapped__,h=d?[1]:arguments,k=b instanceof T,l=h[0],m=k||U(b),n=function(a){a=e.apply(f,r([a],h));return d&&p?a[0]:a};m&&c&&"function"==
typeof l&&1!=l.length&&(k=m=!1);var p=this.__chain__,q=!!this.__actions__.length,l=g&&!p,k=k&&!q;if(!g&&m)return b=k?b:new T(this),b=a.apply(b,h),b.__actions__.push({func:Hc,args:[n],thisArg:y}),new F(b,p);if(l&&k)return a.apply(this,h);b=this.thru(n);return l?d?b.value()[0]:b.value():b})});u("pop push shift sort splice unshift".split(" "),function(a){var b=hd[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);f.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?
b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}});Ta(T.prototype,function(a,b){var c=f[b];if(c){var d=c.name+"";(Jc[d]||(Jc[d]=[])).push({name:b,func:c})}});Jc[gc(y,2).name]=[{name:"wrapper",func:y}];T.prototype.clone=function(){var a=new T(this.__wrapped__);a.__actions__=ha(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=ha(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=ha(this.__views__);return a};T.prototype.reverse=
function(){if(this.__filtered__){var a=new T(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};T.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=U(b),e=0>c,f=d?b.length:0;a=0;for(var g=f,h=this.__views__,k=-1,l=h.length;++k<l;){var m=h[k],n=m.size;switch(m.type){case "drop":a+=n;break;case "dropRight":g-=n;break;case "take":g=Xa(g,a+n);break;case "takeRight":a=za(a,g-n)}}h=g;g=h-a;e=e?h:a-1;a=this.__iteratees__;h=a.length;k=0;l=Xa(g,this.__takeCount__);
if(!d||200>f||f==g&&l==g)return Vc(b,this.__actions__);d=[];a:for(;g--&&k<l;){e+=c;f=-1;for(m=b[e];++f<h;){var p=a[f],n=p.iteratee,p=p.type,n=n(m);if(2==p)m=n;else if(!n)if(1==p)continue a;else break a}d[k++]=m}return d};f.prototype.at=lg;f.prototype.chain=function(){return fa(this)};f.prototype.commit=function(){return new F(this.value(),this.__chain__)};f.prototype.flatMap=function(a){return this.map(a).flatten()};f.prototype.next=function(){this.__values__===y&&(this.__values__=Db(this.value()));
var a=this.__index__>=this.__values__.length,b=a?y:this.__values__[this.__index__++];return{done:a,value:b}};f.prototype.plant=function(a){for(var b,c=this;c instanceof A;){var d=Dd(c);d.__index__=0;d.__values__=y;b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}e.__wrapped__=a;return b};f.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof T?(this.__actions__.length&&(a=new T(this)),a=a.reverse(),a.__actions__.push({func:Hc,args:[Gc],thisArg:y}),new F(a,this.__chain__)):this.thru(Gc)};
f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return Vc(this.__wrapped__,this.__actions__)};Nb&&(f.prototype[Nb]=jf);return f}var y,dd=1/0,pd=0/0,Ef=/\b__p \+= '';/g,gf=/\b(__p \+=) '' \+/g,hf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,We=/&(?:amp|lt|gt|quot|#39|#96);/g,ia=/[&<>"'`]/g,ka=RegExp(We.source),Ob=RegExp(ia.source),Ka=/<%-([\s\S]+?)%>/g,Xb=/<%([\s\S]+?)%>/g,Ma=/<%=([\s\S]+?)%>/g,ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nc=/^\w*$/,yb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,
Ja=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(Ja.source),mc=/^\s+|\s+$/g,jb=/^\s+/,Kb=/\s+$/,Uf=/\\(\\)?/g,Vf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gf=/\w*$/,Wf=/^0x/i,Xf=/^[-+]0x[0-9a-f]+$/i,Yf=/^0b[01]+$/i,Zf=/^\[object .+?Constructor\]$/,$f=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,ag=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,qe=/($^)/,bg=/['\n\r\u2028\u2029\\]/g,eg=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),Aa=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",
"g"),qc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),fg=/[a-zA-Z0-9]+/g,re=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|\\d+|(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",
"g"),rd=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rc="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),se=-1,ga={};ga["[object Float32Array]"]=ga["[object Float64Array]"]=ga["[object Int8Array]"]=ga["[object Int16Array]"]=ga["[object Int32Array]"]=ga["[object Uint8Array]"]=
ga["[object Uint8ClampedArray]"]=ga["[object Uint16Array]"]=ga["[object Uint32Array]"]=!0;ga["[object Arguments]"]=ga["[object Array]"]=ga["[object ArrayBuffer]"]=ga["[object Boolean]"]=ga["[object Date]"]=ga["[object Error]"]=ga["[object Function]"]=ga["[object Map]"]=ga["[object Number]"]=ga["[object Object]"]=ga["[object RegExp]"]=ga["[object Set]"]=ga["[object String]"]=ga["[object WeakMap]"]=!1;var aa={};aa["[object Arguments]"]=aa["[object Array]"]=aa["[object ArrayBuffer]"]=aa["[object Boolean]"]=
aa["[object Date]"]=aa["[object Float32Array]"]=aa["[object Float64Array]"]=aa["[object Int8Array]"]=aa["[object Int16Array]"]=aa["[object Int32Array]"]=aa["[object Map]"]=aa["[object Number]"]=aa["[object Object]"]=aa["[object RegExp]"]=aa["[object Set]"]=aa["[object String]"]=aa["[object Symbol]"]=aa["[object Uint8Array]"]=aa["[object Uint8ClampedArray]"]=aa["[object Uint16Array]"]=aa["[object Uint32Array]"]=!0;aa["[object Error]"]=aa["[object Function]"]=aa["[object WeakMap]"]=!1;var db={"\u00c0":"A",
"\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O",
"\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Lc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},rb={"function":!0,object:!0},$e={"\\":"\\","'":"'","\n":"n",
"\r":"r","\u2028":"u2028","\u2029":"u2029"},te=parseFloat,ue=parseInt,oa=rb[typeof f]&&f&&!f.nodeType?f:y,sb=rb[typeof F]&&F&&!F.nodeType?F:y,eb=sb&&sb.exports===oa?oa:y,Yb=ja(oa&&sb&&"object"==typeof a&&a),Zb=ja(rb[typeof self]&&self),Ia=ja(rb[typeof window]&&window),Oa=ja(rb[typeof this]&&this),Za=Yb||Ia!==(Oa&&Oa.window)&&Ia||Zb||Oa||Function("return this")(),hb=He();(Ia||Zb||{})._=hb;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return hb}):oa&&sb?(eb&&((sb.exports=
hb)._=hb),oa._=hb):Za._=hb}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}]},{},[4]);
