/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function e$$0(B,f,w){function z(b,v){if(!f[b]){if(!B[b]){var p="function"==typeof require&&require;if(!v&&p)return p(b,!0);if(H)return H(b,!0);p=Error("Cannot find module '"+b+"'");throw p.code="MODULE_NOT_FOUND",p;}p=f[b]={exports:{}};B[b][0].call(p.exports,function(v){var p=B[b][1][v];return z(p?p:v)},p,p.exports,e$$0,B,f,w)}return f[b].exports}for(var H="function"==typeof require&&require,b=0;b<w.length;b++)z(w[b]);return z})({1:[function(a,B,f){},{}],2:[function(a,B,f){(function(a){function z(b,
a){for(var n=0,q=b.length-1;0<=q;q--){var f=b[q];"."===f?b.splice(q,1):".."===f?(b.splice(q,1),n++):n&&(b.splice(q,1),n--)}if(a)for(;n--;n)b.unshift("..");return b}function H(b,a){if(b.filter)return b.filter(a);for(var n=[],f=0;f<b.length;f++)a(b[f],f,b)&&n.push(b[f]);return n}var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;f.resolve=function(){for(var b="",p=!1,f=arguments.length-1;-1<=f&&!p;f--){var q=0<=f?arguments[f]:a.cwd();if("string"!==typeof q)throw new TypeError("Arguments to path.resolve must be strings");
q&&(b=q+"/"+b,p="/"===q.charAt(0))}b=z(H(b.split("/"),function(b){return!!b}),!p).join("/");return(p?"/":"")+b||"."};f.normalize=function(b){var a=f.isAbsolute(b),n="/"===I(b,-1);(b=z(H(b.split("/"),function(b){return!!b}),!a).join("/"))||a||(b=".");b&&n&&(b+="/");return(a?"/":"")+b};f.isAbsolute=function(b){return"/"===b.charAt(0)};f.join=function(){var b=Array.prototype.slice.call(arguments,0);return f.normalize(H(b,function(b,a){if("string"!==typeof b)throw new TypeError("Arguments to path.join must be strings");
return b}).join("/"))};f.relative=function(b,a){function n(b){for(var a=0;a<b.length&&""===b[a];a++);for(var d=b.length-1;0<=d&&""===b[d];d--);return a>d?[]:b.slice(a,d-a+1)}b=f.resolve(b).substr(1);a=f.resolve(a).substr(1);for(var q=n(b.split("/")),D=n(a.split("/")),F=Math.min(q.length,D.length),y=F,x=0;x<F;x++)if(q[x]!==D[x]){y=x;break}F=[];for(x=y;x<q.length;x++)F.push("..");F=F.concat(D.slice(y));return F.join("/")};f.sep="/";f.delimiter=":";f.dirname=function(a){var f=b.exec(a).slice(1);a=f[0];
f=f[1];if(!a&&!f)return".";f&&(f=f.substr(0,f.length-1));return a+f};f.basename=function(a,f){var n=b.exec(a).slice(1)[2];f&&n.substr(-1*f.length)===f&&(n=n.substr(0,n.length-f.length));return n};f.extname=function(a){return b.exec(a).slice(1)[3]};var I="b"==="ab".substr(-1)?function(b,a,f){return b.substr(a,f)}:function(b,a,f){0>a&&(a=b.length+a);return b.substr(a,f)}}).call(this,a("_process"))},{_process:3}],3:[function(a,B,f){function w(){v=!1;p.length?I=p.concat(I):n=-1;I.length&&z()}function z(){if(!v){var b=
setTimeout(w);v=!0;for(var a=I.length;a;){p=I;for(I=[];++n<a;)p&&p[n].run();n=-1;a=I.length}p=null;v=!1;clearTimeout(b)}}function H(b,a){this.fun=b;this.array=a}function b(){}a=B.exports={};var I=[],v=!1,p,n=-1;a.nextTick=function(b){var a=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)a[f-1]=arguments[f];I.push(new H(b,a));1!==I.length||v||setTimeout(z,0)};H.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=
[];a.version="";a.versions={};a.on=b;a.addListener=b;a.once=b;a.off=b;a.removeListener=b;a.removeAllListeners=b;a.emit=b;a.binding=function(b){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(b){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],4:[function(a,B,f){B="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};f=a("../fol");a=a("../proofs/proof");B.fol=f;B.proof=
a},{"../fol":7,"../proofs/proof":24}],5:[function(a,B,f){var w,z,H,b,I,v,p,n,q,D,F,y,x;w=a("lodash");x=a("../symbols");p={lpl:{available:!0,description:"The language and natural deduction proof system presented in Barker-Plummer, Barwise and Etchemndy\u2019s \u2018Language, Proof and Logic\u2019",textbook:"Language, Proof and Logic by Barker-Plummer, Barwise & Etchemendy",versions:{"0.1":{symbols:"default",parser:"awFOL",rules:"fitch"}}},teller:{available:!0,description:"The language and natural deduction proof system presented in Teller\u2019s \u2018A Modern Formal Logic Primer\u2019 (1998)",
textbook:"A Modern Formal Logic Primer by Teller",versions:{"0.1":{symbols:"teller",parser:"teller",rules:"teller"}}},copi:{available:!1,versions:{"0.1":{symbols:"copi",parser:"copi",rules:"copi"}}},forallx:{available:!0,description:"The language and natural deduction proof system presented in Magnus\u2019 \u2018forallx\u2019 (2014)",textbook:"A Modern Formal Logic Primer by Magnus",versions:{"0.1":{symbols:"forallx",parser:"forallx",rules:"forallx"}}}};I="lpl";v="0.1";f.set=function(b,a){var d;I=
b;d=p[b].versions;null==a&&(a=Math.max(w.keys(d)));v=a;d=d[a];y(d.symbols);D(d.parser);return F(d.rules)};f.getCurrentDialectNameAndVersion=function(){return{name:I,version:v}};f.getTextbookForDialect=function(b){null==b&&(b=I);return p[b].textbook};f.getAllDialectNamesAndDescriptions=function(){var b,a,d,h,c,g;a=w.keys(p);g=[];d=0;for(c=a.length;d<c;d++)h=a[d],b=p[h],!0===b.available&&g.push({name:h,description:b.description,textbook:b.textbook});return g};f.listDialects=function(){return w.keys(p)};
b="default";y=function(a){return b=a};f.setSymbols=y;f.getSymbols=function(a){return null==a?x[b]:x[a]};f.getSymbolsName=function(){return b};n={awFOL:a("../parser/awFOL"),copi:a("../parser/copiFOL"),teller:a("../parser/tellerFOL"),forallx:a("../parser/forallxFOL")};z=void 0;f.registerParser=function(b,a){return n[b]=a};f.getParser=function(b){if(!(b in n))throw Error("unknown parser "+b);return n[b]};f.getCurrentParser=function(){return n[z]};f.getCurrentParserName=function(){return z};D=function(b){if(!(b in
n))throw Error("unknown parser \u2018"+b+"\u2019");return z=b};f.setCurrentParser=D;D("awFOL");q={};f.registerRuleSet=function(b,a){return q[b]=a};H="fitch";f.getCurrentRules=function(){return q[H]};f.getCurrentRulesName=function(){return H};F=function(b){return H=b};f.setCurrentRules=F},{"../parser/awFOL":11,"../parser/copiFOL":12,"../parser/forallxFOL":13,"../parser/tellerFOL":14,"../symbols":28,lodash:9}],6:[function(a,B,f){var w,z,H;z=a("lodash");H=a("./dialect_manager/dialectManager").getCurrentParser();
w=function(b,a){this.world=a;z.isString(b)?this.sentence=H.parse(b):this.sentence=b;this.varStack={};return this};w.prototype.logSentence=function(){return console.log("sentence "+JSON.stringify(this.sentence,null,4))};w.prototype.evaluate=function(b){var a,f,p,n,q;b=null!=b?b:this.sentence;if("value"===b.type)return b.value;if("and"===b.type)return this.evaluate(b.left)&&this.evaluate(b.right);if("nand"===b.type)return!(this.evaluate(b.left)&&this.evaluate(b.right));if("or"===b.type)return this.evaluate(b.left)||
this.evaluate(b.right);if("nor"===b.type)return!(this.evaluate(b.left)||this.evaluate(b.right));if("not"===b.type)return!this.evaluate(b.left);if("arrow"===b.type)return!this.evaluate(b.left)||this.evaluate(b.right);if("double_arrow"===b.type)return this.evaluate(b.left)===this.evaluate(b.right);if("sentence_letter"===b.type)return this.world[b.letter];if("predicate"===b.type||"identity"===b.type)return f=b,a="identity"===f.type?function(){var b,a,f,n;f=this.world.domain;n=[];b=0;for(a=f.length;b<
a;b++)q=f[b],n.push([q,q]);return n}.call(this):this.world.predicates[f.name],f=this.instantiate_terms(f.termlist),a=z.where(a,f),0<a.length;if("existential_quantifier"===b.type||"universal_quantifier"===b.type)return a=b.boundVariable,n=a.name,n in this.varStack||(this.varStack[n]=[]),p=this,"existential_quantifier"===b.type&&(f=z.some),"universal_quantifier"===b.type&&(f=z.all),f(this.world.domain,function(a){p.varStack[n].push(a);a=p.evaluate(b.left);p.varStack[n].pop();return a});throw Error("e (evaluate inner) could not evaluate sentence "+
JSON.stringify(b,null,4));};w.prototype.instantiate_terms=function(b){var a,f,p,n;p=[];a=0;for(f=b.length;a<f;a++)if(n=b[a],"name"===n.type){if(!(n.name in this.world.names))throw Error("The name "+n.name+" is not defined in this world.");p.push(this.world.names[n.name])}else if("variable"===n.type){if(!(n.name in this.varStack))throw Error("The variable "+n.name+" is not bound by any quantifier.");p.push(z.last(this.varStack[n.name]))}else throw Error("Encountered a term of unknown type: "+JSON.stringify(n,
null,4));return p};f.evaluate=function(b,a){return(new w(b,a)).evaluate()}},{"./dialect_manager/dialectManager":5,lodash:9}],7:[function(a,B,f){var w,z,H,b,I,v,p,n,q;w=a("lodash");q=a("./util");I=a("./match");n=a("./substitute");v=a("./normal_form");b=a("./evaluate");B=a("./symbols");H=a("./dialect_manager/dialectManager");p=function(b,a){var f;null==a&&(a=H.getCurrentParser());f=a.parse(b);return z(f)};f.parse=p;f.parseUsingSystemParser=function(b){var a;a=H.getParser("awFOL");return p(b,a)};f.symbols=
B;f.setDialect=function(b,a){return H.set(b,a)};f.getAllDialectNamesAndDescriptions=function(){return H.getAllDialectNamesAndDescriptions()};f.getCurrentDialectNameAndVersion=function(){return H.getCurrentDialectNameAndVersion()};f._dialectManager=H;f.getTextbookForDialect=function(b){return H.getTextbookForDialect(b)};z=function(a){q.walk(a,function(f){if(null!==f&&!(w.isArray(f)||w.isString(f)||w.isBoolean(f)||w.isNumber(f)))return f.walk=function(b){q.walk(f,b);return f},f.delExtraneousProperties=
function(){return q.delExtraneousProperties(f)},f.isIdenticalTo=function(b){return q.areIdenticalExpressions(f,b)},f.clone=function(){var b;b=q.cloneExpression(f);z(b);return b},f.toString=function(b){null==b&&(b={});!1!==b.replaceSymbols&&null==b.symbols&&(b.symbols=H.getSymbols());return q.expressionToString(f,b)},f.listMetaVariableNames=function(){return q.listMetaVariableNames(f)},f.findMatches=function(b,a,l){return I.find(f,b,a,l)},f.applyMatches=function(b){b=I.apply(f,b);z(b);return b},f.applySubstitutions=
function(){var b;b=n.applySubstitutions(f);z(b);return b},f.containsSubstitutions=function(){var b;b=!1;f.walk(function(a){null!=(null!=a?a.substitutions:void 0)&&(b=!0)});return b},f.getNames=function(){var b;b=[];f.walk(function(a){"name"===(null!=a?a.type:void 0)&&b.push(a.name)});return b},f.getPredicates=function(){var b;b=[];f.walk(function(a){"predicate"===(null!=a?a.type:void 0)&&b.push({name:a.name,arity:a.termlist.length})});return w.uniq(b,function(b){return b.name+"*&!"+b.arity})},f.getSentenceLetters=
function(){var b;b=[];f.walk(function(a){"sentence_letter"===(null!=a?a.type:void 0)&&b.push(a.letter)});return b.sort()},f.getFreeVariableNames=function(){var b,n,l,u;b=q.listTerms(f);n=w.uniq(function(){var d,h,c;c=[];d=0;for(h=b.length;d<h;d++)l=b[d],"variable"===l.type&&c.push(l.name);return c}());return function(){var d,b,c;c=[];d=0;for(b=n.length;d<b;d++)u=n[d],v.isVariableFree(u,a)&&c.push(u);return c}()},f.convertToPNFsimplifyAndSort=function(){var b;b=v.convertToPNFsimplifyAndSort(a);z(b);
return b},f.isPNFExpressionEquivalent=function(b){return v.arePNFExpressionsEquivalent(f,b)},f.evaluate=function(a){return b.evaluate(f,a)}});return a};f._decorate=z},{"./dialect_manager/dialectManager":5,"./evaluate":6,"./match":8,"./normal_form":10,"./substitute":27,"./symbols":28,"./util":29,lodash:9}],8:[function(a,B,f){var w,z,H,b,I,v,p,n,q,D,F,y,x,l,u=[].indexOf||function(d){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===d)return b;return-1};w=a("lodash");l=a("./util");f.find=function(d,
b,c){null==c&&(c={});null==c&&(c={});return y(b,function(b){var h,a;b=x(d,b,c);if(!1!==b){for(h in b)a=b[h],b[h]=l.cloneExpression(a);return b}})||!1};x=function(d,b,c){var a;null==c&&(c={});a=function(d,b){var h,f,r;if(null!=(null!=b?b.type:void 0)&&("expression_variable"===(h=b.type)||"term_metavariable"===h||"term_metavariable_hat"===h)){"expression_variable"===b.type&&(r=b.letter);if("term_metavariable"===(f=b.type)||"term_metavariable_hat"===f)r=b.name;if(r in c)return l.areIdenticalExpressions(d,
c[r]);c=w.clone(c);if("term_metavariable_hat"===b.type&&"name_hat"!==d.type)return!1;c[r]=d;return null!=b.box?(h=l.cloneExpression(d),delete h.box,c[r]=h,null==d.box?!1:l.walkCompare(d.box,b.box,a)):c}};return l.walkCompare(d,b,a)?c:!1};f.findWithoutApplyingSubs=x;y=function(d,b){var c;if(!l.expressionContainsSubstitutions(d))return b(d);c=l.cloneExpression(d);c=q(c);return v(c,b)};f.doAfterApplyingSubstitutions=y;v=function(d,b){var c,a,f,G,m,E;c=I(d);if(f=!l.expressionContainsSubstitutions(c))if(E=
b(c))return E;G=F(d);m=!l.expressionContainsSubstitutions(G);a=!l.areIdenticalExpressions(c,G);if(m&&a&&(E=b(G))||!f&&(E=v(c,b))||!m&&a&&(E=v(G,b)))return E};I=function(d){var b;b=l.cloneExpression(d);return l.walkMutateFindOne(b,function(c){var d,a;if(null!=(null!=c?c.substitutions:void 0)){c=l.cloneExpression(c);a=D(c);if(null==a)return{newExpression:b,aResult:void 0};p(c,a)&&(d=l.cloneExpression(a.to),null!=c.substitutions&&(d.substitutions=c.substitutions),null!=c.box&&(d.box=c.box),c=d);return{newExpression:c,
aResult:a}}}).mutatedExpression};p=function(d,b){return d.type!==b.from.type?!1:null!=d.name&&null!=b.from.name&&d.name===b.from.name||null!=d.letter&&null!=b.from.letter&&d.letter===b.from.letter?!0:!1};F=function(b){b=l.cloneExpression(b);return l.walkMutateFindOne(b,function(b){var c;if(null!=(null!=b?b.substitutions:void 0))return b=l.cloneExpression(b),c=D(b),{newExpression:b,aResult:c}}).mutatedExpression};q=function(b){b=l.cloneExpression(b);return l.walkMutate(b,function(b){var c;if(null==
(null!=b?b.substitutions:void 0)||null!=(null!=b?b.type:void 0)&&("name"===(c=b.type)||"variable"===c||"term_metavariable"===c))return b;for(c=D(b);c;)b=n(c)?H(b,c):z(b,c),c=D(b);return b})};f._moveAllSubsInwards=q;D=function(b){var a;if(null!=b.substitutions){for(a=b.substitutions.shift();0<b.substitutions.length&&l.areIdenticalExpressions(a.from,a.to);)a=b.substitutions.shift();if(l.areIdenticalExpressions(a.from,a.to))delete b.substitutions;else return 0===b.substitutions.length&&delete b.substitutions,
a}};n=function(b){var a;return(a=b.from.type,0<=u.call(l.termTypes,a))?!0:!1};H=function(d,a){return b(d,a,l.termTypes)};f._addSubToEveryTerm=H;z=function(d,a){return b(d,a,["sentence_letter","expression_variable"])};f._addSubToEverySentence=z;b=function(b,a,c){var g,f;f=function(b){var d;if(null==(null!=b?b.type:void 0)||!(d=b.type,0<=u.call(c,d))||f._inSub)return b;b.substitutions&&!l.expressionHasSub(b,g)?b.substitutions.push(g):b.substitutions=[g];return b};b=l.cloneExpression(b);g=l.cloneExpression(a);
return b=l.walkMutate(b,f)};f.apply=function(b,a,c){var g;null==c&&(c={});g=function(b){var c,d,g;if(null==(null!=b?b.type:void 0)||"expression_variable"!==(c=b.type)&&"term_metavariable"!==c&&"term_metavariable_hat"!==c)return b;"expression_variable"===b.type&&(g=b.letter);if("term_metavariable"===(d=b.type)||"term_metavariable_hat"===d)g=b.name;if(!(g in a))return b;c=l.cloneExpression(a[g]);null!=b.substitutions&&(c.substitutions=b.substitutions);null!=b.box&&(c.box=b.box);return c};if(c.noClone)return l.walkMutate(b,
g);b=l.cloneExpression(b);return l.walkMutate(b,g)}},{"./util":29,lodash:9}],9:[function(a,B,f){(function(a){(function(){function z(b,c){if(b!==c){var d=null===b,a=b===m,g=b===b,h=null===c,r=c===m,f=c===c;if(b>c&&!h||!g||d&&!r&&f||a&&f)return 1;if(b<c&&!d||!f||h&&!a&&g||r&&g)return-1}return 0}function H(b,c,d){for(var a=b.length,g=d?a:-1;d?g--:++g<a;)if(c(b[g],g,b))return g;return-1}function b(b,c,d){if(c!==c)return l(b,d);--d;for(var a=b.length;++d<a;)if(b[d]===c)return d;return-1}function I(b){return"function"==
typeof b||!1}function v(b){return null==b?"":b+""}function p(b,c){for(var d=-1,a=b.length;++d<a&&-1<c.indexOf(b.charAt(d)););return d}function n(b,c){for(var d=b.length;d--&&-1<c.indexOf(b.charAt(d)););return d}function q(b,c){return z(b.criteria,c.criteria)||b.index-c.index}function D(b){return Ba[b]}function F(b){return Ka[b]}function y(b,c,d){c?b=vb[b]:d&&(b=Sa[b]);return"\\"+b}function x(b){return"\\"+Sa[b]}function l(b,c,d){var a=b.length;for(c+=d?0:-1;d?c--:++c<a;){var g=b[c];if(g!==g)return c}return-1}
function u(b){return!!b&&"object"==typeof b}function d(b){return 160>=b&&9<=b&&13>=b||32==b||160==b||5760==b||6158==b||8192<=b&&(8202>=b||8232==b||8233==b||8239==b||8287==b||12288==b||65279==b)}function h(b,c){for(var d=-1,a=b.length,g=-1,m=[];++d<a;)b[d]===c&&(b[d]="__lodash_placeholder__",m[++g]=d);return m}function c(b){for(var c=-1,a=b.length;++c<a&&d(b.charCodeAt(c)););return c}function g(b){for(var c=b.length;c--&&d(b.charCodeAt(c)););return c}function A(b){return La[b]}function G(d){function a(e){if(u(e)&&
!M(e)&&!(e instanceof B)){if(e instanceof w)return e;if(X.call(e,"__chain__")&&X.call(e,"__wrapped__"))return gc(e)}return new w(e)}function f(){}function w(e,k,t){this.__wrapped__=e;this.__actions__=t||[];this.__chain__=!!k}function B(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=ab;this.__views__=[]}function Ba(){this.__data__={}}function Ka(e){var k=e?e.length:0;for(this.data={hash:bb(null),set:new cb};k--;)this.push(e[k])}
function La(e,k){var t=e.data;return("string"==typeof k||R(k)?t.set.has(k):t.hash[k])?0:-1}function ca(e,k){var t=-1,a=e.length;for(k||(k=S(a));++t<a;)k[t]=e[t];return k}function ka(e,k){for(var t=-1,a=e.length;++t<a&&!1!==k(e[t],t,e););return e}function ra(e,k){for(var t=-1,a=e.length;++t<a;)if(!k(e[t],t,e))return!1;return!0}function va(e,k){for(var t=-1,a=e.length,b=-1,c=[];++t<a;){var d=e[t];k(d,t,e)&&(c[++b]=d)}return c}function Ma(e,k){for(var t=-1,a=e.length,b=S(a);++t<a;)b[t]=k(e[t],t,e);return b}
function na(e,k){for(var t=-1,a=k.length,b=e.length;++t<a;)e[b+t]=k[t];return e}function Sa(e,k,t,a){var b=-1,c=e.length;for(a&&c&&(t=e[++b]);++b<c;)t=k(t,e[b],b,e);return t}function hc(e,k){for(var t=-1,a=e.length;++t<a;)if(k(e[t],t,e))return!0;return!1}function ic(e,k,t,a){return e!==m&&X.call(a,t)?e:k}function wb(e,k,t){for(var a=-1,b=ba(k),c=b.length;++a<c;){var d=b[a],g=e[d],h=t(g,k[d],d,e,k);(h===h?h===g:g!==g)&&(g!==m||d in e)||(e[d]=h)}return e}function Ta(e,k){return null==k?e:jc(k,ba(k),
e)}function kc(e,k){for(var t=-1,a=null==e,b=!a&&Z(e),c=b?e.length:0,d=k.length,g=S(d);++t<d;){var h=k[t];g[t]=b?wa(h,c)?e[h]:m:a?m:e[h]}return g}function jc(e,k,t){t||(t={});for(var a=-1,b=k.length;++a<b;){var c=k[a];t[c]=e[c]}return t}function db(e,k,t){var a=typeof e;return"function"==a?k===m?e:ga(e,k,t):null==e?Ca:"object"==a?Ua(e):k===m?eb(e):lc(e,k)}function Da(e,k,t,a,b,c,d){var g;t&&(g=b?t(e,a,b):t(e));if(g!==m)return g;if(!R(e))return e;if(a=M(e)){if(g=Wd(e),!k)return ca(e,g)}else{var h=
ha.call(e),r="[object Function]"==h;if("[object Object]"==h||"[object Arguments]"==h||r&&!b){if(g=Xd(r?{}:e),!k)return Ta(g,e)}else return T[h]?Yd(e,h,k):b?e:{}}c||(c=[]);d||(d=[]);for(b=c.length;b--;)if(c[b]==e)return d[b];c.push(e);d.push(g);(a?ka:sa)(e,function(a,b){g[b]=Da(a,k,t,b,e,c,d)});return g}function mc(e,k,t){if("function"!=typeof e)throw new ia("Expected a function");return fb(function(){e.apply(m,t)},k)}function Va(e,k){var t=e?e.length:0,a=[];if(!t)return a;var c=-1,d=Na(),g=d==b,h=
g&&200<=k.length?bb&&cb?new Ka(k):null:null,m=k.length;h&&(d=La,g=!1,k=h);a:for(;++c<t;)if(h=e[c],g&&h===h){for(var r=m;r--;)if(k[r]===h)continue a;a.push(h)}else 0>d(k,h,0)&&a.push(h);return a}function vb(e,k){var t=!0;la(e,function(e,a,b){return t=!!k(e,a,b)});return t}function ec(e,k,t,a){var b=a,c=b;la(e,function(e,d,g){d=+k(e,d,g);if(t(d,b)||d===a&&d===c)b=d,c=e});return c}function nc(e,k){var t=[];la(e,function(e,a,b){k(e,a,b)&&t.push(e)});return t}function oc(e,k,t,a){var b;t(e,function(e,
t,c){if(k(e,t,c))return b=a?t:e,!1});return b}function ea(e,k,t,a){a||(a=[]);for(var b=-1,c=e.length;++b<c;){var d=e[b];u(d)&&Z(d)&&(t||M(d)||ta(d))?k?ea(d,k,t,a):na(a,d):t||(a[a.length]=d)}return a}function pc(e,k){return xb(e,k,xa)}function sa(e,k){return xb(e,k,ba)}function yb(e,k){return qc(e,k,ba)}function zb(e,k){for(var t=-1,a=k.length,b=-1,c=[];++t<a;){var d=k[t];Ea(e[d])&&(c[++b]=d)}return c}function Fa(e,k,t){if(null!=e){t!==m&&t in ma(e)&&(k=[t]);t=0;for(var a=k.length;null!=e&&t<a;)e=
e[k[t++]];return t&&t==a?e:m}}function gb(e,k,t,a,b,c){if(e===k)return!0;if(null==e||null==k||!R(e)&&!u(k))return e!==e&&k!==k;a:{var d=gb,g=M(e),h=M(k),m="[object Array]",r="[object Array]";g||(m=ha.call(e),"[object Arguments]"==m?m="[object Object]":"[object Object]"!=m&&(g=Oa(e)));h||(r=ha.call(k),"[object Arguments]"==r?r="[object Object]":"[object Object]"!=r&&Oa(k));var f="[object Object]"==m,h="[object Object]"==r,r=m==r;if(!r||g||f){if(!a&&(m=f&&X.call(e,"__wrapped__"),h=h&&X.call(k,"__wrapped__"),
m||h)){e=d(m?e.value():e,h?k.value():k,t,a,b,c);break a}if(r){b||(b=[]);c||(c=[]);for(m=b.length;m--;)if(b[m]==e){e=c[m]==k;break a}b.push(e);c.push(k);e=(g?Zd:$d)(e,k,d,t,a,b,c);b.pop();c.pop()}else e=!1}else e=ae(e,k,m)}return e}function rc(e,k,t){var a=k.length,b=a,c=!t;if(null==e)return!b;for(e=ma(e);a--;){var d=k[a];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<b;){var d=k[a],g=d[0],h=e[g],r=d[1];if(c&&d[2]){if(h===m&&!(g in e))return!1}else if(d=t?t(h,r,g):m,d===m?!gb(r,h,t,!0):!d)return!1}return!0}
function Ab(e,k){var t=-1,a=Z(e)?S(e.length):[];la(e,function(e,b,c){a[++t]=k(e,b,c)});return a}function Ua(e){var k=sc(e);if(1==k.length&&k[0][2]){var t=k[0][0],a=k[0][1];return function(e){return null==e?!1:e[t]===a&&(a!==m||t in ma(e))}}return function(e){return rc(e,k)}}function lc(e,k){var t=M(e),a=Ga(e)&&k===k&&!R(k),b=e+"";e=ya(e);return function(c){if(null==c)return!1;var d=b;c=ma(c);if(!(!t&&a||d in c)){c=1==e.length?c:Fa(c,ja(e,0,-1));if(null==c)return!1;d=Wa(e);c=ma(c)}return c[d]===k?
k!==m||d in c:gb(k,c[d],m,!0)}}function tc(e,k,t,a,b){if(!R(e))return e;var c=Z(k)&&(M(k)||Oa(k)),d=c?m:ba(k);ka(d||k,function(g,h){d&&(h=g,g=k[h]);if(u(g)){a||(a=[]);b||(b=[]);a:{for(var r=h,f=a,L=b,K=f.length,C=k[r];K--;)if(f[K]==C){e[r]=L[K];break a}var K=e[r],l=t?t(K,C,r,e,k):m,J=l===m;J&&(l=C,Z(C)&&(M(C)||Oa(C))?l=M(K)?K:Z(K)?ca(K):[]:hb(C)||ta(C)?l=ta(K)?uc(K):hb(K)?K:{}:J=!1);f.push(C);L.push(l);if(J)e[r]=tc(l,C,t,f,L);else if(l===l?l!==K:K===K)e[r]=l}}else r=e[h],f=t?t(r,g,h,e,k):m,(L=f===
m)&&(f=g),f===m&&(!c||h in e)||!L&&(f===f?f===r:r!==r)||(e[h]=f)});return e}function Bb(e){return function(k){return null==k?m:k[e]}}function fc(e){var k=e+"";e=ya(e);return function(t){return Fa(t,e,k)}}function vc(e,k){for(var t=e?k.length:0;t--;){var a=k[t];if(a!=b&&wa(a)){var b=a;wc.call(e,a,1)}}return e}function Cb(e,k){return e+Ha(xc()*(k-e+1))}function be(e,k,t,a,b){b(e,function(e,b,c){t=a?(a=!1,e):k(t,e,b,c)});return t}function ja(e,k,t){var a=-1,b=e.length;k=null==k?0:+k||0;0>k&&(k=-k>b?
0:b+k);t=t===m||t>b?b:+t||0;0>t&&(t+=b);b=k>t?0:t-k>>>0;k>>>=0;for(t=S(b);++a<b;)t[a]=e[a+k];return t}function ce(e,k){var t;la(e,function(e,a,b){t=k(e,a,b);return!t});return!!t}function yc(e,k){var t=e.length;for(e.sort(k);t--;)e[t]=e[t].value;return e}function zc(e,k,t){var a=Q(),b=-1;k=Ma(k,function(e){return a(e)});e=Ab(e,function(e){return{criteria:Ma(k,function(k){return k(e)}),index:++b,value:e}});return yc(e,function(e,k){var a;a:{for(var b=-1,c=e.criteria,d=k.criteria,Vd=c.length,g=t.length;++b<
Vd;)if(a=z(c[b],d[b])){if(b>=g)break a;b=t[b];a*="asc"===b||!0===b?1:-1;break a}a=e.index-k.index}return a})}function de(e,k){var t=0;la(e,function(e,a,b){t+=+k(e,a,b)||0});return t}function Db(e,k){var t=-1,a=Na(),c=e.length,d=a==b,g=d&&200<=c,h=g?bb&&cb?new Ka(void 0):null:null,m=[];h?(a=La,d=!1):(g=!1,h=k?[]:m);a:for(;++t<c;){var r=e[t],f=k?k(r,t,e):r;if(d&&r===r){for(var L=h.length;L--;)if(h[L]===f)continue a;k&&h.push(f);m.push(r)}else 0>a(h,f,0)&&((k||g)&&h.push(f),m.push(r))}return m}function Eb(e,
k){for(var t=-1,a=k.length,b=S(a);++t<a;)b[t]=e[k[t]];return b}function ib(e,k,t,a){for(var b=e.length,c=a?b:-1;(a?c--:++c<b)&&k(e[c],c,e););return t?ja(e,a?0:c,a?c+1:b):ja(e,a?c+1:0,a?b:c)}function Ac(e,k){var t=e;t instanceof B&&(t=t.value());for(var a=-1,b=k.length;++a<b;)var c=k[a],t=c.func.apply(c.thisArg,na([t],c.args));return t}function Fb(e,k,t){var a=0,b=e?e.length:a;if("number"==typeof k&&k===k&&2147483647>=b){for(;a<b;){var c=a+b>>>1,d=e[c];(t?d<=k:d<k)&&null!==d?a=c+1:b=c}return b}return Bc(e,
k,Ca,t)}function Bc(e,k,t,a){k=t(k);for(var b=0,c=e?e.length:0,d=k!==k,g=null===k,h=k===m;b<c;){var r=Ha((b+c)/2),f=t(e[r]),L=f!==m,K=f===f;(d?K||a:g?K&&L&&(a||null!=f):h?K&&(a||L):null==f?0:a?f<=k:f<k)?b=r+1:c=r}return fa(c,4294967294)}function ga(e,k,t){if("function"!=typeof e)return Ca;if(k===m)return e;switch(t){case 1:return function(t){return e.call(k,t)};case 3:return function(t,a,b){return e.call(k,t,a,b)};case 4:return function(t,a,b,c){return e.call(k,t,a,b,c)};case 5:return function(t,
a,b,c,d){return e.call(k,t,a,b,c,d)}}return function(){return e.apply(k,arguments)}}function Cc(e){var k=new ee(e.byteLength);(new Dc(k)).set(new Dc(e));return k}function Ec(e,k,t){for(var a=t.length,b=-1,c=aa(e.length-a,0),d=-1,g=k.length,h=S(g+c);++d<g;)h[d]=k[d];for(;++b<a;)h[t[b]]=e[b];for(;c--;)h[d++]=e[b++];return h}function Fc(e,k,t){for(var a=-1,b=t.length,c=-1,d=aa(e.length-b,0),g=-1,h=k.length,m=S(d+h);++c<d;)m[c]=e[c];for(d=c;++g<h;)m[d+g]=k[g];for(;++a<b;)m[d+t[a]]=e[c++];return m}function jb(e,
k){return function(t,a,b){var c=k?k():{};a=Q(a,b,3);if(M(t)){b=-1;for(var d=t.length;++b<d;){var g=t[b];e(c,g,a(g,b,t),t)}}else la(t,function(k,t,b){e(c,k,a(k,t,b),b)});return c}}function Gc(e){return P(function(k,t){var a=-1,b=null==k?0:t.length,c=2<b?t[b-2]:m,d=2<b?t[2]:m,g=1<b?t[b-1]:m;"function"==typeof c?(c=ga(c,g,5),b-=2):(c="function"==typeof g?g:m,b-=c?1:0);d&&O(t[0],t[1],d)&&(c=3>b?m:c,b=1);for(;++a<b;)(d=t[a])&&e(k,d,c);return k})}function Hc(e,k){return function(t,a){var b=t?Xa(t):0;if(!oa(b))return e(t,
a);for(var c=k?b:-1,d=ma(t);(k?c--:++c<b)&&!1!==a(d[c],c,d););return t}}function Ic(e){return function(k,t,a){var b=ma(k);a=a(k);for(var c=a.length,d=e?c:-1;e?d--:++d<c;){var g=a[d];if(!1===t(b[g],g,b))break}return k}}function fe(e,k){function a(){return(this&&this!==pa&&this instanceof a?b:e).apply(k,arguments)}var b=kb(e);return a}function lb(e){return function(k){var a=-1;k=Jc(Kc(k));for(var b=k.length,c="";++a<b;)c=e(c,k[a],a);return c}}function kb(e){return function(){var k=arguments;switch(k.length){case 0:return new e;
case 1:return new e(k[0]);case 2:return new e(k[0],k[1]);case 3:return new e(k[0],k[1],k[2]);case 4:return new e(k[0],k[1],k[2],k[3]);case 5:return new e(k[0],k[1],k[2],k[3],k[4]);case 6:return new e(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new e(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var a=Ya(e.prototype),k=e.apply(a,k);return R(k)?k:a}}function Lc(e){function k(a,b,c){c&&O(a,b,c)&&(b=m);a=za(a,e,m,m,m,m,m,b);a.placeholder=k.placeholder;return a}return k}function Mc(e,k){return P(function(a){var b=
a[0];if(null==b)return b;a.push(k);return e.apply(m,a)})}function Nc(e,k){return function(a,b,c){c&&O(a,b,c)&&(b=m);b=Q(b,c,3);if(1==b.length){c=a=M(a)?a:Gb(a);for(var d=b,g=-1,h=c.length,r=k,f=r;++g<h;){var L=c[g],K=+d(L);e(K,r)&&(r=K,f=L)}c=f;if(!a.length||c!==k)return c}return ec(a,b,e,k)}}function Oc(e,k){return function(a,b,c){b=Q(b,c,3);return M(a)?(b=H(a,b,k),-1<b?a[b]:m):oc(a,b,e)}}function Pc(e){return function(k,a,b){if(!k||!k.length)return-1;a=Q(a,b,3);return H(k,a,e)}}function Qc(e){return function(k,
a,b){a=Q(a,b,3);return oc(k,a,e,!0)}}function Rc(e){return function(){for(var k,a=arguments.length,b=e?a:-1,c=0,d=S(a);e?b--:++b<a;){var g=d[c++]=arguments[b];if("function"!=typeof g)throw new ia("Expected a function");!k&&w.prototype.thru&&"wrapper"==mb(g)&&(k=new w([],!0))}for(b=k?-1:a;++b<a;){var g=d[b],c=mb(g),h="wrapper"==c?Hb(g):m;k=h&&Ib(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?k[mb(h[0])].apply(k,h[3]):1==g.length&&Ib(g)?k[c]():k.thru(g)}return function(){var e=arguments,b=e[0];if(k&&1==e.length&&
M(b)&&200<=b.length)return k.plant(b).value();for(var c=0,e=a?d[c].apply(this,e):b;++c<a;)e=d[c].call(this,e);return e}}}function Sc(e,k){return function(a,b,c){return"function"==typeof b&&c===m&&M(a)?e(a,b):k(a,ga(b,c,3))}}function Tc(e){return function(k,a,b){if("function"!=typeof a||b!==m)a=ga(a,b,3);return e(k,a,xa)}}function Uc(e){return function(k,a,b){if("function"!=typeof a||b!==m)a=ga(a,b,3);return e(k,a)}}function Vc(e){return function(k,a,b){var c={};a=Q(a,b,3);sa(k,function(k,b,d){d=a(k,
b,d);b=e?d:b;k=e?k:d;c[b]=k});return c}}function Wc(e){return function(k,a,b){k=v(k);return(e?k:"")+Xc(k,a,b)+(e?"":k)}}function Yc(e){var k=P(function(a,b){var c=h(b,k.placeholder);return za(a,e,m,b,c)});return k}function Zc(e,k){return function(a,b,c,d){var g=3>arguments.length;return"function"==typeof b&&d===m&&M(a)?e(a,b,c,g):be(a,Q(b,d,4),c,g,k)}}function Jb(e,k,a,b,c,d,g,r,f,L){function K(){for(var u=arguments.length,da=u,n=S(u);da--;)n[da]=arguments[da];b&&(n=Ec(n,b,c));d&&(n=Fc(n,d,g));if(A||
N){var da=K.placeholder,q=h(n,da),u=u-q.length;if(u<L){var qa=r?ca(r):m,u=aa(L-u,0),p=A?q:m,q=A?m:q,Ra=A?n:m,n=A?m:n;k|=A?32:64;k&=~(A?64:32);E||(k&=-4);n=[e,k,a,Ra,p,n,q,qa,f,u];qa=Jb.apply(m,n);Ib(e)&&$c(qa,n);qa.placeholder=da;return qa}}da=l?a:this;qa=J?da[e]:e;if(r)for(u=n.length,p=fa(r.length,u),q=ca(n);p--;)Ra=r[p],n[p]=wa(Ra,u)?q[Ra]:m;C&&f<n.length&&(n.length=f);this&&this!==pa&&this instanceof K&&(qa=G||kb(e));return qa.apply(da,n)}var C=k&128,l=k&1,J=k&2,A=k&8,E=k&4,N=k&16,G=J?m:kb(e);
return K}function Xc(e,k,a){e=e.length;k=+k;if(e>=k||!Pa(k))return"";k-=e;a=null==a?" ":a+"";return ad(a,nb(k/a.length)).slice(0,k)}function ge(e,k,a,b){function c(){for(var k=-1,h=arguments.length,m=-1,r=b.length,f=S(r+h);++m<r;)f[m]=b[m];for(;h--;)f[m++]=arguments[++k];return(this&&this!==pa&&this instanceof c?g:e).apply(d?a:this,f)}var d=k&1,g=kb(e);return c}function Kb(e){var k=Ia[e];return function(e,a){return(a=a===m?0:+a||0)?(a=he(10,a),k(e*a)/a):k(e)}}function bd(e){return function(k,a,b,
c){var d=Q(b);return null==b&&d===db?Fb(k,a,e):Bc(k,a,d(b,c,1),e)}}function za(e,k,a,b,c,d,g,r){var f=k&2;if(!f&&"function"!=typeof e)throw new ia("Expected a function");var L=b?b.length:0;L||(k&=-97,b=c=m);L-=c?c.length:0;if(k&64){var K=b,C=c;b=c=m}var l=f?m:Hb(e);a=[e,k,a,b,c,K,C,d,g,r];if(l){b=a[1];k=l[1];r=b|k;c=128==k&&8==b||128==k&&256==b&&a[7].length<=l[8]||384==k&&8==b;if(128>r||c){k&1&&(a[2]=l[2],r|=b&1?0:4);if(b=l[3])c=a[3],a[3]=c?Ec(c,b,l[4]):ca(b),a[4]=c?h(a[3],"__lodash_placeholder__"):
ca(l[4]);if(b=l[5])c=a[5],a[5]=c?Fc(c,b,l[6]):ca(b),a[6]=c?h(a[5],"__lodash_placeholder__"):ca(l[6]);(b=l[7])&&(a[7]=ca(b));k&128&&(a[8]=null==a[8]?l[8]:fa(a[8],l[8]));null==a[9]&&(a[9]=l[9]);a[0]=l[0];a[1]=r}k=a[1];r=a[9]}a[9]=null==r?f?0:e.length:aa(r-L,0)||0;e=1==k?fe(a[0],a[2]):32!=k&&33!=k||a[4].length?Jb.apply(m,a):ge.apply(m,a);return(l?cd:$c)(e,a)}function Zd(e,k,a,b,c,d,g){var h=-1,r=e.length,f=k.length;if(r!=f&&!(c&&f>r))return!1;for(;++h<r;){var L=e[h],f=k[h],K=b?b(c?f:L,c?L:f,h):m;if(K!==
m){if(K)continue;return!1}if(c){if(!hc(k,function(e){return L===e||a(L,e,b,c,d,g)}))return!1}else if(L!==f&&!a(L,f,b,c,d,g))return!1}return!0}function ae(e,k,a){switch(a){case "[object Boolean]":case "[object Date]":return+e==+k;case "[object Error]":return e.name==k.name&&e.message==k.message;case "[object Number]":return e!=+e?k!=+k:e==+k;case "[object RegExp]":case "[object String]":return e==k+""}return!1}function $d(e,k,a,b,c,d,g){var h=ba(e),r=h.length,f=ba(k).length;if(r!=f&&!c)return!1;for(f=
r;f--;){var L=h[f];if(!(c?L in k:X.call(k,L)))return!1}for(var K=c;++f<r;){var L=h[f],l=e[L],C=k[L],J=b?b(c?C:l,c?l:C,L):m;if(J===m?!a(l,C,b,c,d,g):!J)return!1;K||(K="constructor"==L)}return K||(a=e.constructor,b=k.constructor,!(a!=b&&"constructor"in e&&"constructor"in k)||"function"==typeof a&&a instanceof a&&"function"==typeof b&&b instanceof b)?!0:!1}function Q(e,k,b){var c=a.callback||ob,c=c===ob?db:c;return b?c(e,k,b):c}function mb(e){for(var k=e.name,a=pb[k],b=a?a.length:0;b--;){var c=a[b],
d=c.func;if(null==d||d==e)return c.name}return k}function Na(e,k,c){var d=a.indexOf||Lb,d=d===Lb?b:d;return e?d(e,k,c):d}function sc(e){e=dd(e);for(var k=e.length;k--;){var a=e[k],b;b=e[k][1];b=b===b&&!R(b);a[2]=b}return e}function Qa(e,k){var a=null==e?m:e[k];return ed(a)?a:m}function Wd(e){var k=e.length,a=new e.constructor(k);k&&"string"==typeof e[0]&&X.call(e,"index")&&(a.index=e.index,a.input=e.input);return a}function Xd(e){e=e.constructor;"function"==typeof e&&e instanceof e||(e=Ja);return new e}
function Yd(e,k,a){var b=e.constructor;switch(k){case "[object ArrayBuffer]":return Cc(e);case "[object Boolean]":case "[object Date]":return new b(+e);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return k=e.buffer,new b(a?Cc(k):k,e.byteOffset,e.length);case "[object Number]":case "[object String]":return new b(e);
case "[object RegExp]":var c=new b(e.source,fd.exec(e));c.lastIndex=e.lastIndex}return c}function Mb(e,k,a){null==e||Ga(k,e)||(k=ya(k),e=1==k.length?e:Fa(e,ja(k,0,-1)),k=Wa(k));k=null==e?e:e[k];return null==k?m:k.apply(e,a)}function Z(e){return null!=e&&oa(Xa(e))}function wa(e,k){e="number"==typeof e||ie.test(e)?+e:-1;return-1<e&&0==e%1&&e<(null==k?9007199254740991:k)}function O(e,k,a){if(!R(a))return!1;var b=typeof k;return("number"==b?Z(a)&&wa(k,a.length):"string"==b&&k in a)?(k=a[k],e===e?e===
k:k!==k):!1}function Ga(e,k){var a=typeof e;return"string"==a&&K.test(e)||"number"==a?!0:M(e)?!1:!N.test(e)||null!=k&&e in ma(k)}function Ib(e){var k=mb(e);if(!(k in B.prototype))return!1;k=a[k];if(e===k)return!0;k=Hb(k);return!!k&&e===k[0]}function oa(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e}function gd(e,k){return e===m?k:Nb(e,k,gd)}function hd(e,k){e=ma(e);for(var a=-1,b=k.length,c={};++a<b;){var d=k[a];d in e&&(c[d]=e[d])}return c}function id(e,k){var a={};pc(e,function(e,
b,c){k(e,b,c)&&(a[b]=e)});return a}function jd(e){for(var k=xa(e),a=k.length,b=a&&e.length,c=!!b&&oa(b)&&(M(e)||ta(e)),d=-1,g=[];++d<a;){var h=k[d];(c&&wa(h,b)||X.call(e,h))&&g.push(h)}return g}function Gb(e){return null==e?[]:Z(e)?R(e)?e:Ja(e):qb(e)}function ma(e){return R(e)?e:Ja(e)}function ya(e){if(M(e))return e;var k=[];v(e).replace(L,function(e,a,b,c){k.push(b?c.replace(rb,"$1"):a||e)});return k}function gc(e){return e instanceof B?e.clone():new w(e.__wrapped__,e.__chain__,ca(e.__actions__))}
function kd(e,k,a){if(!e||!e.length)return[];if(a?O(e,k,a):null==k)k=1;return ja(e,0>k?0:k)}function ld(e,k,a){var b=e?e.length:0;if(!b)return[];if(a?O(e,k,a):null==k)k=1;k=b-(+k||0);return ja(e,0,0>k?0:k)}function md(e){return e?e[0]:m}function Lb(e,k,a){var c=e?e.length:0;if(!c)return-1;if("number"==typeof a)a=0>a?aa(c+a,0):a;else if(a)return a=Fb(e,k),a<c&&(k===k?k===e[a]:e[a]!==e[a])?a:-1;return b(e,k,a||0)}function Wa(e){var k=e?e.length:0;return k?e[k-1]:m}function nd(e){return kd(e,1)}function od(e,
k,a,c){if(!e||!e.length)return[];null!=k&&"boolean"!=typeof k&&(c=a,a=O(e,k,c)?m:k,k=!1);var d=Q();if(null!=a||d!==db)a=d(a,c,3);if(k&&Na()==b){k=a;var g;a=-1;c=e.length;for(var d=-1,h=[];++a<c;){var r=e[a],f=k?k(r,a,e):r;a&&g===f||(g=f,h[++d]=r)}e=h}else e=Db(e,a);return e}function Ob(e){if(!e||!e.length)return[];var k=-1,a=0;e=va(e,function(e){if(Z(e))return a=aa(e.length,a),!0});for(var b=S(a);++k<a;)b[k]=Ma(e,Bb(k));return b}function pd(e,k,a){if(!e||!e.length)return[];e=Ob(e);if(null==k)return e;
k=ga(k,a,4);return Ma(e,function(e){return Sa(e,k,m,!0)})}function qd(e,k){var a=-1,b=e?e.length:0,c={};for(!b||k||M(e[0])||(k=[]);++a<b;){var d=e[a];k?c[d]=k[a]:d&&(c[d[0]]=d[1])}return c}function rd(e){e=a(e);e.__chain__=!0;return e}function Pb(e,k,a){return k.call(a,e)}function sd(e,a,b){var c=M(e)?ra:vb;b&&O(e,a,b)&&(a=m);if("function"!=typeof a||b!==m)a=Q(a,b,3);return c(e,a)}function Qb(e,a,b){var c=M(e)?va:nc;a=Q(a,b,3);return c(e,a)}function Rb(e,a,b,c){var d=e?Xa(e):0;oa(d)||(e=qb(e),d=e.length);
b="number"!=typeof b||c&&O(a,b,c)?0:0>b?aa(d+b,0):b||0;return"string"==typeof e||!M(e)&&Sb(e)?b<=d&&-1<e.indexOf(a,b):!!d&&-1<Na(e,a,b)}function Tb(e,a,b){var c=M(e)?Ma:Ab;a=Q(a,b,3);return c(e,a)}function sb(e,a,b){if(b?O(e,a,b):null==a){e=Gb(e);var c=e.length;return 0<c?e[Cb(0,c-1)]:m}b=-1;e=td(e);var c=e.length,d=c-1;for(a=fa(0>a?0:+a||0,c);++b<a;){var c=Cb(b,d),g=e[c];e[c]=e[b];e[b]=g}e.length=a;return e}function ud(e,a,b){var c=M(e)?hc:ce;b&&O(e,a,b)&&(a=m);if("function"!=typeof a||b!==m)a=Q(a,
b,3);return c(e,a)}function vd(e,a){var b;if("function"!=typeof a)if("function"==typeof e){var c=e;e=a;a=c}else throw new ia("Expected a function");return function(){0<--e&&(b=a.apply(this,arguments));1>=e&&(a=m);return b}}function wd(e,a,b){function c(a,k){k&&Za(k);f=C=J=m;a&&(A=$a(),L=e.apply(l,r),C||f||(r=l=m))}function d(){var e=a-($a()-K);0>=e||e>a?c(J,f):C=fb(d,e)}function g(){c(u,C)}function h(){r=arguments;K=$a();l=this;J=u&&(C||!N);if(!1===E)var b=N&&!C;else{f||N||(A=K);var c=E-(K-A),t=0>=
c||c>E;t?(f&&(f=Za(f)),A=K,L=e.apply(l,r)):f||(f=fb(g,c))}t&&C?C=Za(C):C||a===E||(C=fb(d,a));b&&(t=!0,L=e.apply(l,r));!t||C||f||(r=l=m);return L}var r,f,L,K,l,C,J,A=0,E=!1,u=!0;if("function"!=typeof e)throw new ia("Expected a function");a=0>a?0:+a||0;if(!0===b)var N=!0,u=!1;else R(b)&&(N=!!b.leading,E="maxWait"in b&&aa(+b.maxWait||0,a),u="trailing"in b?!!b.trailing:u);h.cancel=function(){C&&Za(C);f&&Za(f);A=0;f=C=J=m};return h}function Ub(e,a){if("function"!=typeof e||a&&"function"!=typeof a)throw new ia("Expected a function");
var b=function(){var c=arguments,d=a?a.apply(this,c):c[0],g=b.cache;if(g.has(d))return g.get(d);c=e.apply(this,c);b.cache=g.set(d,c);return c};b.cache=new Ub.Cache;return b}function P(e,a){if("function"!=typeof e)throw new ia("Expected a function");a=aa(a===m?e.length-1:+a||0,0);return function(){for(var b=arguments,c=-1,d=aa(b.length-a,0),g=S(d);++c<d;)g[c]=b[a+c];switch(a){case 0:return e.call(this,g);case 1:return e.call(this,b[0],g);case 2:return e.call(this,b[0],b[1],g)}d=S(a+1);for(c=-1;++c<
a;)d[c]=b[c];d[a]=g;return e.apply(this,d)}}function xd(e,a){return e>a}function ta(e){return u(e)&&Z(e)&&X.call(e,"callee")&&!je.call(e,"callee")}function yd(e,a,b,c){c=(b="function"==typeof b?ga(b,c,3):m)?b(e,a):m;return c===m?gb(e,a,b):!!c}function Vb(e){return u(e)&&"string"==typeof e.message&&"[object Error]"==ha.call(e)}function Ea(e){return R(e)&&"[object Function]"==ha.call(e)}function R(e){var a=typeof e;return!!e&&("object"==a||"function"==a)}function ed(e){return null==e?!1:Ea(e)?ke.test(zd.call(e)):
u(e)&&le.test(e)}function Ad(e){return"number"==typeof e||u(e)&&"[object Number]"==ha.call(e)}function hb(e){var a;if(!u(e)||"[object Object]"!=ha.call(e)||ta(e)||!(X.call(e,"constructor")||(a=e.constructor,"function"!=typeof a||a instanceof a)))return!1;var b;pc(e,function(e,a){b=a});return b===m||X.call(e,b)}function Bd(e){return R(e)&&"[object RegExp]"==ha.call(e)}function Sb(e){return"string"==typeof e||u(e)&&"[object String]"==ha.call(e)}function Oa(e){return u(e)&&oa(e.length)&&!!U[ha.call(e)]}
function Cd(e,a){return e<a}function td(e){var a=e?Xa(e):0;return oa(a)?a?ca(e):[]:qb(e)}function uc(e){return jc(e,xa(e))}function Wb(e){return zb(e,xa(e))}function xa(e){if(null==e)return[];R(e)||(e=Ja(e));for(var a=e.length,a=a&&oa(a)&&(M(e)||ta(e))&&a||0,b=e.constructor,c=-1,b="function"==typeof b&&b.prototype===e,d=S(a),g=0<a;++c<a;)d[c]=c+"";for(var h in e)g&&wa(h,a)||"constructor"==h&&(b||!X.call(e,h))||d.push(h);return d}function dd(e){e=ma(e);for(var a=-1,b=ba(e),c=b.length,d=S(c);++a<c;){var g=
b[a];d[a]=[g,e[g]]}return d}function qb(e){return Eb(e,ba(e))}function Kc(e){return(e=v(e))&&e.replace(me,D).replace(qa,"")}function ad(e,a){var b="";e=v(e);a=+a;if(1>a||!e||!Pa(a))return b;do a%2&&(b+=e),a=Ha(a/2),e+=e;while(a);return b}function Dd(e,a,b){var d=e;e=v(e);if(!e)return e;if(b?O(d,a,b):null==a)return e.slice(c(e),g(e)+1);a+="";return e.slice(p(e,a),n(e,a)+1)}function Jc(e,a,b){b&&O(e,a,b)&&(a=m);e=v(e);return e.match(a||ne)||[]}function ob(e,a,b){b&&O(e,a,b)&&(a=m);return u(e)?Ed(e):
db(e,a)}function Ca(e){return e}function Ed(e){return Ua(Da(e,!0))}function Xb(e,a,b){if(null==b){var c=R(a),d=c?ba(a):m;((d=d&&d.length?zb(a,d):m)?d.length:c)||(d=!1,b=a,a=e,e=this)}d||(d=zb(a,ba(a)));var g=!0,c=-1,h=Ea(e),r=d.length;!1===b?g=!1:R(b)&&"chain"in b&&(g=b.chain);for(;++c<r;){b=d[c];var f=a[b];e[b]=f;h&&(e.prototype[b]=function(a){return function(){var b=this.__chain__;if(g||b){var k=e(this.__wrapped__);(k.__actions__=ca(this.__actions__)).push({func:a,args:arguments,thisArg:e});k.__chain__=
b;return k}return a.apply(e,na([this.value()],arguments))}}(f))}return e}function Fd(){}function eb(e){return Ga(e)?Bb(e):fc(e)}d=d?Aa.defaults(pa.Object(),d,Aa.pick(pa,oe)):pa;var S=d.Array,Gd=d.Date,pe=d.Error,Hd=d.Function,Ia=d.Math,Id=d.Number,Ja=d.Object,Yb=d.RegExp,Jd=d.String,ia=d.TypeError,Kd=S.prototype,Zb=Ja.prototype,qe=Jd.prototype,zd=Hd.prototype.toString,X=Zb.hasOwnProperty,re=0,ha=Zb.toString,se=pa._,ke=Yb("^"+zd.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$"),ee=d.ArrayBuffer,Za=d.clearTimeout,te=d.parseFloat,he=Ia.pow,je=Zb.propertyIsEnumerable,cb=Qa(d,"Set"),fb=d.setTimeout,wc=Kd.splice,Dc=d.Uint8Array,Ld=Qa(d,"WeakMap"),nb=Ia.ceil,bb=Qa(Ja,"create"),Ha=Ia.floor,ue=Qa(S,"isArray"),Pa=d.isFinite,Md=Qa(Ja,"keys"),aa=Ia.max,fa=Ia.min,ve=Qa(Gd,"now"),we=d.parseInt,xc=Ia.random,xe=Id.NEGATIVE_INFINITY,ab=Id.POSITIVE_INFINITY,tb=Ld&&new Ld,pb={};a.support={};a.templateSettings={escape:Y,evaluate:V,interpolate:C,variable:"",imports:{_:a}};var Ya=
function(){function e(){}return function(a){if(R(a)){e.prototype=a;var b=new e;e.prototype=m}return b||{}}}(),la=Hc(sa),$b=Hc(yb,!0),xb=Ic(),qc=Ic(!0),cd=tb?function(e,a){tb.set(e,a);return e}:Ca,Hb=tb?function(e){return tb.get(e)}:Fd,Xa=Bb("length"),$c=function(){var e=0,a=0;return function(b,c){var d=$a(),g=16-(d-a);a=d;if(0<g){if(150<=++e)return b}else e=0;return cd(b,c)}}(),ye=P(function(e,a){return u(e)&&Z(e)?Va(e,ea(a,!1,!0)):[]}),ze=Pc(),Ae=Pc(!0),Be=P(function(e){for(var a=e.length,c=a,d=
S(L),g=Na(),h=g==b,r=[];c--;){var m=e[c]=Z(m=e[c])?m:[];d[c]=h&&120<=m.length?bb&&cb?new Ka(c&&m):null:null}var h=e[0],f=-1,L=h?h.length:0,K=d[0];a:for(;++f<L;)if(m=h[f],0>(K?La(K,m):g(r,m,0))){for(c=a;--c;){var l=d[c];if(0>(l?La(l,m):g(e[c],m,0)))continue a}K&&K.push(m);r.push(m)}return r}),Ce=P(function(e,a){a=ea(a);var b=kc(e,a);vc(e,a.sort(z));return b}),De=bd(),Ee=bd(!0),Fe=P(function(e){return Db(ea(e,!1,!0))}),Ge=P(function(e,a){return Z(e)?Va(e,a):[]}),He=P(Ob),Ie=P(function(e){var a=e.length,
b=2<a?e[a-2]:m,c=1<a?e[a-1]:m;2<a&&"function"==typeof b?a-=2:(b=1<a&&"function"==typeof c?(--a,c):m,c=m);e.length=a;return pd(e,b,c)}),Je=P(function(e){e=ea(e);return this.thru(function(a){a=M(a)?a:[ma(a)];for(var b=e,c=-1,d=a.length,g=-1,h=b.length,r=S(d+h);++c<d;)r[c]=a[c];for(;++g<h;)r[c++]=b[g];return r})}),Ke=P(function(e,a){return kc(e,ea(a))}),Le=jb(function(e,a,b){X.call(e,b)?++e[b]:e[b]=1}),ac=Oc(la),Me=Oc($b,!0),Nd=Sc(ka,la),Od=Sc(function(e,a){for(var b=e.length;b--&&!1!==a(e[b],b,e););
return e},$b),Ne=jb(function(e,a,b){X.call(e,b)?e[b].push(a):e[b]=[a]}),Oe=jb(function(e,a,b){e[b]=a}),Pe=P(function(e,a,b){var c=-1,d="function"==typeof a,g=Ga(a),h=Z(e)?S(e.length):[];la(e,function(e){var r=d?a:g&&null!=e?e[a]:m;h[++c]=r?r.apply(e,b):Mb(e,a,b)});return h}),Qe=jb(function(e,a,b){e[b?0:1].push(a)},function(){return[[],[]]}),bc=Zc(Sa,la),Pd=Zc(function(e,a,b,c){var d=e.length;for(c&&d&&(b=e[--d]);d--;)b=a(b,e[d],d,e);return b},$b),Re=P(function(e,a){if(null==e)return[];var b=a[2];
b&&O(a[0],a[1],b)&&(a.length=1);return zc(e,ea(a),[])}),$a=ve||function(){return(new Gd).getTime()},Qd=P(function(e,a,b){var c=1;if(b.length)var d=h(b,Qd.placeholder),c=c|32;return za(e,c,a,b,d)}),Se=P(function(e,a){a=a.length?ea(a):Wb(e);for(var b=-1,c=a.length;++b<c;){var d=a[b];e[d]=za(e[d],1,e)}return e}),Rd=P(function(e,a,b){var c=3;if(b.length)var d=h(b,Rd.placeholder),c=c|32;return za(a,c,e,b,d)}),Te=Lc(8),Ue=Lc(16),Ve=P(function(e,a){return mc(e,1,a)}),We=P(function(e,a,b){return mc(e,a,b)}),
Xe=Rc(),cc=Rc(!0),Ye=P(function(e,a){a=ea(a);if("function"!=typeof e||!ra(a,I))throw new ia("Expected a function");var b=a.length;return P(function(c){for(var d=fa(c.length,b);d--;)c[d]=a[d](c[d]);return e.apply(this,c)})}),Ze=Yc(32),$e=Yc(64),af=P(function(e,a){return za(e,256,m,m,m,ea(a))}),M=ue||function(e){return u(e)&&oa(e.length)&&"[object Array]"==ha.call(e)},Nb=Gc(tc),dc=Gc(function(e,a,b){return b?wb(e,a,b):Ta(e,a)}),bf=Mc(dc,function(e,a){return e===m?a:e}),cf=Mc(Nb,gd),df=Qc(sa),ef=Qc(yb),
ff=Tc(xb),gf=Tc(qc),hf=Uc(sa),jf=Uc(yb),ba=Md?function(e){var a=null==e?m:e.constructor;return"function"==typeof a&&a.prototype===e||"function"!=typeof e&&Z(e)?jd(e):R(e)?Md(e):[]}:jd,kf=Vc(!0),lf=Vc(),mf=P(function(e,a){if(null==e)return{};if("function"!=typeof a[0])return a=Ma(ea(a),Jd),hd(e,Va(xa(e),a));var b=ga(a[0],a[1],3);return id(e,function(e,a,c){return!b(e,a,c)})}),nf=P(function(e,a){return null==e?{}:"function"==typeof a[0]?id(e,ga(a[0],a[1],3)):hd(e,ea(a))}),of=lb(function(e,a,b){a=a.toLowerCase();
return e+(b?a.charAt(0).toUpperCase()+a.slice(1):a)}),pf=lb(function(e,a,b){return e+(b?"-":"")+a.toLowerCase()}),qf=Wc(),rf=Wc(!0),sf=lb(function(e,a,b){return e+(b?"_":"")+a.toLowerCase()}),tf=lb(function(e,a,b){return e+(b?" ":"")+(a.charAt(0).toUpperCase()+a.slice(1))}),Sd=P(function(e,a){try{return e.apply(m,a)}catch(b){return Vb(b)?b:new pe(b)}}),uf=P(function(e,a){return function(b){return Mb(b,e,a)}}),vf=P(function(e,a){return function(b){return Mb(e,b,a)}}),wf=Kb("ceil"),xf=Kb("floor"),yf=
Nc(xd,xe),zf=Nc(Cd,ab),Af=Kb("round");a.prototype=f.prototype;w.prototype=Ya(f.prototype);w.prototype.constructor=w;B.prototype=Ya(f.prototype);B.prototype.constructor=B;Ba.prototype["delete"]=function(e){return this.has(e)&&delete this.__data__[e]};Ba.prototype.get=function(e){return"__proto__"==e?m:this.__data__[e]};Ba.prototype.has=function(e){return"__proto__"!=e&&X.call(this.__data__,e)};Ba.prototype.set=function(e,a){"__proto__"!=e&&(this.__data__[e]=a);return this};Ka.prototype.push=function(e){var a=
this.data;"string"==typeof e||R(e)?a.set.add(e):a.hash[e]=!0};Ub.Cache=Ba;a.after=function(e,a){if("function"!=typeof a)if("function"==typeof e){var b=e;e=a;a=b}else throw new ia("Expected a function");e=Pa(e=+e)?e:0;return function(){if(1>--e)return a.apply(this,arguments)}};a.ary=function(e,a,b){b&&O(e,a,b)&&(a=m);a=e&&null==a?e.length:aa(+a||0,0);return za(e,128,m,m,m,m,a)};a.assign=dc;a.at=Ke;a.before=vd;a.bind=Qd;a.bindAll=Se;a.bindKey=Rd;a.callback=ob;a.chain=rd;a.chunk=function(e,a,b){a=(b?
O(e,a,b):null==a)?1:aa(Ha(a)||1,1);b=0;for(var c=e?e.length:0,d=-1,g=S(nb(c/a));b<c;)g[++d]=ja(e,b,b+=a);return g};a.compact=function(e){for(var a=-1,b=e?e.length:0,c=-1,d=[];++a<b;){var g=e[a];g&&(d[++c]=g)}return d};a.constant=function(a){return function(){return a}};a.countBy=Le;a.create=function(a,b,c){var d=Ya(a);c&&O(a,b,c)&&(b=m);return b?Ta(d,b):d};a.curry=Te;a.curryRight=Ue;a.debounce=wd;a.defaults=bf;a.defaultsDeep=cf;a.defer=Ve;a.delay=We;a.difference=ye;a.drop=kd;a.dropRight=ld;a.dropRightWhile=
function(a,b,c){return a&&a.length?ib(a,Q(b,c,3),!0,!0):[]};a.dropWhile=function(a,b,c){return a&&a.length?ib(a,Q(b,c,3),!0):[]};a.fill=function(a,b,c,d){var g=a?a.length:0;if(!g)return[];c&&"number"!=typeof c&&O(a,b,c)&&(c=0,d=g);g=a.length;c=null==c?0:+c||0;0>c&&(c=-c>g?0:g+c);d=d===m||d>g?g:+d||0;0>d&&(d+=g);g=c>d?0:d>>>0;for(c>>>=0;c<g;)a[c++]=b;return a};a.filter=Qb;a.flatten=function(a,b,c){var d=a?a.length:0;c&&O(a,b,c)&&(b=!1);return d?ea(a,b):[]};a.flattenDeep=function(a){return a&&a.length?
ea(a,!0):[]};a.flow=Xe;a.flowRight=cc;a.forEach=Nd;a.forEachRight=Od;a.forIn=ff;a.forInRight=gf;a.forOwn=hf;a.forOwnRight=jf;a.functions=Wb;a.groupBy=Ne;a.indexBy=Oe;a.initial=function(a){return ld(a,1)};a.intersection=Be;a.invert=function(a,b,c){c&&O(a,b,c)&&(b=m);c=-1;for(var d=ba(a),g=d.length,h={};++c<g;){var r=d[c],f=a[r];b?X.call(h,f)?h[f].push(r):h[f]=[r]:h[f]=r}return h};a.invoke=Pe;a.keys=ba;a.keysIn=xa;a.map=Tb;a.mapKeys=kf;a.mapValues=lf;a.matches=Ed;a.matchesProperty=function(a,b){return lc(a,
Da(b,!0))};a.memoize=Ub;a.merge=Nb;a.method=uf;a.methodOf=vf;a.mixin=Xb;a.modArgs=Ye;a.negate=function(a){if("function"!=typeof a)throw new ia("Expected a function");return function(){return!a.apply(this,arguments)}};a.omit=mf;a.once=function(a){return vd(2,a)};a.pairs=dd;a.partial=Ze;a.partialRight=$e;a.partition=Qe;a.pick=nf;a.pluck=function(a,b){return Tb(a,eb(b))};a.property=eb;a.propertyOf=function(a){return function(b){return Fa(a,ya(b),b+"")}};a.pull=function(){var a=arguments,b=a[0];if(!b||
!b.length)return b;for(var c=0,d=Na(),g=a.length;++c<g;)for(var h=0,r=a[c];-1<(h=d(b,r,h));)wc.call(b,h,1);return b};a.pullAt=Ce;a.range=function(a,b,c){c&&O(a,b,c)&&(b=c=m);a=+a||0;c=null==c?1:+c||0;null==b?(b=a,a=0):b=+b||0;var d=-1;b=aa(nb((b-a)/(c||1)),0);for(var g=S(b);++d<b;)g[d]=a,a+=c;return g};a.rearg=af;a.reject=function(a,b,c){var d=M(a)?va:nc;b=Q(b,c,3);return d(a,function(a,e,c){return!b(a,e,c)})};a.remove=function(a,b,c){var d=[];if(!a||!a.length)return d;var g=-1,h=[],r=a.length;for(b=
Q(b,c,3);++g<r;)c=a[g],b(c,g,a)&&(d.push(c),h.push(g));vc(a,h);return d};a.rest=nd;a.restParam=P;a.set=function(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||Ga(b,a)?[d]:ya(b);for(var d=-1,g=b.length,h=g-1,r=a;null!=r&&++d<g;){var m=b[d];R(r)&&(d==h?r[m]=c:null==r[m]&&(r[m]=wa(b[d+1])?[]:{}));r=r[m]}return a};a.shuffle=function(a){return sb(a,ab)};a.slice=function(a,b,c){var d=a?a.length:0;if(!d)return[];c&&"number"!=typeof c&&O(a,b,c)&&(b=0,c=d);return ja(a,b,c)};a.sortBy=function(a,b,c){if(null==
a)return[];c&&O(a,b,c)&&(b=m);var d=-1;b=Q(b,c,3);a=Ab(a,function(a,e,c){return{criteria:b(a,e,c),index:++d,value:a}});return yc(a,q)};a.sortByAll=Re;a.sortByOrder=function(a,b,c,d){if(null==a)return[];d&&O(b,c,d)&&(c=m);M(b)||(b=null==b?[]:[b]);M(c)||(c=null==c?[]:[c]);return zc(a,b,c)};a.spread=function(a){if("function"!=typeof a)throw new ia("Expected a function");return function(b){return a.apply(this,b)}};a.take=function(a,b,c){if(!a||!a.length)return[];if(c?O(a,b,c):null==b)b=1;return ja(a,
0,0>b?0:b)};a.takeRight=function(a,b,c){var d=a?a.length:0;if(!d)return[];if(c?O(a,b,c):null==b)b=1;b=d-(+b||0);return ja(a,0>b?0:b)};a.takeRightWhile=function(a,b,c){return a&&a.length?ib(a,Q(b,c,3),!1,!0):[]};a.takeWhile=function(a,b,c){return a&&a.length?ib(a,Q(b,c,3)):[]};a.tap=function(a,b,c){b.call(c,a);return a};a.throttle=function(a,b,c){var d=!0,g=!0;if("function"!=typeof a)throw new ia("Expected a function");!1===c?d=!1:R(c)&&(d="leading"in c?!!c.leading:d,g="trailing"in c?!!c.trailing:
g);return wd(a,b,{leading:d,maxWait:+b,trailing:g})};a.thru=Pb;a.times=function(a,b,c){a=Ha(a);if(1>a||!Pa(a))return[];var d=-1,g=S(fa(a,4294967295));for(b=ga(b,c,1);++d<a;)4294967295>d?g[d]=b(d):b(d);return g};a.toArray=td;a.toPlainObject=uc;a.transform=function(a,b,c,d){var g=M(a)||Oa(a);b=Q(b,d,4);null==c&&(g||R(a)?(d=a.constructor,c=g?M(a)?new d:[]:Ya(Ea(d)?d.prototype:m)):c={});(g?ka:sa)(a,function(a,e,d){return b(c,a,e,d)});return c};a.union=Fe;a.uniq=od;a.unzip=Ob;a.unzipWith=pd;a.values=qb;
a.valuesIn=function(a){return Eb(a,xa(a))};a.where=function(a,b){return Qb(a,Ua(b))};a.without=Ge;a.wrap=function(a,b){b=null==b?Ca:b;return za(b,32,m,[a],[])};a.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Z(c))var d=d?na(Va(d,c),Va(c,d)):c}return d?Db(d):[]};a.zip=He;a.zipObject=qd;a.zipWith=Ie;a.backflow=cc;a.collect=Tb;a.compose=cc;a.each=Nd;a.eachRight=Od;a.extend=dc;a.iteratee=ob;a.methods=Wb;a.object=qd;a.select=Qb;a.tail=nd;a.unique=od;Xb(a,a);a.add=function(a,
b){return(+a||0)+(+b||0)};a.attempt=Sd;a.camelCase=of;a.capitalize=function(a){return(a=v(a))&&a.charAt(0).toUpperCase()+a.slice(1)};a.ceil=wf;a.clone=function(a,b,c,d){b&&"boolean"!=typeof b&&O(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1);return"function"==typeof c?Da(a,b,ga(c,d,1)):Da(a,b)};a.cloneDeep=function(a,b,c){return"function"==typeof b?Da(a,!0,ga(b,c,1)):Da(a,!0)};a.deburr=Kc;a.endsWith=function(a,b,c){a=v(a);b+="";var d=a.length;c=c===m?d:fa(0>c?0:+c||0,d);c-=b.length;return 0<=c&&
a.indexOf(b,c)==c};a.escape=function(a){return(a=v(a))&&ua.test(a)?a.replace(Td,F):a};a.escapeRegExp=function(a){return(a=v(a))&&Ra.test(a)?a.replace(Ud,y):a||"(?:)"};a.every=sd;a.find=ac;a.findIndex=ze;a.findKey=df;a.findLast=Me;a.findLastIndex=Ae;a.findLastKey=ef;a.findWhere=function(a,b){return ac(a,Ua(b))};a.first=md;a.floor=xf;a.get=function(a,b,c){a=null==a?m:Fa(a,ya(b),b+"");return a===m?c:a};a.gt=xd;a.gte=function(a,b){return a>=b};a.has=function(a,b){if(null==a)return!1;var c=X.call(a,b);
if(!c&&!Ga(b)){b=ya(b);a=1==b.length?a:Fa(a,ja(b,0,-1));if(null==a)return!1;b=Wa(b);c=X.call(a,b)}return c||oa(a.length)&&wa(b,a.length)&&(M(a)||ta(a))};a.identity=Ca;a.includes=Rb;a.indexOf=Lb;a.inRange=function(a,b,c){b=+b||0;c===m?(c=b,b=0):c=+c||0;return a>=fa(b,c)&&a<aa(b,c)};a.isArguments=ta;a.isArray=M;a.isBoolean=function(a){return!0===a||!1===a||u(a)&&"[object Boolean]"==ha.call(a)};a.isDate=function(a){return u(a)&&"[object Date]"==ha.call(a)};a.isElement=function(a){return!!a&&1===a.nodeType&&
u(a)&&!hb(a)};a.isEmpty=function(a){return null==a?!0:Z(a)&&(M(a)||Sb(a)||ta(a)||u(a)&&Ea(a.splice))?!a.length:!ba(a).length};a.isEqual=yd;a.isError=Vb;a.isFinite=function(a){return"number"==typeof a&&Pa(a)};a.isFunction=Ea;a.isMatch=function(a,b,c,d){c="function"==typeof c?ga(c,d,3):m;return rc(a,sc(b),c)};a.isNaN=function(a){return Ad(a)&&a!=+a};a.isNative=ed;a.isNull=function(a){return null===a};a.isNumber=Ad;a.isObject=R;a.isPlainObject=hb;a.isRegExp=Bd;a.isString=Sb;a.isTypedArray=Oa;a.isUndefined=
function(a){return a===m};a.kebabCase=pf;a.last=Wa;a.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var g=d;if("number"==typeof c)g=(0>c?aa(d+c,0):fa(c||0,d-1))+1;else if(c)return g=Fb(a,b,!0)-1,a=a[g],(b===b?b===a:a!==a)?g:-1;if(b!==b)return l(a,g,!0);for(;g--;)if(a[g]===b)return g;return-1};a.lt=Cd;a.lte=function(a,b){return a<=b};a.max=yf;a.min=zf;a.noConflict=function(){pa._=se;return this};a.noop=Fd;a.now=$a;a.pad=function(a,b,c){a=v(a);b=+b;var d=a.length;if(d>=b||!Pa(b))return a;
d=(b-d)/2;b=Ha(d);d=nb(d);c=Xc("",d,c);return c.slice(0,b)+a+c};a.padLeft=qf;a.padRight=rf;a.parseInt=function(a,b,c){(c?O(a,b,c):null==b)?b=0:b&&(b=+b);a=Dd(a);return we(a,b||(Bf.test(a)?16:10))};a.random=function(a,b,c){c&&O(a,b,c)&&(b=c=m);var d=null==a,g=null==b;null==c&&(g&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,g=!0));d&&g&&(b=1,g=!1);a=+a||0;g?(b=a,a=0):b=+b||0;return c||a%1||b%1?(c=xc(),fa(a+c*(b-a+te("1e-"+((c+"").length-1))),b)):Cb(a,b)};a.reduce=bc;a.reduceRight=Pd;a.repeat=
ad;a.result=function(a,b,c){var d=null==a?m:a[b];d===m&&(null==a||Ga(b,a)||(b=ya(b),a=1==b.length?a:Fa(a,ja(b,0,-1)),d=null==a?m:a[Wa(b)]),d=d===m?c:d);return Ea(d)?d.call(a):d};a.round=Af;a.runInContext=G;a.size=function(a){var b=a?Xa(a):0;return oa(b)?b:ba(a).length};a.snakeCase=sf;a.some=ud;a.sortedIndex=De;a.sortedLastIndex=Ee;a.startCase=tf;a.startsWith=function(a,b,c){a=v(a);c=null==c?0:fa(0>c?0:+c||0,a.length);return a.lastIndexOf(b,c)==c};a.sum=function(a,b,c){c&&O(a,b,c)&&(b=m);b=Q(b,c,3);
if(1==b.length){a=M(a)?a:Gb(a);c=a.length;for(var d=0;c--;)d+=+b(a[c])||0;a=d}else a=de(a,b);return a};a.template=function(b,c,d){var g=a.templateSettings;d&&O(b,c,d)&&(c=d=m);b=v(b);c=wb(Ta({},d||c),g,ic);d=wb(Ta({},c.imports),g.imports,ic);var h=ba(d),f=Eb(d,h),L,K,l=0;d=c.interpolate||ub;var A="__p += '";d=Yb((c.escape||ub).source+"|"+d.source+"|"+(d===C?Cf:ub).source+"|"+(c.evaluate||ub).source+"|$","g");var u="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Df+"]")+
"\n";b.replace(d,function(a,c,d,k,g,h){d||(d=k);A+=b.slice(l,h).replace(Ef,x);c&&(L=!0,A+="' +\n__e("+c+") +\n'");g&&(K=!0,A+="';\n"+g+";\n__p += '");d&&(A+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");l=h+a.length;return a});A+="';\n";(c=c.variable)||(A="with (obj) {\n"+A+"\n}\n");A=(K?A.replace(E,""):A).replace(r,"$1").replace(J,"$1;");A="function("+(c||"obj")+") {\n"+(c?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(L?", __e = _.escape":"")+(K?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+A+"return __p\n}";c=Sd(function(){return Hd(h,u+"return "+A).apply(m,f)});c.source=A;if(Vb(c))throw c;return c};a.trim=Dd;a.trimLeft=function(a,b,d){var g=a;return(a=v(a))?(d?O(g,b,d):null==b)?a.slice(c(a)):a.slice(p(a,b+"")):a};a.trimRight=function(a,b,c){var d=a;return(a=v(a))?(c?O(d,b,c):null==b)?a.slice(0,g(a)+1):a.slice(0,n(a,b+"")+1):a};a.trunc=function(a,b,c){c&&O(a,b,c)&&(b=m);var d=30;c="...";if(null!=b)if(R(b)){var g="separator"in b?b.separator:g,d="length"in b?+b.length||0:d;c="omission"in
b?v(b.omission):c}else d=+b||0;a=v(a);if(d>=a.length)return a;d-=c.length;if(1>d)return c;b=a.slice(0,d);if(null==g)return b+c;if(Bd(g)){if(a.slice(d).search(g)){var h,r=a.slice(0,d);g.global||(g=Yb(g.source,(fd.exec(g)||"")+"g"));for(g.lastIndex=0;a=g.exec(r);)h=a.index;b=b.slice(0,null==h?d:h)}}else a.indexOf(g,d)!=d&&(g=b.lastIndexOf(g),-1<g&&(b=b.slice(0,g)));return b+c};a.unescape=function(a){return(a=v(a))&&W.test(a)?a.replace(da,A):a};a.uniqueId=function(a){var b=++re;return v(a)+b};a.words=
Jc;a.all=sd;a.any=ud;a.contains=Rb;a.eq=yd;a.detect=ac;a.foldl=bc;a.foldr=Pd;a.head=md;a.include=Rb;a.inject=bc;Xb(a,function(){var b={};sa(a,function(c,d){a.prototype[d]||(b[d]=c)});return b}(),!1);a.sample=sb;a.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return sb(b,a)}):sb(this.value())};a.VERSION="3.10.1";ka("bind bindKey curry curryRight partial partialRight".split(" "),function(b){a[b].placeholder=a});ka(["drop","take"],function(a,b){B.prototype[a]=function(c){var d=
this.__filtered__;if(d&&!b)return new B(this);c=null==c?1:aa(Ha(c)||0,0);var g=this.clone();d?g.__takeCount__=fa(g.__takeCount__,c):g.__views__.push({size:c,type:a+(0>g.__dir__?"Right":"")});return g};B.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});ka(["filter","map","takeWhile"],function(a,b){var c=b+1,d=2!=c;B.prototype[a]=function(a,b){var e=this.clone();e.__iteratees__.push({iteratee:Q(a,b,1),type:c});e.__filtered__=e.__filtered__||d;return e}});ka(["first","last"],
function(a,b){var c="take"+(b?"Right":"");B.prototype[a]=function(){return this[c](1).value()[0]}});ka(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");B.prototype[a]=function(){return this.__filtered__?new B(this):this[c](1)}});ka(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Ua:eb;B.prototype[a]=function(a){return this[c](d(a))}});B.prototype.compact=function(){return this.filter(Ca)};B.prototype.reject=function(a,b){a=Q(a,b,1);return this.filter(function(b){return!a(b)})};
B.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;if(c.__filtered__&&(0<a||0>b))return new B(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==m&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a));return c};B.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()};B.prototype.toArray=function(){return this.take(ab)};sa(B.prototype,function(b,c){var d=/^(?:filter|map|reject)|While$/.test(c),g=/^(?:first|last)$/.test(c),h=a[g?"take"+("last"==c?"Right":""):c];h&&(a.prototype[c]=
function(){var a=g?[1]:arguments,c=this.__chain__,k=this.__wrapped__,r=!!this.__actions__.length,f=k instanceof B,L=a[0],K=f||M(k);K&&d&&"function"==typeof L&&1!=L.length&&(f=K=!1);var l=function(b){return g&&c?h(b,1)[0]:h.apply(m,na([b],a))},L={func:Pb,args:[l],thisArg:m},r=f&&!r;return g&&!c?r?(k=k.clone(),k.__actions__.push(L),b.call(k)):h.call(m,this.value())[0]:!g&&K?(k=r?k:new B(this),k=b.apply(k,a),k.__actions__.push(L),new w(k,c)):this.thru(l)})});ka("join pop push replace shift sort splice split unshift".split(" "),
function(b){var c=(/^(?:replace|split)$/.test(b)?qe:Kd)[b],d=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",g=/^(?:join|pop|replace|shift)$/.test(b);a.prototype[b]=function(){var a=arguments;return g&&!this.__chain__?c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}});sa(B.prototype,function(b,c){var d=a[c];if(d){var g=d.name;(pb[g]||(pb[g]=[])).push({name:c,func:d})}});pb[Jb(m,2).name]=[{name:"wrapper",func:m}];B.prototype.clone=function(){var a=new B(this.__wrapped__);a.__actions__=
ca(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=ca(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=ca(this.__views__);return a};B.prototype.reverse=function(){if(this.__filtered__){var a=new B(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};B.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=M(b),g=0>c,h=d?b.length:0;a=0;for(var r=h,m=this.__views__,f=-1,L=m.length;++f<L;){var K=
m[f],l=K.size;switch(K.type){case "drop":a+=l;break;case "dropRight":r-=l;break;case "take":r=fa(r,a+l);break;case "takeRight":a=aa(a,r-l)}}m=r;r=m-a;a=g?m:a-1;m=this.__iteratees__;f=m.length;L=0;K=fa(r,this.__takeCount__);if(!d||200>h||h==r&&K==r)return Ac(g&&d?b.reverse():b,this.__actions__);d=[];a:for(;r--&&L<K;){a+=c;g=-1;for(h=b[a];++g<f;){var C=m[g],l=C.iteratee,C=C.type,l=l(h);if(2==C)h=l;else if(!l)if(1==C)continue a;else break a}d[L++]=h}return d};a.prototype.chain=function(){return rd(this)};
a.prototype.commit=function(){return new w(this.value(),this.__chain__)};a.prototype.concat=Je;a.prototype.plant=function(a){for(var b,c=this;c instanceof f;){var d=gc(c);b?g.__wrapped__=d:b=d;var g=d,c=c.__wrapped__}g.__wrapped__=a;return b};a.prototype.reverse=function(){var a=this.__wrapped__,b=function(a){return c&&0>c.__dir__?a:a.reverse()};if(a instanceof B){var c=a;this.__actions__.length&&(c=new B(this));c=c.reverse();c.__actions__.push({func:Pb,args:[b],thisArg:m});return new w(c,this.__chain__)}return this.thru(b)};
a.prototype.toString=function(){return this.value()+""};a.prototype.run=a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return Ac(this.__wrapped__,this.__actions__)};a.prototype.collect=a.prototype.map;a.prototype.head=a.prototype.first;a.prototype.select=a.prototype.filter;a.prototype.tail=a.prototype.rest;return a}var m,E=/\b__p \+= '';/g,r=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,da=/&(?:amp|lt|gt|quot|#39|#96);/g,Td=/[&<>"'`]/g,W=RegExp(da.source),ua=RegExp(Td.source),
Y=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,C=/<%=([\s\S]+?)%>/g,N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,K=/^\w*$/,L=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ud=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ra=RegExp(Ud.source),qa=/[\u0300-\u036f\ufe20-\ufe23]/g,rb=/\\(\\)?/g,Cf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fd=/\w*$/,Bf=/^0[xX]/,le=/^\[object .+?Constructor\]$/,ie=/^\d+$/,me=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ub=/($^)/,
Ef=/['\n\r\u2028\u2029\\]/g,ne=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),oe="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),
Df=-1,U={};U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0;U["[object Arguments]"]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object Boolean]"]=U["[object Date]"]=U["[object Error]"]=U["[object Function]"]=U["[object Map]"]=U["[object Number]"]=U["[object Object]"]=U["[object RegExp]"]=U["[object Set]"]=
U["[object String]"]=U["[object WeakMap]"]=!1;var T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object String]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0;T["[object Error]"]=
T["[object Function]"]=T["[object Map]"]=T["[object Set]"]=T["[object WeakMap]"]=!1;var Ba={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i",
"\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Ka={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},La={"&amp;":"&","&lt;":"<","&gt;":">",
"&quot;":'"',"&#39;":"'","&#96;":"`"},ra={"function":!0,object:!0},vb={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Sa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},va=ra[typeof f]&&f&&!f.nodeType&&f,na=ra[typeof B]&&B&&!B.nodeType&&B,ec=ra[typeof self]&&self&&self.Object&&self,ra=ra[typeof window]&&
window&&window.Object&&window,fc=na&&na.exports===va&&va,pa=va&&na&&"object"==typeof a&&a&&a.Object&&a||ra!==(this&&this.window)&&ra||ec||this,Aa=G();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(pa._=Aa,define(function(){return Aa})):va&&na?fc?(na.exports=Aa)._=Aa:va._=Aa:pa._=Aa}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],10:[function(a,B,f){var w,z,H,b,I,v,p,n,q,D,F,y,x,l,u,d,h,c,g,
A,G,m,E=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};w=a("lodash");m=a("./util");F=a("./match");G=a("./substitute");y=function(a){a=m.cloneExpression(a);a=G.doSubRecursive(a,G.subsForPNF.replace_arrow);a=G.doSubRecursive(a,G.subsForPNF.replace_double_arrow);a=d(a);return a=m.exhaust(a,function(a){var b,c,d;c=G.subsForPNF;for(b in c)d=c[b],"replace_arrow"!==b&&"replace_double_arrow"!==b&&(a=G.doSubRecursive(a,d));return a})};f.prenexNormalForm=
y;f.isPNF=function(a){var b,c,d,g,h,m,f,C;a=l(a);b=q(a,"and");a=[];d=0;for(g=b.length;d<g;d++)c=b[d],a.push(q(c,"or"));c=0;for(g=a.length;c<g;c++)for(C=a[c],d=0,h=C.length;d<h;d++)if(b=C[d],"not"!==(m=b.type)&&"sentence_letter"!==m&&"predicate"!==m||"not"===b.type&&"sentence_letter"!==(f=b.left.type)&&"predicate"!==f)return!1;return!0};d=function(a,b){var c,d,g,h,f,l;null==b&&(b="x");h=("\u03b1"===(f=b[0])||"\u03b2"===f||"\u03b3"===f||"\u03c4"===f?"term_metavariable":void 0)||"variable";c=0;d={};
g=function(a){var g;null==d[a.name]&&(c+=1,g=""+b+c,d[a.name]=g);return d[a.name]};l=function(a){if(null!=d[a.name])return delete d[a.name]};return m.walkMutate(a,function(a){if(null===a||null==(null!=a?a.boundVariable:void 0)&&(null==(null!=a?a.type:void 0)||"variable"!==a.type))return a;null!=a.boundVariable&&l(a.boundVariable);null!=(null!=a?a.type:void 0)&&"variable"===a.type&&(a.name=g(a),a.type=h);return a},{topDown:!0})};f.renameVariables=d;f.convertToPNFsimplifyAndSort=function(a){a=y(a);
a=v(a);a=A(a);h(a);return a};f.areExpressionsEquivalent=function(a,b){a=y(a);b=y(b);return H(a,b)};H=function(a,c){var g,m,f;a=v(a);a=A(a);h(a);c=v(c);c=A(c);h(c);m=d(a,"\u03c4");g=l(m);f=l(c);g=F.find(f,g);if(!1===g)return!1;m=F.apply(m,g);return b(m,c)};f.arePNFExpressionsEquivalent=H;A=function(a){var b,d,h,m,f;f=p(a);a=l(a);b=q(a,"and");a=[];h=0;for(m=b.length;h<m;h++)d=b[h],a.push(q(d,"or"));d=0;for(h=a.length;d<h;d++)b=a[d],c(b);g(a);m=[];d=0;for(h=a.length;d<h;d++)b=a[d],m.push(x(b,"or"));
a=x(m,"and");return I(a,f)};f.sortPNFExpression=A;l=function(a){return null!=a.boundVariable?l(a.left):a};f.removeQuantifiers=l;q=function(a,b){var c;if(null!=a.type&&a.type!==b)return[a];if(null!=a.type&&a.type===b)return c=[],c.push.apply(c,q(a.left,b)),c.push.apply(c,q(a.right,b)),c;throw Error("listJuncts called with type = "+b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listJuncts=q;c=function(a){return a.sort(m.atomicExpressionComparator)};f.sortJuncts=c;g=function(a){return a.sort(m.listOfAtomicExpressionsComparator)};
f.sortListOfJuncts=g;x=function(a,b){var c,d;if(!a||null==a.length||0===a.length)throw Error("rebuildExpression called with listOfJuncts = "+a);if(1===a.length)return a[0];c=a.shift();d=x(a,b);return{type:b,left:c,right:d}};f.rebuildExpression=x;D=function(a,b){var c;if(null!=a.type&&a.type!==b)return{quantifiedExpression:a};if(null!=a.type&&a.type===b)return c=D(a.left,b),null==c.boundVariables&&(c.boundVariables=[]),c.boundVariables.push(a.boundVariable),c;throw Error("listQuants called with type = "+
b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listQuants=D;p=function(a){var b;return null!=a.boundVariable?(b=p(a.left),{type:a.type,symbol:a.symbol,location:a.location,boundVariable:a.boundVariable,left:b,right:null}):null};f.getPrefixedQuantifiers=p;I=function(a,b){if(null===b)return a;null!==b.left?I(a,b.left):b.left=a;return b};f.attachExpressionToQuantifiers=I;b=function(a,c,d){var g;null==d&&(d={quantifierType:null,leftBoundVariables:[],rightBoundVariables:[]});g=(null!=
a?a.type:void 0)||null;if(d.quantifierType!==g){d.leftBoundVariables.sort();d.rightBoundVariables.sort();if(!w.isEqual(d.leftBoundVariables,d.rightBoundVariables))return!1;d.leftBoundVariables=[];d.rightBoundVariables=[];d.quantifierType=g}if(null===a||null==a.boundVariable)return null===c||null==c.boundVariable?!0:!1;if(null===c||null==c.type||c.type!==g)return!1;d.leftBoundVariables.push(a.boundVariable.name);d.rightBoundVariables.push(c.boundVariable.name);return b(a.left,c.left,d)};f.arePrefixedQuantifiersEquivalent=
b;h=function(a,b){var c,d,g,f;void 0===b&&(b=z(a));if(null==(null!=a?a.type:void 0))return a;if("identity"!==a.type)return null!=a.left&&h(a.left,b),null!=a.right&&h(a.right,b),a;c=a.termlist[0];g=a.termlist[1];1===m.termComparator(c,g)&&(d=[g,c],c=d[0],g=d[1]);"variable"===c.type&&"variable"===g.type&&(d=b.indexOf(c.name),f=b.indexOf(g.name),d>f&&(d=[g,c],c=d[0],g=d[1]));a.termlist=[c,g];return a};f.sortIdentityStatements=h;z=function(a,b){var c,d;null==b&&(b={quantifierType:null,thisTypeBoundVariables:[],
allBoundVariables:[]});c=(null!=a?a.type:void 0)||null;b.quantifierType!==c&&(b.thisTypeBoundVariables.sort(),(d=b.allBoundVariables).push.apply(d,b.thisTypeBoundVariables),b.thisTypeBoundVariables=[],b.quantifierType=c);if(null===c||null==a.boundVariable)return b.allBoundVariables;b.thisTypeBoundVariables.push(a.boundVariable.name);return z(a.left,b)};f._getVariableOrder=z;v=function(a){a=m.exhaust(a,function(a){var b,c,d;c=G.subs_eliminate_redundancy;for(b in c)d=c[b],a=G.doSubRecursive(a,d);return A(a)});
return a=u(a)};f.eliminateRedundancyInPNF=v;n=function(a,b){var c;if(null!=b.termlist){var d,g,h,m;h=b.termlist;m=[];d=0;for(g=h.length;d<g;d++)c=h[d],m.push(c.name);if(0<=E.call(m,a))return!0}return null!=b.boundVariable&&b.boundVariable.name===a?!1:null!=b.left&&n(a,b.left)||null!=b.right&&n(a,b.right)?!0:!1};f.isVariableFree=n;u=function(a){a=m.cloneExpression(a);return m.walkMutate(a,function(a){return null==(null!=a?a.boundVariable:void 0)||n(a.boundVariable.name,a.left)?a:a.left})};f.removeQuantifiersThatBindNothing=
u},{"./match":8,"./substitute":27,"./util":29,lodash:9}],11:[function(a,B,f){(function(w){var z=function(){function a(){this.yy={}}var b=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],v=[1,5],p=[1,6],n=[1,7],q=[1,8],D=[1,9],F=[1,11],y=[1,14],x=[1,15],l=[1,18],u=[1,19],d=[1,16],h=[1,21],c=[1,22],g=[1,23],A=[1,24],G=[1,25],m=[1,26],E=[1,27],r=[1,32],J=[5,10,13,14,15,16,17,18,27,29,34],da=[5,10,13,14,15,16,17,18,27,29,34,37],w=[5,10,13,14,15,16,17,18,26,27,29,34,37],W=[2,32],
z=[5,7,9,10,11,13,14,15,16,17,18,19,20,21,23,26,27,29,30,31,32,33,34,35,37],B=[7,9,10,11,19,20,21,23,30,31,32,33,35],V=[5,10,13,14,15,16,17,18,29,34],C=[5,10,29,34],N=[29,34],b={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,"(":9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,
term:25,identity:26,"[":27,substitution_list:28,"]":29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,",":34,name:35,substitution:36,substitution_symbol:37,"null":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"(",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",29:"]",30:"expression_variable",31:"sentence_letter",32:"variable",
33:"term_metavariable",34:",",35:"name",37:"substitution_symbol",38:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,5],[4,3],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,4],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[8,1],[8,3],[24,1],[24,3],[25,1],[25,1],[28,1],[28,3],[36,3],[36,3],[36,3],[36,3],[6,3]],performAction:function(a,b,c,d,g,h,m){a=h.length-1;switch(g){case 1:case 2:return h[a-1];case 3:return h[a-1].box=h[a-2],h[a-1];case 4:this.$={type:"existential_quantifier",
symbol:h[a-2],location:m[a-2],boundVariable:h[a-1],left:h[a],right:null};break;case 5:this.$={type:"existential_quantifier",symbol:h[a-3],location:m[a-3],boundVariable:h[a-2],left:h[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:h[a-2],location:m[a-2],boundVariable:h[a-1],left:h[a],right:null};break;case 7:this.$={type:"universal_quantifier",symbol:h[a-3],location:m[a-3],boundVariable:h[a-2],left:h[a],right:null};break;case 8:this.$={type:"universal_quantifier",symbol:"",location:m[a-
2],boundVariable:h[a-2],left:h[a],right:null};break;case 9:this.$={type:"and",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 10:this.$={type:"or",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 11:this.$={type:"nand",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 12:this.$={type:"nor",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 13:this.$={type:"arrow",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 14:this.$=
{type:"double_arrow",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 15:this.$={type:"not",symbol:h[a-1],location:m[a-1],left:h[a],right:null};break;case 16:this.$={type:"value",symbol:h[a],location:m[a],value:!0,left:null,right:null};break;case 17:this.$={type:"value",symbol:h[a],location:m[a],value:!1,left:null,right:null};break;case 18:case 27:case 32:this.$=h[a];break;case 19:this.$={type:"predicate",name:h[a-3],location:m[a-3],termlist:h[a-1]};break;case 20:this.$={type:"identity",
symbol:h[a-1],termlist:[h[a-2],h[a]]};break;case 21:case 28:this.$=h[a-1];break;case 22:h[a-3].substitutions=h[a-3].substitutions&&h[a-3].substitutions.length?h[a-3].substitutions.concat(h[a-1]):h[a-1];this.$=h[a-3];break;case 23:this.$={type:"expression_variable",location:m[a],letter:h[a],left:null,right:null};break;case 24:this.$={type:"sentence_letter",location:m[a],letter:h[a],left:null,right:null};break;case 25:this.$={type:"variable",name:h[a],location:m[a]};break;case 26:this.$={type:"term_metavariable",
name:h[a],location:m[a]};break;case 29:case 33:this.$=[h[a]];break;case 30:case 34:this.$=[h[a-2]].concat(h[a]);break;case 31:this.$={type:"name",name:h[a],location:m[a]};break;case 35:case 37:this.$={type:"substitution",from:h[a-2],to:h[a],symbol:h[a-1]};break;case 36:case 38:this.$={type:"substitution",from:h[a-2],to:null,symbol:h[a-1]};break;case 39:this.$={type:"box",term:h[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,27:[1,13],30:y,31:x,32:l,33:u,35:d},{1:[3]},
{5:[1,20],13:h,14:c,15:g,16:A,17:G,18:m,27:E},{4:29,5:[1,28],7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{8:30,9:r,12:31,32:l,33:u},{4:36,7:[1,33],9:v,11:[1,34],12:35,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{8:37,9:r,12:31,32:l,33:u},{4:38,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},b(J,[2,16]),b(J,[2,17]),b(J,[2,18]),{9:[1,39]},{26:[1,40]},{12:17,25:41,32:l,33:u,35:d},b(da,[2,23]),b(da,[2,24]),b(w,[2,31]),b(w,W),
b(z,[2,25]),b(z,[2,26]),{1:[2,1]},{4:42,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{4:43,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{4:44,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{4:45,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{4:46,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{4:47,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,
30:y,31:x,32:l,33:u,35:d},{12:17,22:51,25:50,28:48,30:y,31:x,32:l,33:u,35:d,36:49},{1:[2,2]},{5:[1,52],13:h,14:c,15:g,16:A,17:G,18:m,27:E},{4:53,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},b(B,[2,27]),{12:54,32:l,33:u},{8:55,9:r,12:31,32:l,33:u},{8:56,9:r,12:31,32:l,33:u},{10:[1,57],26:W},{10:[1,58],13:h,14:c,15:g,16:A,17:G,18:m,27:E},{4:59,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},b(V,[2,15],{27:E}),{12:17,24:60,25:61,32:l,33:u,
35:d},{12:17,25:62,32:l,33:u,35:d},{29:[1,63]},b(V,[2,9],{27:E}),b(V,[2,10],{27:E}),b(V,[2,11],{27:E}),b(V,[2,12],{27:E}),b(C,[2,13],{13:h,14:c,15:g,16:A,27:E}),b(C,[2,14],{13:h,14:c,15:g,16:A,27:E}),{29:[1,64]},{29:[2,33],34:[1,65]},{37:[1,66]},{37:[1,67]},{1:[2,3]},b(V,[2,4],{27:E}),{10:[1,68]},{4:53,7:f,9:v,10:[1,69],11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{4:59,7:f,9:v,10:[1,70],11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{4:71,7:f,9:v,11:p,
12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},b(J,[2,21]),b(V,[2,6],{27:E}),{10:[1,72]},{10:[2,29],34:[1,73]},b(J,[2,20]),b([5,7,9,11,19,20,21,23,30,31,32,33,35],[2,39]),b(J,[2,22]),{12:17,22:51,25:50,28:74,30:y,31:x,32:l,33:u,35:d,36:49},{12:17,25:75,32:l,33:u,35:d,38:[1,76]},{4:77,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d,38:[1,78]},b(B,[2,28]),{4:79,7:f,9:v,11:p,12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},{4:80,7:f,9:v,11:p,
12:17,19:n,20:q,21:D,22:10,23:F,25:12,30:y,31:x,32:l,33:u,35:d},b(V,[2,8],{27:E}),b(J,[2,19]),{12:17,24:81,25:61,32:l,33:u,35:d},{29:[2,34]},b(N,[2,35]),b(N,[2,36]),b(N,[2,37],{13:h,14:c,15:g,16:A,17:G,18:m,27:E}),b(N,[2,38]),b(V,[2,5],{27:E}),b(V,[2,7],{27:E}),{10:[2,30]}],defaultActions:{20:[2,1],28:[2,2],52:[2,3],74:[2,34],81:[2,30]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=
[0],c=[null],d=[],g=this.table,h="",m=0,f=0,r=0,l=d.slice.call(arguments,1),C=Object.create(this.lexer),A={},E;for(E in this.yy)Object.prototype.hasOwnProperty.call(this.yy,E)&&(A[E]=this.yy[E]);C.setInput(a,A);A.lexer=C;A.parser=this;"undefined"==typeof C.yylloc&&(C.yylloc={});E=C.yylloc;d.push(E);var u=C.options&&C.options.ranges;this.parseError="function"===typeof A.parseError?A.parseError:Object.getPrototypeOf(this).parseError;for(var N,n,G,q,p={},y,v;;){G=b[b.length-1];if(this.defaultActions[G])q=
this.defaultActions[G];else{if(null===N||"undefined"==typeof N)N=void 0,N=C.lex()||1,"number"!==typeof N&&(N=this.symbols_[N]||N);q=g[G]&&g[G][N]}if("undefined"===typeof q||!q.length||!q[0]){var x="";v=[];for(y in g[G])this.terminals_[y]&&2<y&&v.push("'"+this.terminals_[y]+"'");x=C.showPosition?"Parse error on line "+(m+1)+":\n"+C.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[N]||N)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==N?"end of input":"'"+(this.terminals_[N]||
N)+"'");this.parseError(x,{text:C.match,token:this.terminals_[N]||N,line:C.yylineno,loc:E,expected:v})}if(q[0]instanceof Array&&1<q.length)throw Error("Parse Error: multiple actions possible at state: "+G+", token: "+N);switch(q[0]){case 1:b.push(N);c.push(C.yytext);d.push(C.yylloc);b.push(q[1]);N=null;n?(N=n,n=null):(f=C.yyleng,h=C.yytext,m=C.yylineno,E=C.yylloc,0<r&&r--);break;case 2:v=this.productions_[q[1]][1];p.$=c[c.length-v];p._$={first_line:d[d.length-(v||1)].first_line,last_line:d[d.length-
1].last_line,first_column:d[d.length-(v||1)].first_column,last_column:d[d.length-1].last_column};u&&(p._$.range=[d[d.length-(v||1)].range[0],d[d.length-1].range[1]]);G=this.performAction.apply(p,[h,f,m,A,q[1],c,d].concat(l));if("undefined"!==typeof G)return G;v&&(b=b.slice(0,-2*v),c=c.slice(0,-1*v),d=d.slice(0,-1*v));b.push(this.productions_[q[1]][0]);c.push(p.$);d.push(p._$);q=g[b[b.length-2]][b[b.length-1]];b.push(q);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,
b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?
(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=
this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+
(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,
yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=
a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var g in d)this[g]=d[g];return!1},next:function(){if(this.done)return this.EOF;this._input||
(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),g=0;g<d.length;g++)if((b=this._input.match(this.rules[d[g]]))&&(!a||b[0].length>a[0].length))if(a=b,c=g,this.options.backtrack_lexer){a=this.test_match(b,d[g]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return this.popState(),9;case 2:return 9;case 3:return 10;case 4:return 27;case 5:return 29;case 6:return 34;case 7:return this.begin("expectLeftBracket"),23;case 8:return 37;case 9:return 20;case 10:return 21;case 11:return 26;case 12:return 13;case 13:return 17;
case 14:return 18;case 15:return 14;case 16:return 19;case 17:return 16;case 18:return 15;case 19:return 11;case 20:return 7;case 21:return 31;case 22:return 35;case 23:return 32;case 24:return 30;case 25:return 33;case 26:return 38;case 27:return 5;case 28:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][A-Za-z0-9]*(?=(\()))/,/^(?:--\x3e)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE]|\u22a5|_\|_|[cC][oO][nN][tT][rR][aA][dD][iI][cC][tT][iI][oO][nN]|[cC][oO][nN][tT][rR][aA])/,
/^(?:=)/,/^(?:[aA][nN][dD]|&|\u2227|\u2022)/,/^(?:[aA][rR][rR][oO][wW]|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:[oO][rR]|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:[nN][oO][tT]|\u00ac|~|\u02dc|!)/,/^(?:[nN][oO][rR]|\u2193)/,/^(?:[nN][aA][nN][dD]|\u2191)/,/^(?:[aA][lL][lL]|\u2200|[eE][vV][eE][rR][yY])/,/^(?:[sS][oO][mM][eE]|[eE][xX][iI][sS][tT][sS]|\u2203)/,/^(?:[A-Zpqrs][0-9]*)/,/^(?:[a-d][0-9]*)/,/^(?:[etxyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,
/^(?:[nN][uU][lL][lL])/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[1],inclusive:!1},INITIAL:{rules:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}}}();b.lexer=f;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=z,f.Parser=z.Parser,f.parse=function(){return z.parse.apply(z,arguments)},f.main=function(H){H[1]||(console.log("Usage: "+H[0]+" FILE"),w.exit(1));H=a("fs").readFileSync(a("path").normalize(H[1]),
"utf8");return f.parser.parse(H)},"undefined"!==typeof B&&a.main===B&&f.main(w.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],12:[function(a,B,f){(function(w){var z=function(){function a(){this.yy={}}var b=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],v=[1,5],p=[1,6],n=[1,7],q=[1,9],D=[1,12],F=[1,13],y=[1,18],x=[1,19],l=[1,14],u=[1,15],d=[1,17],h=[1,21],c=[1,22],g=[1,23],A=[1,24],G=[1,25],m=[1,26],E=[1,27],r=[1,30],J=[5,10,13,14,15,16,17,18,27,28,
38],w=[1,38],z=[5,10,13,14,15,16,17,18,27,28,38,39],W=[5,10,13,14,15,16,17,18,26,27,28,32,33,34,35,36,38,39],B=[2,31],Y=[5,10,13,14,15,16,17,18,28,38],V=[5,10,28,38],C=[28,38],b={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,
term:25,identity:26,"[":27,"]":28,substitution_list:29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",28:"]",30:"expression_variable",
31:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[9,1],[24,1],[24,2],[25,1],[25,1],[25,1],[25,1],[29,1],[29,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,g,h,m){a=h.length-1;switch(g){case 1:case 2:return h[a-
1];case 3:return h[a-1].box=h[a-2],h[a-1];case 4:this.$={type:"existential_quantifier",symbol:h[a-3],location:m[a-3],boundVariable:h[a-2],left:h[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:h[a-3],location:m[a-3],boundVariable:h[a-2],left:h[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:"",location:m[a-2],boundVariable:h[a-2],left:h[a],right:null};break;case 7:this.$={type:"and",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 8:this.$=
{type:"or",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 9:this.$={type:"nand",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 10:this.$={type:"nor",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 11:this.$={type:"arrow",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 12:this.$={type:"double_arrow",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 13:this.$={type:"not",symbol:h[a-1],location:m[a-1],left:h[a],right:null};
break;case 14:this.$={type:"value",symbol:h[a],location:m[a],value:!0,left:null,right:null};break;case 15:this.$={type:"value",symbol:h[a],location:m[a],value:!1,left:null,right:null};break;case 16:case 26:case 31:this.$=h[a];break;case 17:this.$={type:"predicate",name:h[a-1],location:m[a-1],termlist:h[a]};break;case 18:this.$={type:"identity",symbol:h[a-1],termlist:[h[a-2],h[a]]};break;case 19:case 20:this.$=h[a-1];break;case 21:h[a-3].substitutions=h[a-3].substitutions&&h[a-3].substitutions.length?
h[a-3].substitutions.concat(h[a-1]):h[a-1];this.$=h[a-3];break;case 22:this.$={type:"expression_variable",location:m[a],letter:h[a],left:null,right:null};break;case 23:this.$={type:"sentence_letter",location:m[a],letter:h[a],left:null,right:null};break;case 24:this.$={type:"variable",name:h[a],location:m[a]};break;case 25:this.$={type:"term_metavariable",name:h[a],location:m[a]};break;case 27:case 33:this.$=[h[a]];break;case 28:this.$=[h[a-1]].concat(h[a]);break;case 29:this.$={type:"name",name:h[a],
location:m[a]};break;case 30:this.$={type:"name_hat",name:h[a],location:m[a]};break;case 32:this.$={type:"term_metavariable_hat",name:h[a],location:m[a]};break;case 34:this.$=[h[a-2]].concat(h[a]);break;case 35:case 37:this.$={type:"substitution",from:h[a-2],to:h[a],symbol:h[a-1]};break;case 36:case 38:this.$={type:"substitution",from:h[a-2],to:null,symbol:h[a-1]};break;case 39:this.$={type:"box",term:h[a-1]}}},table:[{3:1,4:2,6:3,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:[1,11],30:D,31:F,32:y,
33:x,34:l,35:u,36:d},{1:[3]},{5:[1,20],13:h,14:c,15:g,16:A,17:G,18:m,27:E},{4:29,5:[1,28],7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{4:34,7:f,8:[1,31],11:[1,32],12:33,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{4:35,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},b(J,[2,14]),b(J,[2,15]),b(J,[2,16]),{12:16,24:36,25:37,32:y,33:x,34:l,35:u,36:d},{26:w},{4:39,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:40,
27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},b(z,[2,22]),b(z,[2,23]),b(W,[2,29]),b(W,[2,30]),b(W,B),b(W,[2,32]),b(W,[2,24]),b(W,[2,25]),{1:[2,1]},{4:41,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{4:42,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{4:43,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{4:44,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{4:45,7:f,
12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{4:46,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{12:16,22:50,25:49,29:47,30:D,31:F,32:y,33:x,34:l,35:u,36:d,37:48},{1:[2,2]},{5:[1,51],13:h,14:c,15:g,16:A,17:G,18:m,27:E},{4:39,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{9:52,12:53,32:y,33:x},{9:54,12:53,32:y,33:x},{10:[1,55],26:B},{10:[1,56],13:h,14:c,15:g,16:A,17:G,18:m,27:E},b(Y,[2,13],{27:E}),
b(J,[2,17]),b(J,[2,27],{12:16,25:37,24:57,32:y,33:x,34:l,35:u,36:d}),{12:16,25:58,32:y,33:x,34:l,35:u,36:d},{13:h,14:c,15:g,16:A,17:G,18:m,27:E,28:[1,59]},{26:w,28:[1,60]},b(Y,[2,7],{27:E}),b(Y,[2,8],{27:E}),b(Y,[2,9],{27:E}),b(Y,[2,10],{27:E}),b(V,[2,11],{13:h,14:c,15:g,16:A,27:E}),b(V,[2,12],{13:h,14:c,15:g,16:A,27:E}),{28:[1,61]},{28:[2,33],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},{10:[1,65]},{10:[2,26]},{10:[1,66]},{4:67,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,
35:u,36:d},b(J,[2,19]),b(J,[2,28]),b(J,[2,18]),b(J,[2,20]),b([5,7,19,20,21,23,27,30,31,32,33,34,35,36],[2,39]),b(J,[2,21]),{12:16,22:50,25:49,29:68,30:D,31:F,32:y,33:x,34:l,35:u,36:d,37:48},{12:16,25:69,32:y,33:x,34:l,35:u,36:d,40:[1,70]},{4:71,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d,40:[1,72]},{4:73,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,35:u,36:d},{4:74,7:f,12:16,19:v,20:p,21:n,22:8,23:q,25:10,27:r,30:D,31:F,32:y,33:x,34:l,
35:u,36:d},b(Y,[2,6],{27:E}),{28:[2,34]},b(C,[2,35]),b(C,[2,36]),b(C,[2,37],{13:h,14:c,15:g,16:A,17:G,18:m,27:E}),b(C,[2,38]),b(Y,[2,4],{27:E}),b(Y,[2,5],{27:E})],defaultActions:{20:[2,1],28:[2,2],51:[2,3],53:[2,26],68:[2,34]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],g=this.table,h="",m=0,f=0,r=0,l=d.slice.call(arguments,1),C=Object.create(this.lexer),
A={},E;for(E in this.yy)Object.prototype.hasOwnProperty.call(this.yy,E)&&(A[E]=this.yy[E]);C.setInput(a,A);A.lexer=C;A.parser=this;"undefined"==typeof C.yylloc&&(C.yylloc={});E=C.yylloc;d.push(E);var u=C.options&&C.options.ranges;this.parseError="function"===typeof A.parseError?A.parseError:Object.getPrototypeOf(this).parseError;for(var G,n,q,p,v={},y,x;;){q=b[b.length-1];if(this.defaultActions[q])p=this.defaultActions[q];else{if(null===G||"undefined"==typeof G)G=void 0,G=C.lex()||1,"number"!==typeof G&&
(G=this.symbols_[G]||G);p=g[q]&&g[q][G]}if("undefined"===typeof p||!p.length||!p[0]){var J="";x=[];for(y in g[q])this.terminals_[y]&&2<y&&x.push("'"+this.terminals_[y]+"'");J=C.showPosition?"Parse error on line "+(m+1)+":\n"+C.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[G]||G)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==G?"end of input":"'"+(this.terminals_[G]||G)+"'");this.parseError(J,{text:C.match,token:this.terminals_[G]||G,line:C.yylineno,loc:E,expected:x})}if(p[0]instanceof
Array&&1<p.length)throw Error("Parse Error: multiple actions possible at state: "+q+", token: "+G);switch(p[0]){case 1:b.push(G);c.push(C.yytext);d.push(C.yylloc);b.push(p[1]);G=null;n?(G=n,n=null):(f=C.yyleng,h=C.yytext,m=C.yylineno,E=C.yylloc,0<r&&r--);break;case 2:x=this.productions_[p[1]][1];v.$=c[c.length-x];v._$={first_line:d[d.length-(x||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(x||1)].first_column,last_column:d[d.length-1].last_column};u&&(v._$.range=[d[d.length-
(x||1)].range[0],d[d.length-1].range[1]]);q=this.performAction.apply(v,[h,f,m,A,p[1],c,d].concat(l));if("undefined"!==typeof q)return q;x&&(b=b.slice(0,-2*x),c=c.slice(0,-1*x),d=d.slice(0,-1*x));b.push(this.productions_[p[1]][0]);c.push(v.$);d.push(v._$);p=g[b[b.length-2]][b[b.length-1]];b.push(p);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=
a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&
this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+
1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");
return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&
(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=
this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var g in d)this[g]=d[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),g=0;g<d.length;g++)if((b=this._input.match(this.rules[d[g]]))&&(!a||
b[0].length>a[0].length))if(a=b,c=g,this.options.backtrack_lexer){a=this.test_match(b,d[g]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,b,c,d){switch(c){case 1:return 7;case 2:return 10;case 3:return 27;case 4:return 28;case 5:return 38;case 6:return 23;case 7:return 39;case 8:return 20;case 9:return 21;case 10:return 26;case 11:return 13;case 12:return 17;case 13:return 18;case 14:return 14;case 15:return 19;case 16:return 16;case 17:return 15;case 18:return 11;case 19:return 8;case 20:return 31;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 30;case 26:return 36;
case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,
/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();b.lexer=f;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&
"undefined"!==typeof f&&(f.parser=z,f.Parser=z.Parser,f.parse=function(){return z.parse.apply(z,arguments)},f.main=function(H){H[1]||(console.log("Usage: "+H[0]+" FILE"),w.exit(1));H=a("fs").readFileSync(a("path").normalize(H[1]),"utf8");return f.parser.parse(H)},"undefined"!==typeof B&&a.main===B&&f.main(w.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],13:[function(a,B,f){(function(w){var z=function(){function a(){this.yy={}}var b=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=
b);return c},f=[1,4],v=[1,5],p=[1,6],n=[1,7],q=[1,8],D=[1,10],F=[1,12],y=[1,14],x=[1,15],l=[1,20],u=[1,21],d=[1,16],h=[1,17],c=[1,19],g=[1,23],A=[1,24],G=[1,25],m=[1,26],E=[1,27],r=[1,28],J=[1,29],w=[1,32],z=[5,10,11,12,13,14,15,25,26,27,38],W=[1,39],B=[5,10,11,12,13,14,15,25,26,27,38,39],Y=[5,10,11,12,13,14,15,23,25,26,27,32,33,34,35,36,38,39],V=[5,7,9,10,11,12,13,14,15,16,17,18,20,23,24,25,26,27,29,30,32,33,34,35,36,38,39],C=[5,10,11,12,13,14,15,25,27,38],N=[5,25,27,38],K=[27,38],b={trace:function(){},
yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,universal_quantifier:9,and:10,or:11,nand:12,nor:13,arrow:14,double_arrow:15,not:16,"true":17,"false":18,sentence_letter_or_expression_variable:19,predicate:20,termlist:21,term:22,identity:23,"(":24,")":25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,
",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"universal_quantifier",10:"and",11:"or",12:"nand",13:"nor",14:"arrow",15:"double_arrow",16:"not",17:"true",18:"false",20:"predicate",23:"identity",24:"(",25:")",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],
[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[19,1],[19,1],[31,1],[31,1],[8,1],[21,1],[21,2],[22,1],[22,1],[22,1],[22,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,g,h,m){a=h.length-1;switch(g){case 1:case 2:return h[a-1];case 3:return h[a-1].box=h[a-2],h[a-1];case 4:this.$={type:"existential_quantifier",symbol:h[a-2],location:m[a-2],boundVariable:h[a-1],left:h[a],right:null};break;case 5:this.$={type:"universal_quantifier",
symbol:h[a-2],location:m[a-2],boundVariable:h[a-1],left:h[a],right:null};break;case 6:this.$={type:"and",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 7:this.$={type:"or",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 8:this.$={type:"nand",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 9:this.$={type:"nor",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 10:this.$={type:"arrow",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};
break;case 11:this.$={type:"double_arrow",symbol:h[a-1],location:m[a-1],left:h[a-2],right:h[a]};break;case 12:this.$={type:"not",symbol:h[a-1],location:m[a-1],left:h[a],right:null};break;case 13:this.$={type:"value",symbol:h[a],location:m[a],value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:h[a],location:m[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=h[a];break;case 16:this.$={type:"predicate",name:h[a-1],location:m[a-1],termlist:h[a]};break;case 17:this.$=
{type:"identity",symbol:h[a-1],termlist:[h[a-2],h[a]]};break;case 18:case 19:this.$=h[a-1];break;case 20:h[a-3].substitutions=h[a-3].substitutions&&h[a-3].substitutions.length?h[a-3].substitutions.concat(h[a-1]):h[a-1];this.$=h[a-3];break;case 21:this.$={type:"expression_variable",location:m[a],letter:h[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:m[a],letter:h[a],left:null,right:null};break;case 23:this.$={type:"variable",name:h[a],location:m[a]};break;case 24:this.$=
{type:"term_metavariable",name:h[a],location:m[a]};break;case 26:case 32:this.$=[h[a]];break;case 27:this.$=[h[a-1]].concat(h[a]);break;case 28:this.$={type:"name",name:h[a],location:m[a]};break;case 29:this.$={type:"name_hat",name:h[a],location:m[a]};break;case 31:this.$={type:"term_metavariable_hat",name:h[a],location:m[a]};break;case 33:this.$=[h[a-2]].concat(h[a]);break;case 34:case 36:this.$={type:"substitution",from:h[a-2],to:h[a],symbol:h[a-1]};break;case 35:case 37:this.$={type:"substitution",
from:h[a-2],to:null,symbol:h[a-1]};break;case 38:this.$={type:"box",term:h[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:[1,13],29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{1:[3]},{5:[1,22],10:g,11:A,12:G,13:m,14:E,15:r,26:J},{4:31,5:[1,30],7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{8:33,31:34,32:l,33:u},{8:35,31:34,32:l,33:u},{4:36,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},
b(z,[2,13]),b(z,[2,14]),b(z,[2,15]),{21:37,22:38,31:18,32:l,33:u,34:d,35:h,36:c},{23:W},{4:40,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{4:41,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:42,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},b(B,[2,21]),b(B,[2,22]),b(Y,[2,28]),b(Y,[2,29]),b(Y,[2,30]),b(Y,[2,31]),b(V,[2,23]),b(V,[2,24]),{1:[2,1]},{4:43,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{4:44,7:f,9:v,16:p,
17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{4:45,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{4:46,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{4:47,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{4:48,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{19:52,22:51,28:49,29:y,30:x,31:18,
32:l,33:u,34:d,35:h,36:c,37:50},{1:[2,2]},{5:[1,53],10:g,11:A,12:G,13:m,14:E,15:r,26:J},{4:41,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},{4:54,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},b([7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,25]),{4:55,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c},b(C,[2,12],{26:J}),b(z,[2,16]),b(z,[2,26],{31:18,22:38,21:56,32:l,33:u,
34:d,35:h,36:c}),{22:57,31:18,32:l,33:u,34:d,35:h,36:c},{10:g,11:A,12:G,13:m,14:E,15:r,25:[1,58],26:J},{10:g,11:A,12:G,13:m,14:E,15:r,26:J,27:[1,59]},{23:W,27:[1,60]},b(C,[2,6],{26:J}),b(C,[2,7],{26:J}),b(C,[2,8],{26:J}),b(C,[2,9],{26:J}),b(N,[2,10],{10:g,11:A,12:G,13:m,26:J}),b(N,[2,11],{10:g,11:A,12:G,13:m,26:J}),{27:[1,61]},{27:[2,32],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},b(C,[2,4],{26:J}),b(C,[2,5],{26:J}),b(z,[2,27]),b(z,[2,17]),b(z,[2,18]),b(z,[2,19]),b([5,7,9,16,17,18,20,24,26,29,30,
32,33,34,35,36],[2,38]),b(z,[2,20]),{19:52,22:51,28:65,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c,37:50},{22:66,31:18,32:l,33:u,34:d,35:h,36:c,40:[1,67]},{4:68,7:f,9:v,16:p,17:n,18:q,19:9,20:D,22:11,24:F,26:w,29:y,30:x,31:18,32:l,33:u,34:d,35:h,36:c,40:[1,69]},{27:[2,33]},b(K,[2,34]),b(K,[2,35]),b(K,[2,36],{10:g,11:A,12:G,13:m,14:E,15:r,26:J}),b(K,[2,37])],defaultActions:{22:[2,1],30:[2,2],53:[2,3],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=
a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],h=this.table,g="",m=0,f=0,r=0,l=d.slice.call(arguments,1),C=Object.create(this.lexer),A={},E;for(E in this.yy)Object.prototype.hasOwnProperty.call(this.yy,E)&&(A[E]=this.yy[E]);C.setInput(a,A);A.lexer=C;A.parser=this;"undefined"==typeof C.yylloc&&(C.yylloc={});E=C.yylloc;d.push(E);var G=C.options&&C.options.ranges;this.parseError="function"===typeof A.parseError?A.parseError:Object.getPrototypeOf(this).parseError;
for(var u,n,q,p,v={},x,y;;){q=b[b.length-1];if(this.defaultActions[q])p=this.defaultActions[q];else{if(null===u||"undefined"==typeof u)u=void 0,u=C.lex()||1,"number"!==typeof u&&(u=this.symbols_[u]||u);p=h[q]&&h[q][u]}if("undefined"===typeof p||!p.length||!p[0]){var J="";y=[];for(x in h[q])this.terminals_[x]&&2<x&&y.push("'"+this.terminals_[x]+"'");J=C.showPosition?"Parse error on line "+(m+1)+":\n"+C.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+
(m+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'");this.parseError(J,{text:C.match,token:this.terminals_[u]||u,line:C.yylineno,loc:E,expected:y})}if(p[0]instanceof Array&&1<p.length)throw Error("Parse Error: multiple actions possible at state: "+q+", token: "+u);switch(p[0]){case 1:b.push(u);c.push(C.yytext);d.push(C.yylloc);b.push(p[1]);u=null;n?(u=n,n=null):(f=C.yyleng,g=C.yytext,m=C.yylineno,E=C.yylloc,0<r&&r--);break;case 2:y=this.productions_[p[1]][1];v.$=c[c.length-
y];v._$={first_line:d[d.length-(y||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(y||1)].first_column,last_column:d[d.length-1].last_column};G&&(v._$.range=[d[d.length-(y||1)].range[0],d[d.length-1].range[1]]);q=this.performAction.apply(v,[g,f,m,A,p[1],c,d].concat(l));if("undefined"!==typeof q)return q;y&&(b=b.slice(0,-2*y),c=c.slice(0,-1*y),d=d.slice(0,-1*y));b.push(this.productions_[p[1]][0]);c.push(v.$);d.push(v._$);p=h[b[b.length-2]][b[b.length-1]];b.push(p);break;case 3:return!0}}}},
f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];
this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=
this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},
reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?
"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,
last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?
c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;
if(this._backtrack)for(var h in d)this[h]=d[h];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),h=0;h<d.length;h++)if((b=this._input.match(this.rules[d[h]]))&&(!a||b[0].length>a[0].length))if(a=b,c=h,this.options.backtrack_lexer){a=this.test_match(b,d[h]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==
a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?
this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return 24;case 2:return 25;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 20;case 7:return 39;case 8:return 17;
case 9:return 18;case 10:return 23;case 11:return 10;case 12:return 14;case 13:return 15;case 14:return 11;case 15:return 16;case 16:return 13;case 17:return 12;case 18:return 9;case 19:return 7;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,
/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-w][0-9]*\^)/,/^(?:[a-w][0-9]*)/,/^(?:[xyz][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,
/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();b.lexer=f;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=z,f.Parser=z.Parser,f.parse=function(){return z.parse.apply(z,arguments)},f.main=function(H){H[1]||(console.log("Usage: "+H[0]+" FILE"),w.exit(1));H=a("fs").readFileSync(a("path").normalize(H[1]),
"utf8");return f.parser.parse(H)},"undefined"!==typeof B&&a.main===B&&f.main(w.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],14:[function(a,B,f){(function(w){var z=function(){function a(){this.yy={}}var b=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],v=[1,5],p=[1,6],n=[1,7],q=[1,9],D=[1,12],w=[1,13],y=[1,18],x=[1,19],l=[1,14],u=[1,15],d=[1,17],h=[1,21],c=[1,22],g=[1,23],A=[1,24],G=[1,25],m=[1,26],E=[1,27],r=[1,30],J=[5,10,12,13,14,15,16,17,26,27,
38],z=[1,37],B=[5,10,12,13,14,15,16,17,26,27,38,39],W=[5,10,12,13,14,15,16,17,25,26,27,32,33,34,35,36,38,39],ua=[5,10,12,13,14,15,16,17,27,38],Y=[5,10,27,38],V=[27,38],b={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,and:12,or:13,nand:14,nor:15,arrow:16,double_arrow:17,not:18,"true":19,"false":20,sentence_letter_or_expression_variable:21,predicate:22,termlist:23,term:24,identity:25,"[":26,
"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",12:"and",13:"or",14:"nand",15:"nor",16:"arrow",17:"double_arrow",18:"not",19:"true",20:"false",22:"predicate",25:"identity",26:"[",27:"]",29:"expression_variable",
30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[21,1],[21,1],[31,1],[31,1],[9,1],[23,1],[23,2],[24,1],[24,1],[24,1],[24,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,h,g,m){a=g.length-1;switch(h){case 1:case 2:return g[a-1];
case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-3],location:m[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-3],location:m[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"and",symbol:g[a-1],location:m[a-1],left:g[a-2],right:g[a]};break;case 7:this.$={type:"or",symbol:g[a-1],location:m[a-1],left:g[a-2],right:g[a]};break;case 8:this.$={type:"nand",symbol:g[a-1],location:m[a-
1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nor",symbol:g[a-1],location:m[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"arrow",symbol:g[a-1],location:m[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"double_arrow",symbol:g[a-1],location:m[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"not",symbol:g[a-1],location:m[a-1],left:g[a],right:null};break;case 13:this.$={type:"value",symbol:g[a],location:m[a],value:!0,left:null,right:null};break;case 14:this.$={type:"value",
symbol:g[a],location:m[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=g[a];break;case 16:this.$={type:"predicate",name:g[a-1],location:m[a-1],termlist:g[a]};break;case 17:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 18:case 19:this.$=g[a-1];break;case 20:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 21:this.$={type:"expression_variable",location:m[a],letter:g[a],
left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:m[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"variable",name:g[a],location:m[a]};break;case 24:this.$={type:"term_metavariable",name:g[a],location:m[a]};break;case 26:case 32:this.$=[g[a]];break;case 27:this.$=[g[a-1]].concat(g[a]);break;case 28:this.$={type:"name",name:g[a],location:m[a]};break;case 29:this.$={type:"name_hat",name:g[a],location:m[a]};break;case 31:this.$={type:"term_metavariable_hat",
name:g[a],location:m[a]};break;case 33:this.$=[g[a-2]].concat(g[a]);break;case 34:case 36:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 38:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:[1,11],29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{1:[3]},{5:[1,20],12:h,13:c,14:g,15:A,16:G,17:m,26:E},{4:29,5:[1,28],7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,
29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{4:33,7:f,8:[1,31],11:[1,32],18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{4:34,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},b(J,[2,13]),b(J,[2,14]),b(J,[2,15]),{23:35,24:36,31:16,32:y,33:x,34:l,35:u,36:d},{25:z},{4:38,7:f,18:v,19:p,20:n,21:8,22:q,24:39,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},b(B,[2,21]),b(B,[2,22]),b(W,[2,28]),b(W,[2,29]),b(W,[2,30]),b(W,[2,31]),b(W,[2,23]),b(W,
[2,24]),{1:[2,1]},{4:40,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{4:41,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{4:42,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{4:43,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{4:44,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{4:45,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,
29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{21:49,24:48,28:46,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d,37:47},{1:[2,2]},{5:[1,50],12:h,13:c,14:g,15:A,16:G,17:m,26:E},{4:38,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{9:51,31:52,32:y,33:x},{9:53,31:52,32:y,33:x},{10:[1,54],12:h,13:c,14:g,15:A,16:G,17:m,26:E},b(ua,[2,12],{26:E}),b(J,[2,16]),b(J,[2,26],{31:16,24:36,23:55,32:y,33:x,34:l,35:u,36:d}),{24:56,31:16,32:y,33:x,34:l,35:u,36:d},{12:h,13:c,14:g,15:A,16:G,17:m,
26:E,27:[1,57]},{25:z,27:[1,58]},b(ua,[2,6],{26:E}),b(ua,[2,7],{26:E}),b(ua,[2,8],{26:E}),b(ua,[2,9],{26:E}),b(Y,[2,10],{12:h,13:c,14:g,15:A,26:E}),b(Y,[2,11],{12:h,13:c,14:g,15:A,26:E}),{27:[1,59]},{27:[2,32],38:[1,60]},{39:[1,61]},{39:[1,62]},{1:[2,3]},{10:[1,63]},{10:[2,25]},{10:[1,64]},b(J,[2,18]),b(J,[2,27]),b(J,[2,17]),b(J,[2,19]),b([5,7,18,19,20,22,26,29,30,32,33,34,35,36],[2,38]),b(J,[2,20]),{21:49,24:48,28:65,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d,37:47},{24:66,31:16,32:y,33:x,34:l,35:u,
36:d,40:[1,67]},{4:68,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d,40:[1,69]},{4:70,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{4:71,7:f,18:v,19:p,20:n,21:8,22:q,24:10,26:r,29:D,30:w,31:16,32:y,33:x,34:l,35:u,36:d},{27:[2,33]},b(V,[2,34]),b(V,[2,35]),b(V,[2,36],{12:h,13:c,14:g,15:A,16:G,17:m,26:E}),b(V,[2,37]),b(ua,[2,4],{26:E}),b(ua,[2,5],{26:E})],defaultActions:{20:[2,1],28:[2,2],50:[2,3],52:[2,25],65:[2,33]},parseError:function(a,
b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],g=this.table,h="",m=0,f=0,r=0,l=d.slice.call(arguments,1),A=Object.create(this.lexer),E={},u;for(u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(E[u]=this.yy[u]);A.setInput(a,E);E.lexer=A;E.parser=this;"undefined"==typeof A.yylloc&&(A.yylloc={});u=A.yylloc;d.push(u);var G=A.options&&A.options.ranges;this.parseError="function"===
typeof E.parseError?E.parseError:Object.getPrototypeOf(this).parseError;for(var n,q,p,v,y={},x,w;;){p=b[b.length-1];if(this.defaultActions[p])v=this.defaultActions[p];else{if(null===n||"undefined"==typeof n)n=void 0,n=A.lex()||1,"number"!==typeof n&&(n=this.symbols_[n]||n);v=g[p]&&g[p][n]}if("undefined"===typeof v||!v.length||!v[0]){var J="";w=[];for(x in g[p])this.terminals_[x]&&2<x&&w.push("'"+this.terminals_[x]+"'");J=A.showPosition?"Parse error on line "+(m+1)+":\n"+A.showPosition()+"\nExpecting "+
w.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'");this.parseError(J,{text:A.match,token:this.terminals_[n]||n,line:A.yylineno,loc:u,expected:w})}if(v[0]instanceof Array&&1<v.length)throw Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(v[0]){case 1:b.push(n);c.push(A.yytext);d.push(A.yylloc);b.push(v[1]);n=null;q?(n=q,q=null):(f=A.yyleng,h=A.yytext,m=A.yylineno,u=A.yylloc,
0<r&&r--);break;case 2:w=this.productions_[v[1]][1];y.$=c[c.length-w];y._$={first_line:d[d.length-(w||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(w||1)].first_column,last_column:d[d.length-1].last_column};G&&(y._$.range=[d[d.length-(w||1)].range[0],d[d.length-1].range[1]]);p=this.performAction.apply(y,[h,f,m,E,v[1],c,d].concat(l));if("undefined"!==typeof p)return p;w&&(b=b.slice(0,-2*w),c=c.slice(0,-1*w),d=d.slice(0,-1*w));b.push(this.productions_[v[1]][0]);c.push(y.$);
d.push(y._$);v=g[b[b.length-2]][b[b.length-1]];b.push(v);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=
[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);
this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;
return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-
this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,
first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,
last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);
if(c)return c;if(this._backtrack)for(var g in d)this[g]=d[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),g=0;g<d.length;g++)if((b=this._input.match(this.rules[d[g]]))&&(!a||b[0].length>a[0].length))if(a=b,c=g,this.options.backtrack_lexer){a=this.test_match(b,d[g]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,
d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-
1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return 7;case 2:return 10;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 22;case 7:return 39;case 8:return 19;
case 9:return 20;case 10:return 25;case 11:return 12;case 12:return 16;case 13:return 17;case 14:return 13;case 15:return 18;case 16:return 15;case 17:return 14;case 18:return 11;case 19:return 8;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,
/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,
/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();b.lexer=f;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=z,f.Parser=z.Parser,f.parse=function(){return z.parse.apply(z,arguments)},f.main=function(z){z[1]||(console.log("Usage: "+z[0]+" FILE"),w.exit(1));z=a("fs").readFileSync(a("path").normalize(z[1]),
"utf8");return f.parser.parse(z)},"undefined"!==typeof B&&a.main===B&&f.main(w.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],15:[function(a,B,f){var w,z,H,b,I,v,p,n,q,D,F,y,x,l,u;z=a("lodash");l=a("./justification_parser");p=a("../dialect_manager/dialectManager");v=a("./add_line_numbers").cleanNumber;w=l.parse("premise");f.to=function(a){var b;b={visit:function(a){var b,d,h;"line"===a.type&&null==a.justification&&null==a.justificationErrors&&(d=u(a.content),a.justification=
d.justification,null!=(null!=(h=a.justification)?h.numbers:void 0)&&(a.justification.numbers=function(){var d,h,f,l;f=a.justification.numbers;l=[];d=0;for(h=f.length;d<h;d++)b=f[d],l.push(v(b));return l}()),a.content=d.rest,a.justificationErrors=d.justificationErrors,a.justificationText=d.justificationText,a.getRuleName=x,a.findLine=q,a.findBlock=n,a.findLineOrBlock=D,a.getCitedLines=y,a.getCitedBlocks=F,a.isPremise=function(){return a.justification.rule.connective===w.rule.connective})}};a.walk(b);
b={visit:function(a){"line"===a.type&&null==a.justification&&null==a.justificationErrors&&I(a)&&(a.justification=w)}};a.walk(b);b={visit:function(a){"block"===a.type&&(a.getConclusion=function(){var b;b=z.last(a.content);return"line"===b.type&&null!=b.sentence?b.sentence:!1},a.getPremises=function(){var b,d;b=z.filter(a.content,function(a){var b,c;return"line"!==a.type||null==a.sentence||"premise"!==(null!=(b=a.justification)?null!=(c=b.rule)?c.connective:void 0:void 0)?!1:!0});return function(){var a,
c,h;h=[];a=0;for(c=b.length;a<c;a++)d=b[a],h.push(d.sentence);return h}()})}};a.walk(b);return a};H=/((\s)*\/\/)|(\\)|(--)/;b=/(\S+)(\s\s\s)(?=\s*\S+)/;u=function(a){var h,c,g,f;c=a.match(H);if(null!=c)f=a.slice(0,c.index),g=c[0].length,a=a.slice(c.index+g);else if(c=a.match(b),null!=c)f=c[1],f=a.slice(0,c.index+f.length),g=c[0].length,a=a.slice(c.index+g);else return{justification:null,rest:a,justificationErrors:null};try{h=l.parse(a)}catch(u){return{justification:null,rest:f,justificationErrors:u.message,
justificationText:a}}return{justification:h,rest:f,justificationErrors:null}};I=function(a){var b,c,g,f,l,m;b=a.parent;if(a===b.content[0])return!0;if(null!=b.parent)return!1;l=b.content;m=f=!1;c=0;for(g=l.length;c<g;c++){b=l[c];if("divider"===b.type){m=!0;break}b===a&&(f=!0)}return f&&m?!0:!1};f._isPremise=I;x=function(){var a;return null==(null!=(a=this.justification)?a.rule:void 0)?"":((p.getSymbols()[this.justification.rule.connective]||this.justification.rule.connective)+" "+(this.justification.rule.variant.intronation||
"")+" "+(this.justification.rule.variant.side||"")).trim()};q=function(a){return this.findAbove(function(b){if("line"===b.type&&b.number===a)return!0})};n=function(a){return this.findAbove(function(b){if("block"===b.type&&b.number===a)return!0})};D=function(a){return this.findAbove(function(b){if(("block"===b.type||"line"===b.type)&&b.number===a)return!0})};y=function(){var a,b,c,g,f;if(!this.justification.numbers)return[];a=[];g=this.justification.numbers;b=0;for(c=g.length;b<c;b++)f=g[b],f=this.findLine(f),
!1!==f&&a.push(f);return a};F=function(){var a,b,c,g,f;if(!this.justification.numbers)return[];a=[];g=this.justification.numbers;b=0;for(c=g.length;b<c;b++)f=g[b],f=this.findBlock(f),!1!==f&&a.push(f);return a}},{"../dialect_manager/dialectManager":5,"./add_line_numbers":16,"./justification_parser":23,lodash:9}],16:[function(a,B,f){var w,z,H,b,I,v=[].indexOf||function(a){for(var b=0,f=this.length;b<f;b++)if(b in this&&this[b]===a)return b;return-1};w=a("lodash");H=/^([|\s])*\(?([0-9]\S*)([|\s]*)([\s\S]*)/;
z=/\.*\)?$/;b=function(a){return a.replace(z,"")};f.cleanNumber=b;I=function(a){var f;return(f=a.content.match(H))?(a=f[2],a=b(a),{lineNumber:a,rest:f[4]}):{lineNumber:null,rest:a.content}};f.to=function(a){a.walk({usedLineNumbers:[],lineCounter:0,userNumberedLines:!1,visit:function(a){var b,f;if("block"!==a.type){this.lineCounter+=1;f=I(a);b=f.lineNumber;f=f.rest;if(b||0===b)this.userNumberedLines=!0;null===b&&(b="line"===a.type?""+this.lineCounter:this.lineCounter+"x");if(0<=v.call(this.usedLineNumbers,
b))throw Error("Duplicate line number '"+b+"' used for the second time at line "+this.lineCounter+".  Line numbers must be unique.");this.usedLineNumbers.push(b);a.number=b;a.content=f}}});a.walk({visit:function(b){var f;if("block"===b.type&&(a=b,0!==a.content.length)){b=a.content[0];for(f=w.last(a.content);"block"===f.type;)f=w.last(f.content);null!=b.number&&null!=f.number&&(a.number=b.number+"-"+f.number)}}});return a}},{lodash:9}],17:[function(a,B,f){var w;w=a("../fol");a("../substitute");a("../util");
f.to=function(a){a.walk({visit:function(a){if("line"===a.type&&null==a.sentence&&null==a.sentenceErrors){a.sentenceText=a.content;try{a.sentence=w.parse(a.sentenceText)}catch(b){a.sentenceErrors=b.message}}}});return a}},{"../fol":7,"../substitute":27,"../util":29}],18:[function(a,B,f){var w;a("../fol");a("../substitute");a("../util");f.to=function(a){a.walk({visit:function(a){if(null!=(null!=a?a.type:void 0))switch(a.type){case "block":a.listErrorMessages=function(){throw"Not implemented yet!";};
break;default:a.status=new w(a),a.getErrorMessage=function(){return a.status.getMessage()}}}});return a};w=function(){function a(f){var b;this.line=f;this.messages=[];this.verificationAttempted=this.verified=!1;this.sentenceParsed=null!=this.line.sentence;this.justificationParsed=null!=this.line.justification;null!=this.line.sentenceErrors&&this.addMessage("the sentence you wrote ("+this.line.sentenceText+") is not a sentence of awFOL.");null!=this.line.justificationErrors&&this.addMessage("the justification your supplied ("+
(null!=(b=this.line.justificationText)?b.trim():void 0)+") either mentions a rule you can't use here or doesn't make sense.");"line"===this.line.type&&null==this.line.justification&&null==this.line.justificationErrors&&this.addMessage("you supplied no justification for this line.")}a.prototype.addMessage=function(a){return this.messages.push(a)};a.prototype.clearMessages=function(){return this.messages=[]};a.prototype.popMessage=function(){return 0<this.messages.length?this.messages.pop():""};a.prototype.addAlthoughMessage=
function(a){if(null!=this._addedAlthough)return this.addMessage("and although "+a);this.addMessage("although "+a);return this._addedAlthough=!0};a.prototype.getMessage=function(){var a,b,f,v,p;if(0===this.messages.length)return"";f="This line is "+((this.verified?void 0:"not correct because")||"correct but")+" "+this.messages[0];1<this.messages.length&&(f+="And also "+this.messages[1]);2<this.messages.length&&(f+="Further, "+this.messages[2]);3<this.messages.length&&(f+="And, for another thing, "+
this.messages[3]);if(4<this.messages.length)for(v=this.messages.splice(4),a=0,b=v.length;a<b;a++)p=v[a],f+="And "+p;return f};return a}()},{"../fol":7,"../substitute":27,"../util":29}],19:[function(a,B,f){var w,z,H,b,I,v,p,n,q,D,F,y,x=[].indexOf||function(a){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===a)return b;return-1};w=a("lodash");n=a("./block_parser");I=a("./add_line_numbers");b=a("./add_justification");v=a("./add_sentences");p=a("./add_status");a("./fitch_rules");a("./teller_rules");
a("./forallx_rules");F=a("../dialect_manager/dialectManager");H=function(a){a=n.parse(a);I.to(a);b.to(a);v.to(a);p.to(a);return a};f.to=function(a){return a.walk({visit:function(b){null!=(null!=b?b.type:void 0)&&(b.verify="block"===b.type?function(){var a;a=!0;b.walk({visit:function(b){"line"===b.type&&(b=b.verify(),a=a&&b)}});return a}:function(){return y(b,a)})}})};y=function(a,b){var d,h;w.isString(b)&&(b=H(b));d=b;if(null!=a.type)h=a;else if(h=d.getLine(a),!h)throw Error("Could not find line "+
a+" in "+b);h.status.verificationAttempted=!0;if("line"!==h.type)return h.status.verified=!0,h.status.addMessage("(This is a "+h.type.replace(/_/g," ")+")"),!0;if(null!=h.sentenceErrors||null!=h.justificationErrors||null==h.justification)return h.status.verified=!1;d=z(h);return!0!==d?(h.status.addMessage(d),h.status.verified=!1):q(h)};f._line=y;z=function(a){var b,d,h,c,g,f,G,m;f=a.justification.numbers;if(!f)return!0;h=0;for(c=f.length;h<c;h++){g=f[h];d=a.findLineOrBlock(g);if(!d)return"something you cited, "+
g+", cannot be cited here (either it does not exist, or it is below this line, or else it occurs above but in a closed subproof).";b=[];for(G=a.parent;G;)b.push(G),G=G.parent;if(0<=x.call(b,d))return"you cannot cite a subproof ("+g+") from within that subproof (you must close it, then cite it).";if("line"!==(m=d.type)&&"block"!==m)return"you cannot cite line "+g+" because it is a "+d.type.replace(/_/g," ")+".";if("line"===d.type&&!0!==d.status.sentenceParsed)return"you cannot cite line "+g+" yet because it does not contain a correct awFOL sentence.";
if("block"===d.type){b=d.getFirstLine();d=d.getLastLine();if("block"===d.type)return"you cannot cite "+g+" because it finishes with an unclosed (sub)subproof (you must close it, then cite it)";if(null==b||null==d||!b.status.sentenceParsed||!d.status.sentenceParsed)return"you cannot cite subproof "+g+" yet because it contains lines that are not correct sentence of awFOL."}}return!0};f._linesCitedAreOk=z;D=function(a,b){var d,h,c,g,f,G;h=[];c=0;for(g=b.length;c<g;c++){d=b[c];d=d.check(a);if(!0===d)return a.status.verified=
!0;d=a.status.popMessage();null!=d&&h.push(d)}a.status.verified=!1;1===h.length&&a.status.addMessage(h[0]);if(1<h.length){d="This rule has multiple forms and none of them matched.  ";c=g=0;for(f=h.length;g<f;c=++g)G=h[c],d+="("+c+") "+G+"  ";a.status.addMessage(d)}return!1};q=function(a){var b,d,h,c,g,f,G;b=a.justification.rule.connective;d=a.justification.rule.variant.intronation;c=a.justification.rule.variant.side;g=F.getCurrentRules()[b];if(null==g)return a.status.addMessage(("the rule you specified, `"+
b+" "+(d||"")+" "+(c||"")+"` does not exist (or, if it does, you are not allowed to use it in this proof).").replace(/\s\s+/g,"")),a.status.verified=!1;if(!d){if("rule"===g.type)return D(a,[g]);if(w.isArray(g))return D(a,g);a.status.addMessage("you only partially specified the rule: `"+b+"` needs something extra (intro? elim?).");return a.status.verified=!1}g=g[d];if(null==g)return a.status.addMessage("you specified the rule "+b+" *"+d+"* but there is no \u2018"+d+"\u2019 version of the rule for "+
b+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;if(!c){if("rule"===g.type)return D(a,[g]);if(w.isArray(g))return D(a,g);b=[];"rule"===(null!=(f=g.left)?f.type:void 0)&&b.push(g.left);if(w.isArray(g.left))for(G=g.left,d=0,c=G.length;d<c;d++)f=G[d],b.push(f);"rule"===(null!=(h=g.right)?h.type:void 0)&&b.push(g.right);if(w.isArray(g.right))for(d=g.right,h=0,g=d.length;h<g;h++)f=d[h],b.push(f);return D(a,b)}if(null==g[c])return a.status.addMessage("you specified the rule "+
b+" "+d+" *"+c+"* but there is no \u2018"+c+"\u2019 version of  "+b+" "+d+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;b=g[c];w.isArray(b)||(b=[b]);return D(a,b)}},{"../dialect_manager/dialectManager":5,"./add_justification":15,"./add_line_numbers":16,"./add_sentences":17,"./add_status":18,"./block_parser":20,"./fitch_rules":21,"./forallx_rules":22,"./teller_rules":26,lodash:9}],20:[function(a,B,f){var w,z,H,b,I,v,p,n,q,D,F,y,x,l,u=[].indexOf||function(a){for(var b=
0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};z=a("lodash");l=a("../util");f.parse=function(a){var b,c,g,f,l,m,E,r;z.isString(a)&&(a=a.split("\n"));if(0===a.length)return new w("");p(a);a=n(a);b=a[0];r=0<=u.call(b.indentation,"|");for(c=E=new w(b.indentation);0<a.length;)if(f=a.shift(),"line"===f.type||r&&"blank_line"===f.type){for(f.indentation.length>c.indentation.length&&(c=c.newBlock(f.indentation));c&&f.indentation.length<c.indentation.length;)c=c.close();if(!c||f.indentation.length!==
c.indentation.length)throw Error("Bad indentation at line "+f.idx+" ("+f.originalText+"). (It is indented to a level to which no earlier line is indented.)");c.newLine(f)}else if("divider"===f.type)c.newLine(f);else if("blank_line"===f.type&&!r){for(b=[f];0<a.length&&"blank_line"===a[0].type;)b.push(a.shift());if(c===E)for(g=0,l=b.length;g<l;g++)f=b[g],c.newLine(f);else if(g=a[0].indentation,g.length===c.indentation.length){g=c;m=c.close();c=0;for(l=b.length;c<l;c++)f=b[c],m.newLine(f);c=m.newBlock(g.indentation)}else if(g.length>
c.indentation.length){m=0;for(l=b.length;m<l;m++)f=b[m],c.newLine(f);c=c.newBlock(g)}else{for(;c&&g.length<c.indentation.length;)c=c.close();if(!c||g.length!==c.indentation.length)throw Error("Bad indentation at line "+f.idx+" ("+f.originalText+"). (It is indented to a level to which no earlier line is indented.)");l=0;for(g=b.length;l<g;l++)f=b[l],c.newLine(f)}}for(;c!==E;)c=c.close();return c};p=function(a){};n=function(a){var b,c,g,f,l,m,E,r,n;f=v(a);r=[];g=l=0;for(m=a.length;l<m;g=++l)E=a[g],
b=x(E,f),c=b.indentation,b=b.content,n="line",q(b)&&(n="blank_line"),D(b)&&(n="divider"),r.push({indentation:c,content:b,idx:g+1,type:n,originalText:E});a=!1;g=[];l=0;for(f=r.length;l<f;l++)c=r[l],g.push(c.indentation);f=0;for(l=g.length;f<l;f++)if(c=g[f],0<=u.call(c,"|")){a=!0;break}if(a)for(g=0,a=r.length;g<a;g++)c=r[g],c.indentation=c.indentation.replace(/\s+/g,"");return r};H=/^([|\s]+)/;v=function(a){var b,c,g,f,l;if(!a||0===a.length)return!0;c=null!=(g=a[0].match(H))?g[1]:void 0;g=0;for(f=a.length;g<
f;g++)if(b=a[g],""!==b.replace(/[|-\s]/g,"")&&(l=b.match(H),b=null!=l?l[1]:void 0,null!==l&&b!==c))return!0;return!1};f.areLinesFormattedIndentationFirst=v;b=/^([|\s]*)([\s\S]*)/;I=/^([|\s]*)(\(?[0-9]+[^|\s]*)?([|\s]*)([\s\S]*)/;x=function(a,h){var c,g,f,l;if(h)return c=a.match(b),{indentation:c[1],content:c[2]};c=a.match(I);l=c[1]||"";g=c[2];f=c[3]||"";c=c[4]||"";return g?{indentation:f,content:g+" "+c}:{indentation:l,content:""+c}};f.split=x;y=function(a){return a.replace(/[0-9]\S*/,"")};F=function(a){return a.replace(/\|/g,
"")};D=function(a){a=y(a);a=F(a);return null!==a.match(/^\s*(--)/)?!0:!1};f._isDivider=D;q=function(a){a=y(a);a=F(a);return""===a.trim()};f._isBlank=q;w=function(){function a(b,c,d){this.indentation=b;this.parent=c;this.prev=d;this.type="block";this.content=[];this._depth=null==this.parent?1:this.parent._depth+1}a.prototype.getFirstLine=function(){return 0<this.content.length?this.content[0]:null};a.prototype.getLastLine=function(){return 0<this.content.length?z.last(this.content):null};a.prototype.newLine=
function(a){a.parent=this;a.prev=this.getLastLine();a.lineNumberInSource=a.idx;a.findAbove=function(a){var b;for(b=this.prev||this.parent;null!=b&&null!=b.parent;){if(a(b))return b;b=null==b.prev&&null!=b.parent?b.parent:b.prev}return!1};this.content.push(a);return a};a.prototype.newBlock=function(b){b=new a(b,this,this.getLastLine());this.content.push(b);return b};a.prototype.close=function(){return this.parent};a.prototype.walk=function(a){var b,d,f,l,m;m=a.visit(this);if(null!=m)return m;l=this.content;
d=0;for(f=l.length;d<f;d++){b=l[d];m=a.visit(b);if(null!=m)return m;"block"===b.type&&(m=b.walk(a));if(null!=m)return m}};a.prototype.getLine=function(a){var b;b=this.walk({onLine:0,visit:function(b){if("block"!==b.type&&(this.onLine+=1,this.onLine===a))return b}});if(null==b)throw Error("Could not get line number "+a);return b};a.prototype.toString=function(){return JSON.stringify(this,function(a,b){return!b||"prev"!==a&&"parent"!==a?"sentence"===a?l.expressionToString(b):z.isFunction(b)?void 0:
b:"[circular reference to "+(null!=b?b.type:void 0)+", depth "+(null!=b?b._depth:void 0)+"]"},4)};return a}();f.Block=w},{"../util":29,lodash:9}],21:[function(a,B,f){B=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(B.getParser("awFOL"));a={_description:"Rules of proof for classical first-order logic.  The rules assume that\nthere is no possible situation with an empty domain.",premise:a.premise(),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),
right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:a.from(a.subproof("\u03c6","contradiction")).to("not \u03c6")},contradiction:{elim:a.from("contradiction").to("\u03c6"),
intro:a.from("not \u03c6").and("\u03c6").to("contradiction")},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),
right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:{left:a.from(a.subproof("[\u03b1]","\u03c6[\u03c4--\x3e\u03b1]")).to("all \u03c4 \u03c6"),right:a.from(a.subproof("[\u03b1]\u03c6",
"\u03c8")).to("all \u03c4 (\u03c6 arrow \u03c8)[\u03b1--\x3e\u03c4]")}}};f.rules=a;B.registerRuleSet("fitch",a)},{"../dialect_manager/dialectManager":5,"./rule":25}],22:[function(a,B,f){B=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(B.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.premise(),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},
intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),right:a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),
right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},
existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.match("\u03c6[\u03c4--\x3e\u03b1]").isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from(a.match("\u03c6[\u03c4--\x3e\u03b1]").isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")}};f.rules=a;B.registerRuleSet("forallx",a)},{"../dialect_manager/dialectManager":5,
"./rule":25}],23:[function(a,B,f){(function(w){var z=function(){function a(){this.yy={}}var b=function(a,b,d,h){d=d||{};for(h=a.length;h--;d[a[h]]=b);return d},f=[1,5],v=[1,10],p=[1,11],n=[1,12],q=[1,13],w=[1,9],z=[1,14],y=[1,15],x=[1,16],l=[5,18],u=[5,8,14,15,16,17,19,20,21],d=[5,8,16,17,18],h=[5,8,14,15,18],b={trace:function(){},yy:{},symbols_:{error:2,justification:3,j:4,EOF:5,rule_name:6,numberlist:7,connective:8,intronation:9,rule_name_option0:10,rule_name_option1:11,side:12,rule_name_group0:13,
elim:14,intro:15,left:16,right:17,number:18,reit:19,premise:20,bare_rule:21,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"connective",14:"elim",15:"intro",16:"left",17:"right",18:"number",19:"reit",20:"premise",21:"bare_rule"},productions_:[0,[3,2],[4,1],[4,2],[4,2],[6,3],[6,3],[6,3],[6,3],[6,3],[6,3],[6,1],[9,1],[9,1],[12,1],[12,1],[7,1],[7,2],[10,0],[10,1],[11,0],[11,1],[13,1],[13,1],[13,1]],performAction:function(a,b,d,h,f,l,r){a=l.length-1;switch(f){case 1:return l[a-1];case 2:this.$={type:"justification",
rule:l[a],location:r[a]};break;case 3:this.$={type:"justification",rule:l[a-1],location:r[a-1],numbers:l[a]};break;case 4:this.$={type:"justification",rule:l[a],location:r[a],numbers:l[a-1]};break;case 5:this.$={type:"rule",connective:l[a-2],variant:{type:"variant",intronation:l[a-1],side:l[a]}};break;case 6:this.$={type:"rule",connective:l[a-1],variant:{type:"variant",intronation:l[a-2],side:l[a]}};break;case 7:this.$={type:"rule",connective:l[a-1],variant:{type:"variant",intronation:l[a],side:l[a-
2]}};break;case 8:this.$={type:"rule",connective:l[a-2],variant:{type:"variant",intronation:l[a],side:l[a-1]}};break;case 9:this.$={type:"rule",connective:l[a],variant:{type:"variant",intronation:l[a-1],side:l[a-2]}};break;case 10:this.$={type:"rule",connective:l[a],variant:{type:"variant",intronation:l[a-2],side:l[a-1]}};break;case 11:this.$={type:"rule",connective:l[a],variant:{type:"variant",intronation:null,side:null}};break;case 12:this.$="elim";break;case 13:this.$="intro";break;case 14:this.$=
"left";break;case 15:this.$="right";break;case 16:this.$=[l[a]];break;case 17:this.$=[l[a-1]].concat(l[a])}},table:[{3:1,4:2,6:3,7:4,8:f,9:6,12:7,13:8,14:v,15:p,16:n,17:q,18:w,19:z,20:y,21:x},{1:[3]},{5:[1,17]},{5:[2,2],7:18,18:w},{6:19,8:f,9:6,12:7,13:8,14:v,15:p,16:n,17:q,19:z,20:y,21:x},{9:20,12:21,14:v,15:p,16:n,17:q},{8:[1,22],12:23,16:n,17:q},{8:[1,24],9:25,14:v,15:p},b(l,[2,11]),b(u,[2,16],{7:26,18:w}),b(d,[2,12]),b(d,[2,13]),b(h,[2,14]),b(h,[2,15]),b(l,[2,22]),b(l,[2,23]),b(l,[2,24]),{1:[2,
1]},{5:[2,3]},{5:[2,4]},b(l,[2,18],{10:27,12:28,16:n,17:q}),{9:29,14:v,15:p},b(l,[2,20],{11:30,12:31,16:n,17:q}),{8:[1,32]},{9:33,14:v,15:p},{8:[1,34]},b(u,[2,17]),b(l,[2,5]),b(l,[2,19]),b(l,[2,8]),b(l,[2,6]),b(l,[2,21]),b(l,[2,10]),b(l,[2,7]),b(l,[2,9])],defaultActions:{17:[2,1],18:[2,3],19:[2,4]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var d=function(a,b){this.message=a;this.hash=b};d.prototype=Error;throw new d(a,b);}},parse:function(a){var b=[0],d=[null],h=[],f=this.table,
l="",r=0,n=0,u=0,q=h.slice.call(arguments,1),p=Object.create(this.lexer),v={},y;for(y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(v[y]=this.yy[y]);p.setInput(a,v);v.lexer=p;v.parser=this;"undefined"==typeof p.yylloc&&(p.yylloc={});y=p.yylloc;h.push(y);var w=p.options&&p.options.ranges;this.parseError="function"===typeof v.parseError?v.parseError:Object.getPrototypeOf(this).parseError;for(var x,D,z,F,B={},H,I;;){z=b[b.length-1];if(this.defaultActions[z])F=this.defaultActions[z];else{if(null===
x||"undefined"==typeof x)x=void 0,x=p.lex()||1,"number"!==typeof x&&(x=this.symbols_[x]||x);F=f[z]&&f[z][x]}if("undefined"===typeof F||!F.length||!F[0]){var rb="";I=[];for(H in f[z])this.terminals_[H]&&2<H&&I.push("'"+this.terminals_[H]+"'");rb=p.showPosition?"Parse error on line "+(r+1)+":\n"+p.showPosition()+"\nExpecting "+I.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(r+1)+": Unexpected "+(1==x?"end of input":"'"+(this.terminals_[x]||x)+"'");this.parseError(rb,{text:p.match,
token:this.terminals_[x]||x,line:p.yylineno,loc:y,expected:I})}if(F[0]instanceof Array&&1<F.length)throw Error("Parse Error: multiple actions possible at state: "+z+", token: "+x);switch(F[0]){case 1:b.push(x);d.push(p.yytext);h.push(p.yylloc);b.push(F[1]);x=null;D?(x=D,D=null):(n=p.yyleng,l=p.yytext,r=p.yylineno,y=p.yylloc,0<u&&u--);break;case 2:I=this.productions_[F[1]][1];B.$=d[d.length-I];B._$={first_line:h[h.length-(I||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-
(I||1)].first_column,last_column:h[h.length-1].last_column};w&&(B._$.range=[h[h.length-(I||1)].range[0],h[h.length-1].range[1]]);z=this.performAction.apply(B,[l,n,r,v,F[1],d,h].concat(q));if("undefined"!==typeof z)return z;I&&(b=b.slice(0,-2*I),d=d.slice(0,-1*I),h=h.slice(0,-1*I));b.push(this.productions_[F[1]][0]);d.push(B.$);h.push(B._$);F=f[b[b.length-2]][b[b.length-1]];b.push(F);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,
b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?
(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,d=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);d.length-1&&(this.yylineno-=d.length-1);var h=
this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===a.length?this.yylloc.first_column:0)+a[a.length-d.length].length-d[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+
(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var d,h;this.options.backtrack_lexer&&(h={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,
yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(h.yylloc.range=this.yylloc.range.slice(0)));if(d=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=d.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=
a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];d=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(d)return d;if(this._backtrack)for(var f in h)this[f]=h[f];return!1},next:function(){if(this.done)return this.EOF;this._input||
(this.done=!0);var a,b,d;this._more||(this.match=this.yytext="");for(var h=this._currentRules(),f=0;f<h.length;f++)if((b=this._input.match(this.rules[h[f]]))&&(!a||b[0].length>a[0].length))if(a=b,d=f,this.options.backtrack_lexer){a=this.test_match(b,h[f]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,h[d]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,b,d,h){switch(d){case 0:return b.yytext=a.lexer.matches[1],18;case 1:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],18;case 2:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],18;case 3:return b.yytext=a.lexer.matches[1],18;case 4:return 14;
case 5:return 15;case 6:return b.yytext="contradiction",8;case 7:return b.yytext="or",8;case 8:return b.yytext="identity",8;case 9:return b.yytext="and",8;case 10:return b.yytext="double_arrow",8;case 11:return b.yytext="arrow",8;case 12:return b.yytext="not",8;case 13:return b.yytext="reit",19;case 14:return b.yytext="premise",20;case 15:return b.yytext="weakening",21;case 16:return b.yytext="cases",21;case 17:return b.yytext="DC",21;case 18:return b.yytext="DC",21;case 19:return b.yytext="reductio",
21;case 20:return b.yytext="DM",21;case 21:return b.yytext="contraposition",21;case 22:return b.yytext="C",21;case 23:return b.yytext="CD",21;case 24:return b.yytext="not-all",21;case 25:return b.yytext="all-not",21;case 26:return b.yytext="exists-not",21;case 27:return b.yytext="not-exists",21;case 28:return b.yytext="universal",8;case 29:return b.yytext="existential",8;case 30:return 16;case 31:return 17;case 33:return 5;case 36:console.log(b.yytext)}},rules:[/^(?:([0-9][^,\s]*)(\s+and\s+)(?=[0-9]))/i,
/^(?:([0-9][^,\s]*)\s+to\s+([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*?)\s*(?:-+)\s*([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*)(?:(\s*,)*))/i,/^(?:elimination|eliminate|elim|e)/i,/^(?:introduction|introduce|intro|i)/i,/^(?:\u22a5|_\|_|contradiction|contra|false)/i,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/i,/^(?:=|identity)/i,/^(?:and|conjunction|\u2227|\u2022|&)/i,/^(?:double_arrow|\u2194|\u2261|\u21d4|<->)/i,/^(?:arrow|->|\u21d2|\u2192|\u2283)/i,/^(?:not|\u00ac|\u02dc|~|!|negation)/i,/^(?:reit|reiteration|r)/i,/^(?:premise|assumption|p)/i,
/^(?:weakening|w)/i,/^(?:argument by cases|cases|ac)/i,/^(?:denying the consequent|dc)/i,/^(?:denying the consequent|dc)/i,/^(?:reductio|rd|reductio ad absurdum)/i,/^(?:dm|de morgan|deMorgan)/i,/^(?:contraposition|cp)/i,/^(?:c|conditional)/i,/^(?:cd|contradiction)/i,/^(?:not all|not-all|~\u2200)/i,/^(?:all not|all-not|\u2200~)/i,/^(?:exists not|exists-not|\u2203~)/i,/^(?:not exists|not-exists|~\u2203)/i,/^(?:all|\u2200|every|universal)/i,/^(?:some|exists|\u2203|existential)/i,/^(?:left)/i,/^(?:right)/i,
/^(?:[\s,]+)/i,/^(?:$)/i,/^(?:\w+)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],inclusive:!0}}}}();b.lexer=f;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=z,f.Parser=z.Parser,f.parse=function(){return z.parse.apply(z,arguments)},f.main=function(z){z[1]||(console.log("Usage: "+z[0]+" FILE"),w.exit(1));z=a("fs").readFileSync(a("path").normalize(z[1]),
"utf8");return f.parser.parse(z)},"undefined"!==typeof B&&a.main===B&&f.main(w.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],24:[function(a,B,f){var w,z,H,b,I,v,p,n,q;w=a("lodash");n=a("./block_parser");b=a("./add_line_numbers");H=a("./add_justification");I=a("./add_sentences");v=a("./add_status");p=a("./add_verification");q=function(a,b){w.isString(a)||(a=""+a);return a.length>=b?a:a+Array(b-a.length+1).join(" ")};z=function(a){return a.toString=function(b){var f,n,l,p,d,
h,c,g,v;null==b&&(b={});g={result:[],lineNumber:0,addLineNumbers:!0,needLineNumbers:!1,lookBackTwo:[],getAndIncLineNumber:function(a){var b,c;g.lineNumber+=1;return null!=a.number||!1===g.addLineNumbers?(c=parseInt(("function"===typeof(b=a.number).replace?b.replace("x",""):void 0)||a.number),c!==g.lineNumber&&(g.needLineNumbers=!0),g.addLineNumbers=!1,q(a.number,3)):q(g.lineNumber,3)},visit:function(a){var b,c,d,h,f;"divider"!==a.type&&"block"===(null!=(b=g.lookBackTwo[0])?b.type:void 0)&&"line"===
(null!=(c=g.lookBackTwo[1])?c.type:void 0)&&(b=g.lookBackTwo[0],null!=b.parent&&(b=g.lookBackTwo[1],b.parent===a.parent&&g.result.push({number:q(g.getAndIncLineNumber(b).trim()+"y",3),indentation:b.indentation.trim()+"---",sentence:"",justification:""})));g.lookBackTwo.push(a);2<g.lookBackTwo.length&&g.lookBackTwo.shift();"blank_line"===a.type&&(b=a,g.result.push({number:""+g.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"",justification:""}));"divider"===a.type&&(b=a,g.result.push({number:""+
g.getAndIncLineNumber(b),indentation:b.indentation.trim()+"---",sentence:"",justification:""}));"line"===a.type&&(b=a,a="premise"===b.getRuleName()?"":null!=b.justification?b.getRuleName()+" "+((null!=(d=b.justification)?null!=(h=d.numbers)?h.join(", "):void 0:void 0)||""):(null!=(f=b.justificationText)?f.trim():void 0)||"",g.result.push({number:""+g.getAndIncLineNumber(b),indentation:""+b.indentation,sentence:""+b.sentence,justification:a}))}};a.walk(g);c="";d=w.max(function(){var a,b,c,d,h,f;c=
g.result;f=[];a=0;for(b=c.length;a<b;a++)v=c[a],f.push((null!=(d=v.sentence)?d.length:void 0)+(null!=(h=v.indentation)?h.length:void 0));return f}());h=g.result;f=0;for(l=h.length;f<l;f++){p=h[f];n=q(p.indentation+" "+p.sentence,d+1);if(g.needLineNumbers||!0===b.numberLines)c+=p.number+" ";c+=n+"   "+p.justification+"\n"}return c.trim()}};f.parse=function(a){var f,q;try{f=n.parse(a),b.to(f),H.to(f),I.to(f),v.to(f),p.to(f)}catch(x){return x.message}q=f;q.listErrorMessages=function(){var a;a=[];q.walk({visit:function(b){var f;
if("line"===(null!=b?b.type:void 0)&&!1===b.status.verified)return f=b.number,b=b.status.getMessage(),a.push(f+": "+b)}});return a.join("\n")};z(q);return q}},{"./add_justification":15,"./add_line_numbers":16,"./add_sentences":17,"./add_status":18,"./add_verification":19,"./block_parser":20,lodash:9}],25:[function(a,B,f){var w,z,H,b,I,v,p,n,q,D,F,y,x,l,u,d,h,c,g,A=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},G=[].slice;w=a("lodash");a("../util");
l=a("../fol");g=void 0;f.setParser=function(a){return g=a};d=function(a){var b,d;d=c(a);b=[function(a,b){return x(a,d,b)}];return{check:function(a,c){var d,h,g,f;d=c;g=0;for(f=b.length;g<f;g++)if(h=b[g],d=h(a,d),!1===d)return!1;return d},toString:function(){return d.toString()},isNewName:function(a){var c;c=H(a);b.push(function(a,b){var d;d=c.clone();d=d.applyMatches(b).applySubstitutions();return F(d.name,a)?!1:b});return this},isNotInAnyUndischargedPremise:function(a){var c;c=H(a);b.push(function(a,
b){var d;d=c.clone();d=d.applyMatches(b).applySubstitutions();return y(d.name,a)?!1:b});return this}}};f.match=d;x=function(a,b,c){var d,h,g,f;if("line"!==a.type)return!1;g=b.listMetaVariableNames().inSub.left;d=0;for(h=g.length;d<h;d++)if(f=g[d],!(f in c))return!1;b=b.clone().applyMatches(c);if(null===b.applySubstitutions())return!1;d=a.sentence;if(null==d)return!1;null==b.box&&null!=d.box&&(d=d.clone(),delete d.box);c=d.findMatches(b,c);if(!1===c)return!1;if(null!=b.box||"box"===b.type)if(b=("box"===
b.type?b:void 0)||(null!=b.box?b.box:void 0),b=b.applyMatches(c).applySubstitutions(),b=b.term.name,a=F(b,a),!1!==a)return!1;return c};F=function(a,b){return b.findAbove(function(b){return"line"!==b.type?!1:0<=A.call(b.sentence.getNames(),a)?!0:!1})};y=function(a,b){return b.isPremise()&&0<=A.call(b.sentence.getNames(),a)?!0:b.findAbove(function(b){return"line"===b.type&&b.isPremise()?0<=A.call(b.sentence.getNames(),a)?!0:!1:!1})};q=function(a){return w.isString(a)?d(a):a};f.subproof=function(a,d){var h,
g,f,l;f=q(a);g=q(d);h=[function(a,b){var c,d,h;d=a.getFirstLine();c=a.getLastLine();h=f.check(d,b);if(!1!==h&&(h=g.check(c,h),!1!==h))return h;c=g.check(c,b);if(!1===c)return!1;d=f.check(d,c);return!1===d?!1:d}];l=[function(){return f.toString()+" \u22a2 "+g.toString()}];return{type:"subproof",check:function(a,b){var c,d,g,f;c=b;g=0;for(f=h.length;g<f;g++)if(d=h[g],c=d(a,c),!1===c)return!1;return c},contains:function(){var a,d;a=1<=arguments.length?G.call(arguments,0):[];a=function(){var b,h,g;g=
[];b=0;for(h=a.length;b<h;b++)d=a[b],g.push(c(d));return g}();h.push(function(c,d){var h,g,f,m,l,r,n;g=function(a,b,c){var d,h,g;d=0;for(h=b.length;d<h;d++)if(g=b[d],g=g.sentence,g=g.findMatches(a,c),!1!==g)return g;return!1};h=function(a,b,c){var d,h,f;h=c;c=0;for(d=a.length;c<d;c++)if(f=a[c],h=g(f,b,h),!1===h)return!1;return h};r=[];n=c.content;m=0;for(l=n.length;m<l;m++)f=n[m],"line"===f.type&&(f.isPremise()||r.push(f));l=b(a);m=0;for(f=l.length;m<f;m++)if(n=l[m],n=h(n,r,d),!1!==n)return n;return!1});
return this},toString:function(){var a,b,c,d;d="";b=0;for(c=l.length;b<c;b++)a=l[b],d+=a();return d}}};z=function(){function a(b){b=q(b);this._requirements={from:(null!=b?[b]:void 0)||[],to:void 0}}a.prototype.type="rule";a.prototype.and=function(a){a=q(a);this._requirements.from.push(a);return this};a.prototype.to=function(a){if(this._requirements.to)throw Error("You cannot specify `.to` more than once in a single rule.");a=q(a);this._requirements.to=a;return this};a.prototype.check=function(a){return n(a,
this._requirements)};return a}();u=function(a){return new z(a)};f.from=u;f.to=function(a){return u().to(a)};n=function(a,c){var d,h,g,f,l,n,q,u;if(!p(a,c))return!1;f=[];n=a.getCitedLines();h=0;for(l=n.length;h<l;h++)g=n[h],0<=A.call(f,g)?f.push(w.clone(g)):f.push(g);h=a.getCitedBlocks();f=b(f);h=b(h);q=0;for(l=f.length;q<l;q++)for(g=f[q],u=0,n=h.length;u<n;u++)if(d=h[u],d=v(c,a,g,d),!1!==d)return!0;q=a.getRuleName();h=[];null!=c.to&&h.push("on a line with the form "+c.to);n=c.from;g=0;for(f=n.length;g<
f;g++)l=n[g],"subproof"===l.type?h.push(" citing a subproof of the form "+l):h.push(" citing a line of the form "+l);a.status.addMessage("you can only use "+q+" "+h.join("; ")+".");return!1};v=function(a,c,d,h){var g,f,l;g=[];null!=a.to&&g.push({req:a.to,linesOrBlocks:[c]});l=a.from;c=0;for(f=l.length;c<f;c++)a=l[c],g.push({req:a,linesOrBlocks:("subproof"===a.type?h:void 0)||d});d=b(g);g=0;for(h=d.length;g<h;g++)if(a=d[g],a=I(a),!1!==a)return!0;return!1};p=function(a,b){var c,d,g,f,l,n,p,q;g=a.getCitedLines().length;
c=a.getCitedBlocks().length;f=d=0;q=b.from;n=0;for(l=q.length;n<l;n++)p=q[n],"subproof"===p.type?f+=1:d+=1;if(!0===(d===g&&f===c))return!0;n=h(d,"line");l=h(f,"subproof");f=(n&&l?"and ":void 0)||(n||l?void 0:"nothing")||"";g=h(g,"line");d=h(c,"subproof");c=(g&&d?"and ":void 0)||(g||d?void 0:"nothing")||"";p=a.getRuleName();a.status.addMessage(("you must cite "+n+" "+f+l+" when using the rule "+p+" (you cited "+g+" "+c+d+").").replace(/\s\s+/g," "));return!1};I=function(a){var b,c,d,h,g,f,l,n,p,q;
n=[];d={};h=0;for(g=a.length;h<g;h++){b=a[h];q=b.req;c=[];p=b.linesOrBlocks;l=0;for(f=p.length;l<f;l++)b=p[l],0>A.call(n,b)&&c.push(b);c=D(q,c,d);if(!1===c)return!1;d=c.newMatches;c=c.matchedLineOrBlock;n.push(c)}return!0};D=function(a,b,c){var d,h,g,f;d=0;for(h=b.length;d<h;d++)if(g=b[d],f=a.check(g,c),!1!==f)return{newMatches:f,matchedLineOrBlock:g};return!1};f.premise=function(){var a,b;b=u();a=b.check.bind(b);b.check=function(b){var c;c=a(b);return!0!==c?c:b.prev?null!=b.parent.parent?(b.status.addMessage("only the first line of a subproof may be a premise."),
!1):b.findAbove(function(a){var b,c;if("line"===a.type){if(c="premise"===(null!=(b=a.justification)?b.rule.connective:void 0))return!1;if(!c)return!0}return"block"===a.type?!0:!1})?(b.status.addMessage("premises may not occur after non-premises."),!1):!0:!0};return b};f._notImplementedYet=function(a){throw Error("the rule `"+a.justification.rule.connective+"` (or some part of it) is not implemented yet!");};c=function(a){w.isString(a)&&(a=l.parse(a,g));return a};H=function(a){return w.isString(a)?
c("F("+a+")").termlist[0]:a};b=function(a){var c,d,h,g,f,l,n,p;if(0===a.length)return[[]];p=[];d=g=0;for(f=a.length-1;0<=f?g<=f:g>=f;d=0<=f?++g:--g)for(c=w.clone(a),d=c.splice(d,1),n=b(c),h=c=0,l=n.length-1;0<=l?c<=l:c>=l;h=0<=l?++c:--c)h=d.concat(n[h]),p.push(h);return p};f._permutations=b;h=function(a,b){if(0===a)return"";if(1===a)return"1 "+b;if(1<a)return a+" "+b+"s"}},{"../fol":7,"../util":29,lodash:9}],26:[function(a,B,f){B=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(B.getParser("teller"));
a={_description:"Rules of proof for classical first-order logic as presented in Paul Teller,\nA Modern Formal Logic Primer (1998).",premise:a.premise(),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),a.from("not \u03c6 or \u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6"),
a.from("\u03c6 or not \u03c8").and("\u03c8").to("\u03c6")]},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:[a.from(a.subproof("\u03c6","\u03c8 and not \u03c8")).to("not \u03c6"),a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")]},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},
double_arrow:{elim:{left:[a.from("\u03c6\u2194\u03c8").to("\u03c6 arrow \u03c8"),a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6\u2194\u03c8").to("\u03c8 arrow \u03c6"),a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")]},intro:a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c6").to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},
existential:{elim:a.from("(exists \u03c4) \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("(exists \u03c4) \u03c6")},universal:{elim:a.from("(all \u03c4) \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1^]").to("(all \u03c4) \u03c6")},weakening:a.from("\u03c6").to("\u03c8 arrow \u03c6"),cases:[a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),
a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7")],DC:[a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),a.from("\u03c6 arrow not \u03c8").and("\u03c8").to("not \u03c6"),a.from("not \u03c6 arrow \u03c8").and("not \u03c8").to("\u03c6")],reductio:[a.from(a.subproof("not \u03c6","\u03c8 and not \u03c8")).to("\u03c6"),a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6")],DM:[a.from("not (\u03c6 or \u03c8)").to("not \u03c6 and not \u03c8"),
a.from("not \u03c6 and not \u03c8").to("not (\u03c6 or \u03c8)"),a.from("not (\u03c6 and \u03c8)").to("not \u03c6 or not \u03c8"),a.from("not \u03c6 or not \u03c8").to("not (\u03c6 and \u03c8)")],contraposition:[a.from("\u03c6 arrow \u03c8").to("not \u03c8 arrow not \u03c6"),a.from("not \u03c8 arrow not \u03c6").to("\u03c6 arrow \u03c8"),a.from("not \u03c6 arrow \u03c8").to("not \u03c8 arrow \u03c6"),a.from("not \u03c8 arrow \u03c6").to("not \u03c6 arrow \u03c8"),a.from("\u03c6 arrow not \u03c8").to("\u03c8 arrow not \u03c6"),
a.from("\u03c8 arrow not \u03c6").to("\u03c6 arrow not \u03c8")],C:[a.from("\u03c6 arrow \u03c8").to("not \u03c6 or \u03c8"),a.from("not \u03c6 or \u03c8").to("\u03c6 arrow \u03c8"),a.from("not (\u03c6 arrow \u03c8)").to("\u03c6 and not \u03c8"),a.from("\u03c6 and not \u03c8").to("not (\u03c6 arrow \u03c8)")],CD:a.from("\u03c6").and("not \u03c6").to("\u03c8"),"not-all":a.from("not (all \u03c4) \u03c6").to("(exists \u03c4) not \u03c6"),"all-not":a.from("(all \u03c4) not  \u03c6").to("not (exists \u03c4) \u03c6"),
"not-exists":a.from("not (exists \u03c4) \u03c6").to("(all \u03c4) not \u03c6"),"exists-not":a.from("(exists \u03c4) not \u03c6").to("not (all \u03c4) \u03c6")};f.rules=a;B.registerRuleSet("teller",a)},{"../dialect_manager/dialectManager":5,"./rule":25}],27:[function(a,B,f){var w,z,H,b,I,v,p,n,q;w=a("lodash");q=a("./util");B=a("./dialect_manager/dialectManager").getParser("awFOL");I=a("./match");z={replace_arrow:{from:"\u03c6 arrow \u03c8",to:"(not \u03c6) or \u03c8"},replace_double_arrow:{from:"\u03c6 \u2194 \u03c8",
to:"(\u03c6 or (not \u03c8)) and ((not \u03c6) or \u03c8)"},demorgan1:{from:"not (\u03c6 and \u03c8)",to:"((not \u03c6) or (not \u03c8))"},demorgan2:{from:"not (\u03c6 or \u03c8)",to:"((not \u03c6) and (not \u03c8))"},dbl_neg:{from:"not not \u03c6",to:"\u03c6"},not_all:{from:"not ((all \u03c4) \u03c6)",to:"(exists \u03c4) (not \u03c6)"},not_exists:{from:"not ((exists \u03c4) \u03c6)",to:"(all \u03c4) (not \u03c6)"},cnf_left:{from:"\u03c61 or (\u03c62 and \u03c63)",to:"(\u03c61 or \u03c62) and (\u03c61 or \u03c63)"},
cnf_right:{from:"(\u03c62 and \u03c63) or \u03c61",to:"(\u03c62 or \u03c61) and (\u03c63 or \u03c61)"},all_and_left:{from:"\u03c6 and ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 and \u03c8)"},all_and_right:{from:"((all \u03c4) \u03c8) and \u03c6",to:"(all \u03c4) (\u03c8 and \u03c6)"},all_or_left:{from:"\u03c6 or ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 or \u03c8)"},all_or_right:{from:"((all \u03c4) \u03c8) or \u03c6",to:"(all \u03c4) (\u03c8 or \u03c6)"},exists_and_left:{from:"\u03c6 and ((exists \u03c4) \u03c8)",
to:"(exists \u03c4) (\u03c6 and \u03c8)"},exists_and_right:{from:"((exists \u03c4) \u03c8) and \u03c6",to:"(exists \u03c4) (\u03c8 and \u03c6)"},exists_or_left:{from:"\u03c6 or ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 or \u03c8)"},exists_or_right:{from:"((exists \u03c4) \u03c8) or \u03c6",to:"(exists \u03c4) (\u03c8 or \u03c6)"}};p={};for(b in z)n=z[b],a=B.parse(n.from),q.delExtraneousProperties(a),n=B.parse(n.to),q.delExtraneousProperties(n),a={from:a,to:n},p[b]=a;f.subsForPNF=p;z={identity:{from:"\u03c4=\u03c4",
to:"true"},not_true:{from:"not true",to:"false"},not_false:{from:"not false",to:"true"},or_duplicate:{from:"\u03c6 or \u03c6",to:"\u03c6"},or_duplicate_left:{from:"\u03c6 or (\u03c6 or \u03c8)",to:"\u03c6 or \u03c8"},or_duplicate_right:{from:"(\u03c8 or \u03c6) or \u03c6",to:"\u03c8 or \u03c6"},and_duplicate:{from:"\u03c6 and \u03c6",to:"\u03c6"},and_duplicate_left:{from:"\u03c6 and (\u03c6 and \u03c8)",to:"\u03c6 and \u03c8"},and_duplicate_right:{from:"(\u03c8 and \u03c6) and \u03c6",to:"\u03c8 and \u03c6"},
false_or:{from:"false or \u03c6",to:"\u03c6"},true_or:{from:"true or \u03c6",to:"true"},false_and:{from:"false and \u03c6",to:"false"},true_and:{from:"true and \u03c6",to:"\u03c6"},contradiction_and:{from:"\u03c6 and not \u03c6",to:"false"},contradiction_and_left:{from:"\u03c6 and (not \u03c6 and \u03c8)",to:"false"},contradiction_and_right:{from:"(\u03c8 and \u03c6) and not \u03c6",to:"false"},taut_or:{from:"\u03c6 or not \u03c6",to:"true"},taut_and_left:{from:"\u03c6 or (not \u03c6 or \u03c8)",
to:"true"},taut_and_right:{from:"(\u03c8 or \u03c6) or not \u03c6",to:"true"}};p={};for(b in z)n=z[b],a=B.parse(n.from),q.delExtraneousProperties(a),n=B.parse(n.to),q.delExtraneousProperties(n),a={from:a,to:n},p[b]=a;f.subs_eliminate_redundancy=p;H=function(a,b){var f;return(f=I.findWithoutApplyingSubs(a,b.from))?I.apply(b.to,f):a};f.doSub=H;f.doSubRecursive=function(a,b,f){null==f&&(f={});return q.walkMutate(a,function(a){return null===a||w.isArray(a)||null!=a.type&&"box"===a.type?a:H(a,b)})};v=
function(a,b,f){var n,l,p;null==f&&(f={});n=b.from;l=b.to;p=function(a){if(null===a||w.isArray(a)||p._inSub)return a;if(q.areIdenticalExpressions(a,n)){if(null===l)throw Error("_internal: replace to null");return q.cloneExpression(l)}return a};a=f.noClone?a:q.cloneExpression(a);return q.walkMutate(a,p)};f.replace=v;f.applySubstitutions=function(a){var b;b=function(a){var b,f,n,d;if(null==(null!=a?a.substitutions:void 0))return a;d=w.cloneDeep(a.substitutions);delete a.substitutions;b=0;for(f=d.length;b<
f;b++)n=d[b],n={from:n.from,to:n.to},a=v(a,n);return a};a=w.cloneDeep(a);try{return q.walkMutate(a,b)}catch(f){a=f;if("_internal: replace to null"===a.message)return null;throw a;}}},{"./dialect_manager/dialectManager":5,"./match":8,"./util":29,lodash:9}],28:[function(a,B,f){a("lodash");B.exports={"default":{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",
existential_quantifier:"\u2203",existential:"\u2203"},copi:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2022",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"",universal:"all",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0},teller:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",
or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,"not-all":"~\u2200","all-not":"\u2200~","exists-not":"\u2203~","not-exists":"~\u2203"},forallx:{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",
existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!1,predicationBracketsAndCommas:!1,singleLetterPredicates:!0}}},{lodash:9}],29:[function(a,B,f){var w,z,H,b,I,v,p,n,q,D,F,y,x,l,u={}.hasOwnProperty;w=a("lodash");p=a("./dialect_manager/dialectManager");l=function(a,b,c){var g;if(w.isArray(a)){var f,n,m;m=[];f=0;for(n=a.length;f<n;f++)g=a[f],m.push(l(g,b,c));return m}if(null===a)return b(a);null!=(null!=c?c.topDown:void 0)&&c.topDown&&(g=b(a));b._trace&&console.log("walkMutate got "+
util.expressionToString(a));null!=a.box&&(b._inBox=!0,a.box=l(a.box,b,c),b._inBox=void 0);null!=a.substitutions&&(null==b._inSubCount&&(b._inSubCount=0),b._inSubCount+=1,b._inSub=!0,a.substitutions=l(a.substitutions,b,c),--b._inSubCount,0===b._inSubCount&&(b._inSub=void 0));"substitution"===a.type&&(b._inSubLeft=!0,a.from=l(a.from,b,c),b._inSubLeft=void 0,a.to=l(a.to,b,c));null!=a.boundVariable&&(b._inBoundVariable=!0,a.boundVariable=l(a.boundVariable,b,c),b._inBoundVariable=void 0);null!=a.termlist&&
(a.termlist=l(a.termlist,b,c));null!=a.term&&(a.term=l(a.term,b,c));null!=a.left&&(a.left=l(a.left,b,c));null!=a.right&&(a.right=l(a.right,b,c));return null!=(null!=c?c.topDown:void 0)&&c.topDown?g:b(a)};f.walkMutate=l;y=function(a,b,c){var g;g=function(a){var c,d;for(c in g)u.call(g,c)&&(d=g[c],b[c]=d);b(a);return a};return l(a,g,c)};f.walk=y;x=function(a,b,c,g){var f,l,m;if(c&&(g=c(a,b),void 0!==g))return g;if(null===a||null===b)return a===b;l=[w.isBoolean,w.isNumber,w.isString];g=0;for(f=l.length;g<
f;g++)if(m=l[g],m(a)||m(b))return a===b;if(w.isArray(a)||w.isArray(b)){if(!w.isArray(a)||!w.isArray(b)||a.length!==b.length)return!1;f=l=0;for(m=a.length;l<m;f=++l)if(g=a[f],!x(g,b[f],c))return!1;return!0}m="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");f=0;for(l=m.length;f<l;f++)if(g=m[f],(g in a||g in b)&&!(g in a&&g in b&&x(a[g],b[g],c)))return!1;return!0};f.walkCompare=x;b=function(a,b,c){return x(a,b,void 0,c)};f.areIdenticalExpressions=b;
q=function(a,b){var c,g,f,l;c=b(a);if(void 0!==c)return c;if(null!==a){f=[w.isBoolean,w.isNumber,w.isString];c=0;for(g=f.length;c<g;c++)if(l=f[c],l(a))return;if(w.isArray(a))for(g=0,f=a.length;g<f;g++){if(c=a[g],c=q(c,b),void 0!==c)return c}else for(l="substitutions from to box term boundVariable termlist left right type name letter value".split(" "),g=0,f=l.length;g<f;g++)if(c=l[g],c in a&&(c=q(a[c],b),void 0!==c))return c}};f.find=q;f.walkMutateFindOne=function(a,b,c){var f,n;f=void 0;n=function(a){var c,
d;if(void 0!==f)return a;for(c in n)u.call(n,c)&&(d=n[c],b[c]=d);d=b(a)||{};c=d.newExpression;f=d.aResult;return void 0!==c?c:a};a=l(a,n,c);return{theResult:f,mutatedExpression:a}};z=function(a){var b,c,f,l;if(null===a)return a;l=["location","symbol","parent"];c=0;for(f=l.length;c<f;c++)b=l[c],b in a&&delete a[b];for(b in a)u.call(a,b)&&(c=a[b],w.isFunction(c)&&delete a[b]);return a};f.delExtraneousProperties=function(a){return null==(null!=a?a.type:void 0)?a:y(a,z)};v=function(a){var b,c,f,l,n;if(null===
a)return null;f=[w.isBoolean,w.isNumber,w.isString];b=0;for(c=f.length;b<c;b++)if(l=f[b],l(a))return a;if(w.isArray(a)){l=[];c=0;for(f=a.length;c<f;c++)b=a[c],l.push(v(b));return l}b={};n="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");f=0;for(l=n.length;f<l;f++)c=n[f],c in a&&(b[c]=v(a[c]));return b};f.cloneExpression=v;n=function(a,b){var c,f,n,q,m,u;null==b&&(b={});null!=b.symbols?b.replaceSymbols=!0:b.symbols=p.getSymbols();q=[w.isBoolean,w.isNumber,
w.isString,w.isArray];c=0;for(f=q.length;c<f;c++)if(u=q[c],u(a))return""+a;m=0;c=b.replaceSymbols?v(a):w.cloneDeep(a);f=l(c,function(a){var c,d,f,g,l,n,p,q;if(null===a)return"null";m+=1;n=[w.isBoolean,w.isNumber,w.isString];d=0;for(g=n.length;d<g;d++)if(u=n[d],u(a))return""+a;if(w.isArray(a))return!1===b.symbols.predicationBracketsAndCommas?a.join(""):a.join(",");if(null==(null!=a?a.type:void 0)&&void 0===a)return"[undefined]";if("variable"===(p=a.type)||"name"===p||"name_hat"===p||"term_metavariable"===
p||"term_metavariable_hat"===p)return a.substitutions?"{"+a.name+"["+a.substitutions+"]}":a.name;if("box"===a.type)return"["+a.term+"]";if("termlist"===a.type){f=[];q=0;for(l=a.length;q<l;q++)c=a[q],f.push(c.name);return f}if("substitution"===a.type)return a.from+"--\x3e"+a.to;null!=a.box&&(c=a.box);a.substitutions&&(q="["+a.substitutions+"]");null!=a.termlist&&(d=a.name||a.symbol||b.symbols[a.type]||a.type,!0===b.symbols.singleLetterPredicates&&"predicate"===a.type&&""!==d.replace(/[A-Z][0-9]*/,
"")&&(d=d[0]),l=!1===b.symbols.predicationBracketsAndCommas?""+d+a.termlist.join(""):d+"("+a.termlist.join(",")+")");"identity"===a.type&&(d=a.symbol||"=",g=a.termlist,l=g[0],g=g[1],l=""+l+d+g);if("sentence_letter"===(f=a.type)||"expression_variable"===f)l=a.letter;"value"===a.type&&(l=""+((null!=a.symbol?a.symbol:void 0)||("false"===a.value||!1===a.value?b.symbols["false"]:void 0)||a.value));d=null!=a.right;g=f="";d&&(f="(",g=")");d=a.symbol||b.symbols[a.type]||"";b.wrapWithDivs&&(d="<span class='_symbolWrap' data-symbolNum='"+
m+"'>"+d+"</span>");null!=a.boundVariable&&(l=a.boundVariable,l=""===b.symbols.universal_quantifier||!0===b.symbols.quantifiersInBrackets?"("+d+l+")"+f+a.left+(a.right||"")+g:""+d+l+" "+f+a.left+(a.right||"")+g);null!=a.left&&null==a.boundVariable&&(l=null==a.right?""+f+d+(a.left||"")+g:""+f+(a.left||"")+" "+d+" "+(a.right||"")+g);b.wrapWithDivs&&(l="<span class='_expressionWrap'>"+l+"</span>");return""+(c||"")+l+(q||"")});c={remove_extra_whitespace:{from:/\s+/g,to:" "},remove_space_between_quantifiers:{from:/([\u2200\u2203].)\s+([\u2200\u2203].)/,
to:"$1$2"},remove_space_between_quantifier_and_brackets:{from:/([\u2200\u2203].)\s+(\()/,to:"$1$2"},remove_outer_brackets:{from:/(^\s*\()([\s\S]*)(\)\s*$)/,to:"$2"}};if(""!==b.symbols.universal_quantifier&&!0!==b.symbols.quantifiersInBrackets||null==a.boundVariable)for(n in c)q=c[n],f=f.replace(q.from,q.to);return f.trim()};f.expressionToString=n;f.matchesToString=function(a){var b,c,f;if(!1===a)return"false";if(!a)return"[no]";b="";for(c in a)u.call(a,c)&&(f=a[c],null!=(null!=f?f.type:void 0)&&(b=
b+"\n\t"+c+" : "+n(f)));return b};f.exhaust=function(a,f,c){var g;null==c&&(c=b);for(g=null;!c(g,a);)g=a,a=f(v(g));return a};f.listOfAtomicExpressionsComparator=function(a,b){var c,f,l,n;if(a.length<b.length)return-1;if(a.length>b.length)return 1;f=c=0;for(n=a.length;c<n;f=++c)if(l=a[f],f=I(l,b[f]),0!==f)return f;return 0};I=function(a,b){var c,f;c=H(a.type,b.type);if(0!==c)return c;if("not"===a.type&&"not"!==b.type)return c=I(a.left,b),0===c?1:c;if("not"!==a.type&&"not"===b.type)return c=I(a,b.left),
0===c?-1:c;if("not"===a.type&&"not"===b.type)return I(a.left,b.left);if(null!=a.value)return a.value<b.value?-1:a.value>b.value?1:0;if(null!=a.letter)return a.letter<b.letter?-1:a.letter>b.letter?1:0;if(null!=a.name)return a.name<b.name?-1:a.name>b.name?1:0;if(null!=a.termlist)return c=D(a.termlist[0],a.termlist[1],F),f=D(b.termlist[0],b.termlist[1],F),F(c,f);throw Error("Could not do a comparison for "+JSON.stringify(a,null,4));};f.atomicExpressionComparator=I;D=function(a,b,c){return 0<c(a,b)?b:
a};F=function(a,b){var c;c=H(a.type,b.type);return 0!==c?c:a.name<b.name?-1:a.name>b.name?1:0};f.termComparator=F;H=function(a,b){var c;if("not"===a||"not"===b)return 0;c={value:5,sentence_letter:10,predicate:20,identity:30,name:50,variable:60};return c[a]<c[b]?-1:c[a]>c[b]?1:0};f.listTerms=function(a){var b;b=[];y(a,function(a){var d;if("variable"===(d=a.type)||"name"===d||"term_metavariable"===d)return b.push(a)});return b};f.listMetaVariableNames=function(a){var b,c;b={inExpression:[],inBox:[],
inSub:{left:[],right:[]}};c=function(a){var d;if(null==(null!=a?a.type:void 0)||"term_metavariable"!==a.type&&"expression_variable"!==a.type)return a;d=(null!=(null!=a?a.letter:void 0)?a.letter:void 0)||a.name;null!=c._inSub?null!=c._inSubLeft?b.inSub.left.push(d):b.inSub.right.push(d):null!=c._inBox?b.inBox.push(d):b.inExpression.push(d);return a};y(a,c);return b};f.expressionTypes="existential_quantifier universal_quantifier and or nand nor arrow double_arrow not value predicate identity expression_variable sentence_letter".split(" ");
f.termTypes=["name","variable","term_metavariable"];f.atomicSentenceTypes=["sentence_letter","expression_variable","identity","predicate"];f.expressionContainsSubstitutions=function(a){return!0===q(a,function(a){if(null!=(null!=a?a.substitutions:void 0))return!0})?!0:!1};f.expressionHasSub=function(a,f){var c,g,l,n;if(null==(null!=a?a.substitutions:void 0))return!1;n=a.substitutions;g=0;for(l=n.length;g<l;g++)if(c=n[g],b(c.from,f.from)&&b(c.to,f.to))return!0;return!1}},{"./dialect_manager/dialectManager":5,
lodash:9}]},{},[4]);
