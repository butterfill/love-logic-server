/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function e$$0(x,b,v){function q(e,w){if(!b[e]){if(!x[e]){var u="function"==typeof require&&require;if(!w&&u)return u(e,!0);if(A)return A(e,!0);u=Error("Cannot find module '"+e+"'");throw u.code="MODULE_NOT_FOUND",u;}u=b[e]={exports:{}};x[e][0].call(u.exports,function(w){var u=x[e][1][w];return q(u?u:w)},u,u.exports,e$$0,x,b,v)}return b[e].exports}for(var A="function"==typeof require&&require,e=0;e<v.length;e++)q(v[e]);return q})({1:[function(f,x,b){},{}],2:[function(f,x,b){(function(f){function q(e,
u){for(var r=0,f=e.length-1;0<=f;f--){var B=e[f];"."===B?e.splice(f,1):".."===B?(e.splice(f,1),r++):r&&(e.splice(f,1),r--)}if(u)for(;r--;r)e.unshift("..");return e}function A(e,f){if(e.filter)return e.filter(f);for(var r=[],b=0;b<e.length;b++)f(e[b],b,e)&&r.push(e[b]);return r}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;b.resolve=function(){for(var e="",u=!1,r=arguments.length-1;-1<=r&&!u;r--){var b=0<=r?arguments[r]:f.cwd();if("string"!==typeof b)throw new TypeError("Arguments to path.resolve must be strings");
b&&(e=b+"/"+e,u="/"===b.charAt(0))}e=q(A(e.split("/"),function(e){return!!e}),!u).join("/");return(u?"/":"")+e||"."};b.normalize=function(e){var f=b.isAbsolute(e),r="/"===E(e,-1);(e=q(A(e.split("/"),function(e){return!!e}),!f).join("/"))||f||(e=".");e&&r&&(e+="/");return(f?"/":"")+e};b.isAbsolute=function(e){return"/"===e.charAt(0)};b.join=function(){var e=Array.prototype.slice.call(arguments,0);return b.normalize(A(e,function(e,f){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");
return e}).join("/"))};b.relative=function(e,f){function r(m){for(var e=0;e<m.length&&""===m[e];e++);for(var c=m.length-1;0<=c&&""===m[c];c--);return e>c?[]:m.slice(e,c-e+1)}e=b.resolve(e).substr(1);f=b.resolve(f).substr(1);for(var z=r(e.split("/")),B=r(f.split("/")),F=Math.min(z.length,B.length),y=F,n=0;n<F;n++)if(z[n]!==B[n]){y=n;break}F=[];for(n=y;n<z.length;n++)F.push("..");F=F.concat(B.slice(y));return F.join("/")};b.sep="/";b.delimiter=":";b.dirname=function(f){var b=e.exec(f).slice(1);f=b[0];
b=b[1];if(!f&&!b)return".";b&&(b=b.substr(0,b.length-1));return f+b};b.basename=function(f,b){var r=e.exec(f).slice(1)[2];b&&r.substr(-1*b.length)===b&&(r=r.substr(0,r.length-b.length));return r};b.extname=function(f){return e.exec(f).slice(1)[3]};var E="b"==="ab".substr(-1)?function(e,f,b){return e.substr(f,b)}:function(e,f,b){0>f&&(f=e.length+f);return e.substr(f,b)}}).call(this,f("_process"))},{_process:3}],3:[function(f,x,b){function v(){w=!1;u.length?E=u.concat(E):r=-1;E.length&&q()}function q(){if(!w){var e=
setTimeout(v);w=!0;for(var f=E.length;f;){u=E;for(E=[];++r<f;)u&&u[r].run();r=-1;f=E.length}u=null;w=!1;clearTimeout(e)}}function A(e,f){this.fun=e;this.array=f}function e(){}f=x.exports={};var E=[],w=!1,u,r=-1;f.nextTick=function(e){var f=Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)f[b-1]=arguments[b];E.push(new A(e,f));1!==E.length||w||setTimeout(q,0)};A.prototype.run=function(){this.fun.apply(null,this.array)};f.title="browser";f.browser=!0;f.env={};f.argv=
[];f.version="";f.versions={};f.on=e;f.addListener=e;f.once=e;f.off=e;f.removeListener=e;f.removeAllListeners=e;f.emit=e;f.binding=function(e){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(e){throw Error("process.chdir is not supported");};f.umask=function(){return 0}},{}],4:[function(f,x,b){x="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};b=f("../fol");f=f("../proofs/proof");x.fol=b;x.proof=
f},{"../fol":6,"../proofs/proof":19}],5:[function(f,x,b){var v,q,A;q=f("lodash");A=f("./parser/awFOL");v=function(e,f){this.world=f;q.isString(e)?this.sentence=A.parse(e):this.sentence=e;this.varStack={};return this};v.prototype.logSentence=function(){return console.log("sentence "+JSON.stringify(this.sentence,null,4))};v.prototype.evaluate=function(e){var f,b,u,r,z;e=null!=e?e:this.sentence;if("value"===e.type)return e.value;if("and"===e.type)return this.evaluate(e.left)&&this.evaluate(e.right);
if("nand"===e.type)return!(this.evaluate(e.left)&&this.evaluate(e.right));if("or"===e.type)return this.evaluate(e.left)||this.evaluate(e.right);if("nor"===e.type)return!(this.evaluate(e.left)||this.evaluate(e.right));if("not"===e.type)return!this.evaluate(e.left);if("arrow"===e.type)return!this.evaluate(e.left)||this.evaluate(e.right);if("double_arrow"===e.type)return this.evaluate(e.left)===this.evaluate(e.right);if("sentence_letter"===e.type)return this.world[e.letter];if("predicate"===e.type||
"identity"===e.type)return b=e,f="identity"===b.type?function(){var e,f,b,n;b=this.world.domain;n=[];e=0;for(f=b.length;e<f;e++)z=b[e],n.push([z,z]);return n}.call(this):this.world.predicates[b.name],b=this.instantiate_terms(b.termlist),f=q.where(f,b),0<f.length;if("existential_quantifier"===e.type||"universal_quantifier"===e.type)return f=e.boundVariable,r=f.name,r in this.varStack||(this.varStack[r]=[]),u=this,"existential_quantifier"===e.type&&(b=q.some),"universal_quantifier"===e.type&&(b=q.all),
b(this.world.domain,function(f){u.varStack[r].push(f);f=u.evaluate(e.left);u.varStack[r].pop();return f});throw Error("e (evaluate inner) could not evaluate sentence "+JSON.stringify(e,null,4));};v.prototype.instantiate_terms=function(e){var f,b,u,r;u=[];f=0;for(b=e.length;f<b;f++)if(r=e[f],"name"===r.type){if(!(r.name in this.world.names))throw Error("The name "+r.name+" is not defined in this world.");u.push(this.world.names[r.name])}else if("variable"===r.type){if(!(r.name in this.varStack))throw Error("The variable "+
r.name+" is not bound by any quantifier.");u.push(q.last(this.varStack[r.name]))}else throw Error("Encountered a term of unknown type: "+JSON.stringify(r,null,4));return u};b.evaluate=function(e,f){return(new v(e,f)).evaluate()}},{"./parser/awFOL":10,lodash:8}],6:[function(f,x,b){var v,q,A,e,E,w,u,r;v=f("lodash");A=f("./parser/awFOL");r=f("./util");E=f("./match");u=f("./substitute");w=f("./normal_form");e=f("./evaluate");f=f("./symbols");b.parse=function(e){e=A.parse(e);return q(e)};b.symbols=f;q=
function(f){r.walk(f,function(b){if(null!==b&&!(v.isArray(b)||v.isString(b)||v.isBoolean(b)||v.isNumber(b)))return b.walk=function(e){r.walk(b,e);return b},b.delExtraneousProperties=function(){return r.delExtraneousProperties(b)},b.isIdenticalTo=function(e){return r.areIdenticalExpressions(b,e)},b.clone=function(){var e;e=r.cloneExpression(b);q(e);return e},b.toString=function(e){return r.expressionToString(b,e)},b.listMetaVariableNames=function(){return r.listMetaVariableNames(b)},b.findMatches=
function(e,f,n){e=E.find(b,e,f,n);q(e);return e},b.applyMatches=function(e){e=E.apply(b,e);q(e);return e},b.applySubstitutions=function(){var e;e=u.applySubstitutions(b);q(e);return e},b.containsSubstitutions=function(){var e;e=!1;b.walk(function(b){null!=(null!=b?b.substitutions:void 0)&&(e=!0)});return e},b.getNames=function(){var e;e=[];b.walk(function(b){"name"===(null!=b?b.type:void 0)&&e.push(b.name)});return e},b.getPredicates=function(){var e;e=[];b.walk(function(b){"predicate"===(null!=b?
b.type:void 0)&&e.push({name:b.name,arity:b.termlist.length})});return v.uniq(e,function(e){return e.name+"*&!"+e.arity})},b.getSentenceLetters=function(){var e;e=[];b.walk(function(b){"sentence_letter"===(null!=b?b.type:void 0)&&e.push(b.letter)});return e.sort()},b.getFreeVariableNames=function(){var e,y,n,m;e=r.listTerms(b);y=v.uniq(function(){var b,c,a;a=[];b=0;for(c=e.length;b<c;b++)n=e[b],"variable"===n.type&&a.push(n.name);return a}());return function(){var e,c,a;a=[];e=0;for(c=y.length;e<
c;e++)m=y[e],w.isVariableFree(m,f)&&a.push(m);return a}()},b.convertToPNFsimplifyAndSort=function(){var e;e=w.convertToPNFsimplifyAndSort(f);q(e);return e},b.isPNFExpressionEquivalent=function(e){return w.arePNFExpressionsEquivalent(b,e)},b.evaluate=function(f){return e.evaluate(b,f)}});return f};b._decorate=q},{"./evaluate":5,"./match":7,"./normal_form":9,"./parser/awFOL":10,"./substitute":21,"./symbols":22,"./util":23,lodash:8}],7:[function(f,x,b){var v,q,A,e,E,w,u,r,z,B,F,y,n,m,t=[].indexOf||function(c){for(var a=
0,h=this.length;a<h;a++)if(a in this&&this[a]===c)return a;return-1};v=f("lodash");m=f("./util");b.find=function(c,a,h){null==h&&(h={});null==h&&(h={});return y(a,function(a){var e,b;a=n(c,a,h);if(!1!==a){for(e in a)b=a[e],a[e]=m.cloneExpression(b);return a}})||!1};n=function(c,a,h){var e;null==h&&(h={});e=function(a,c){var p,b;if(null!=(null!=c?c.type:void 0)&&("expression_variable"===(p=c.type)||"term_metavariable"===p)){"expression_variable"===c.type&&(b=c.letter);"term_metavariable"===c.type&&
(b=c.name);if(b in h)return m.areIdenticalExpressions(a,h[b]);h=v.clone(h);h[b]=a;return null!=c.box?(p=m.cloneExpression(a),delete p.box,h[b]=p,null==a.box?!1:m.walkCompare(a.box,c.box,e)):h}};return m.walkCompare(c,a,e)?h:!1};b.findWithoutApplyingSubs=n;y=function(c,a){var h;if(!m.expressionContainsSubstitutions(c))return a(c);h=m.cloneExpression(c);h=z(h);return w(h,a)};b.doAfterApplyingSubstitutions=y;w=function(c,a){var h,e,b,f,p,n;h=E(c);if(b=!m.expressionContainsSubstitutions(h))if(n=a(h))return n;
f=F(c);p=!m.expressionContainsSubstitutions(f);e=!m.areIdenticalExpressions(h,f);if(p&&e&&(n=a(f))||!b&&(n=w(h,a))||!p&&e&&(n=w(f,a)))return n};E=function(c){var a;a=m.cloneExpression(c);return m.walkMutateFindOne(a,function(c){var e,b;if(null!=(null!=c?c.substitutions:void 0)){c=m.cloneExpression(c);b=B(c);if(null==b)return{newExpression:a,aResult:void 0};u(c,b)&&(e=m.cloneExpression(b.to),null!=c.substitutions&&(e.substitutions=c.substitutions),null!=c.box&&(e.box=c.box),c=e);return{newExpression:c,
aResult:b}}}).mutatedExpression};u=function(c,a){return c.type!==a.from.type?!1:null!=c.name&&null!=a.from.name&&c.name===a.from.name||null!=c.letter&&null!=a.from.letter&&c.letter===a.from.letter?!0:!1};F=function(c){c=m.cloneExpression(c);return m.walkMutateFindOne(c,function(a){var c;if(null!=(null!=a?a.substitutions:void 0))return a=m.cloneExpression(a),c=B(a),{newExpression:a,aResult:c}}).mutatedExpression};z=function(c){c=m.cloneExpression(c);return m.walkMutate(c,function(a){var c;if(null==
(null!=a?a.substitutions:void 0)||null!=(null!=a?a.type:void 0)&&("name"===(c=a.type)||"variable"===c||"term_metavariable"===c))return a;for(c=B(a);c;)a=r(c)?A(a,c):q(a,c),c=B(a);return a})};b._moveAllSubsInwards=z;B=function(c){var a;if(null!=c.substitutions){for(a=c.substitutions.shift();0<c.substitutions.length&&m.areIdenticalExpressions(a.from,a.to);)a=c.substitutions.shift();if(m.areIdenticalExpressions(a.from,a.to))delete c.substitutions;else return 0===c.substitutions.length&&delete c.substitutions,
a}};r=function(c){var a;return(a=c.from.type,0<=t.call(m.termTypes,a))?!0:!1};A=function(c,a){return e(c,a,m.termTypes)};b._addSubToEveryTerm=A;q=function(c,a){return e(c,a,["sentence_letter","expression_variable"])};b._addSubToEverySentence=q;e=function(c,a,h){var e,b;b=function(a){var c;if(null==(null!=a?a.type:void 0)||!(c=a.type,0<=t.call(h,c))||b._inSub)return a;a.substitutions&&!m.expressionHasSub(a,e)?a.substitutions.push(e):a.substitutions=[e];return a};c=m.cloneExpression(c);e=m.cloneExpression(a);
return c=m.walkMutate(c,b)};b.apply=function(c,a,h){var e;null==h&&(h={});e=function(c){var h,e;if(null==(null!=c?c.type:void 0)||"expression_variable"!==(h=c.type)&&"term_metavariable"!==h)return c;"expression_variable"===c.type&&(e=c.letter);"term_metavariable"===c.type&&(e=c.name);if(!(e in a))return c;h=m.cloneExpression(a[e]);null!=c.substitutions&&(h.substitutions=c.substitutions);null!=c.box&&(h.box=c.box);return h};if(h.noClone)return m.walkMutate(c,e);c=m.cloneExpression(c);return m.walkMutate(c,
e)}},{"./util":23,lodash:8}],8:[function(f,x,b){(function(f){(function(){function q(a,c){if(a!==c){var h=null===a,e=a===p,k=a===a,b=null===c,m=c===p,f=c===c;if(a>c&&!b||!k||h&&!m&&f||e&&f)return 1;if(a<c&&!h||!f||b&&!e&&k||m&&k)return-1}return 0}function A(a,c,h){for(var e=a.length,k=h?e:-1;h?k--:++k<e;)if(c(a[k],k,a))return k;return-1}function e(a,c,h){if(c!==c)return m(a,h);--h;for(var e=a.length;++h<e;)if(a[h]===c)return h;return-1}function E(a){return"function"==typeof a||!1}function w(a){return null==
a?"":a+""}function u(a,c){for(var h=-1,e=a.length;++h<e&&-1<c.indexOf(a.charAt(h)););return h}function r(a,c){for(var h=a.length;h--&&-1<c.indexOf(a.charAt(h)););return h}function z(a,c){return q(a.criteria,c.criteria)||a.index-c.index}function B(a){return Da[a]}function F(a){return ua[a]}function y(a,c,h){c?a=vb[a]:h&&(a=Ka[a]);return"\\"+a}function n(a){return"\\"+Ka[a]}function m(a,c,h){var e=a.length;for(c+=h?0:-1;h?c--:++c<e;){var k=a[c];if(k!==k)return c}return-1}function t(a){return!!a&&"object"==
typeof a}function c(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function a(a,c){for(var h=-1,e=a.length,k=-1,b=[];++h<e;)a[h]===c&&(a[h]="__lodash_placeholder__",b[++k]=h);return b}function h(a){for(var h=-1,e=a.length;++h<e&&c(a.charCodeAt(h)););return h}function k(a){for(var h=a.length;h--&&c(a.charCodeAt(h)););return h}function C(a){return Wa[a]}function G(c){function b(d){if(t(d)&&!H(d)&&!(d instanceof
x)){if(d instanceof v)return d;if(Q.call(d,"__chain__")&&Q.call(d,"__wrapped__"))return gc(d)}return new v(d)}function f(){}function v(d,g,l){this.__wrapped__=d;this.__actions__=l||[];this.__chain__=!!g}function x(d){this.__wrapped__=d;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=Xa;this.__views__=[]}function ua(){this.__data__={}}function ea(d){var g=d?d.length:0;for(this.data={hash:Ya(null),set:new Za};g--;)this.push(d[g])}function Da(d,g){var l=
d.data;return("string"==typeof g||M(g)?l.set.has(g):l.hash[g])?0:-1}function U(d,g){var l=-1,a=d.length;for(g||(g=N(a));++l<a;)g[l]=d[l];return g}function fa(d,g){for(var l=-1,a=d.length;++l<a&&!1!==g(d[l],l,d););return d}function ta(d,g){for(var l=-1,a=d.length;++l<a;)if(!g(d[l],l,d))return!1;return!0}function na(d,g){for(var l=-1,a=d.length,c=-1,b=[];++l<a;){var h=d[l];g(h,l,d)&&(b[++c]=h)}return b}function Ea(d,g){for(var l=-1,a=d.length,c=N(a);++l<a;)c[l]=g(d[l],l,d);return c}function La(d,g){for(var l=
-1,a=g.length,c=d.length;++l<a;)d[c+l]=g[l];return d}function Wa(d,g,l,a){var c=-1,b=d.length;for(a&&b&&(l=d[++c]);++c<b;)l=g(l,d[c],c,d);return l}function Ka(d,g){for(var l=-1,a=d.length;++l<a;)if(g(d[l],l,d))return!0;return!1}function hc(d,g,l,a){return d!==p&&Q.call(a,l)?d:g}function wb(d,g,l){for(var a=-1,c=T(g),b=c.length;++a<b;){var h=c[a],e=d[h],k=l(e,g[h],h,d,g);(k===k?k===e:e!==e)&&(e!==p||h in d)||(d[h]=k)}return d}function Ma(d,g){return null==g?d:ic(g,T(g),d)}function jc(d,g){for(var l=
-1,a=null==d,c=!a&&R(d),b=c?d.length:0,h=g.length,e=N(h);++l<h;){var k=g[l];e[l]=c?oa(k,b)?d[k]:p:a?p:d[k]}return e}function ic(d,g,l){l||(l={});for(var a=-1,c=g.length;++a<c;){var b=g[a];l[b]=d[b]}return l}function $a(d,g,l){var a=typeof d;return"function"==a?g===p?d:Y(d,g,l):null==d?va:"object"==a?Na(d):g===p?ab(d):kc(d,g)}function wa(d,g,l,a,c,b,h){var e;l&&(e=c?l(d,a,c):l(d));if(e!==p)return e;if(!M(d))return d;if(a=H(d)){if(e=Ud(d),!g)return U(d,e)}else{var k=Z.call(d),f="[object Function]"==
k;if("[object Object]"==k||"[object Arguments]"==k||f&&!c){if(e=Vd(f?{}:d),!g)return Ma(e,d)}else return O[k]?Wd(d,k,g):c?d:{}}b||(b=[]);h||(h=[]);for(c=b.length;c--;)if(b[c]==d)return h[c];b.push(d);h.push(e);(a?fa:la)(d,function(a,c){e[c]=wa(a,g,l,c,d,b,h)});return e}function lc(d,g,l){if("function"!=typeof d)throw new ba("Expected a function");return bb(function(){d.apply(p,l)},g)}function Oa(d,g){var l=d?d.length:0,a=[];if(!l)return a;var c=-1,b=Fa(),h=b==e,k=h&&200<=g.length?Ya&&Za?new ea(g):
null:null,p=g.length;k&&(b=Da,h=!1,g=k);a:for(;++c<l;)if(k=d[c],h&&k===k){for(var f=p;f--;)if(g[f]===k)continue a;a.push(k)}else 0>b(g,k,0)&&a.push(k);return a}function vb(d,g){var l=!0;ga(d,function(d,a,c){return l=!!g(d,a,c)});return l}function ec(d,g,l,a){var c=a,b=c;ga(d,function(d,h,e){h=+g(d,h,e);if(l(h,c)||h===a&&h===b)c=h,b=d});return b}function mc(d,g){var l=[];ga(d,function(d,a,c){g(d,a,c)&&l.push(d)});return l}function nc(d,g,l,a){var c;l(d,function(d,l,b){if(g(d,l,b))return c=a?l:d,!1});
return c}function W(d,g,l,a){a||(a=[]);for(var c=-1,b=d.length;++c<b;){var h=d[c];t(h)&&R(h)&&(l||H(h)||ma(h))?g?W(h,g,l,a):La(a,h):l||(a[a.length]=h)}return a}function oc(d,g){return xb(d,g,pa)}function la(d,g){return xb(d,g,T)}function yb(d,g){return pc(d,g,T)}function zb(d,g){for(var l=-1,a=g.length,c=-1,b=[];++l<a;){var h=g[l];xa(d[h])&&(b[++c]=h)}return b}function ya(d,g,l){if(null!=d){l!==p&&l in ha(d)&&(g=[l]);l=0;for(var a=g.length;null!=d&&l<a;)d=d[g[l++]];return l&&l==a?d:p}}function cb(d,
g,l,a,c,b){if(d===g)return!0;if(null==d||null==g||!M(d)&&!t(g))return d!==d&&g!==g;a:{var h=cb,e=H(d),k=H(g),p="[object Array]",f="[object Array]";e||(p=Z.call(d),"[object Arguments]"==p?p="[object Object]":"[object Object]"!=p&&(e=Ga(d)));k||(f=Z.call(g),"[object Arguments]"==f?f="[object Object]":"[object Object]"!=f&&Ga(g));var m="[object Object]"==p,k="[object Object]"==f,f=p==f;if(!f||e||m){if(!a&&(p=m&&Q.call(d,"__wrapped__"),k=k&&Q.call(g,"__wrapped__"),p||k)){d=h(p?d.value():d,k?g.value():
g,l,a,c,b);break a}if(f){c||(c=[]);b||(b=[]);for(p=c.length;p--;)if(c[p]==d){d=b[p]==g;break a}c.push(d);b.push(g);d=(e?Xd:Yd)(d,g,h,l,a,c,b);c.pop();b.pop()}else d=!1}else d=Zd(d,g,p)}return d}function qc(d,g,l){var a=g.length,c=a,b=!l;if(null==d)return!c;for(d=ha(d);a--;){var h=g[a];if(b&&h[2]?h[1]!==d[h[0]]:!(h[0]in d))return!1}for(;++a<c;){var h=g[a],e=h[0],k=d[e],f=h[1];if(b&&h[2]){if(k===p&&!(e in d))return!1}else if(h=l?l(k,f,e):p,h===p?!cb(f,k,l,!0):!h)return!1}return!0}function Ab(d,g){var l=
-1,a=R(d)?N(d.length):[];ga(d,function(d,c,b){a[++l]=g(d,c,b)});return a}function Na(d){var g=rc(d);if(1==g.length&&g[0][2]){var l=g[0][0],a=g[0][1];return function(d){return null==d?!1:d[l]===a&&(a!==p||l in ha(d))}}return function(d){return qc(d,g)}}function kc(d,g){var l=H(d),a=za(d)&&g===g&&!M(g),c=d+"";d=qa(d);return function(b){if(null==b)return!1;var h=c;b=ha(b);if(!(!l&&a||h in b)){b=1==d.length?b:ya(b,ca(d,0,-1));if(null==b)return!1;h=Pa(d);b=ha(b)}return b[h]===g?g!==p||h in b:cb(g,b[h],
p,!0)}}function sc(d,g,l,a,c){if(!M(d))return d;var b=R(g)&&(H(g)||Ga(g)),h=b?p:T(g);fa(h||g,function(e,k){h&&(k=e,e=g[k]);if(t(e)){a||(a=[]);c||(c=[]);a:{for(var f=k,m=a,n=c,D=m.length,C=g[f];D--;)if(m[D]==C){d[f]=n[D];break a}var D=d[f],J=l?l(D,C,f,d,g):p,r=J===p;r&&(J=C,R(C)&&(H(C)||Ga(C))?J=H(D)?D:R(D)?U(D):[]:db(C)||ma(C)?J=ma(D)?tc(D):db(D)?D:{}:r=!1);m.push(C);n.push(J);if(r)d[f]=sc(J,C,l,m,n);else if(J===J?J!==D:D===D)d[f]=J}}else f=d[k],m=l?l(f,e,k,d,g):p,(n=m===p)&&(m=e),m===p&&(!b||k in
d)||!n&&(m===m?m===f:f!==f)||(d[k]=m)});return d}function Bb(d){return function(g){return null==g?p:g[d]}}function fc(d){var g=d+"";d=qa(d);return function(l){return ya(l,d,g)}}function uc(d,g){for(var l=d?g.length:0;l--;){var a=g[l];if(a!=c&&oa(a)){var c=a;vc.call(d,a,1)}}return d}function Cb(d,g){return d+Aa(wc()*(g-d+1))}function $d(d,g,l,a,c){c(d,function(d,c,b){l=a?(a=!1,d):g(l,d,c,b)});return l}function ca(d,g,l){var a=-1,c=d.length;g=null==g?0:+g||0;0>g&&(g=-g>c?0:c+g);l=l===p||l>c?c:+l||0;
0>l&&(l+=c);c=g>l?0:l-g>>>0;g>>>=0;for(l=N(c);++a<c;)l[a]=d[a+g];return l}function ae(d,g){var l;ga(d,function(d,a,c){l=g(d,a,c);return!l});return!!l}function xc(d,g){var l=d.length;for(d.sort(g);l--;)d[l]=d[l].value;return d}function yc(d,g,l){var a=L(),c=-1;g=Ea(g,function(d){return a(d)});d=Ab(d,function(d){return{criteria:Ea(g,function(g){return g(d)}),index:++c,value:d}});return xc(d,function(d,g){var a;a:{for(var c=-1,b=d.criteria,h=g.criteria,Td=b.length,e=l.length;++c<Td;)if(a=q(b[c],h[c])){if(c>=
e)break a;c=l[c];a*="asc"===c||!0===c?1:-1;break a}a=d.index-g.index}return a})}function be(d,g){var l=0;ga(d,function(d,a,c){l+=+g(d,a,c)||0});return l}function Db(d,g){var l=-1,a=Fa(),c=d.length,b=a==e,h=b&&200<=c,k=h?Ya&&Za?new ea(void 0):null:null,f=[];k?(a=Da,b=!1):(h=!1,k=g?[]:f);a:for(;++l<c;){var p=d[l],m=g?g(p,l,d):p;if(b&&p===p){for(var n=k.length;n--;)if(k[n]===m)continue a;g&&k.push(m);f.push(p)}else 0>a(k,m,0)&&((g||h)&&k.push(m),f.push(p))}return f}function Eb(d,g){for(var l=-1,a=g.length,
c=N(a);++l<a;)c[l]=d[g[l]];return c}function eb(d,g,l,a){for(var c=d.length,b=a?c:-1;(a?b--:++b<c)&&g(d[b],b,d););return l?ca(d,a?0:b,a?b+1:c):ca(d,a?b+1:0,a?c:b)}function zc(d,g){var l=d;l instanceof x&&(l=l.value());for(var a=-1,c=g.length;++a<c;)var b=g[a],l=b.func.apply(b.thisArg,La([l],b.args));return l}function Fb(d,g,l){var a=0,c=d?d.length:a;if("number"==typeof g&&g===g&&2147483647>=c){for(;a<c;){var b=a+c>>>1,h=d[b];(l?h<=g:h<g)&&null!==h?a=b+1:c=b}return c}return Ac(d,g,va,l)}function Ac(d,
g,l,a){g=l(g);for(var c=0,b=d?d.length:0,h=g!==g,e=null===g,k=g===p;c<b;){var f=Aa((c+b)/2),m=l(d[f]),n=m!==p,D=m===m;(h?D||a:e?D&&n&&(a||null!=m):k?D&&(a||n):null==m?0:a?m<=g:m<g)?c=f+1:b=f}return X(b,4294967294)}function Y(d,g,l){if("function"!=typeof d)return va;if(g===p)return d;switch(l){case 1:return function(l){return d.call(g,l)};case 3:return function(l,a,c){return d.call(g,l,a,c)};case 4:return function(l,a,c,b){return d.call(g,l,a,c,b)};case 5:return function(l,a,c,b,h){return d.call(g,
l,a,c,b,h)}}return function(){return d.apply(g,arguments)}}function Bc(d){var g=new ce(d.byteLength);(new Cc(g)).set(new Cc(d));return g}function Dc(d,g,l){for(var a=l.length,c=-1,b=S(d.length-a,0),h=-1,e=g.length,k=N(e+b);++h<e;)k[h]=g[h];for(;++c<a;)k[l[c]]=d[c];for(;b--;)k[h++]=d[c++];return k}function Ec(d,g,l){for(var a=-1,c=l.length,b=-1,h=S(d.length-c,0),e=-1,k=g.length,f=N(h+k);++b<h;)f[b]=d[b];for(h=b;++e<k;)f[h+e]=g[e];for(;++a<c;)f[h+l[a]]=d[b++];return f}function fb(d,g){return function(l,
a,c){var b=g?g():{};a=L(a,c,3);if(H(l)){c=-1;for(var h=l.length;++c<h;){var e=l[c];d(b,e,a(e,c,l),l)}}else ga(l,function(g,l,c){d(b,g,a(g,l,c),c)});return b}}function Fc(d){return K(function(g,l){var a=-1,c=null==g?0:l.length,b=2<c?l[c-2]:p,h=2<c?l[2]:p,e=1<c?l[c-1]:p;"function"==typeof b?(b=Y(b,e,5),c-=2):(b="function"==typeof e?e:p,c-=b?1:0);h&&I(l[0],l[1],h)&&(b=3>c?p:b,c=1);for(;++a<c;)(h=l[a])&&d(g,h,b);return g})}function Gc(d,g){return function(l,a){var c=l?Qa(l):0;if(!ja(c))return d(l,a);
for(var b=g?c:-1,h=ha(l);(g?b--:++b<c)&&!1!==a(h[b],b,h););return l}}function Hc(d){return function(g,l,a){var c=ha(g);a=a(g);for(var b=a.length,h=d?b:-1;d?h--:++h<b;){var e=a[h];if(!1===l(c[e],e,c))break}return g}}function de(d,g){function l(){return(this&&this!==ka&&this instanceof l?a:d).apply(g,arguments)}var a=gb(d);return l}function hb(d){return function(g){var l=-1;g=Ic(Jc(g));for(var a=g.length,c="";++l<a;)c=d(c,g[l],l);return c}}function gb(d){return function(){var g=arguments;switch(g.length){case 0:return new d;
case 1:return new d(g[0]);case 2:return new d(g[0],g[1]);case 3:return new d(g[0],g[1],g[2]);case 4:return new d(g[0],g[1],g[2],g[3]);case 5:return new d(g[0],g[1],g[2],g[3],g[4]);case 6:return new d(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new d(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var l=Ra(d.prototype),g=d.apply(l,g);return M(g)?g:l}}function Kc(d){function g(l,a,c){c&&I(l,a,c)&&(a=p);l=ra(l,d,p,p,p,p,p,a);l.placeholder=g.placeholder;return l}return g}function Lc(d,g){return K(function(l){var a=
l[0];if(null==a)return a;l.push(g);return d.apply(p,l)})}function Mc(d,g){return function(l,a,c){c&&I(l,a,c)&&(a=p);a=L(a,c,3);if(1==a.length){c=l=H(l)?l:Gb(l);for(var b=a,h=-1,e=c.length,k=g,f=k;++h<e;){var m=c[h],n=+b(m);d(n,k)&&(k=n,f=m)}c=f;if(!l.length||c!==g)return c}return ec(l,a,d,g)}}function Nc(d,g){return function(l,a,c){a=L(a,c,3);return H(l)?(a=A(l,a,g),-1<a?l[a]:p):nc(l,a,d)}}function Oc(d){return function(g,l,a){if(!g||!g.length)return-1;l=L(l,a,3);return A(g,l,d)}}function Pc(d){return function(g,
l,a){l=L(l,a,3);return nc(g,l,d,!0)}}function Qc(d){return function(){for(var g,l=arguments.length,a=d?l:-1,c=0,b=N(l);d?a--:++a<l;){var h=b[c++]=arguments[a];if("function"!=typeof h)throw new ba("Expected a function");!g&&v.prototype.thru&&"wrapper"==ib(h)&&(g=new v([],!0))}for(a=g?-1:l;++a<l;){var h=b[a],c=ib(h),e="wrapper"==c?Hb(h):p;g=e&&Ib(e[0])&&424==e[1]&&!e[4].length&&1==e[9]?g[ib(e[0])].apply(g,e[3]):1==h.length&&Ib(h)?g[c]():g.thru(h)}return function(){var d=arguments,a=d[0];if(g&&1==d.length&&
H(a)&&200<=a.length)return g.plant(a).value();for(var c=0,d=l?b[c].apply(this,d):a;++c<l;)d=b[c].call(this,d);return d}}}function Rc(d,g){return function(l,a,c){return"function"==typeof a&&c===p&&H(l)?d(l,a):g(l,Y(a,c,3))}}function Sc(d){return function(g,l,a){if("function"!=typeof l||a!==p)l=Y(l,a,3);return d(g,l,pa)}}function Tc(d){return function(g,l,a){if("function"!=typeof l||a!==p)l=Y(l,a,3);return d(g,l)}}function Uc(d){return function(g,l,a){var c={};l=L(l,a,3);la(g,function(g,a,b){b=l(g,
a,b);a=d?b:a;g=d?g:b;c[a]=g});return c}}function Vc(d){return function(g,l,a){g=w(g);return(d?g:"")+Wc(g,l,a)+(d?"":g)}}function Xc(d){var g=K(function(l,c){var b=a(c,g.placeholder);return ra(l,d,p,c,b)});return g}function Yc(d,g){return function(l,a,c,b){var h=3>arguments.length;return"function"==typeof a&&b===p&&H(l)?d(l,a,c,h):$d(l,L(a,b,4),c,h,g)}}function Jb(d,g,l,c,b,h,e,k,f,m){function n(){for(var G=arguments.length,u=G,q=N(G);u--;)q[u]=arguments[u];c&&(q=Dc(q,c,b));h&&(q=Ec(q,h,e));if(J||
y){var u=n.placeholder,aa=a(q,u),G=G-aa.length;if(G<m){var w=k?U(k):p,G=S(m-G,0),A=J?aa:p,aa=J?p:aa,z=J?q:p,q=J?p:q;g|=J?32:64;g&=~(J?64:32);r||(g&=-4);q=[d,g,l,z,A,q,aa,w,f,G];w=Jb.apply(p,q);Ib(d)&&Zc(w,q);w.placeholder=u;return w}}u=t?l:this;w=C?u[d]:d;if(k)for(G=q.length,A=X(k.length,G),aa=U(q);A--;)z=k[A],q[A]=oa(z,G)?aa[z]:p;D&&f<q.length&&(q.length=f);this&&this!==ka&&this instanceof n&&(w=ia||gb(d));return w.apply(u,q)}var D=g&128,t=g&1,C=g&2,J=g&8,r=g&4,y=g&16,ia=C?p:gb(d);return n}function Wc(d,
g,l){d=d.length;g=+g;if(d>=g||!Ha(g))return"";g-=d;l=null==l?" ":l+"";return $c(l,jb(g/l.length)).slice(0,g)}function ee(d,g,l,a){function c(){for(var g=-1,e=arguments.length,k=-1,f=a.length,p=N(f+e);++k<f;)p[k]=a[k];for(;e--;)p[k++]=arguments[++g];return(this&&this!==ka&&this instanceof c?h:d).apply(b?l:this,p)}var b=g&1,h=gb(d);return c}function Kb(d){var g=Ba[d];return function(d,a){return(a=a===p?0:+a||0)?(a=fe(10,a),g(d*a)/a):g(d)}}function ad(d){return function(g,l,a,c){var b=L(a);return null==
a&&b===$a?Fb(g,l,d):Ac(g,l,b(a,c,1),d)}}function ra(d,g,l,c,b,h,e,k){var f=g&2;if(!f&&"function"!=typeof d)throw new ba("Expected a function");var m=c?c.length:0;m||(g&=-97,c=b=p);m-=b?b.length:0;if(g&64){var n=c,D=b;c=b=p}var t=f?p:Hb(d);l=[d,g,l,c,b,n,D,h,e,k];if(t){c=l[1];g=t[1];k=c|g;b=128==g&&8==c||128==g&&256==c&&l[7].length<=t[8]||384==g&&8==c;if(128>k||b){g&1&&(l[2]=t[2],k|=c&1?0:4);if(c=t[3])b=l[3],l[3]=b?Dc(b,c,t[4]):U(c),l[4]=b?a(l[3],"__lodash_placeholder__"):U(t[4]);if(c=t[5])b=l[5],
l[5]=b?Ec(b,c,t[6]):U(c),l[6]=b?a(l[5],"__lodash_placeholder__"):U(t[6]);(c=t[7])&&(l[7]=U(c));g&128&&(l[8]=null==l[8]?t[8]:X(l[8],t[8]));null==l[9]&&(l[9]=t[9]);l[0]=t[0];l[1]=k}g=l[1];k=l[9]}l[9]=null==k?f?0:d.length:S(k-m,0)||0;d=1==g?de(l[0],l[2]):32!=g&&33!=g||l[4].length?Jb.apply(p,l):ee.apply(p,l);return(t?bd:Zc)(d,l)}function Xd(d,g,l,a,c,b,h){var e=-1,k=d.length,f=g.length;if(k!=f&&!(c&&f>k))return!1;for(;++e<k;){var m=d[e],f=g[e],n=a?a(c?f:m,c?m:f,e):p;if(n!==p){if(n)continue;return!1}if(c){if(!Ka(g,
function(d){return m===d||l(m,d,a,c,b,h)}))return!1}else if(m!==f&&!l(m,f,a,c,b,h))return!1}return!0}function Zd(d,g,a){switch(a){case "[object Boolean]":case "[object Date]":return+d==+g;case "[object Error]":return d.name==g.name&&d.message==g.message;case "[object Number]":return d!=+d?g!=+g:d==+g;case "[object RegExp]":case "[object String]":return d==g+""}return!1}function Yd(d,g,a,c,b,h,e){var k=T(d),f=k.length,m=T(g).length;if(f!=m&&!b)return!1;for(m=f;m--;){var n=k[m];if(!(b?n in g:Q.call(g,
n)))return!1}for(var D=b;++m<f;){var n=k[m],t=d[n],J=g[n],C=c?c(b?J:t,b?t:J,n):p;if(C===p?!a(t,J,c,b,h,e):!C)return!1;D||(D="constructor"==n)}return D||(a=d.constructor,c=g.constructor,!(a!=c&&"constructor"in d&&"constructor"in g)||"function"==typeof a&&a instanceof a&&"function"==typeof c&&c instanceof c)?!0:!1}function L(d,g,a){var c=b.callback||kb,c=c===kb?$a:c;return a?c(d,g,a):c}function ib(d){for(var g=d.name,a=lb[g],c=a?a.length:0;c--;){var b=a[c],h=b.func;if(null==h||h==d)return b.name}return g}
function Fa(d,g,a){var c=b.indexOf||Lb,c=c===Lb?e:c;return d?c(d,g,a):c}function rc(d){d=cd(d);for(var g=d.length;g--;){var a=d[g],c;c=d[g][1];c=c===c&&!M(c);a[2]=c}return d}function Ia(d,g){var a=null==d?p:d[g];return dd(a)?a:p}function Ud(d){var g=d.length,a=new d.constructor(g);g&&"string"==typeof d[0]&&Q.call(d,"index")&&(a.index=d.index,a.input=d.input);return a}function Vd(d){d=d.constructor;"function"==typeof d&&d instanceof d||(d=Ca);return new d}function Wd(d,g,a){var c=d.constructor;switch(g){case "[object ArrayBuffer]":return Bc(d);
case "[object Boolean]":case "[object Date]":return new c(+d);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return g=d.buffer,new c(a?Bc(g):g,d.byteOffset,d.length);case "[object Number]":case "[object String]":return new c(d);case "[object RegExp]":var b=new c(d.source,ed.exec(d));b.lastIndex=
d.lastIndex}return b}function Mb(d,g,a){null==d||za(g,d)||(g=qa(g),d=1==g.length?d:ya(d,ca(g,0,-1)),g=Pa(g));g=null==d?d:d[g];return null==g?p:g.apply(d,a)}function R(d){return null!=d&&ja(Qa(d))}function oa(d,g){d="number"==typeof d||ge.test(d)?+d:-1;return-1<d&&0==d%1&&d<(null==g?9007199254740991:g)}function I(d,g,a){if(!M(a))return!1;var c=typeof g;return("number"==c?R(a)&&oa(g,a.length):"string"==c&&g in a)?(g=a[g],d===d?d===g:g!==g):!1}function za(d,g){var a=typeof d;return"string"==a&&J.test(d)||
"number"==a?!0:H(d)?!1:!Ja.test(d)||null!=g&&d in ha(g)}function Ib(d){var g=ib(d);if(!(g in x.prototype))return!1;g=b[g];if(d===g)return!0;g=Hb(g);return!!g&&d===g[0]}function ja(d){return"number"==typeof d&&-1<d&&0==d%1&&9007199254740991>=d}function fd(d,g){return d===p?g:Nb(d,g,fd)}function gd(d,g){d=ha(d);for(var a=-1,c=g.length,b={};++a<c;){var h=g[a];h in d&&(b[h]=d[h])}return b}function hd(d,g){var a={};oc(d,function(d,c,b){g(d,c,b)&&(a[c]=d)});return a}function id(d){for(var g=pa(d),a=g.length,
c=a&&d.length,b=!!c&&ja(c)&&(H(d)||ma(d)),h=-1,e=[];++h<a;){var k=g[h];(b&&oa(k,c)||Q.call(d,k))&&e.push(k)}return e}function Gb(d){return null==d?[]:R(d)?M(d)?d:Ca(d):mb(d)}function ha(d){return M(d)?d:Ca(d)}function qa(d){if(H(d))return d;var g=[];w(d).replace(he,function(d,a,c,b){g.push(c?b.replace(ie,"$1"):a||d)});return g}function gc(d){return d instanceof x?d.clone():new v(d.__wrapped__,d.__chain__,U(d.__actions__))}function jd(d,g,a){if(!d||!d.length)return[];if(a?I(d,g,a):null==g)g=1;return ca(d,
0>g?0:g)}function kd(d,g,a){var c=d?d.length:0;if(!c)return[];if(a?I(d,g,a):null==g)g=1;g=c-(+g||0);return ca(d,0,0>g?0:g)}function ld(d){return d?d[0]:p}function Lb(d,g,a){var c=d?d.length:0;if(!c)return-1;if("number"==typeof a)a=0>a?S(c+a,0):a;else if(a)return a=Fb(d,g),a<c&&(g===g?g===d[a]:d[a]!==d[a])?a:-1;return e(d,g,a||0)}function Pa(d){var g=d?d.length:0;return g?d[g-1]:p}function md(d){return jd(d,1)}function nd(d,g,a,c){if(!d||!d.length)return[];null!=g&&"boolean"!=typeof g&&(c=a,a=I(d,
g,c)?p:g,g=!1);var b=L();if(null!=a||b!==$a)a=b(a,c,3);if(g&&Fa()==e){g=a;var h;a=-1;c=d.length;for(var b=-1,k=[];++a<c;){var f=d[a],m=g?g(f,a,d):f;a&&h===m||(h=m,k[++b]=f)}d=k}else d=Db(d,a);return d}function Ob(d){if(!d||!d.length)return[];var g=-1,a=0;d=na(d,function(d){if(R(d))return a=S(d.length,a),!0});for(var c=N(a);++g<a;)c[g]=Ea(d,Bb(g));return c}function od(d,g,a){if(!d||!d.length)return[];d=Ob(d);if(null==g)return d;g=Y(g,a,4);return Ea(d,function(d){return Wa(d,g,p,!0)})}function pd(d,
g){var a=-1,c=d?d.length:0,b={};for(!c||g||H(d[0])||(g=[]);++a<c;){var h=d[a];g?b[h]=g[a]:h&&(b[h[0]]=h[1])}return b}function qd(d){d=b(d);d.__chain__=!0;return d}function Pb(d,g,a){return g.call(a,d)}function rd(d,g,a){var c=H(d)?ta:vb;a&&I(d,g,a)&&(g=p);if("function"!=typeof g||a!==p)g=L(g,a,3);return c(d,g)}function Qb(d,g,a){var c=H(d)?na:mc;g=L(g,a,3);return c(d,g)}function Rb(d,g,a,c){var b=d?Qa(d):0;ja(b)||(d=mb(d),b=d.length);a="number"!=typeof a||c&&I(g,a,c)?0:0>a?S(b+a,0):a||0;return"string"==
typeof d||!H(d)&&Sb(d)?a<=b&&-1<d.indexOf(g,a):!!b&&-1<Fa(d,g,a)}function Tb(d,g,a){var c=H(d)?Ea:Ab;g=L(g,a,3);return c(d,g)}function nb(d,g,a){if(a?I(d,g,a):null==g){d=Gb(d);var c=d.length;return 0<c?d[Cb(0,c-1)]:p}a=-1;d=sd(d);var c=d.length,b=c-1;for(g=X(0>g?0:+g||0,c);++a<g;){var c=Cb(a,b),h=d[c];d[c]=d[a];d[a]=h}d.length=g;return d}function td(d,g,a){var c=H(d)?Ka:ae;a&&I(d,g,a)&&(g=p);if("function"!=typeof g||a!==p)g=L(g,a,3);return c(d,g)}function ud(d,g){var a;if("function"!=typeof g)if("function"==
typeof d){var c=d;d=g;g=c}else throw new ba("Expected a function");return function(){0<--d&&(a=g.apply(this,arguments));1>=d&&(g=p);return a}}function vd(d,g,a){function c(g,a){a&&Sa(a);f=t=J=p;g&&(C=Ta(),m=d.apply(D,k),t||f||(k=D=p))}function b(){var d=g-(Ta()-n);0>=d||d>g?c(J,f):t=bb(b,d)}function h(){c(y,t)}function e(){k=arguments;n=Ta();D=this;J=y&&(t||!G);if(!1===r)var a=G&&!t;else{f||G||(C=n);var c=r-(n-C),l=0>=c||c>r;l?(f&&(f=Sa(f)),C=n,m=d.apply(D,k)):f||(f=bb(h,c))}l&&t?t=Sa(t):t||g===r||
(t=bb(b,g));a&&(l=!0,m=d.apply(D,k));!l||t||f||(k=D=p);return m}var k,f,m,n,D,t,J,C=0,r=!1,y=!0;if("function"!=typeof d)throw new ba("Expected a function");g=0>g?0:+g||0;if(!0===a)var G=!0,y=!1;else M(a)&&(G=!!a.leading,r="maxWait"in a&&S(+a.maxWait||0,g),y="trailing"in a?!!a.trailing:y);e.cancel=function(){t&&Sa(t);f&&Sa(f);C=0;f=t=J=p};return e}function Ub(d,g){if("function"!=typeof d||g&&"function"!=typeof g)throw new ba("Expected a function");var a=function(){var c=arguments,b=g?g.apply(this,
c):c[0],h=a.cache;if(h.has(b))return h.get(b);c=d.apply(this,c);a.cache=h.set(b,c);return c};a.cache=new Ub.Cache;return a}function K(d,g){if("function"!=typeof d)throw new ba("Expected a function");g=S(g===p?d.length-1:+g||0,0);return function(){for(var a=arguments,c=-1,b=S(a.length-g,0),h=N(b);++c<b;)h[c]=a[g+c];switch(g){case 0:return d.call(this,h);case 1:return d.call(this,a[0],h);case 2:return d.call(this,a[0],a[1],h)}b=N(g+1);for(c=-1;++c<g;)b[c]=a[c];b[g]=h;return d.apply(this,b)}}function wd(d,
g){return d>g}function ma(d){return t(d)&&R(d)&&Q.call(d,"callee")&&!je.call(d,"callee")}function xd(d,g,a,c){c=(a="function"==typeof a?Y(a,c,3):p)?a(d,g):p;return c===p?cb(d,g,a):!!c}function Vb(d){return t(d)&&"string"==typeof d.message&&"[object Error]"==Z.call(d)}function xa(d){return M(d)&&"[object Function]"==Z.call(d)}function M(d){var g=typeof d;return!!d&&("object"==g||"function"==g)}function dd(d){return null==d?!1:xa(d)?ke.test(yd.call(d)):t(d)&&le.test(d)}function zd(d){return"number"==
typeof d||t(d)&&"[object Number]"==Z.call(d)}function db(d){var g;if(!t(d)||"[object Object]"!=Z.call(d)||ma(d)||!(Q.call(d,"constructor")||(g=d.constructor,"function"!=typeof g||g instanceof g)))return!1;var a;oc(d,function(d,g){a=g});return a===p||Q.call(d,a)}function Ad(d){return M(d)&&"[object RegExp]"==Z.call(d)}function Sb(d){return"string"==typeof d||t(d)&&"[object String]"==Z.call(d)}function Ga(d){return t(d)&&ja(d.length)&&!!P[Z.call(d)]}function Bd(d,g){return d<g}function sd(d){var g=
d?Qa(d):0;return ja(g)?g?U(d):[]:mb(d)}function tc(d){return ic(d,pa(d))}function Wb(d){return zb(d,pa(d))}function pa(d){if(null==d)return[];M(d)||(d=Ca(d));for(var g=d.length,g=g&&ja(g)&&(H(d)||ma(d))&&g||0,a=d.constructor,c=-1,a="function"==typeof a&&a.prototype===d,b=N(g),h=0<g;++c<g;)b[c]=c+"";for(var e in d)h&&oa(e,g)||"constructor"==e&&(a||!Q.call(d,e))||b.push(e);return b}function cd(d){d=ha(d);for(var g=-1,a=T(d),c=a.length,b=N(c);++g<c;){var h=a[g];b[g]=[h,d[h]]}return b}function mb(d){return Eb(d,
T(d))}function Jc(d){return(d=w(d))&&d.replace(me,B).replace(ob,"")}function $c(d,g){var a="";d=w(d);g=+g;if(1>g||!d||!Ha(g))return a;do g%2&&(a+=d),g=Aa(g/2),d+=d;while(g);return a}function Cd(d,g,a){var c=d;d=w(d);if(!d)return d;if(a?I(c,g,a):null==g)return d.slice(h(d),k(d)+1);g+="";return d.slice(u(d,g),r(d,g)+1)}function Ic(d,g,a){a&&I(d,g,a)&&(g=p);d=w(d);return d.match(g||ne)||[]}function kb(d,g,a){a&&I(d,g,a)&&(g=p);return t(d)?Dd(d):$a(d,g)}function va(d){return d}function Dd(d){return Na(wa(d,
!0))}function Xb(d,g,a){if(null==a){var c=M(g),b=c?T(g):p;((b=b&&b.length?zb(g,b):p)?b.length:c)||(b=!1,a=g,g=d,d=this)}b||(b=zb(g,T(g)));var h=!0,c=-1,e=xa(d),k=b.length;!1===a?h=!1:M(a)&&"chain"in a&&(h=a.chain);for(;++c<k;){a=b[c];var f=g[a];d[a]=f;e&&(d.prototype[a]=function(g){return function(){var a=this.__chain__;if(h||a){var c=d(this.__wrapped__);(c.__actions__=U(this.__actions__)).push({func:g,args:arguments,thisArg:d});c.__chain__=a;return c}return g.apply(d,La([this.value()],arguments))}}(f))}return d}
function Ed(){}function ab(d){return za(d)?Bb(d):fc(d)}c=c?sa.defaults(ka.Object(),c,sa.pick(ka,oe)):ka;var N=c.Array,Fd=c.Date,pe=c.Error,Gd=c.Function,Ba=c.Math,Hd=c.Number,Ca=c.Object,Yb=c.RegExp,Id=c.String,ba=c.TypeError,Jd=N.prototype,Zb=Ca.prototype,qe=Id.prototype,yd=Gd.prototype.toString,Q=Zb.hasOwnProperty,re=0,Z=Zb.toString,se=ka._,ke=Yb("^"+yd.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=c.ArrayBuffer,Sa=
c.clearTimeout,te=c.parseFloat,fe=Ba.pow,je=Zb.propertyIsEnumerable,Za=Ia(c,"Set"),bb=c.setTimeout,vc=Jd.splice,Cc=c.Uint8Array,Kd=Ia(c,"WeakMap"),jb=Ba.ceil,Ya=Ia(Ca,"create"),Aa=Ba.floor,ue=Ia(N,"isArray"),Ha=c.isFinite,Ld=Ia(Ca,"keys"),S=Ba.max,X=Ba.min,ve=Ia(Fd,"now"),we=c.parseInt,wc=Ba.random,xe=Hd.NEGATIVE_INFINITY,Xa=Hd.POSITIVE_INFINITY,pb=Kd&&new Kd,lb={};b.support={};b.templateSettings={escape:qb,evaluate:da,interpolate:Ua,variable:"",imports:{_:b}};var Ra=function(){function d(){}return function(g){if(M(g)){d.prototype=
g;var a=new d;d.prototype=p}return a||{}}}(),ga=Gc(la),$b=Gc(yb,!0),xb=Hc(),pc=Hc(!0),bd=pb?function(d,g){pb.set(d,g);return d}:va,Hb=pb?function(d){return pb.get(d)}:Ed,Qa=Bb("length"),Zc=function(){var d=0,g=0;return function(a,c){var b=Ta(),h=16-(b-g);g=b;if(0<h){if(150<=++d)return a}else d=0;return bd(a,c)}}(),ye=K(function(d,g){return t(d)&&R(d)?Oa(d,W(g,!1,!0)):[]}),ze=Oc(),Ae=Oc(!0),Be=K(function(d){for(var g=d.length,a=g,c=N(p),b=Fa(),h=b==e,k=[];a--;){var f=d[a]=R(f=d[a])?f:[];c[a]=h&&120<=
f.length?Ya&&Za?new ea(a&&f):null:null}var h=d[0],m=-1,p=h?h.length:0,n=c[0];a:for(;++m<p;)if(f=h[m],0>(n?Da(n,f):b(k,f,0))){for(a=g;--a;){var D=c[a];if(0>(D?Da(D,f):b(d[a],f,0)))continue a}n&&n.push(f);k.push(f)}return k}),Ce=K(function(d,g){g=W(g);var a=jc(d,g);uc(d,g.sort(q));return a}),De=ad(),Ee=ad(!0),Fe=K(function(d){return Db(W(d,!1,!0))}),Ge=K(function(d,g){return R(d)?Oa(d,g):[]}),He=K(Ob),Ie=K(function(d){var g=d.length,a=2<g?d[g-2]:p,c=1<g?d[g-1]:p;2<g&&"function"==typeof a?g-=2:(a=1<
g&&"function"==typeof c?(--g,c):p,c=p);d.length=g;return od(d,a,c)}),Je=K(function(d){d=W(d);return this.thru(function(g){g=H(g)?g:[ha(g)];for(var a=d,c=-1,b=g.length,h=-1,e=a.length,k=N(b+e);++c<b;)k[c]=g[c];for(;++h<e;)k[c++]=a[h];return k})}),Ke=K(function(d,g){return jc(d,W(g))}),Le=fb(function(d,g,a){Q.call(d,a)?++d[a]:d[a]=1}),ac=Nc(ga),Me=Nc($b,!0),Md=Rc(fa,ga),Nd=Rc(function(d,g){for(var a=d.length;a--&&!1!==g(d[a],a,d););return d},$b),Ne=fb(function(d,a,c){Q.call(d,c)?d[c].push(a):d[c]=[a]}),
Oe=fb(function(d,a,c){d[c]=a}),Pe=K(function(d,a,c){var b=-1,h="function"==typeof a,e=za(a),k=R(d)?N(d.length):[];ga(d,function(d){var f=h?a:e&&null!=d?d[a]:p;k[++b]=f?f.apply(d,c):Mb(d,a,c)});return k}),Qe=fb(function(d,a,c){d[c?0:1].push(a)},function(){return[[],[]]}),bc=Yc(Wa,ga),Od=Yc(function(d,a,c,b){var h=d.length;for(b&&h&&(c=d[--h]);h--;)c=a(c,d[h],h,d);return c},$b),Re=K(function(d,a){if(null==d)return[];var c=a[2];c&&I(a[0],a[1],c)&&(a.length=1);return yc(d,W(a),[])}),Ta=ve||function(){return(new Fd).getTime()},
Pd=K(function(d,g,c){var b=1;if(c.length)var h=a(c,Pd.placeholder),b=b|32;return ra(d,b,g,c,h)}),Se=K(function(d,a){a=a.length?W(a):Wb(d);for(var c=-1,b=a.length;++c<b;){var h=a[c];d[h]=ra(d[h],1,d)}return d}),Qd=K(function(d,g,c){var b=3;if(c.length)var h=a(c,Qd.placeholder),b=b|32;return ra(g,b,d,c,h)}),Te=Kc(8),Ue=Kc(16),Ve=K(function(d,a){return lc(d,1,a)}),We=K(function(d,a,c){return lc(d,a,c)}),Xe=Qc(),cc=Qc(!0),Ye=K(function(d,a){a=W(a);if("function"!=typeof d||!ta(a,E))throw new ba("Expected a function");
var c=a.length;return K(function(b){for(var h=X(b.length,c);h--;)b[h]=a[h](b[h]);return d.apply(this,b)})}),Ze=Xc(32),$e=Xc(64),af=K(function(d,a){return ra(d,256,p,p,p,W(a))}),H=ue||function(d){return t(d)&&ja(d.length)&&"[object Array]"==Z.call(d)},Nb=Fc(sc),dc=Fc(function(d,a,c){return c?wb(d,a,c):Ma(d,a)}),bf=Lc(dc,function(d,a){return d===p?a:d}),cf=Lc(Nb,fd),df=Pc(la),ef=Pc(yb),ff=Sc(xb),gf=Sc(pc),hf=Tc(la),jf=Tc(yb),T=Ld?function(d){var a=null==d?p:d.constructor;return"function"==typeof a&&
a.prototype===d||"function"!=typeof d&&R(d)?id(d):M(d)?Ld(d):[]}:id,kf=Uc(!0),lf=Uc(),mf=K(function(d,a){if(null==d)return{};if("function"!=typeof a[0])return a=Ea(W(a),Id),gd(d,Oa(pa(d),a));var c=Y(a[0],a[1],3);return hd(d,function(d,a,g){return!c(d,a,g)})}),nf=K(function(d,a){return null==d?{}:"function"==typeof a[0]?hd(d,Y(a[0],a[1],3)):gd(d,W(a))}),of=hb(function(d,a,c){a=a.toLowerCase();return d+(c?a.charAt(0).toUpperCase()+a.slice(1):a)}),pf=hb(function(d,a,c){return d+(c?"-":"")+a.toLowerCase()}),
qf=Vc(),rf=Vc(!0),sf=hb(function(d,a,c){return d+(c?"_":"")+a.toLowerCase()}),tf=hb(function(d,a,c){return d+(c?" ":"")+(a.charAt(0).toUpperCase()+a.slice(1))}),Rd=K(function(d,a){try{return d.apply(p,a)}catch(c){return Vb(c)?c:new pe(c)}}),uf=K(function(d,a){return function(c){return Mb(c,d,a)}}),vf=K(function(d,a){return function(c){return Mb(d,c,a)}}),wf=Kb("ceil"),xf=Kb("floor"),yf=Mc(wd,xe),zf=Mc(Bd,Xa),Af=Kb("round");b.prototype=f.prototype;v.prototype=Ra(f.prototype);v.prototype.constructor=
v;x.prototype=Ra(f.prototype);x.prototype.constructor=x;ua.prototype["delete"]=function(d){return this.has(d)&&delete this.__data__[d]};ua.prototype.get=function(d){return"__proto__"==d?p:this.__data__[d]};ua.prototype.has=function(d){return"__proto__"!=d&&Q.call(this.__data__,d)};ua.prototype.set=function(d,a){"__proto__"!=d&&(this.__data__[d]=a);return this};ea.prototype.push=function(d){var a=this.data;"string"==typeof d||M(d)?a.set.add(d):a.hash[d]=!0};Ub.Cache=ua;b.after=function(d,a){if("function"!=
typeof a)if("function"==typeof d){var c=d;d=a;a=c}else throw new ba("Expected a function");d=Ha(d=+d)?d:0;return function(){if(1>--d)return a.apply(this,arguments)}};b.ary=function(d,a,c){c&&I(d,a,c)&&(a=p);a=d&&null==a?d.length:S(+a||0,0);return ra(d,128,p,p,p,p,a)};b.assign=dc;b.at=Ke;b.before=ud;b.bind=Pd;b.bindAll=Se;b.bindKey=Qd;b.callback=kb;b.chain=qd;b.chunk=function(d,a,c){a=(c?I(d,a,c):null==a)?1:S(Aa(a)||1,1);c=0;for(var b=d?d.length:0,h=-1,e=N(jb(b/a));c<b;)e[++h]=ca(d,c,c+=a);return e};
b.compact=function(d){for(var a=-1,c=d?d.length:0,b=-1,h=[];++a<c;){var e=d[a];e&&(h[++b]=e)}return h};b.constant=function(d){return function(){return d}};b.countBy=Le;b.create=function(d,a,c){var b=Ra(d);c&&I(d,a,c)&&(a=p);return a?Ma(b,a):b};b.curry=Te;b.curryRight=Ue;b.debounce=vd;b.defaults=bf;b.defaultsDeep=cf;b.defer=Ve;b.delay=We;b.difference=ye;b.drop=jd;b.dropRight=kd;b.dropRightWhile=function(d,a,c){return d&&d.length?eb(d,L(a,c,3),!0,!0):[]};b.dropWhile=function(d,a,c){return d&&d.length?
eb(d,L(a,c,3),!0):[]};b.fill=function(d,a,c,b){var h=d?d.length:0;if(!h)return[];c&&"number"!=typeof c&&I(d,a,c)&&(c=0,b=h);h=d.length;c=null==c?0:+c||0;0>c&&(c=-c>h?0:h+c);b=b===p||b>h?h:+b||0;0>b&&(b+=h);h=c>b?0:b>>>0;for(c>>>=0;c<h;)d[c++]=a;return d};b.filter=Qb;b.flatten=function(d,a,c){var b=d?d.length:0;c&&I(d,a,c)&&(a=!1);return b?W(d,a):[]};b.flattenDeep=function(d){return d&&d.length?W(d,!0):[]};b.flow=Xe;b.flowRight=cc;b.forEach=Md;b.forEachRight=Nd;b.forIn=ff;b.forInRight=gf;b.forOwn=
hf;b.forOwnRight=jf;b.functions=Wb;b.groupBy=Ne;b.indexBy=Oe;b.initial=function(d){return kd(d,1)};b.intersection=Be;b.invert=function(d,a,c){c&&I(d,a,c)&&(a=p);c=-1;for(var b=T(d),h=b.length,e={};++c<h;){var k=b[c],f=d[k];a?Q.call(e,f)?e[f].push(k):e[f]=[k]:e[f]=k}return e};b.invoke=Pe;b.keys=T;b.keysIn=pa;b.map=Tb;b.mapKeys=kf;b.mapValues=lf;b.matches=Dd;b.matchesProperty=function(d,a){return kc(d,wa(a,!0))};b.memoize=Ub;b.merge=Nb;b.method=uf;b.methodOf=vf;b.mixin=Xb;b.modArgs=Ye;b.negate=function(d){if("function"!=
typeof d)throw new ba("Expected a function");return function(){return!d.apply(this,arguments)}};b.omit=mf;b.once=function(d){return ud(2,d)};b.pairs=cd;b.partial=Ze;b.partialRight=$e;b.partition=Qe;b.pick=nf;b.pluck=function(d,a){return Tb(d,ab(a))};b.property=ab;b.propertyOf=function(d){return function(a){return ya(d,qa(a),a+"")}};b.pull=function(){var d=arguments,a=d[0];if(!a||!a.length)return a;for(var c=0,b=Fa(),h=d.length;++c<h;)for(var e=0,k=d[c];-1<(e=b(a,k,e));)vc.call(a,e,1);return a};b.pullAt=
Ce;b.range=function(d,a,c){c&&I(d,a,c)&&(a=c=p);d=+d||0;c=null==c?1:+c||0;null==a?(a=d,d=0):a=+a||0;var b=-1;a=S(jb((a-d)/(c||1)),0);for(var h=N(a);++b<a;)h[b]=d,d+=c;return h};b.rearg=af;b.reject=function(d,a,c){var b=H(d)?na:mc;a=L(a,c,3);return b(d,function(d,c,b){return!a(d,c,b)})};b.remove=function(d,a,c){var b=[];if(!d||!d.length)return b;var h=-1,e=[],k=d.length;for(a=L(a,c,3);++h<k;)c=d[h],a(c,h,d)&&(b.push(c),e.push(h));uc(d,e);return b};b.rest=md;b.restParam=K;b.set=function(d,a,c){if(null==
d)return d;var b=a+"";a=null!=d[b]||za(a,d)?[b]:qa(a);for(var b=-1,h=a.length,e=h-1,k=d;null!=k&&++b<h;){var f=a[b];M(k)&&(b==e?k[f]=c:null==k[f]&&(k[f]=oa(a[b+1])?[]:{}));k=k[f]}return d};b.shuffle=function(d){return nb(d,Xa)};b.slice=function(d,a,c){var b=d?d.length:0;if(!b)return[];c&&"number"!=typeof c&&I(d,a,c)&&(a=0,c=b);return ca(d,a,c)};b.sortBy=function(d,a,c){if(null==d)return[];c&&I(d,a,c)&&(a=p);var b=-1;a=L(a,c,3);d=Ab(d,function(d,c,h){return{criteria:a(d,c,h),index:++b,value:d}});return xc(d,
z)};b.sortByAll=Re;b.sortByOrder=function(d,a,c,b){if(null==d)return[];b&&I(a,c,b)&&(c=p);H(a)||(a=null==a?[]:[a]);H(c)||(c=null==c?[]:[c]);return yc(d,a,c)};b.spread=function(d){if("function"!=typeof d)throw new ba("Expected a function");return function(a){return d.apply(this,a)}};b.take=function(d,a,c){if(!d||!d.length)return[];if(c?I(d,a,c):null==a)a=1;return ca(d,0,0>a?0:a)};b.takeRight=function(d,a,c){var b=d?d.length:0;if(!b)return[];if(c?I(d,a,c):null==a)a=1;a=b-(+a||0);return ca(d,0>a?0:a)};
b.takeRightWhile=function(d,a,c){return d&&d.length?eb(d,L(a,c,3),!1,!0):[]};b.takeWhile=function(d,a,c){return d&&d.length?eb(d,L(a,c,3)):[]};b.tap=function(d,a,c){a.call(c,d);return d};b.throttle=function(d,a,c){var b=!0,h=!0;if("function"!=typeof d)throw new ba("Expected a function");!1===c?b=!1:M(c)&&(b="leading"in c?!!c.leading:b,h="trailing"in c?!!c.trailing:h);return vd(d,a,{leading:b,maxWait:+a,trailing:h})};b.thru=Pb;b.times=function(d,a,c){d=Aa(d);if(1>d||!Ha(d))return[];var b=-1,h=N(X(d,
4294967295));for(a=Y(a,c,1);++b<d;)4294967295>b?h[b]=a(b):a(b);return h};b.toArray=sd;b.toPlainObject=tc;b.transform=function(d,a,c,b){var h=H(d)||Ga(d);a=L(a,b,4);null==c&&(h||M(d)?(b=d.constructor,c=h?H(d)?new b:[]:Ra(xa(b)?b.prototype:p)):c={});(h?fa:la)(d,function(d,b,h){return a(c,d,b,h)});return c};b.union=Fe;b.uniq=nd;b.unzip=Ob;b.unzipWith=od;b.values=mb;b.valuesIn=function(d){return Eb(d,pa(d))};b.where=function(d,a){return Qb(d,Na(a))};b.without=Ge;b.wrap=function(d,a){a=null==a?va:a;return ra(a,
32,p,[d],[])};b.xor=function(){for(var d=-1,a=arguments.length;++d<a;){var c=arguments[d];if(R(c))var b=b?La(Oa(b,c),Oa(c,b)):c}return b?Db(b):[]};b.zip=He;b.zipObject=pd;b.zipWith=Ie;b.backflow=cc;b.collect=Tb;b.compose=cc;b.each=Md;b.eachRight=Nd;b.extend=dc;b.iteratee=kb;b.methods=Wb;b.object=pd;b.select=Qb;b.tail=md;b.unique=nd;Xb(b,b);b.add=function(d,a){return(+d||0)+(+a||0)};b.attempt=Rd;b.camelCase=of;b.capitalize=function(d){return(d=w(d))&&d.charAt(0).toUpperCase()+d.slice(1)};b.ceil=wf;
b.clone=function(d,a,c,b){a&&"boolean"!=typeof a&&I(d,a,c)?a=!1:"function"==typeof a&&(b=c,c=a,a=!1);return"function"==typeof c?wa(d,a,Y(c,b,1)):wa(d,a)};b.cloneDeep=function(d,a,c){return"function"==typeof a?wa(d,!0,Y(a,c,1)):wa(d,!0)};b.deburr=Jc;b.endsWith=function(d,a,c){d=w(d);a+="";var b=d.length;c=c===p?b:X(0>c?0:+c||0,b);c-=a.length;return 0<=c&&d.indexOf(a,c)==c};b.escape=function(d){return(d=w(d))&&rb.test(d)?d.replace(Va,F):d};b.escapeRegExp=function(d){return(d=w(d))&&V.test(d)?d.replace(Sd,
y):d||"(?:)"};b.every=rd;b.find=ac;b.findIndex=ze;b.findKey=df;b.findLast=Me;b.findLastIndex=Ae;b.findLastKey=ef;b.findWhere=function(d,a){return ac(d,Na(a))};b.first=ld;b.floor=xf;b.get=function(d,a,c){d=null==d?p:ya(d,qa(a),a+"");return d===p?c:d};b.gt=wd;b.gte=function(d,a){return d>=a};b.has=function(d,a){if(null==d)return!1;var c=Q.call(d,a);if(!c&&!za(a)){a=qa(a);d=1==a.length?d:ya(d,ca(a,0,-1));if(null==d)return!1;a=Pa(a);c=Q.call(d,a)}return c||ja(d.length)&&oa(a,d.length)&&(H(d)||ma(d))};
b.identity=va;b.includes=Rb;b.indexOf=Lb;b.inRange=function(d,a,c){a=+a||0;c===p?(c=a,a=0):c=+c||0;return d>=X(a,c)&&d<S(a,c)};b.isArguments=ma;b.isArray=H;b.isBoolean=function(d){return!0===d||!1===d||t(d)&&"[object Boolean]"==Z.call(d)};b.isDate=function(d){return t(d)&&"[object Date]"==Z.call(d)};b.isElement=function(d){return!!d&&1===d.nodeType&&t(d)&&!db(d)};b.isEmpty=function(d){return null==d?!0:R(d)&&(H(d)||Sb(d)||ma(d)||t(d)&&xa(d.splice))?!d.length:!T(d).length};b.isEqual=xd;b.isError=Vb;
b.isFinite=function(d){return"number"==typeof d&&Ha(d)};b.isFunction=xa;b.isMatch=function(d,a,c,b){c="function"==typeof c?Y(c,b,3):p;return qc(d,rc(a),c)};b.isNaN=function(d){return zd(d)&&d!=+d};b.isNative=dd;b.isNull=function(d){return null===d};b.isNumber=zd;b.isObject=M;b.isPlainObject=db;b.isRegExp=Ad;b.isString=Sb;b.isTypedArray=Ga;b.isUndefined=function(d){return d===p};b.kebabCase=pf;b.last=Pa;b.lastIndexOf=function(d,a,c){var b=d?d.length:0;if(!b)return-1;var h=b;if("number"==typeof c)h=
(0>c?S(b+c,0):X(c||0,b-1))+1;else if(c)return h=Fb(d,a,!0)-1,d=d[h],(a===a?a===d:d!==d)?h:-1;if(a!==a)return m(d,h,!0);for(;h--;)if(d[h]===a)return h;return-1};b.lt=Bd;b.lte=function(d,a){return d<=a};b.max=yf;b.min=zf;b.noConflict=function(){ka._=se;return this};b.noop=Ed;b.now=Ta;b.pad=function(d,a,c){d=w(d);a=+a;var b=d.length;if(b>=a||!Ha(a))return d;b=(a-b)/2;a=Aa(b);b=jb(b);c=Wc("",b,c);return c.slice(0,a)+d+c};b.padLeft=qf;b.padRight=rf;b.parseInt=function(a,c,b){(b?I(a,c,b):null==c)?c=0:c&&
(c=+c);a=Cd(a);return we(a,c||(Bf.test(a)?16:10))};b.random=function(a,c,b){b&&I(a,c,b)&&(c=b=p);var h=null==a,e=null==c;null==b&&(e&&"boolean"==typeof a?(b=a,a=1):"boolean"==typeof c&&(b=c,e=!0));h&&e&&(c=1,e=!1);a=+a||0;e?(c=a,a=0):c=+c||0;return b||a%1||c%1?(b=wc(),X(a+b*(c-a+te("1e-"+((b+"").length-1))),c)):Cb(a,c)};b.reduce=bc;b.reduceRight=Od;b.repeat=$c;b.result=function(a,c,b){var h=null==a?p:a[c];h===p&&(null==a||za(c,a)||(c=qa(c),a=1==c.length?a:ya(a,ca(c,0,-1)),h=null==a?p:a[Pa(c)]),h=
h===p?b:h);return xa(h)?h.call(a):h};b.round=Af;b.runInContext=G;b.size=function(a){var c=a?Qa(a):0;return ja(c)?c:T(a).length};b.snakeCase=sf;b.some=td;b.sortedIndex=De;b.sortedLastIndex=Ee;b.startCase=tf;b.startsWith=function(a,c,b){a=w(a);b=null==b?0:X(0>b?0:+b||0,a.length);return a.lastIndexOf(c,b)==b};b.sum=function(a,c,b){b&&I(a,c,b)&&(c=p);c=L(c,b,3);if(1==c.length){a=H(a)?a:Gb(a);b=a.length;for(var h=0;b--;)h+=+c(a[b])||0;a=h}else a=be(a,c);return a};b.template=function(a,c,h){var e=b.templateSettings;
h&&I(a,c,h)&&(c=h=p);a=w(a);c=wb(Ma({},h||c),e,hc);h=wb(Ma({},c.imports),e.imports,hc);var k=T(h),f=Eb(h,k),m,t,J=0;h=c.interpolate||sb;var C="__p += '";h=Yb((c.escape||sb).source+"|"+h.source+"|"+(h===Ua?Cf:sb).source+"|"+(c.evaluate||sb).source+"|$","g");var r="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Df+"]")+"\n";a.replace(h,function(c,b,g,h,e,k){g||(g=h);C+=a.slice(J,k).replace(Ef,n);b&&(m=!0,C+="' +\n__e("+b+") +\n'");e&&(t=!0,C+="';\n"+e+";\n__p += '");g&&(C+=
"' +\n((__t = ("+g+")) == null ? '' : __t) +\n'");J=k+c.length;return c});C+="';\n";(c=c.variable)||(C="with (obj) {\n"+C+"\n}\n");C=(t?C.replace(ub,""):C).replace(D,"$1").replace(ia,"$1;");C="function("+(c||"obj")+") {\n"+(c?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(m?", __e = _.escape":"")+(t?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+C+"return __p\n}";c=Rd(function(){return Gd(k,r+"return "+C).apply(p,f)});c.source=C;if(Vb(c))throw c;return c};
b.trim=Cd;b.trimLeft=function(a,c,b){var e=a;return(a=w(a))?(b?I(e,c,b):null==c)?a.slice(h(a)):a.slice(u(a,c+"")):a};b.trimRight=function(a,c,b){var h=a;return(a=w(a))?(b?I(h,c,b):null==c)?a.slice(0,k(a)+1):a.slice(0,r(a,c+"")+1):a};b.trunc=function(a,c,b){b&&I(a,c,b)&&(c=p);var h=30;b="...";if(null!=c)if(M(c)){var e="separator"in c?c.separator:e,h="length"in c?+c.length||0:h;b="omission"in c?w(c.omission):b}else h=+c||0;a=w(a);if(h>=a.length)return a;h-=b.length;if(1>h)return b;c=a.slice(0,h);if(null==
e)return c+b;if(Ad(e)){if(a.slice(h).search(e)){var k,f=a.slice(0,h);e.global||(e=Yb(e.source,(ed.exec(e)||"")+"g"));for(e.lastIndex=0;a=e.exec(f);)k=a.index;c=c.slice(0,null==k?h:k)}}else a.indexOf(e,h)!=h&&(e=c.lastIndexOf(e),-1<e&&(c=c.slice(0,e)));return c+b};b.unescape=function(a){return(a=w(a))&&tb.test(a)?a.replace(aa,C):a};b.uniqueId=function(a){var c=++re;return w(a)+c};b.words=Ic;b.all=rd;b.any=td;b.contains=Rb;b.eq=xd;b.detect=ac;b.foldl=bc;b.foldr=Od;b.head=ld;b.include=Rb;b.inject=bc;
Xb(b,function(){var a={};la(b,function(c,h){b.prototype[h]||(a[h]=c)});return a}(),!1);b.sample=nb;b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(c){return nb(c,a)}):nb(this.value())};b.VERSION="3.10.1";fa("bind bindKey curry curryRight partial partialRight".split(" "),function(a){b[a].placeholder=b});fa(["drop","take"],function(a,c){x.prototype[a]=function(b){var h=this.__filtered__;if(h&&!c)return new x(this);b=null==b?1:S(Aa(b)||0,0);var e=this.clone();h?e.__takeCount__=
X(e.__takeCount__,b):e.__views__.push({size:b,type:a+(0>e.__dir__?"Right":"")});return e};x.prototype[a+"Right"]=function(c){return this.reverse()[a](c).reverse()}});fa(["filter","map","takeWhile"],function(a,c){var b=c+1,h=2!=b;x.prototype[a]=function(a,d){var c=this.clone();c.__iteratees__.push({iteratee:L(a,d,1),type:b});c.__filtered__=c.__filtered__||h;return c}});fa(["first","last"],function(a,c){var b="take"+(c?"Right":"");x.prototype[a]=function(){return this[b](1).value()[0]}});fa(["initial",
"rest"],function(a,c){var b="drop"+(c?"":"Right");x.prototype[a]=function(){return this.__filtered__?new x(this):this[b](1)}});fa(["pluck","where"],function(a,c){var b=c?"filter":"map",h=c?Na:ab;x.prototype[a]=function(a){return this[b](h(a))}});x.prototype.compact=function(){return this.filter(va)};x.prototype.reject=function(a,c){a=L(a,c,1);return this.filter(function(c){return!a(c)})};x.prototype.slice=function(a,c){a=null==a?0:+a||0;var b=this;if(b.__filtered__&&(0<a||0>c))return new x(b);0>a?
b=b.takeRight(-a):a&&(b=b.drop(a));c!==p&&(c=+c||0,b=0>c?b.dropRight(-c):b.take(c-a));return b};x.prototype.takeRightWhile=function(a,c){return this.reverse().takeWhile(a,c).reverse()};x.prototype.toArray=function(){return this.take(Xa)};la(x.prototype,function(a,c){var h=/^(?:filter|map|reject)|While$/.test(c),e=/^(?:first|last)$/.test(c),k=b[e?"take"+("last"==c?"Right":""):c];k&&(b.prototype[c]=function(){var c=e?[1]:arguments,b=this.__chain__,g=this.__wrapped__,f=!!this.__actions__.length,m=g instanceof
x,n=c[0],D=m||H(g);D&&h&&"function"==typeof n&&1!=n.length&&(m=D=!1);var t=function(a){return e&&b?k(a,1)[0]:k.apply(p,La([a],c))},n={func:Pb,args:[t],thisArg:p},f=m&&!f;return e&&!b?f?(g=g.clone(),g.__actions__.push(n),a.call(g)):k.call(p,this.value())[0]:!e&&D?(g=f?g:new x(this),g=a.apply(g,c),g.__actions__.push(n),new v(g,b)):this.thru(t)})});fa("join pop push replace shift sort splice split unshift".split(" "),function(a){var c=(/^(?:replace|split)$/.test(a)?qe:Jd)[a],h=/^(?:push|sort|unshift)$/.test(a)?
"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?c.apply(this.value(),a):this[h](function(d){return c.apply(d,a)})}});la(x.prototype,function(a,c){var h=b[c];if(h){var e=h.name;(lb[e]||(lb[e]=[])).push({name:c,func:h})}});lb[Jb(p,2).name]=[{name:"wrapper",func:p}];x.prototype.clone=function(){var a=new x(this.__wrapped__);a.__actions__=U(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=
U(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=U(this.__views__);return a};x.prototype.reverse=function(){if(this.__filtered__){var a=new x(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};x.prototype.value=function(){var a,c=this.__wrapped__.value(),b=this.__dir__,h=H(c),e=0>b,k=h?c.length:0;a=0;for(var f=k,m=this.__views__,p=-1,n=m.length;++p<n;){var D=m[p],t=D.size;switch(D.type){case "drop":a+=t;break;case "dropRight":f-=t;break;case "take":f=
X(f,a+t);break;case "takeRight":a=S(a,f-t)}}m=f;f=m-a;a=e?m:a-1;m=this.__iteratees__;p=m.length;n=0;D=X(f,this.__takeCount__);if(!h||200>k||k==f&&D==f)return zc(e&&h?c.reverse():c,this.__actions__);h=[];a:for(;f--&&n<D;){a+=b;e=-1;for(k=c[a];++e<p;){var C=m[e],t=C.iteratee,C=C.type,t=t(k);if(2==C)k=t;else if(!t)if(1==C)continue a;else break a}h[n++]=k}return h};b.prototype.chain=function(){return qd(this)};b.prototype.commit=function(){return new v(this.value(),this.__chain__)};b.prototype.concat=
Je;b.prototype.plant=function(a){for(var c,b=this;b instanceof f;){var h=gc(b);c?e.__wrapped__=h:c=h;var e=h,b=b.__wrapped__}e.__wrapped__=a;return c};b.prototype.reverse=function(){var a=this.__wrapped__,c=function(a){return b&&0>b.__dir__?a:a.reverse()};if(a instanceof x){var b=a;this.__actions__.length&&(b=new x(this));b=b.reverse();b.__actions__.push({func:Pb,args:[c],thisArg:p});return new v(b,this.__chain__)}return this.thru(c)};b.prototype.toString=function(){return this.value()+""};b.prototype.run=
b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=function(){return zc(this.__wrapped__,this.__actions__)};b.prototype.collect=b.prototype.map;b.prototype.head=b.prototype.first;b.prototype.select=b.prototype.filter;b.prototype.tail=b.prototype.rest;return b}var p,ub=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,aa=/&(?:amp|lt|gt|quot|#39|#96);/g,Va=/[&<>"'`]/g,tb=RegExp(aa.source),rb=RegExp(Va.source),qb=/<%-([\s\S]+?)%>/g,da=/<%([\s\S]+?)%>/g,Ua=/<%=([\s\S]+?)%>/g,
Ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,J=/^\w*$/,he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Sd=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,V=RegExp(Sd.source),ob=/[\u0300-\u036f\ufe20-\ufe23]/g,ie=/\\(\\)?/g,Cf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ed=/\w*$/,Bf=/^0[xX]/,le=/^\[object .+?Constructor\]$/,ge=/^\d+$/,me=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,sb=/($^)/,Ef=/['\n\r\u2028\u2029\\]/g,ne=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+",
"g"),oe="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Df=-1,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=
P["[object Uint32Array]"]=!0;P["[object Arguments]"]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Error]"]=P["[object Function]"]=P["[object Map]"]=P["[object Number]"]=P["[object Object]"]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object WeakMap]"]=!1;var O={};O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=
O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object String]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0;O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Set]"]=O["[object WeakMap]"]=!1;var Da={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a",
"\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U",
"\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Wa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},ea={"function":!0,object:!0},vb={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",
c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ka={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ta=ea[typeof b]&&b&&!b.nodeType&&b,na=ea[typeof x]&&x&&!x.nodeType&&x,ec=ea[typeof self]&&self&&self.Object&&self,ea=ea[typeof window]&&window&&window.Object&&window,fc=na&&na.exports===ta&&ta,ka=ta&&na&&"object"==typeof f&&f&&f.Object&&f||ea!==(this&&this.window)&&ea||ec||this,sa=G();"function"==typeof define&&"object"==typeof define.amd&&define.amd?
(ka._=sa,define(function(){return sa})):ta&&na?fc?(na.exports=sa)._=sa:ta._=sa:ka._=sa}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],9:[function(f,x,b){var v,q,A,e,E,w,u,r,z,B,F,y,n,m,t,c,a,h,k,C,G,p,ub=[].indexOf||function(a){for(var c=0,b=this.length;c<b;c++)if(c in this&&this[c]===a)return c;return-1};v=f("lodash");p=f("./util");F=f("./match");G=f("./substitute");y=function(a){a=p.cloneExpression(a);a=G.doSubRecursive(a,
G.subsForPNF.replace_arrow);a=G.doSubRecursive(a,G.subsForPNF.replace_double_arrow);a=c(a);return a=p.exhaust(a,function(a){var c,b,h;b=G.subsForPNF;for(c in b)h=b[c],"replace_arrow"!==c&&"replace_double_arrow"!==c&&(a=G.doSubRecursive(a,h));return a})};b.prenexNormalForm=y;b.isPNF=function(a){var c,b,h,e,k,f,p,n;a=m(a);c=z(a,"and");a=[];h=0;for(e=c.length;h<e;h++)b=c[h],a.push(z(b,"or"));b=0;for(e=a.length;b<e;b++)for(n=a[b],h=0,k=n.length;h<k;h++)if(c=n[h],"not"!==(f=c.type)&&"sentence_letter"!==
f&&"predicate"!==f||"not"===c.type&&"sentence_letter"!==(p=c.left.type)&&"predicate"!==p)return!1;return!0};c=function(a,c){var b,h,e,k,f,m;null==c&&(c="x");k=("\u03b1"===(f=c[0])||"\u03b2"===f||"\u03b3"===f||"\u03c4"===f?"term_metavariable":void 0)||"variable";b=0;h={};e=function(a){var e;null==h[a.name]&&(b+=1,e=""+c+b,h[a.name]=e);return h[a.name]};m=function(a){if(null!=h[a.name])return delete h[a.name]};return p.walkMutate(a,function(a){if(null===a||null==(null!=a?a.boundVariable:void 0)&&(null==
(null!=a?a.type:void 0)||"variable"!==a.type))return a;null!=a.boundVariable&&m(a.boundVariable);null!=(null!=a?a.type:void 0)&&"variable"===a.type&&(a.name=e(a),a.type=k);return a},{topDown:!0})};b.renameVariables=c;b.convertToPNFsimplifyAndSort=function(c){c=y(c);c=w(c);c=C(c);a(c);return c};b.areExpressionsEquivalent=function(a,c){a=y(a);c=y(c);return A(a,c)};A=function(b,h){var k,f,p;b=w(b);b=C(b);a(b);h=w(h);h=C(h);a(h);f=c(b,"\u03c4");k=m(f);p=m(h);k=F.find(p,k);if(!1===k)return!1;f=F.apply(f,
k);return e(f,h)};b.arePNFExpressionsEquivalent=A;C=function(a){var c,b,e,f,p;p=u(a);a=m(a);c=z(a,"and");a=[];e=0;for(f=c.length;e<f;e++)b=c[e],a.push(z(b,"or"));b=0;for(e=a.length;b<e;b++)c=a[b],h(c);k(a);f=[];b=0;for(e=a.length;b<e;b++)c=a[b],f.push(n(c,"or"));a=n(f,"and");return E(a,p)};b.sortPNFExpression=C;m=function(a){return null!=a.boundVariable?m(a.left):a};b.removeQuantifiers=m;z=function(a,c){var b;if(null!=a.type&&a.type!==c)return[a];if(null!=a.type&&a.type===c)return b=[],b.push.apply(b,
z(a.left,c)),b.push.apply(b,z(a.right,c)),b;throw Error("listJuncts called with type = "+c+" and unrecognized expression = "+JSON.stringify(a,null,4));};b.listJuncts=z;h=function(a){return a.sort(p.atomicExpressionComparator)};b.sortJuncts=h;k=function(a){return a.sort(p.listOfAtomicExpressionsComparator)};b.sortListOfJuncts=k;n=function(a,c){var b,h;if(!a||null==a.length||0===a.length)throw Error("rebuildExpression called with listOfJuncts = "+a);if(1===a.length)return a[0];b=a.shift();h=n(a,c);
return{type:c,left:b,right:h}};b.rebuildExpression=n;B=function(a,c){var b;if(null!=a.type&&a.type!==c)return{quantifiedExpression:a};if(null!=a.type&&a.type===c)return b=B(a.left,c),null==b.boundVariables&&(b.boundVariables=[]),b.boundVariables.push(a.boundVariable),b;throw Error("listQuants called with type = "+c+" and unrecognized expression = "+JSON.stringify(a,null,4));};b.listQuants=B;u=function(a){var c;return null!=a.boundVariable?(c=u(a.left),{type:a.type,symbol:a.symbol,location:a.location,
boundVariable:a.boundVariable,left:c,right:null}):null};b.getPrefixedQuantifiers=u;E=function(a,c){if(null===c)return a;null!==c.left?E(a,c.left):c.left=a;return c};b.attachExpressionToQuantifiers=E;e=function(a,c,b){var h;null==b&&(b={quantifierType:null,leftBoundVariables:[],rightBoundVariables:[]});h=(null!=a?a.type:void 0)||null;if(b.quantifierType!==h){b.leftBoundVariables.sort();b.rightBoundVariables.sort();if(!v.isEqual(b.leftBoundVariables,b.rightBoundVariables))return!1;b.leftBoundVariables=
[];b.rightBoundVariables=[];b.quantifierType=h}if(null===a||null==a.boundVariable)return null===c||null==c.boundVariable?!0:!1;if(null===c||null==c.type||c.type!==h)return!1;b.leftBoundVariables.push(a.boundVariable.name);b.rightBoundVariables.push(c.boundVariable.name);return e(a.left,c.left,b)};b.arePrefixedQuantifiersEquivalent=e;a=function(c,b){var h,e,k,f;void 0===b&&(b=q(c));if(null==(null!=c?c.type:void 0))return c;if("identity"!==c.type)return null!=c.left&&a(c.left,b),null!=c.right&&a(c.right,
b),c;h=c.termlist[0];k=c.termlist[1];1===p.termComparator(h,k)&&(e=[k,h],h=e[0],k=e[1]);"variable"===h.type&&"variable"===k.type&&(e=b.indexOf(h.name),f=b.indexOf(k.name),e>f&&(e=[k,h],h=e[0],k=e[1]));c.termlist=[h,k];return c};b.sortIdentityStatements=a;q=function(a,c){var b,h;null==c&&(c={quantifierType:null,thisTypeBoundVariables:[],allBoundVariables:[]});b=(null!=a?a.type:void 0)||null;c.quantifierType!==b&&(c.thisTypeBoundVariables.sort(),(h=c.allBoundVariables).push.apply(h,c.thisTypeBoundVariables),
c.thisTypeBoundVariables=[],c.quantifierType=b);if(null===b||null==a.boundVariable)return c.allBoundVariables;c.thisTypeBoundVariables.push(a.boundVariable.name);return q(a.left,c)};b._getVariableOrder=q;w=function(a){a=p.exhaust(a,function(a){var c,b,h;b=G.subs_eliminate_redundancy;for(c in b)h=b[c],a=G.doSubRecursive(a,h);return C(a)});return a=t(a)};b.eliminateRedundancyInPNF=w;r=function(a,c){var b;if(null!=c.termlist){var h,e,k,f;k=c.termlist;f=[];h=0;for(e=k.length;h<e;h++)b=k[h],f.push(b.name);
if(0<=ub.call(f,a))return!0}return null!=c.boundVariable&&c.boundVariable.name===a?!1:null!=c.left&&r(a,c.left)||null!=c.right&&r(a,c.right)?!0:!1};b.isVariableFree=r;t=function(a){a=p.cloneExpression(a);return p.walkMutate(a,function(a){return null==(null!=a?a.boundVariable:void 0)||r(a.boundVariable.name,a.left)?a:a.left})};b.removeQuantifiersThatBindNothing=t},{"./match":7,"./substitute":21,"./util":23,lodash:8}],10:[function(f,x,b){(function(v){var q=function(){function b(){this.yy={}}var e=function(a,
c,b,h){b=b||{};for(h=a.length;h--;b[a[h]]=c);return b},f=[1,4],q=[1,5],u=[1,6],r=[1,7],z=[1,8],B=[1,9],v=[1,11],y=[1,14],n=[1,15],m=[1,18],t=[1,19],c=[1,16],a=[1,21],h=[1,22],k=[1,23],C=[1,24],G=[1,25],p=[1,26],x=[1,27],D=[1,32],ia=[5,10,13,14,15,16,17,18,27,29,34],aa=[5,10,13,14,15,16,17,18,27,29,34,37],Va=[5,10,13,14,15,16,17,18,26,27,29,34,37],tb=[2,32],rb=[5,7,9,10,11,13,14,15,16,17,18,19,20,21,23,26,27,29,30,31,32,33,34,35,37],qb=[7,9,10,11,19,20,21,23,30,31,32,33,35],da=[5,10,13,14,15,16,17,
18,29,34],Ua=[5,10,29,34],Ja=[29,34],e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,"(":9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,"[":27,substitution_list:28,"]":29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,
",":34,name:35,substitution:36,substitution_symbol:37,"null":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"(",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",29:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",34:",",35:"name",37:"substitution_symbol",38:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,5],[4,
3],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,4],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[8,1],[8,3],[24,1],[24,3],[25,1],[25,1],[28,1],[28,3],[36,3],[36,3],[36,3],[36,3],[6,3]],performAction:function(a,c,b,h,e,k,f){a=k.length-1;switch(e){case 1:case 2:return k[a-1];case 3:return k[a-1].box=k[a-2],k[a-1];case 4:this.$={type:"existential_quantifier",symbol:k[a-2],location:f[a-2],boundVariable:k[a-1],left:k[a],right:null};break;case 5:this.$={type:"existential_quantifier",
symbol:k[a-3],location:f[a-3],boundVariable:k[a-2],left:k[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:k[a-2],location:f[a-2],boundVariable:k[a-1],left:k[a],right:null};break;case 7:this.$={type:"universal_quantifier",symbol:k[a-3],location:f[a-3],boundVariable:k[a-2],left:k[a],right:null};break;case 8:this.$={type:"universal_quantifier",symbol:"",location:f[a-2],boundVariable:k[a-2],left:k[a],right:null};break;case 9:this.$={type:"and",symbol:k[a-1],location:f[a-1],left:k[a-
2],right:k[a]};break;case 10:this.$={type:"or",symbol:k[a-1],location:f[a-1],left:k[a-2],right:k[a]};break;case 11:this.$={type:"nand",symbol:k[a-1],location:f[a-1],left:k[a-2],right:k[a]};break;case 12:this.$={type:"nor",symbol:k[a-1],location:f[a-1],left:k[a-2],right:k[a]};break;case 13:this.$={type:"arrow",symbol:k[a-1],location:f[a-1],left:k[a-2],right:k[a]};break;case 14:this.$={type:"double_arrow",symbol:k[a-1],location:f[a-1],left:k[a-2],right:k[a]};break;case 15:this.$={type:"not",symbol:k[a-
1],location:f[a-1],left:k[a],right:null};break;case 16:this.$={type:"value",symbol:k[a],location:f[a],value:!0,left:null,right:null};break;case 17:this.$={type:"value",symbol:k[a],location:f[a],value:!1,left:null,right:null};break;case 18:case 27:case 32:this.$=k[a];break;case 19:this.$={type:"predicate",name:k[a-3],location:f[a-3],termlist:k[a-1]};break;case 20:this.$={type:"identity",symbol:k[a-1],termlist:[k[a-2],k[a]]};break;case 21:case 28:this.$=k[a-1];break;case 22:k[a-3].substitutions=k[a-
3].substitutions&&k[a-3].substitutions.length?k[a-3].substitutions.concat(k[a-1]):k[a-1];this.$=k[a-3];break;case 23:this.$={type:"expression_variable",location:f[a],letter:k[a],left:null,right:null};break;case 24:this.$={type:"sentence_letter",location:f[a],letter:k[a],left:null,right:null};break;case 25:this.$={type:"variable",name:k[a],location:f[a]};break;case 26:this.$={type:"term_metavariable",name:k[a],location:f[a]};break;case 29:case 33:this.$=[k[a]];break;case 30:case 34:this.$=[k[a-2]].concat(k[a]);
break;case 31:this.$={type:"name",name:k[a],location:f[a]};break;case 35:case 37:this.$={type:"substitution",from:k[a-2],to:k[a],symbol:k[a-1]};break;case 36:case 38:this.$={type:"substitution",from:k[a-2],to:null,symbol:k[a-1]};break;case 39:this.$={type:"box",term:k[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,27:[1,13],30:y,31:n,32:m,33:t,35:c},{1:[3]},{5:[1,20],13:a,14:h,15:k,16:C,17:G,18:p,27:x},{4:29,5:[1,28],7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,
30:y,31:n,32:m,33:t,35:c},{8:30,9:D,12:31,32:m,33:t},{4:36,7:[1,33],9:q,11:[1,34],12:35,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{8:37,9:D,12:31,32:m,33:t},{4:38,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},e(ia,[2,16]),e(ia,[2,17]),e(ia,[2,18]),{9:[1,39]},{26:[1,40]},{12:17,25:41,32:m,33:t,35:c},e(aa,[2,23]),e(aa,[2,24]),e(Va,[2,31]),e(Va,tb),e(rb,[2,25]),e(rb,[2,26]),{1:[2,1]},{4:42,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,
33:t,35:c},{4:43,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{4:44,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{4:45,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{4:46,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{4:47,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{12:17,22:51,25:50,28:48,30:y,31:n,32:m,33:t,35:c,36:49},{1:[2,2]},{5:[1,52],
13:a,14:h,15:k,16:C,17:G,18:p,27:x},{4:53,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},e(qb,[2,27]),{12:54,32:m,33:t},{8:55,9:D,12:31,32:m,33:t},{8:56,9:D,12:31,32:m,33:t},{10:[1,57],26:tb},{10:[1,58],13:a,14:h,15:k,16:C,17:G,18:p,27:x},{4:59,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},e(da,[2,15],{27:x}),{12:17,24:60,25:61,32:m,33:t,35:c},{12:17,25:62,32:m,33:t,35:c},{29:[1,63]},e(da,[2,9],{27:x}),e(da,[2,10],{27:x}),e(da,[2,11],{27:x}),
e(da,[2,12],{27:x}),e(Ua,[2,13],{13:a,14:h,15:k,16:C,27:x}),e(Ua,[2,14],{13:a,14:h,15:k,16:C,27:x}),{29:[1,64]},{29:[2,33],34:[1,65]},{37:[1,66]},{37:[1,67]},{1:[2,3]},e(da,[2,4],{27:x}),{10:[1,68]},{4:53,7:f,9:q,10:[1,69],11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{4:59,7:f,9:q,10:[1,70],11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{4:71,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},e(ia,[2,21]),e(da,[2,6],{27:x}),{10:[1,
72]},{10:[2,29],34:[1,73]},e(ia,[2,20]),e([5,7,9,11,19,20,21,23,30,31,32,33,35],[2,39]),e(ia,[2,22]),{12:17,22:51,25:50,28:74,30:y,31:n,32:m,33:t,35:c,36:49},{12:17,25:75,32:m,33:t,35:c,38:[1,76]},{4:77,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c,38:[1,78]},e(qb,[2,28]),{4:79,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},{4:80,7:f,9:q,11:u,12:17,19:r,20:z,21:B,22:10,23:v,25:12,30:y,31:n,32:m,33:t,35:c},e(da,[2,8],{27:x}),e(ia,[2,19]),
{12:17,24:81,25:61,32:m,33:t,35:c},{29:[2,34]},e(Ja,[2,35]),e(Ja,[2,36]),e(Ja,[2,37],{13:a,14:h,15:k,16:C,17:G,18:p,27:x}),e(Ja,[2,38]),e(da,[2,5],{27:x}),e(da,[2,7],{27:x}),{10:[2,30]}],defaultActions:{20:[2,1],28:[2,2],52:[2,3],74:[2,34],81:[2,30]},parseError:function(a,c){if(c.recoverable)this.trace(a);else{var b=function(a,c){this.message=a;this.hash=c};b.prototype=Error;throw new b(a,c);}},parse:function(a){var c=[0],b=[null],h=[],e=this.table,k="",f=0,m=0,p=0,n=h.slice.call(arguments,1),t=Object.create(this.lexer),
C={},r;for(r in this.yy)Object.prototype.hasOwnProperty.call(this.yy,r)&&(C[r]=this.yy[r]);t.setInput(a,C);C.lexer=t;C.parser=this;"undefined"==typeof t.yylloc&&(t.yylloc={});r=t.yylloc;h.push(r);var q=t.options&&t.options.ranges;this.parseError="function"===typeof C.parseError?C.parseError:Object.getPrototypeOf(this).parseError;for(var y,G,u,D,z={},A,v;;){u=c[c.length-1];if(this.defaultActions[u])D=this.defaultActions[u];else{if(null===y||"undefined"==typeof y)y=void 0,y=t.lex()||1,"number"!==typeof y&&
(y=this.symbols_[y]||y);D=e[u]&&e[u][y]}if("undefined"===typeof D||!D.length||!D[0]){var w="";v=[];for(A in e[u])this.terminals_[A]&&2<A&&v.push("'"+this.terminals_[A]+"'");w=t.showPosition?"Parse error on line "+(f+1)+":\n"+t.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'");this.parseError(w,{text:t.match,token:this.terminals_[y]||y,line:t.yylineno,loc:r,expected:v})}if(D[0]instanceof
Array&&1<D.length)throw Error("Parse Error: multiple actions possible at state: "+u+", token: "+y);switch(D[0]){case 1:c.push(y);b.push(t.yytext);h.push(t.yylloc);c.push(D[1]);y=null;G?(y=G,G=null):(m=t.yyleng,k=t.yytext,f=t.yylineno,r=t.yylloc,0<p&&p--);break;case 2:v=this.productions_[D[1]][1];z.$=b[b.length-v];z._$={first_line:h[h.length-(v||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(v||1)].first_column,last_column:h[h.length-1].last_column};q&&(z._$.range=[h[h.length-
(v||1)].range[0],h[h.length-1].range[1]]);u=this.performAction.apply(z,[k,m,f,C,D[1],b,h].concat(n));if("undefined"!==typeof u)return u;v&&(c=c.slice(0,-2*v),b=b.slice(0,-1*v),h=h.slice(0,-1*v));c.push(this.productions_[D[1]][0]);b.push(z.$);h.push(z._$);D=e[c[c.length-2]][c[c.length-1]];c.push(D);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,c){if(this.yy.parser)this.yy.parser.parseError(a,c);else throw Error(a);},setInput:function(a,c){this.yy=c||this.yy||{};this._input=
a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&
this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var c=a.length,b=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-c);this.offset-=c;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var h=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+
1,first_column:this.yylloc.first_column,last_column:b?(b.length===a.length?this.yylloc.first_column:0)+a[a.length-b.length].length-b[0].length:this.yylloc.first_column-c};this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-c]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),c=Array(a.length+1).join("-");
return a+this.upcomingInput()+"\n"+c+"^"},test_match:function(a,c){var b,h;this.options.backtrack_lexer&&(h={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&
(h.yylloc.range=this.yylloc.range.slice(0)));if(b=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=
this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];b=this.performAction.call(this,this.yy,this,c,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var e in h)this[e]=h[e];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,c,b;this._more||(this.match=this.yytext="");for(var h=this._currentRules(),e=0;e<h.length;e++)if((c=this._input.match(this.rules[h[e]]))&&(!a||
c[0].length>a[0].length))if(a=c,b=e,this.options.backtrack_lexer){a=this.test_match(c,h[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,h[b]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,c,b,h){switch(b){case 1:return this.popState(),9;case 2:return 9;case 3:return 10;case 4:return 27;case 5:return 29;case 6:return 34;case 7:return this.begin("expectLeftBracket"),23;case 8:return 37;case 9:return 20;case 10:return 21;case 11:return 26;case 12:return 13;case 13:return 17;case 14:return 18;case 15:return 14;case 16:return 19;case 17:return 16;case 18:return 15;case 19:return 11;case 20:return 7;case 21:return 31;case 22:return 35;case 23:return 32;
case 24:return 30;case 25:return 33;case 26:return 38;case 27:return 5;case 28:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][A-Za-z0-9]*(?=(\()))/,/^(?:--\x3e)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE]|\u22a5|_\|_|[cC][oO][nN][tT][rR][aA][dD][iI][cC][tT][iI][oO][nN]|[cC][oO][nN][tT][rR][aA])/,/^(?:=)/,/^(?:[aA][nN][dD]|&|\u2227|\u2022)/,/^(?:[aA][rR][rR][oO][wW]|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,
/^(?:[oO][rR]|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:[nN][oO][tT]|\u00ac|~|\u02dc|!)/,/^(?:[nN][oO][rR]|\u2193)/,/^(?:[nN][aA][nN][dD]|\u2191)/,/^(?:[aA][lL][lL]|\u2200|[eE][vV][eE][rR][yY])/,/^(?:[sS][oO][mM][eE]|[eE][xX][iI][sS][tT][sS]|\u2203)/,/^(?:[A-Zpqrs][0-9]*)/,/^(?:[a-d][0-9]*)/,/^(?:[etxyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[1],inclusive:!1},INITIAL:{rules:[0,2,3,4,
5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}}}();e.lexer=f;b.prototype=e;e.Parser=b;return new b}();"undefined"!==typeof f&&"undefined"!==typeof b&&(b.parser=q,b.Parser=q.Parser,b.parse=function(){return q.parse.apply(q,arguments)},b.main=function(q){q[1]||(console.log("Usage: "+q[0]+" FILE"),v.exit(1));q=f("fs").readFileSync(f("path").normalize(q[1]),"utf8");return b.parser.parse(q)},"undefined"!==typeof x&&f.main===x&&b.main(v.argv.slice(1)))}).call(this,f("_process"))},
{_process:3,fs:1,path:2}],11:[function(f,x,b){var v,q,A,e,E,w,u,r,z,B,F,y,n,m;q=f("lodash");n=f("./justification_parser");w=f("./add_line_numbers").cleanNumber;v=n.parse("premise");b.to=function(b){var c;c={visit:function(a){var c,b;if("line"===a.type&&null==a.justification&&null==a.justificationErrors){b=m(a.content);a.justification=b.justification;if(null!=(null!=(c=a.justification)?c.numbers:void 0)){var e=a.justification,f,p,n,t;n=a.justification.numbers;t=[];f=0;for(p=n.length;f<p;f++)c=n[f],
t.push(w(c));e.numbers=t}a.content=b.rest;a.justificationErrors=b.justificationErrors;a.justificationText=b.justificationText;a.getRuleName=y;a.findLine=r;a.findBlock=u;a.findLineOrBlock=z;a.getCitedLines=F;a.getCitedBlocks=B}}};b.walk(c);c={visit:function(a){"line"===a.type&&null==a.justification&&null==a.justificationErrors&&E(a)&&(a.justification=v)}};b.walk(c);c={visit:function(a){"block"===a.type&&(a.getConclusion=function(){var c;c=q.last(a.content);return"line"===c.type&&null!=c.sentence?c.sentence:
!1},a.getPremises=function(){var c,b;c=q.filter(a.content,function(a){var c,b;return"line"!==a.type||null==a.sentence||"premise"!==(null!=(c=a.justification)?null!=(b=c.rule)?b.connective:void 0:void 0)?!1:!0});return function(){var a,e,f;f=[];a=0;for(e=c.length;a<e;a++)b=c[a],f.push(b.sentence);return f}()})}};b.walk(c);return b};A=/((\s)*\/\/)|(\\)|(--)/;e=/(\S+)(\s\s\s)(?=\s*\S+)/;m=function(b){var c,a,h,k;a=b.match(A);if(null!=a)k=b.slice(0,a.index),h=a[0].length,b=b.slice(a.index+h);else if(a=
b.match(e),null!=a)k=a[1],k=b.slice(0,a.index+k.length),h=a[0].length,b=b.slice(a.index+h);else return{justification:null,rest:b,justificationErrors:null};try{c=n.parse(b)}catch(f){return{justification:null,rest:k,justificationErrors:f.message,justificationText:b}}return{justification:c,rest:k,justificationErrors:null}};E=function(b){var c,a,h,e,f,m;c=b.parent;if(b===c.content[0])return!0;if(null!=c.parent)return!1;f=c.content;m=e=!1;a=0;for(h=f.length;a<h;a++){c=f[a];if("divider"===c.type){m=!0;
break}c===b&&(e=!0)}return e&&m?!0:!1};b._isPremise=E;y=function(){return(this.justification.rule.connective+" "+(this.justification.rule.variant.intronation||"")+" "+(this.justification.rule.variant.side||"")).trim()};r=function(b){return this.findAbove(function(c){if("line"===c.type&&c.number===b)return!0})};u=function(b){return this.findAbove(function(c){if("block"===c.type&&c.number===b)return!0})};z=function(b){return this.findAbove(function(c){if(("block"===c.type||"line"===c.type)&&c.number===
b)return!0})};F=function(){var b,c,a,h,e;if(!this.justification.numbers)return[];b=[];h=this.justification.numbers;c=0;for(a=h.length;c<a;c++)e=h[c],e=this.findLine(e),!1!==e&&b.push(e);return b};B=function(){var b,c,a,h,e;if(!this.justification.numbers)return[];b=[];h=this.justification.numbers;c=0;for(a=h.length;c<a;c++)e=h[c],e=this.findBlock(e),!1!==e&&b.push(e);return b}},{"./add_line_numbers":12,"./justification_parser":18,lodash:8}],12:[function(f,x,b){var v,q,A,e,E,w=[].indexOf||function(b){for(var e=
0,f=this.length;e<f;e++)if(e in this&&this[e]===b)return e;return-1};v=f("lodash");A=/^([|\s])*\(?([0-9]\S*)([|\s]*)([\s\S]*)/;q=/\.*\)?$/;e=function(b){return b.replace(q,"")};b.cleanNumber=e;E=function(b){var f;return(f=b.content.match(A))?(b=f[2],b=e(b),{lineNumber:b,rest:f[4]}):{lineNumber:null,rest:b.content}};b.to=function(b){b.walk({usedLineNumbers:[],lineCounter:0,userNumberedLines:!1,visit:function(b){var e,f;if("block"!==b.type){this.lineCounter+=1;f=E(b);e=f.lineNumber;f=f.rest;if(e||0===
e)this.userNumberedLines=!0;null===e&&(e="line"===b.type?""+this.lineCounter:this.lineCounter+"x");if(0<=w.call(this.usedLineNumbers,e))throw Error("Duplicate line number '"+e+"' used for the second time at line "+this.lineCounter+".  Line numbers must be unique.");this.usedLineNumbers.push(e);b.number=e;b.content=f}}});b.walk({visit:function(e){var f;if("block"===e.type&&(b=e,0!==b.content.length)){e=b.content[0];for(f=v.last(b.content);"block"===f.type;)f=v.last(f.content);null!=e.number&&null!=
f.number&&(b.number=e.number+"-"+f.number)}}});return b}},{lodash:8}],13:[function(f,x,b){var v;v=f("../fol");f("../substitute");f("../util");b.to=function(b){b.walk({visit:function(b){if("line"===b.type&&null==b.sentence&&null==b.sentenceErrors){b.sentenceText=b.content;try{b.sentence=v.parse(b.sentenceText)}catch(e){b.sentenceErrors=e.message}}}});return b}},{"../fol":6,"../substitute":21,"../util":23}],14:[function(f,x,b){var v;f("../fol");f("../substitute");f("../util");b.to=function(b){b.walk({visit:function(b){if(null!=
(null!=b?b.type:void 0))switch(b.type){case "block":b.listErrorMessages=function(){throw"Not implemented yet!";};break;default:b.status=new v(b),b.getErrorMessage=function(){return b.status.getMessage()}}}});return b};v=function(){function b(f){this.line=f;this.messages=[];this.verificationAttempted=this.verified=!1;this.sentenceParsed=null!=this.line.sentence;this.justificationParsed=null!=this.line.justification;null!=this.line.sentenceErrors&&this.addMessage("the sentence you wrote ("+this.line.sentenceText+
") is not a sentence of awFOL.");null!=this.line.justificationErrors&&this.addMessage("the justification your supplied ("+this.line.justificationText+") either mentions a rule you can't use here or doesn't make sense.");"line"===this.line.type&&null==this.line.justification&&null==this.line.justificationErrors&&this.addMessage("you supplied no justification for this line.")}b.prototype.addMessage=function(b){return this.messages.push(b)};b.prototype.clearMessages=function(){return this.messages=[]};
b.prototype.popMessage=function(){return 0<this.messages.length?this.messages.pop():""};b.prototype.addAlthoughMessage=function(b){if(null!=this._addedAlthough)return this.addMessage("and although "+b);this.addMessage("although "+b);return this._addedAlthough=!0};b.prototype.getMessage=function(){var b,e,f,q,u;if(0===this.messages.length)return"";f="This line is "+((this.verified?void 0:"not correct because")||"correct but")+" "+this.messages[0];1<this.messages.length&&(f+="And also "+this.messages[1]);
2<this.messages.length&&(f+="Further, "+this.messages[2]);3<this.messages.length&&(f+="And, for another thing, "+this.messages[3]);if(4<this.messages.length)for(q=this.messages.splice(4),b=0,e=q.length;b<e;b++)u=q[b],f+="And "+u;return f};return b}()},{"../fol":6,"../substitute":21,"../util":23}],15:[function(f,x,b){var v,q,A,e,E,w,u,r,z,B,F,y,n=[].indexOf||function(b){for(var e=0,c=this.length;e<c;e++)if(e in this&&this[e]===b)return e;return-1};v=f("lodash");r=f("./block_parser");E=f("./add_line_numbers");
e=f("./add_justification");w=f("./add_sentences");u=f("./add_status");F=f("./fitch_rules").rules;A=function(b){b=r.parse(b);E.to(b);e.to(b);w.to(b);u.to(b);return b};b.to=function(b){return b.walk({visit:function(e){null!=(null!=e?e.type:void 0)&&(e.verify="block"===e.type?function(){var c;c=!0;e.walk({visit:function(a){"line"===a.type&&(a=a.verify(),c=c&&a)}});return c}:function(){return y(e,b)})}})};y=function(b,e){var c,a,h;v.isString(e)&&(e=A(e));c=e;if(null!=b.type)h=b;else if(h=c.getLine(b),
!h)throw Error("Could not find line "+b+" in "+e);h.status.verificationAttempted=!0;if("line"!==h.type)return h.status.verified=!0,h.status.addMessage("(This is a "+h.type.replace(/_/g," ")+")"),!0;if(null!=h.sentenceErrors||null!=h.justificationErrors||null==h.justification)return h.status.verified=!1;c=q(h);return!0!==c?(h.status.addMessage(c),h.status.verified=!1):a=z(h,a)};b._line=y;q=function(b){var e,c,a,h,k,f,y,p;f=b.justification.numbers;if(!f)return!0;a=0;for(h=f.length;a<h;a++){k=f[a];c=
b.findLineOrBlock(k);if(!c)return"something you cited, "+k+", cannot be cited here (either it does not exist, or it is below this line, or else it occurs above but in a closed subproof).";e=[];for(y=b.parent;y;)e.push(y),y=y.parent;if(0<=n.call(e,c))return"you cannot cite a subproof ("+k+") from within that subproof (you must close it, then cite it).";if("line"!==(p=c.type)&&"block"!==p)return"you cannot cite line "+k+" because it is a "+c.type.replace(/_/g," ")+".";if("line"===c.type&&!0!==c.status.sentenceParsed)return"you cannot cite line "+
k+" yet because it does not contain a correct awFOL sentence.";if("block"===c.type){e=c.getFirstLine();c=c.getLastLine();if("block"===c.type)return"you cannot cite "+k+" because it finishes with an unclosed (sub)subproof (you must close it, then cite it)";if(null==e||null==c||!e.status.sentenceParsed||!c.status.sentenceParsed)return"you cannot cite subproof "+k+" yet because it contains lines that are not correct sentence of awFOL."}}return!0};b._linesCitedAreOk=q;z=function(b,e){var c,a,h,k;c=b.justification.rule.connective;
a=b.justification.rule.variant.intronation;k=b.justification.rule.variant.side;h=F[c];if(!h)return b.status.addMessage(("the rule you specified, `"+c+" "+(a||"")+" "+(k||"")+"` does not exist (or, if it does, you are not allowed to use it in this proof).").replace(/\s\s+/g,"")),b.status.verified=!1;if(!a){if("rule"===h.type)return B(h,b,e);b.status.addMessage("you only partially specified the rule: `"+c+"` needs something extra (intro? elim?).");return b.status.verified=!1}h=h[a];if(!h)return b.status.addMessage("you specified the rule "+
c+" *"+a+"* but there is no \u2018"+a+"\u2019 version of the rule for "+c+" (or, if there is, you are not allowed to use it in this proof)."),b.status.verified=!1;if(!k){if("rule"===h.type)return B(h,b,e);if(null!=h.left&&(e=B(h.left,b,e),!0===e)||null==h.right)return e;c=b.status.popMessage();e=B(h.right,b,e);!1===e&&(h=b.status.popMessage(),null!=c&&null!=h?b.status.addMessage("Either "+c+", or else "+h+"."):b.status.addMessage(c||h||""));return e}return null==h[k]?(b.status.addMessage("you specified the rule "+
c+" "+a+" *"+k+"* but there is no \u2018"+k+"\u2019 version of  "+c+" "+a+" (or, if there is, you are not allowed to use it in this proof)."),b.status.verified=!1):B(h[k],b,e)};B=function(b,e,c){return!0===b.check(e)?e.status.verified=!0:e.status.verified=!1}},{"./add_justification":11,"./add_line_numbers":12,"./add_sentences":13,"./add_status":14,"./block_parser":16,"./fitch_rules":17,lodash:8}],16:[function(f,x,b){var v,q,A,e,E,w,u,r,z,B,F,y,n,m,t=[].indexOf||function(c){for(var a=0,b=this.length;a<
b;a++)if(a in this&&this[a]===c)return a;return-1};q=f("lodash");m=f("../util");b.parse=function(c){var a,b,e,f,n,p,m,y;q.isString(c)&&(c=c.split("\n"));if(0===c.length)return new v("");u(c);c=r(c);a=c[0];y=0<=t.call(a.indentation,"|");for(b=m=new v(a.indentation);0<c.length;)if(f=c.shift(),"line"===f.type||y&&"blank_line"===f.type){for(f.indentation.length>b.indentation.length&&(b=b.newBlock(f.indentation));b&&f.indentation.length<b.indentation.length;)b=b.close();if(!b||f.indentation.length!==b.indentation.length)throw Error("Bad indentation at line "+
f.idx+" ("+f.originalText+"). (It is indented to a level to which no earlier line is indented.)");b.newLine(f)}else if("divider"===f.type)b.newLine(f);else if("blank_line"===f.type&&!y){for(a=[f];0<c.length&&"blank_line"===c[0].type;)a.push(c.shift());if(b===m)for(e=0,n=a.length;e<n;e++)f=a[e],b.newLine(f);else if(e=c[0].indentation,e.length===b.indentation.length){e=b;p=b.close();b=0;for(n=a.length;b<n;b++)f=a[b],p.newLine(f);b=p.newBlock(e.indentation)}else if(e.length>b.indentation.length){p=0;
for(n=a.length;p<n;p++)f=a[p],b.newLine(f);b=b.newBlock(e)}else{for(;b&&e.length<b.indentation.length;)b=b.close();if(!b||e.length!==b.indentation.length)throw Error("Bad indentation at line "+f.idx+" ("+f.originalText+"). (It is indented to a level to which no earlier line is indented.)");n=0;for(e=a.length;n<e;n++)f=a[n],b.newLine(f)}}for(;b!==m;)b=b.close();return b};u=function(c){};r=function(c){var a,b,e,f,m,p,y,q,r;f=w(c);q=[];e=m=0;for(p=c.length;m<p;e=++m)y=c[e],a=n(y,f),b=a.indentation,a=
a.content,r="line",z(a)&&(r="blank_line"),B(a)&&(r="divider"),q.push({indentation:b,content:a,idx:e+1,type:r,originalText:y});c=!1;e=[];m=0;for(f=q.length;m<f;m++)b=q[m],e.push(b.indentation);f=0;for(m=e.length;f<m;f++)if(b=e[f],0<=t.call(b,"|")){c=!0;break}if(c)for(e=0,c=q.length;e<c;e++)b=q[e],b.indentation=b.indentation.replace(/\s+/g,"");return q};A=/^([|\s]+)/;w=function(c){var a,b,e,f,n;if(!c||0===c.length)return!0;b=null!=(e=c[0].match(A))?e[1]:void 0;e=0;for(f=c.length;e<f;e++)if(a=c[e],""!==
a.replace(/[|-\s]/g,"")&&(n=a.match(A),a=null!=n?n[1]:void 0,null!==n&&a!==b))return!0;return!1};b.areLinesFormattedIndentationFirst=w;e=/^([|\s]*)([\s\S]*)/;E=/^([|\s]*)(\(?[0-9]+[^|\s]*)?([|\s]*)([\s\S]*)/;n=function(c,a){var b,f,n,m;if(a)return b=c.match(e),{indentation:b[1],content:b[2]};b=c.match(E);m=b[1]||"";f=b[2];n=b[3]||"";b=b[4]||"";return f?{indentation:n,content:f+" "+b}:{indentation:m,content:""+b}};b.split=n;y=function(c){return c.replace(/[0-9]\S*/,"")};F=function(c){return c.replace(/\|/g,
"")};B=function(c){c=y(c);c=F(c);return null!==c.match(/^\s*(--)/)?!0:!1};b._isDivider=B;z=function(c){c=y(c);c=F(c);return""===c.trim()};b._isBlank=z;v=function(){function c(a,c,b){this.indentation=a;this.parent=c;this.prev=b;this.type="block";this.content=[];this._depth=null==this.parent?1:this.parent._depth+1}c.prototype.getFirstLine=function(){return 0<this.content.length?this.content[0]:null};c.prototype.getLastLine=function(){return 0<this.content.length?q.last(this.content):null};c.prototype.newLine=
function(a){a.parent=this;a.prev=this.getLastLine();a.lineNumberInSource=a.idx;a.findAbove=function(a){var c;for(c=this.prev||this.parent;null!=c&&null!=c.parent;){if(a(c))return c;c=null==c.prev&&null!=c.parent?c.parent:c.prev}return!1};this.content.push(a);return a};c.prototype.newBlock=function(a){a=new c(a,this,this.getLastLine());this.content.push(a);return a};c.prototype.close=function(){return this.parent};c.prototype.walk=function(a){var c,b,e,f,n;n=a.visit(this);if(null!=n)return n;f=this.content;
b=0;for(e=f.length;b<e;b++){c=f[b];n=a.visit(c);if(null!=n)return n;"block"===c.type&&(n=c.walk(a));if(null!=n)return n}};c.prototype.getLine=function(a){var c;c=this.walk({onLine:0,visit:function(c){if("block"!==c.type&&(this.onLine+=1,this.onLine===a))return c}});if(null==c)throw Error("Could not get line number "+a);return c};c.prototype.toString=function(){return JSON.stringify(this,function(a,c){return!c||"prev"!==a&&"parent"!==a?"sentence"===a?m.expressionToString(c):q.isFunction(c)?void 0:
c:"[circular reference to "+(null!=c?c.type:void 0)+", depth "+(null!=c?c._depth:void 0)+"]"},4)};return c}();b.Block=v},{"../util":23,lodash:8}],17:[function(f,x,b){f=f("./rule");f={_description:"Rules of proof for classical first-order logic.  The rules assume that\nthere is no possible situation with an empty domain.",premise:f.premise(),reit:f.from("\u03c6").to("\u03c6"),and:{elim:{left:f.from("\u03c6 and \u03c8").to("\u03c6"),right:f.from("\u03c6 and \u03c8").to("\u03c8")},intro:f.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},
or:{elim:f.from("\u03c6 or \u03c8").and(f.subproof("\u03c6","\u03c7")).and(f.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:f.from("\u03c6").to("\u03c6 or \u03c8"),right:f.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:f.from("not not \u03c6").to("\u03c6"),intro:f.from(f.subproof("\u03c6","contradiction")).to("not \u03c6")},contradiction:{elim:f.from("contradiction").to("\u03c6"),intro:f.from("not \u03c6").and("\u03c6").to("contradiction")},arrow:{elim:f.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),
intro:f.from(f.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:f.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:f.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:f.from(f.subproof("\u03c6","\u03c8")).and(f.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},identity:{intro:f.to("\u03b1=\u03b1"),elim:{left:f.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:f.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},
existential:{elim:f.from("exists \u03c4 \u03c6").and(f.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:f.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:f.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:{left:f.from(f.subproof("[\u03b1]","\u03c6[\u03c4--\x3e\u03b1]")).to("all \u03c4 \u03c6"),right:f.from(f.subproof("[\u03b1]\u03c6","\u03c8")).to("all \u03c4 (\u03c6 arrow \u03c8)[\u03b1--\x3e\u03c4]")}}};
b.rules=f},{"./rule":20}],18:[function(f,x,b){(function(v){var q=function(){function b(){this.yy={}}var e=function(a,c,b,e){b=b||{};for(e=a.length;e--;b[a[e]]=c);return b},f=[1,5],q=[1,10],u=[1,11],r=[1,12],v=[1,13],x=[1,9],F=[1,14],y=[1,15],n=[5,18],m=[5,8,14,15,16,17,19,20],t=[5,8,16,17,18],c=[5,8,14,15,18],e={trace:function(){},yy:{},symbols_:{error:2,justification:3,j:4,EOF:5,rule_name:6,numberlist:7,connective:8,intronation:9,rule_name_option0:10,rule_name_option1:11,side:12,rule_name_group0:13,
elim:14,intro:15,left:16,right:17,number:18,reit:19,premise:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"connective",14:"elim",15:"intro",16:"left",17:"right",18:"number",19:"reit",20:"premise"},productions_:[0,[3,2],[4,1],[4,2],[4,2],[6,3],[6,3],[6,3],[6,3],[6,3],[6,3],[6,1],[9,1],[9,1],[12,1],[12,1],[7,1],[7,2],[10,0],[10,1],[11,0],[11,1],[13,1],[13,1]],performAction:function(a,c,b,e,f,n,m){a=n.length-1;switch(f){case 1:return n[a-1];case 2:this.$={type:"justification",rule:n[a],location:m[a]};
break;case 3:this.$={type:"justification",rule:n[a-1],location:m[a-1],numbers:n[a]};break;case 4:this.$={type:"justification",rule:n[a],location:m[a],numbers:n[a-1]};break;case 5:this.$={type:"rule",connective:n[a-2],variant:{type:"variant",intronation:n[a-1],side:n[a]}};break;case 6:this.$={type:"rule",connective:n[a-1],variant:{type:"variant",intronation:n[a-2],side:n[a]}};break;case 7:this.$={type:"rule",connective:n[a-1],variant:{type:"variant",intronation:n[a],side:n[a-2]}};break;case 8:this.$=
{type:"rule",connective:n[a-2],variant:{type:"variant",intronation:n[a],side:n[a-1]}};break;case 9:this.$={type:"rule",connective:n[a],variant:{type:"variant",intronation:n[a-1],side:n[a-2]}};break;case 10:this.$={type:"rule",connective:n[a],variant:{type:"variant",intronation:n[a-2],side:n[a-1]}};break;case 11:this.$={type:"rule",connective:n[a],variant:{type:"variant",intronation:null,side:null}};break;case 12:this.$="elim";break;case 13:this.$="intro";break;case 14:this.$="left";break;case 15:this.$=
"right";break;case 16:this.$=[n[a]];break;case 17:this.$=[n[a-1]].concat(n[a])}},table:[{3:1,4:2,6:3,7:4,8:f,9:6,12:7,13:8,14:q,15:u,16:r,17:v,18:x,19:F,20:y},{1:[3]},{5:[1,16]},{5:[2,2],7:17,18:x},{6:18,8:f,9:6,12:7,13:8,14:q,15:u,16:r,17:v,19:F,20:y},{9:19,12:20,14:q,15:u,16:r,17:v},{8:[1,21],12:22,16:r,17:v},{8:[1,23],9:24,14:q,15:u},e(n,[2,11]),e(m,[2,16],{7:25,18:x}),e(t,[2,12]),e(t,[2,13]),e(c,[2,14]),e(c,[2,15]),e(n,[2,22]),e(n,[2,23]),{1:[2,1]},{5:[2,3]},{5:[2,4]},e(n,[2,18],{10:26,12:27,
16:r,17:v}),{9:28,14:q,15:u},e(n,[2,20],{11:29,12:30,16:r,17:v}),{8:[1,31]},{9:32,14:q,15:u},{8:[1,33]},e(m,[2,17]),e(n,[2,5]),e(n,[2,19]),e(n,[2,8]),e(n,[2,6]),e(n,[2,21]),e(n,[2,10]),e(n,[2,7]),e(n,[2,9])],defaultActions:{16:[2,1],17:[2,3],18:[2,4]},parseError:function(a,c){if(c.recoverable)this.trace(a);else{var b=function(a,c){this.message=a;this.hash=c};b.prototype=Error;throw new b(a,c);}},parse:function(a){var c=[0],b=[null],e=[],f=this.table,n="",m=0,t=0,y=0,q=e.slice.call(arguments,1),r=
Object.create(this.lexer),u={},v;for(v in this.yy)Object.prototype.hasOwnProperty.call(this.yy,v)&&(u[v]=this.yy[v]);r.setInput(a,u);u.lexer=r;u.parser=this;"undefined"==typeof r.yylloc&&(r.yylloc={});v=r.yylloc;e.push(v);var x=r.options&&r.options.ranges;this.parseError="function"===typeof u.parseError?u.parseError:Object.getPrototypeOf(this).parseError;for(var w,z,B,A,F={},E,V;;){B=c[c.length-1];if(this.defaultActions[B])A=this.defaultActions[B];else{if(null===w||"undefined"==typeof w)w=void 0,
w=r.lex()||1,"number"!==typeof w&&(w=this.symbols_[w]||w);A=f[B]&&f[B][w]}if("undefined"===typeof A||!A.length||!A[0]){var ob="";V=[];for(E in f[B])this.terminals_[E]&&2<E&&V.push("'"+this.terminals_[E]+"'");ob=r.showPosition?"Parse error on line "+(m+1)+":\n"+r.showPosition()+"\nExpecting "+V.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==w?"end of input":"'"+(this.terminals_[w]||w)+"'");this.parseError(ob,{text:r.match,token:this.terminals_[w]||
w,line:r.yylineno,loc:v,expected:V})}if(A[0]instanceof Array&&1<A.length)throw Error("Parse Error: multiple actions possible at state: "+B+", token: "+w);switch(A[0]){case 1:c.push(w);b.push(r.yytext);e.push(r.yylloc);c.push(A[1]);w=null;z?(w=z,z=null):(t=r.yyleng,n=r.yytext,m=r.yylineno,v=r.yylloc,0<y&&y--);break;case 2:V=this.productions_[A[1]][1];F.$=b[b.length-V];F._$={first_line:e[e.length-(V||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(V||1)].first_column,last_column:e[e.length-
1].last_column};x&&(F._$.range=[e[e.length-(V||1)].range[0],e[e.length-1].range[1]]);B=this.performAction.apply(F,[n,t,m,u,A[1],b,e].concat(q));if("undefined"!==typeof B)return B;V&&(c=c.slice(0,-2*V),b=b.slice(0,-1*V),e=e.slice(0,-1*V));c.push(this.productions_[A[1]][0]);b.push(F.$);e.push(F._$);A=f[c[c.length-2]][c[c.length-1]];c.push(A);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,c){if(this.yy.parser)this.yy.parser.parseError(a,c);else throw Error(a);},setInput:function(a,
c){this.yy=c||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):
this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var c=a.length,b=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-c);this.offset-=c;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,
last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===a.length?this.yylloc.first_column:0)+a[a.length-b.length].length-b[0].length:this.yylloc.first_column-c};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-c]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),c=Array(a.length+1).join("-");
return a+this.upcomingInput()+"\n"+c+"^"},test_match:function(a,c){var b,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&
(e.yylloc.range=this.yylloc.range.slice(0)));if(b=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=
this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];b=this.performAction.call(this,this.yy,this,c,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var f in e)this[f]=e[f];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,c,b;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),f=0;f<e.length;f++)if((c=this._input.match(this.rules[e[f]]))&&(!a||
c[0].length>a[0].length))if(a=c,b=f,this.options.backtrack_lexer){a=this.test_match(c,e[f]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[b]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{flex:!0,"case-insensitive":!0},performAction:function(a,c,b,e){switch(b){case 0:return c.yytext=a.lexer.matches[1],18;case 1:return c.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],18;case 2:return c.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],18;case 3:return c.yytext=a.lexer.matches[1],18;case 4:return 14;case 5:return 15;case 6:return c.yytext="contradiction",8;case 7:return c.yytext="or",8;case 8:return c.yytext="identity",8;case 9:return c.yytext="and",8;case 10:return c.yytext=
"double_arrow",8;case 11:return c.yytext="arrow",8;case 12:return c.yytext="not",8;case 13:return c.yytext="reit",19;case 14:return c.yytext="premise",20;case 15:return c.yytext="universal",8;case 16:return c.yytext="existential",8;case 17:return 16;case 18:return 17;case 20:return 5;case 23:console.log(c.yytext)}},rules:[/^(?:([0-9][^,\s]*)(\s+and\s+)(?=[0-9]))/i,/^(?:([0-9][^,\s]*)\s+to\s+([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*?)\s*(?:-+)\s*([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*)(?:(\s*,)*))/i,/^(?:elimination|eliminate|elim)/i,
/^(?:introduction|introduce|intro)/i,/^(?:\u22a5|_\|_|contradiction|contra|false)/i,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/i,/^(?:=|identity)/i,/^(?:and|conjunction|\u2227|\u2022)/i,/^(?:double_arrow|\u2194|\u2261|\u21d4|<->)/i,/^(?:arrow|->|\u21d2|\u2192|\u2283)/i,/^(?:not|\u00ac|\u02dc|!|negation)/i,/^(?:reit|reiteration)/i,/^(?:premise|assumption)/i,/^(?:all|\u2200|every|universal)/i,/^(?:some|exists|\u2203|existential)/i,/^(?:left)/i,/^(?:right)/i,/^(?:[\s,]+)/i,/^(?:$)/i,/^(?:\w+)/i,/^(?:.)/i,/^(?:.)/i],
conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],inclusive:!0}}}}();e.lexer=f;b.prototype=e;e.Parser=b;return new b}();"undefined"!==typeof f&&"undefined"!==typeof b&&(b.parser=q,b.Parser=q.Parser,b.parse=function(){return q.parse.apply(q,arguments)},b.main=function(q){q[1]||(console.log("Usage: "+q[0]+" FILE"),v.exit(1));q=f("fs").readFileSync(f("path").normalize(q[1]),"utf8");return b.parser.parse(q)},"undefined"!==typeof x&&f.main===x&&b.main(v.argv.slice(1)))}).call(this,
f("_process"))},{_process:3,fs:1,path:2}],19:[function(f,x,b){var v,q,A,e,E,w;w=f("./block_parser");q=f("./add_line_numbers");v=f("./add_justification");A=f("./add_sentences");e=f("./add_status");E=f("./add_verification");b.parse=function(b){var f,x;try{f=w.parse(b),q.to(f),v.to(f),A.to(f),e.to(f),E.to(f)}catch(B){return B.message}x=f;x.listErrorMessages=function(){var b;b=[];x.walk({visit:function(e){var f;if("line"===(null!=e?e.type:void 0)&&!1===e.status.verified)return f=e.number,e=e.status.getMessage(),
b.push(f+": "+e)}});return b.join("\n")};return x}},{"./add_justification":11,"./add_line_numbers":12,"./add_sentences":13,"./add_status":14,"./add_verification":15,"./block_parser":16}],20:[function(f,x,b){var v,q,A,e,E,w,u,r,z,B,F=[].indexOf||function(b){for(var e=0,f=this.length;e<f;e++)if(e in this&&this[e]===b)return e;return-1};e=f("lodash");f("../util");r=f("../fol");E=function(){function b(e){e=w(e);this._requirements={from:(e?[e]:void 0)||[],to:void 0}}b.prototype.type="rule";b.prototype.and=
function(b){b=w(b);this._requirements.from.push(b);return this};b.prototype.to=function(b){if(this._requirements.to)throw Error("You cannot specify `.to` more than once in a single rule.");b=w(b);this._requirements.to=b;return this};b.prototype.check=function(b){return(new v(b,this._requirements)).check()};return b}();z=function(b){return new E(b)};b.from=z;b.to=function(b){return z().to(b)};b.subproof=function(b,f){b=w(b);f=w(f);return{type:"subproof",startReq:b,endReq:f,listMetaVariableNames:function(){var b;
b=this.startReq.listMetaVariableNames();return b=e.defaults(b,this.endReq.listMetaVariableNames())},toString:function(){return b.toString()+" \u22a2 "+f.toString()}}};b.premise=function(){var b,e;e=z();b=e.check.bind(e);e.check=function(e){var f;f=b(e);return!0!==f?f:e.prev?null!=e.parent.parent?(e.status.addMessage("only the first line of a subproof may be a premise."),!1):e.findAbove(function(c){var a,b;if("line"===c.type){if(b="premise"===(null!=(a=c.justification)?a.rule.connective:void 0))return!1;
if(!b)return!0}return"block"===c.type?!0:!1})?(e.status.addMessage("premises may not occur after non-premises."),!1):!0:!0};return e};b._notImplementedYet=function(b){throw Error("the rule `"+b.justification.rule.connective+"` (or some part of it) is not implemented yet!");};w=function(b){if(!b||"subproof"===b.type)return b;e.isString(b)&&(b=r.parse(b));r._decorate(b);return b};u=function(b){var f,m,t,c,a,h,k,q;if(0===b.length)return[[]];q=[];m=c=0;for(a=b.length-1;0<=a?c<=a:c>=a;m=0<=a?++c:--c)for(f=
e.clone(b),m=f.splice(m,1),k=u(f),t=f=0,h=k.length-1;0<=h?f<=h:f>=h;t=0<=h?++f:--f)t=m.concat(k[t]),q.push(t);return q};b._permutations=u;v=function(){function b(e,f){this.line=e;this.requirements=f;this.citedLines=this.line.getCitedLines();this.citedBlocks=this.line.getCitedBlocks();this.ruleName=this.line.getRuleName();this.matches=null}b.prototype.check=function(){var b,e,f,c,a;if(!this.citedTypesAreCorrect())return this;a=[];this.requirements.to&&a.push(new A(this.requirements.to,[this.line]));
c=this.requirements.from;e=0;for(f=c.length;e<f;e++)b=c[e],null!=(null!=b?b.type:void 0)&&"subproof"===b.type?a.push(new A(b,this.citedBlocks)):a.push(new A(b,this.citedLines));a.reverse();b=u(a);for(e=!1;!e&&0<b.length;)e=b.shift(),e=new q(e,this.line),e=e.find();return e?!0:this};b.prototype.citedTypesAreCorrect=function(){var b,e,f,c,a;f=this.whatToCite();b=this.citedLines.length;e=this.citedBlocks.length;if(f.lines===b&&f.subproofs===e)return!0;a=B(f.lines,"line");c=B(f.subproofs,"subproof");
f=(a&&c?"and ":void 0)||(a||c?void 0:"nothing")||"";b=B(b,"line");e=B(e,"subproof");this.line.status.addMessage(("you must cite "+a+" "+f+c+" when using the rule "+this.ruleName+" (you cited "+b+" "+((b&&e?"and ":void 0)||(b||e?void 0:"nothing")||"")+e+").").replace(/\s\s+/g," "));return!1};b.prototype.whatToCite=function(){var b,e,f,c,a;a={lines:0,subproofs:0};c=this.requirements.from;b=0;for(e=c.length;b<e;b++)f=c[b],"subproof"===f.type?a.subproofs+=1:a.lines+=1;return a};return b}();A=function(){function b(e,
f,t){this.theRequirement=e;this.candidateLinesOrSubproofs=f;this.matches=null!=t?t:{};this.saveMatches(this.matches);this.metaVariableNames=this.theRequirement.listMetaVariableNames()}b.prototype.setMatches=function(b){this.matches=b;return this.saveMatches(this.matches)};b.prototype._matchesStack=[];b.prototype.saveMatches=function(){var b;b=e.cloneDeep(this.matches);this._matchesStack.push(b);this.matches=b};b.prototype.restoreMatches=function(){var b;this._matchesStack.pop();b=this._matchesStack;
this.matches=b[b.length-1]};b.prototype.tempRemovedCandidates={};b.prototype.temporarilyRemoveCandidate=function(b){var e,f;e=function(){var c,a,e,k;e=this.candidateLinesOrSubproofs;k=[];c=0;for(a=e.length;c<a;c++)f=e[c],f.number===b&&k.push(f);return k}.call(this);if(1===e.length)return this.tempRemovedCandidates[b]=e[0],this.candidateLinesOrSubproofs=function(){var c,a,e,k;e=this.candidateLinesOrSubproofs;k=[];c=0;for(a=e.length;c<a;c++)f=e[c],f.number!==b&&k.push(f);return k}.call(this)};b.prototype.restoreCandidate=
function(b){if(b in this.tempRemovedCandidates)return this.candidateLinesOrSubproofs.push(this.tempRemovedCandidates[b]),delete this.tempRemovedCandidates[b]};b.prototype.canCheckAlready=function(){var b,e,f,c;f=this.metaVariableNames.inSub.left;b=0;for(e=f.length;b<e;b++)if(c=f[b],!(c in this.matches))return!1;return!0};b.prototype.check=function(){var b,e,f,c,a,h;h=!1;a=this.candidateLinesOrSubproofs;e=0;for(f=a.length;e<f;e++)b=a[e],c=this._checkOne(b),!1!==c&&(h=h||{},h[b.number]=c);return h};
b.prototype._checkOne=function(b){var e;if(null!=this.theRequirement.type&&"subproof"===this.theRequirement.type){if("block"!==b.type)return!1;e=this._checkOneLine(this.theRequirement.startReq,b.getFirstLine(),this.matches);return!1===e?!1:b=this._checkOneLine(this.theRequirement.endReq,b.getLastLine(),e)}return"block"===b.type?!1:e=this._checkOneLine(this.theRequirement,b,this.matches)};b.prototype._checkOneLine=function(b,e,f){var c,a;b=b.clone().applyMatches(f);if(null===b.applySubstitutions())return!1;
c=e.sentence;if(null==c)return!1;null==b.box&&null!=c.box&&(c=c.clone(),delete c.box);f=c.findMatches(b,f);if(!1===f)return f;if(null!=b.box||"box"===b.type)b=("box"===b.type?b:void 0)||(null!=b.box?b.box:void 0),b=b.applyMatches(f).applySubstitutions(),a=b.term.name,b=function(c){return"line"!==c.type?!1:0<=F.call(c.sentence.getNames(),a)?!0:!1},(e=e.findAbove(b))&&(f=!1);return f};return b}();q=function(){function b(e,f,q){this.line=f;this.matches=null!=q?q:{};var c,a;a=[];q=0;for(c=e.length;q<
c;q++)f=e[q],a.push(f);this.reqCheckList=a;this.line.status.clearMessages()}b.prototype.find=function(){var e,f,q,c,a,h,k;if(0===this.reqCheckList.length)return!0;a=this.reqCheckList.pop();a.setMatches(this.matches);for(h=0;!a.canCheckAlready()&&h<this.reqCheckList.length+1;)this.reqCheckList.unshift(a),a=this.reqCheckList.pop(),a.setMatches(this.matches),h+=1;if(h===this.reqCheckList.length+1)throw Error("Rule problem!  I can\u2019t start checking any of the conditions in the rule.");h=a.check();
if(!1===h)return this.writeMessage(a),!1;for(c in h){e=h[c];k=this.reqCheckList;f=0;for(q=k.length;f<q;f++)a=k[f],a.temporarilyRemoveCandidate(c);a=new b(this.reqCheckList,this.line,e);k=a.find();q=this.reqCheckList;f=0;for(e=q.length;f<e;f++)a=q[f],a.restoreCandidate(c);if(!0===k)return!0}return!1};b.prototype.writeMessage=function(b){var e;if(this.line.number===(null!=(e=b.candidateLinesOrSubproofs[0])?e.number:void 0))return this.line.status.addMessage("You can only use "+this.line.getRuleName()+
" on a line with the form \u2018"+b.theRequirement.toString({replaceSymbols:!0})+"\u2019.");e=b.theRequirement.type;"subproof"!==e&&(e="line");return this.line.status.addMessage("to apply "+this.line.getRuleName()+" you need to cite a "+e+" with the form \u2018"+b.theRequirement.toString({replaceSymbols:!0})+"\u2019.")};return b}();B=function(b,e){if(0===b)return"";if(1===b)return"1 "+e;if(1<b)return b+" "+e+"s"};b.RequirementChecker=A;b.Pathfinder=q;b.LineChecker=v},{"../fol":6,"../util":23,lodash:8}],
21:[function(f,x,b){var v,q,A,e,E,w,u,r,z;v=f("lodash");z=f("./util");x=f("./parser/awFOL");E=f("./match");q={replace_arrow:{from:"\u03c6 arrow \u03c8",to:"(not \u03c6) or \u03c8"},replace_double_arrow:{from:"\u03c6 \u2194 \u03c8",to:"(\u03c6 or (not \u03c8)) and ((not \u03c6) or \u03c8)"},demorgan1:{from:"not (\u03c6 and \u03c8)",to:"((not \u03c6) or (not \u03c8))"},demorgan2:{from:"not (\u03c6 or \u03c8)",to:"((not \u03c6) and (not \u03c8))"},dbl_neg:{from:"not not \u03c6",to:"\u03c6"},not_all:{from:"not ((all \u03c4) \u03c6)",
to:"(exists \u03c4) (not \u03c6)"},not_exists:{from:"not ((exists \u03c4) \u03c6)",to:"(all \u03c4) (not \u03c6)"},cnf_left:{from:"\u03c61 or (\u03c62 and \u03c63)",to:"(\u03c61 or \u03c62) and (\u03c61 or \u03c63)"},cnf_right:{from:"(\u03c62 and \u03c63) or \u03c61",to:"(\u03c62 or \u03c61) and (\u03c63 or \u03c61)"},all_and_left:{from:"\u03c6 and ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 and \u03c8)"},all_and_right:{from:"((all \u03c4) \u03c8) and \u03c6",to:"(all \u03c4) (\u03c8 and \u03c6)"},
all_or_left:{from:"\u03c6 or ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 or \u03c8)"},all_or_right:{from:"((all \u03c4) \u03c8) or \u03c6",to:"(all \u03c4) (\u03c8 or \u03c6)"},exists_and_left:{from:"\u03c6 and ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 and \u03c8)"},exists_and_right:{from:"((exists \u03c4) \u03c8) and \u03c6",to:"(exists \u03c4) (\u03c8 and \u03c6)"},exists_or_left:{from:"\u03c6 or ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 or \u03c8)"},exists_or_right:{from:"((exists \u03c4) \u03c8) or \u03c6",
to:"(exists \u03c4) (\u03c8 or \u03c6)"}};u={};for(e in q)r=q[e],f=x.parse(r.from),z.delExtraneousProperties(f),r=x.parse(r.to),z.delExtraneousProperties(r),f={from:f,to:r},u[e]=f;b.subsForPNF=u;q={identity:{from:"\u03c4=\u03c4",to:"true"},not_true:{from:"not true",to:"false"},not_false:{from:"not false",to:"true"},or_duplicate:{from:"\u03c6 or \u03c6",to:"\u03c6"},or_duplicate_left:{from:"\u03c6 or (\u03c6 or \u03c8)",to:"\u03c6 or \u03c8"},or_duplicate_right:{from:"(\u03c8 or \u03c6) or \u03c6",
to:"\u03c8 or \u03c6"},and_duplicate:{from:"\u03c6 and \u03c6",to:"\u03c6"},and_duplicate_left:{from:"\u03c6 and (\u03c6 and \u03c8)",to:"\u03c6 and \u03c8"},and_duplicate_right:{from:"(\u03c8 and \u03c6) and \u03c6",to:"\u03c8 and \u03c6"},false_or:{from:"false or \u03c6",to:"\u03c6"},true_or:{from:"true or \u03c6",to:"true"},false_and:{from:"false and \u03c6",to:"false"},true_and:{from:"true and \u03c6",to:"\u03c6"},contradiction_and:{from:"\u03c6 and not \u03c6",to:"false"},contradiction_and_left:{from:"\u03c6 and (not \u03c6 and \u03c8)",
to:"false"},contradiction_and_right:{from:"(\u03c8 and \u03c6) and not \u03c6",to:"false"},taut_or:{from:"\u03c6 or not \u03c6",to:"true"},taut_and_left:{from:"\u03c6 or (not \u03c6 or \u03c8)",to:"true"},taut_and_right:{from:"(\u03c8 or \u03c6) or not \u03c6",to:"true"}};u={};for(e in q)r=q[e],f=x.parse(r.from),z.delExtraneousProperties(f),r=x.parse(r.to),z.delExtraneousProperties(r),f={from:f,to:r},u[e]=f;b.subs_eliminate_redundancy=u;A=function(b,e){var f;return(f=E.findWithoutApplyingSubs(b,e.from))?
E.apply(e.to,f):b};b.doSub=A;b.doSubRecursive=function(b,e,f){null==f&&(f={});return z.walkMutate(b,function(b){return null===b||v.isArray(b)||null!=b.type&&"box"===b.type?b:A(b,e)})};w=function(b,e,f){var n,m,q;null==f&&(f={});n=e.from;m=e.to;q=function(c){if(null===c||v.isArray(c)||q._inSub)return c;if(z.areIdenticalExpressions(c,n)){if(null===m)throw Error("_internal: replace to null");return z.cloneExpression(m)}return c};b=f.noClone?b:z.cloneExpression(b);return z.walkMutate(b,q)};b.replace=
w;b.applySubstitutions=function(b){var e;e=function(b){var e,f,q,c;if(null==(null!=b?b.substitutions:void 0))return b;c=v.cloneDeep(b.substitutions);delete b.substitutions;e=0;for(f=c.length;e<f;e++)q=c[e],q={from:q.from,to:q.to},b=w(b,q);return b};b=v.cloneDeep(b);try{return z.walkMutate(b,e)}catch(f){b=f;if("_internal: replace to null"===b.message)return null;throw b;}}},{"./match":7,"./parser/awFOL":10,"./util":23,lodash:8}],22:[function(f,x,b){f("lodash");x.exports={"default":{not:"\u00ac","false":"\u22a5",
identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",existential_quantifier:"\u2203"},copi:{not:"~","false":"\u22a5",identity:"=",and:"\u2022",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"",existential_quantifier:"\u2203"}}},{lodash:8}],23:[function(f,x,b){var v,q,A,e,E,w,u,r,z,B,F,y,n,m,t={}.hasOwnProperty;q=f("lodash");m=function(b,a,e){var f;if(q.isArray(b)){var n,
r,p;p=[];n=0;for(r=b.length;n<r;n++)f=b[n],p.push(m(f,a,e));return p}if(null===b)return a(b);null!=(null!=e?e.topDown:void 0)&&e.topDown&&(f=a(b));a._trace&&console.log("walkMutate got "+util.expressionToString(b));null!=b.box&&(a._inBox=!0,b.box=m(b.box,a,e),a._inBox=void 0);null!=b.substitutions&&(null==a._inSubCount&&(a._inSubCount=0),a._inSubCount+=1,a._inSub=!0,b.substitutions=m(b.substitutions,a,e),--a._inSubCount,0===a._inSubCount&&(a._inSub=void 0));"substitution"===b.type&&(a._inSubLeft=
!0,b.from=m(b.from,a,e),a._inSubLeft=void 0,b.to=m(b.to,a,e));null!=b.boundVariable&&(a._inBoundVariable=!0,b.boundVariable=m(b.boundVariable,a,e),a._inBoundVariable=void 0);null!=b.termlist&&(b.termlist=m(b.termlist,a,e));null!=b.term&&(b.term=m(b.term,a,e));null!=b.left&&(b.left=m(b.left,a,e));null!=b.right&&(b.right=m(b.right,a,e));return null!=(null!=e?e.topDown:void 0)&&e.topDown?f:a(b)};b.walkMutate=m;y=function(b,a,e){var f;f=function(b){var c,e;for(c in f)t.call(f,c)&&(e=f[c],a[c]=e);a(b);
return b};return m(b,f,e)};b.walk=y;n=function(b,a,e,f){var m,r,p;if(e&&(f=e(b,a),void 0!==f))return f;if(null===b||null===a)return b===a;r=[q.isBoolean,q.isNumber,q.isString];f=0;for(m=r.length;f<m;f++)if(p=r[f],p(b)||p(a))return b===a;if(q.isArray(b)||q.isArray(a)){if(!q.isArray(b)||!q.isArray(a)||b.length!==a.length)return!1;m=r=0;for(p=b.length;r<p;m=++r)if(f=b[m],!n(f,a[m],e))return!1;return!0}p="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");
m=0;for(r=p.length;m<r;m++)if(f=p[m],(f in b||f in a)&&!(f in b&&f in a&&n(b[f],a[f],e)))return!1;return!0};b.walkCompare=n;E=function(b,a,e){return n(b,a,void 0,e)};b.areIdenticalExpressions=E;z=function(b,a){var e,f,m,n;e=a(b);if(void 0!==e)return e;if(null!==b){m=[q.isBoolean,q.isNumber,q.isString];e=0;for(f=m.length;e<f;e++)if(n=m[e],n(b))return;if(q.isArray(b))for(f=0,m=b.length;f<m;f++){if(e=b[f],e=z(e,a),void 0!==e)return e}else for(n="substitutions from to box term boundVariable termlist left right type name letter value".split(" "),
f=0,m=n.length;f<m;f++)if(e=n[f],e in b&&(e=z(b[e],a),void 0!==e))return e}};b.find=z;b.walkMutateFindOne=function(b,a,e){var f,n;f=void 0;n=function(b){var c,e;if(void 0!==f)return b;for(c in n)t.call(n,c)&&(e=n[c],a[c]=e);e=a(b)||{};c=e.newExpression;f=e.aResult;return void 0!==c?c:b};b=m(b,n,e);return{theResult:f,mutatedExpression:b}};A=function(b){var a,e,f,m;if(null===b)return b;m=["location","symbol","parent"];e=0;for(f=m.length;e<f;e++)a=m[e],a in b&&delete b[a];for(a in b)t.call(b,a)&&(e=
b[a],q.isFunction(e)&&delete b[a]);return b};b.delExtraneousProperties=function(b){return null==(null!=b?b.type:void 0)?b:y(b,A)};u=function(b){var a,e,f,m,n;if(null===b)return null;f=[q.isBoolean,q.isNumber,q.isString];a=0;for(e=f.length;a<e;a++)if(m=f[a],m(b))return b;if(q.isArray(b)){m=[];e=0;for(f=b.length;e<f;e++)a=b[e],m.push(u(a));return m}a={};n="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");f=0;for(m=n.length;f<m;f++)e=n[f],e in b&&(a[e]=
u(b[e]));return a};b.cloneExpression=u;v={not:"\u00ac","false":"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",existential_quantifier:"\u2203"};b.SYMBOLS=v;r=function(b,a){var e,f,n,r,p,t;null==a&&(a={});null==a.symbols&&(a.symbols=v);r=[q.isBoolean,q.isNumber,q.isString,q.isArray];e=0;for(f=r.length;e<f;e++)if(t=r[e],t(b))return""+b;p=0;e=a.replaceSymbols?u(b):q.cloneDeep(b);f=m(e,function(b){var c,e,f,h,
k,m,n,r;if(null===b)return"null";p+=1;m=[q.isBoolean,q.isNumber,q.isString];e=0;for(h=m.length;e<h;e++)if(t=m[e],t(b))return""+b;if(q.isArray(b))return b.join(",");if(null==(null!=b?b.type:void 0)&&void 0===b)return"[undefined]";if("variable"===(n=b.type)||"name"===n||"term_metavariable"===n)return b.substitutions?"{"+b.name+"["+b.substitutions+"]}":b.name;if("box"===b.type)return"["+b.term+"]";if("termlist"===b.type){f=[];r=0;for(k=b.length;r<k;r++)c=b[r],f.push(c.name);return f}if("substitution"===
b.type)return b.from+"--\x3e"+b.to;null!=b.box&&(c=b.box);b.substitutions&&(r="["+b.substitutions+"]");null!=b.termlist&&(e=b.name||b.symbol||a.symbols[b.type]||b.type,k=e+"("+b.termlist.join(",")+")");"identity"===b.type&&(e=b.symbol||"=",h=b.termlist,k=h[0],h=h[1],k=""+k+e+h);if("sentence_letter"===(f=b.type)||"expression_variable"===f)k=b.letter;"value"===b.type&&(k=""+((null!=b.symbol?b.symbol:void 0)||("false"===b.value||!1===b.value?a.symbols["false"]:void 0)||b.value));e=null!=b.right;h=f=
"";e&&(f="(",h=")");e=b.symbol||a.symbols[b.type]||"";a.wrapWithDivs&&(e="<span class='_symbolWrap' data-symbolNum='"+p+"'>"+e+"</span>");null!=b.boundVariable&&(k=b.boundVariable,k=""===a.symbols.universal_quantifier?"("+e+k+")"+f+b.left+(b.right||"")+h:""+e+k+" "+f+b.left+(b.right||"")+h);null!=b.left&&null==b.boundVariable&&(k=null==b.right?""+f+e+(b.left||"")+h:""+f+(b.left||"")+" "+e+" "+(b.right||"")+h);a.wrapWithDivs&&(k="<span class='_expressionWrap'>"+k+"</span>");return""+(c||"")+k+(r||
"")});e={remove_extra_whitespace:{from:/\s+/g,to:" "},remove_space_between_quantifiers:{from:/([\u2200\u2203].)\s+([\u2200\u2203].)/,to:"$1$2"},remove_space_between_quantifier_and_brackets:{from:/([\u2200\u2203].)\s+(\()/,to:"$1$2"},remove_outer_brackets:{from:/(^\s*\()([\s\S]*)(\)\s*$)/,to:"$2"}};if(""!==a.symbols.universal_quantifier)for(n in e)r=e[n],f=f.replace(r.from,r.to);return f.trim()};b.expressionToString=r;b.matchesToString=function(b){var a,e,f;if(!1===b)return"false";if(!b)return"[no]";
a="";for(e in b)t.call(b,e)&&(f=b[e],null!=(null!=f?f.type:void 0)&&(a=a+"\n\t"+e+" : "+r(f)));return a};b.exhaust=function(b,a,e){var f;null==e&&(e=E);for(f=null;!e(f,b);)f=b,b=a(u(f));return b};b.listOfAtomicExpressionsComparator=function(b,a){var e,f,m,n;if(b.length<a.length)return-1;if(b.length>a.length)return 1;f=e=0;for(n=b.length;e<n;f=++e)if(m=b[f],f=w(m,a[f]),0!==f)return f;return 0};w=function(b,a){var f,k;f=e(b.type,a.type);if(0!==f)return f;if("not"===b.type&&"not"!==a.type)return f=w(b.left,
a),0===f?1:f;if("not"!==b.type&&"not"===a.type)return f=w(b,a.left),0===f?-1:f;if("not"===b.type&&"not"===a.type)return w(b.left,a.left);if(null!=b.value)return b.value<a.value?-1:b.value>a.value?1:0;if(null!=b.letter)return b.letter<a.letter?-1:b.letter>a.letter?1:0;if(null!=b.name)return b.name<a.name?-1:b.name>a.name?1:0;if(null!=b.termlist)return f=B(b.termlist[0],b.termlist[1],F),k=B(a.termlist[0],a.termlist[1],F),F(f,k);throw Error("Could not do a comparison for "+JSON.stringify(b,null,4));
};b.atomicExpressionComparator=w;B=function(b,a,e){return 0<e(b,a)?a:b};F=function(b,a){var f;f=e(b.type,a.type);return 0!==f?f:b.name<a.name?-1:b.name>a.name?1:0};b.termComparator=F;e=function(b,a){var e;if("not"===b||"not"===a)return 0;e={value:5,sentence_letter:10,predicate:20,identity:30,name:50,variable:60};return e[b]<e[a]?-1:e[b]>e[a]?1:0};b.listTerms=function(b){var a;a=[];y(b,function(b){var c;if("variable"===(c=b.type)||"name"===c||"term_metavariable"===c)return a.push(b)});return a};b.listMetaVariableNames=
function(b){var a,e;a={inExpression:[],inBox:[],inSub:{left:[],right:[]}};e=function(b){var c;if(null==(null!=b?b.type:void 0)||"term_metavariable"!==b.type&&"expression_variable"!==b.type)return b;c=(null!=(null!=b?b.letter:void 0)?b.letter:void 0)||b.name;null!=e._inSub?null!=e._inSubLeft?a.inSub.left.push(c):a.inSub.right.push(c):null!=e._inBox?a.inBox.push(c):a.inExpression.push(c);return b};y(b,e);return a};b.expressionTypes="existential_quantifier universal_quantifier and or nand nor arrow double_arrow not value predicate identity expression_variable sentence_letter".split(" ");
b.termTypes=["name","variable","term_metavariable"];b.atomicSentenceTypes=["sentence_letter","expression_variable","identity","predicate"];b.expressionContainsSubstitutions=function(b){return!0===z(b,function(a){if(null!=(null!=a?a.substitutions:void 0))return!0})?!0:!1};b.expressionHasSub=function(b,a){var e,f,m,n;if(null==(null!=b?b.substitutions:void 0))return!1;n=b.substitutions;f=0;for(m=n.length;f<m;f++)if(e=n[f],E(e.from,a.from)&&E(e.to,a.to))return!0;return!1}},{lodash:8}]},{},[4]);
