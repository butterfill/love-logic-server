/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>

 lodash 4.5.1 (Custom Build) <https://lodash.com/>
 Build: `lodash -d -o ./foo/lodash.js`
 Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function e$$0(E,f,A){function F(l,t){if(!f[l]){if(!E[l]){var u="function"==typeof require&&require;if(!t&&u)return u(l,!0);if(p)return p(l,!0);u=Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u;}u=f[l]={exports:{}};E[l][0].call(u.exports,function(t){var u=E[l][1][t];return F(u?u:t)},u,u.exports,e$$0,E,f,A)}return f[l].exports}for(var p="function"==typeof require&&require,l=0;l<A.length;l++)F(A[l]);return F})({1:[function(a,E,f){},{}],2:[function(a,E,f){(function(a){function F(a,
l){for(var p=0,f=a.length-1;0<=f;f--){var c=a[f];"."===c?a.splice(f,1):".."===c?(a.splice(f,1),p++):p&&(a.splice(f,1),p--)}if(l)for(;p--;p)a.unshift("..");return a}function p(a,l){if(a.filter)return a.filter(l);for(var p=[],f=0;f<a.length;f++)l(a[f],f,a)&&p.push(a[f]);return p}var l=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;f.resolve=function(){for(var l="",f=!1,K=arguments.length-1;-1<=K&&!f;K--){var B=0<=K?arguments[K]:a.cwd();if("string"!==typeof B)throw new TypeError("Arguments to path.resolve must be strings");
B&&(l=B+"/"+l,f="/"===B.charAt(0))}l=F(p(l.split("/"),function(a){return!!a}),!f).join("/");return(f?"/":"")+l||"."};f.normalize=function(a){var l=f.isAbsolute(a),y="/"===K(a,-1);(a=F(p(a.split("/"),function(a){return!!a}),!l).join("/"))||l||(a=".");a&&y&&(a+="/");return(l?"/":"")+a};f.isAbsolute=function(a){return"/"===a.charAt(0)};f.join=function(){var a=Array.prototype.slice.call(arguments,0);return f.normalize(p(a,function(a,l){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");
return a}).join("/"))};f.relative=function(a,l){function p(a){for(var c=0;c<a.length&&""===a[c];c++);for(var b=a.length-1;0<=b&&""===a[b];b--);return c>b?[]:a.slice(c,b-c+1)}a=f.resolve(a).substr(1);l=f.resolve(l).substr(1);for(var K=p(a.split("/")),c=p(l.split("/")),d=Math.min(K.length,c.length),v=d,k=0;k<d;k++)if(K[k]!==c[k]){v=k;break}d=[];for(k=v;k<K.length;k++)d.push("..");d=d.concat(c.slice(v));return d.join("/")};f.sep="/";f.delimiter=":";f.dirname=function(a){var p=l.exec(a).slice(1);a=p[0];
p=p[1];if(!a&&!p)return".";p&&(p=p.substr(0,p.length-1));return a+p};f.basename=function(a,p){var f=l.exec(a).slice(1)[2];p&&f.substr(-1*p.length)===p&&(f=f.substr(0,f.length-p.length));return f};f.extname=function(a){return l.exec(a).slice(1)[3]};var K="b"==="ab".substr(-1)?function(a,l,p){return a.substr(l,p)}:function(a,l,p){0>l&&(l=a.length+l);return a.substr(l,p)}}).call(this,a("_process"))},{_process:3}],3:[function(a,E,f){function A(){t=!1;u.length?K=u.concat(K):y=-1;K.length&&F()}function F(){if(!t){var a=
setTimeout(A);t=!0;for(var c=K.length;c;){u=K;for(K=[];++y<c;)u&&u[y].run();y=-1;c=K.length}u=null;t=!1;clearTimeout(a)}}function p(a,c){this.fun=a;this.array=c}function l(){}a=E.exports={};var K=[],t=!1,u,y=-1;a.nextTick=function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];K.push(new p(a,c));1!==K.length||t||setTimeout(F,0)};p.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=
[];a.version="";a.versions={};a.on=l;a.addListener=l;a.once=l;a.off=l;a.removeListener=l;a.removeAllListeners=l;a.emit=l;a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],4:[function(a,E,f){E="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};var A;f=a("../fol");A=a("../proofs/proof");a=a("../../ui_components/tree_proof/tree");
E.fol=f;E.proof=A;E.tree=a},{"../../ui_components/tree_proof/tree":34,"../fol":7,"../proofs/proof":27}],5:[function(a,E,f){var A,F,p,l,K,t,u,y,B,c,d,v,k,h,w;A=a("lodash");w=a("../symbols");y={lpl:{available:!0,description:"The language and natural deduction proof system presented in Barker-Plummer, Barwise and Etchemndy\u2019s \u2018Language, Proof and Logic\u2019",textbook:"\u2018Language, Proof and Logic\u2019 by Barker-Plummer, Barwise & Etchemendy",versions:{"0.1":{symbols:"default",parser:"awFOL",
rules:"fitch"}}},teller:{available:!0,description:"The language and natural deduction proof system presented in Teller\u2019s \u2018A Modern Formal Logic Primer\u2019 (1998)",textbook:"\u2018A Modern Formal Logic Primer\u2019 by Teller",versions:{"0.1":{symbols:"teller",parser:"teller",rules:"teller"}}},copi:{available:!1,versions:{"0.1":{symbols:"copi",parser:"copi",rules:"copi"}}},forallx:{available:!0,description:"The language and natural deduction proof system presented in Magnus\u2019 \u2018forallx\u2019 (2014)",
textbook:"\u2018forallx\u2019 Primer by Magnus",versions:{"0.1":{symbols:"forallx",parser:"forallx",rules:"forallx"}}},logicbook:{available:!0,description:"The language and natural deduction proof system presented in Bergmann, Moore and Nelson\u2019s \u2018The Logic Book\u2019 (2014)",textbook:"\u2018The Logic Book\u2019 by Bergmann, Moore and Nelson",versions:{"0.1":{symbols:"logicbook",parser:"logicbookFOL",rules:"logicbook",treeRules:"logicbook_tree"}}}};t="lpl";u="0.1";f.set=function(a,c){var r;
null!=a.version&&(c=a.version,a=a.name);t=a;r=y[a].versions;null==c&&(c=Math.max(A.keys(r)));u=c;r=r[c];k(r.symbols);d(r.parser);v(r.rules);return h(r.treeRules)};f.getCurrentDialectNameAndVersion=function(){return{name:t,version:u}};f.getTextbookForDialect=function(a){null==a&&(a=t);return y[a].textbook};f.getAllDialectNamesAndDescriptions=function(){var a,c,r,g,e,n;c=A.keys(y);n=[];r=0;for(e=c.length;r<e;r++)g=c[r],a=y[g],!0===a.available&&n.push({name:g,description:a.description,textbook:a.textbook});
return n};K=void 0;h=function(a){return K=a};f.getTreeRules=function(){return c[K]};f.listDialects=function(){return A.keys(y)};l="default";k=function(a){return l=a};f.setSymbols=k;f.getSymbols=function(a){return null==a?w[l]:w[a]};f.getSymbolsName=function(){return l};B={awFOL:a("../parser/awFOL"),copi:a("../parser/copiFOL"),teller:a("../parser/tellerFOL"),forallx:a("../parser/forallxFOL"),logicbookFOL:a("../parser/logicbookFOL")};F=void 0;f.registerParser=function(a,c){return B[a]=c};f.getParser=
function(a){if(!(a in B))throw Error("unknown parser "+a);return B[a]};f.getCurrentParser=function(){return B[F]};f.getCurrentParserName=function(){return F};d=function(a){if(!(a in B))throw Error("unknown parser \u2018"+a+"\u2019");return F=a};f.setCurrentParser=d;d("awFOL");c={};f.registerRuleSet=function(a,d){return c[a]=d};p="fitch";f.getCurrentRules=function(){return c[p]};f.getCurrentRulesName=function(){return p};v=function(a){return p=a};f.setCurrentRules=v},{"../parser/awFOL":11,"../parser/copiFOL":12,
"../parser/forallxFOL":13,"../parser/logicbookFOL":14,"../parser/tellerFOL":15,"../symbols":31,lodash:9}],6:[function(a,E,f){var A,F,p;F=a("lodash");p=a("./dialect_manager/dialectManager").getCurrentParser();A=function(a,f){this.world=f;F.isString(a)?this.sentence=p.parse(a):this.sentence=a;this.varStack={};return this};A.prototype.logSentence=function(){return console.log("sentence "+JSON.stringify(this.sentence,null,4))};A.prototype.evaluate=function(a){var p,f,u,y,B;a=null!=a?a:this.sentence;if("value"===
a.type)return a.value;if("and"===a.type)return this.evaluate(a.left)&&this.evaluate(a.right);if("nand"===a.type)return!(this.evaluate(a.left)&&this.evaluate(a.right));if("or"===a.type)return this.evaluate(a.left)||this.evaluate(a.right);if("nor"===a.type)return!(this.evaluate(a.left)||this.evaluate(a.right));if("not"===a.type)return!this.evaluate(a.left);if("arrow"===a.type)return!this.evaluate(a.left)||this.evaluate(a.right);if("double_arrow"===a.type)return this.evaluate(a.left)===this.evaluate(a.right);
if("sentence_letter"===a.type)return this.world[a.letter];if("predicate"===a.type||"identity"===a.type)return f=a,p="identity"===f.type?function(){var a,d,v,k;v=this.world.domain;k=[];a=0;for(d=v.length;a<d;a++)B=v[a],k.push([B,B]);return k}.call(this):this.world.predicates[f.name],f=this.instantiate_terms(f.termlist),p=F.where(p,f),0<p.length;if("existential_quantifier"===a.type||"universal_quantifier"===a.type)return p=a.boundVariable,y=p.name,y in this.varStack||(this.varStack[y]=[]),u=this,"existential_quantifier"===
a.type&&(f=F.some),"universal_quantifier"===a.type&&(f=F.all),f(this.world.domain,function(c){u.varStack[y].push(c);c=u.evaluate(a.left);u.varStack[y].pop();return c});throw Error("e (evaluate inner) could not evaluate sentence "+JSON.stringify(a,null,4));};A.prototype.instantiate_terms=function(a){var p,f,u,y;u=[];p=0;for(f=a.length;p<f;p++)if(y=a[p],"name"===y.type){if(!(y.name in this.world.names))throw Error("The name "+y.name+" is not defined in this world.");u.push(this.world.names[y.name])}else if("variable"===
y.type){if(!(y.name in this.varStack))throw Error("The variable "+y.name+" is not bound by any quantifier.");u.push(F.last(this.varStack[y.name]))}else throw Error("Encountered a term of unknown type: "+JSON.stringify(y,null,4));return u};f.evaluate=function(a,p){return(new A(a,p)).evaluate()}},{"./dialect_manager/dialectManager":5,lodash:9}],7:[function(a,E,f){var A,F,p,l,K,t,u,y,B;A=a("lodash");B=a("./util");K=a("./match");y=a("./substitute");t=a("./normal_form");l=a("./evaluate");E=a("./symbols");
p=a("./dialect_manager/dialectManager");u=function(a,d){var v;null==d&&(d=p.getCurrentParser());v=d.parse(a);return F(v)};f.parse=u;f.parseUsingSystemParser=function(a){var d;d=p.getParser("awFOL");return u(a,d)};f.symbols=E;f.getLanguageNames=B.getLanguageNames;f.getPredLanguageName=B.getPredLanguageName;f.setDialect=function(a,d){return p.set(a,d)};f.getAllDialectNamesAndDescriptions=function(){return p.getAllDialectNamesAndDescriptions()};f.getCurrentDialectNameAndVersion=function(){return p.getCurrentDialectNameAndVersion()};
f._dialectManager=p;f.getTextbookForDialect=function(a){return p.getTextbookForDialect(a)};F=function(a){B.walk(a,function(d){if(null!==d&&!(A.isArray(d)||A.isString(d)||A.isBoolean(d)||A.isNumber(d)))return d.walk=function(a){B.walk(d,a);return d},d.delExtraneousProperties=function(){return B.delExtraneousProperties(d)},d.isIdenticalTo=function(a){return B.areIdenticalExpressions(d,a)},d.clone=function(){var a;a=B.cloneExpression(d);F(a);return a},d.toString=function(a){null==a&&(a={});!1!==a.replaceSymbols&&
null==a.symbols&&(a.symbols=p.getSymbols());return B.expressionToString(d,a)},d.listMetaVariableNames=function(){return B.listMetaVariableNames(d)},d.findMatches=function(a,c,h){return K.find(d,a,c,h)},d.applyMatches=function(a){a=K.apply(d,a);F(a);return a},d.applySubstitutions=function(){var a;a=y.applySubstitutions(d);F(a);return a},d.containsSubstitutions=function(){var a;a=!1;d.walk(function(c){null!=(null!=c?c.substitutions:void 0)&&(a=!0)});return a},d.getAllSubstitutionInstances=function(){var a;
a=[];K.doAfterApplyingSubstitutions(d,function(c){a.push(F(c))});return a},d.getNames=function(){var a;a=[];d.walk(function(c){"name"===(null!=c?c.type:void 0)&&a.push(c.name)});return a},d.getPredicates=function(){var a;a=[];d.walk(function(c){"predicate"===(null!=c?c.type:void 0)&&a.push({name:c.name,arity:c.termlist.length})});return A.uniq(a,function(a){return a.name+"*&!"+a.arity})},d.getSentenceLetters=function(){var a;a=[];d.walk(function(c){"sentence_letter"===(null!=c?c.type:void 0)&&a.push(c.letter)});
return a.sort()},d.getFreeVariableNames=function(){var l,k,h,p;l=B.listTerms(d);k=A.uniq(function(){var a,c,r;r=[];a=0;for(c=l.length;a<c;a++)h=l[a],"variable"===h.type&&r.push(h.name);return r}());return function(){var b,d,r;r=[];b=0;for(d=k.length;b<d;b++)p=k[b],t.isVariableFree(p,a)&&r.push(p);return r}()},d.convertToPNFsimplifyAndSort=function(){var d;d=t.convertToPNFsimplifyAndSort(a);F(d);return d},d.isPNFExpressionEquivalent=function(a){return t.arePNFExpressionsEquivalent(d,a)},d.evaluate=
function(a){return l.evaluate(d,a)}});return a};f._decorate=F},{"./dialect_manager/dialectManager":5,"./evaluate":6,"./match":8,"./normal_form":10,"./substitute":30,"./symbols":31,"./util":32,lodash:9}],8:[function(a,E,f){var A,F,p,l,K,t,u,y,B,c,d,v,k,h,w=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1};A=a("lodash");h=a("./util");f.find=function(a,c,d){null==d&&(d={});null==d&&(d={});return v(c,function(c){var e,n;c=k(a,c,d);if(!1!==c){for(e in c)n=
c[e],c[e]=h.cloneExpression(n);return c}})||!1};k=function(a,c,d){var g;null==d&&(d={});g=function(a,c){var q,b,D;if(null!=(null!=c?c.type:void 0)&&("expression_variable"===(q=c.type)||"term_metavariable"===q||"term_metavariable_hat"===q)){"expression_variable"===c.type&&(D=c.letter);if("term_metavariable"===(b=c.type)||"term_metavariable_hat"===b)D=c.name;if(D in d)return h.areIdenticalExpressions(a,d[D]);d=A.clone(d);if("term_metavariable_hat"===c.type&&"name_hat"!==a.type)return!1;d[D]=a;return null!=
c.box?(q=h.cloneExpression(a),delete q.box,d[D]=q,null==a.box?!1:h.walkCompare(a.box,c.box,g)):d}};return h.walkCompare(a,c,g)?d:!1};f.findWithoutApplyingSubs=k;v=function(a,c){var d;if(!h.expressionContainsSubstitutions(a))return c(a);d=h.cloneExpression(a);d=B(d);return t(d,c)};f.doAfterApplyingSubstitutions=v;t=function(a,c){var r,g,e,n,q,k;r=K(a);if(e=!h.expressionContainsSubstitutions(r))if(k=c(r))return k;n=d(a);q=!h.expressionContainsSubstitutions(n);g=!h.areIdenticalExpressions(r,n);if(q&&
g&&(k=c(n))||!e&&(k=t(r,c))||!q&&g&&(k=t(n,c)))return k};K=function(a){var d;d=h.cloneExpression(a);return h.walkMutateFindOne(d,function(a){var g,e;if(null!=(null!=a?a.substitutions:void 0)){a=h.cloneExpression(a);e=c(a);if(null==e)return{newExpression:d,aResult:void 0};u(a,e)&&(g=h.cloneExpression(e.to),null!=a.substitutions&&(g.substitutions=a.substitutions),null!=a.box&&(g.box=a.box),a=g);return{newExpression:a,aResult:e}}}).mutatedExpression};u=function(a,c){return a.type!==c.from.type?!1:null!=
a.name&&null!=c.from.name&&a.name===c.from.name||null!=a.letter&&null!=c.from.letter&&a.letter===c.from.letter?!0:!1};d=function(a){a=h.cloneExpression(a);return h.walkMutateFindOne(a,function(a){var d;if(null!=(null!=a?a.substitutions:void 0))return a=h.cloneExpression(a),d=c(a),{newExpression:a,aResult:d}}).mutatedExpression};B=function(a){a=h.cloneExpression(a);return h.walkMutate(a,function(a){var d;if(null==(null!=a?a.substitutions:void 0)||null!=(null!=a?a.type:void 0)&&("name"===(d=a.type)||
"variable"===d||"term_metavariable"===d))return a;for(d=c(a);d;)a=y(d)?p(a,d):F(a,d),d=c(a);return a})};f._moveAllSubsInwards=B;c=function(a){var c;if(null!=a.substitutions){for(c=a.substitutions.shift();0<a.substitutions.length&&h.areIdenticalExpressions(c.from,c.to);)c=a.substitutions.shift();if(h.areIdenticalExpressions(c.from,c.to))delete a.substitutions;else return 0===a.substitutions.length&&delete a.substitutions,c}};y=function(a){var c;return(c=a.from.type,0<=w.call(h.termTypes,c))?!0:!1};
p=function(a,c){return l(a,c,h.termTypes)};f._addSubToEveryTerm=p;F=function(a,c){return l(a,c,["sentence_letter","expression_variable"])};f._addSubToEverySentence=F;l=function(a,c,d){var g,e;e=function(a){var c;if(null==(null!=a?a.type:void 0)||!(c=a.type,0<=w.call(d,c))||e._inSub)return a;a.substitutions&&!h.expressionHasSub(a,g)?a.substitutions.push(g):a.substitutions=[g];return a};a=h.cloneExpression(a);g=h.cloneExpression(c);return a=h.walkMutate(a,e)};f.apply=function(a,c,d){var g;null==d&&
(d={});g=function(a){var d,q,g;if(null==(null!=a?a.type:void 0)||"expression_variable"!==(d=a.type)&&"term_metavariable"!==d&&"term_metavariable_hat"!==d)return a;"expression_variable"===a.type&&(g=a.letter);if("term_metavariable"===(q=a.type)||"term_metavariable_hat"===q)g=a.name;if(!(g in c))return a;d=h.cloneExpression(c[g]);null!=a.substitutions&&(d.substitutions=a.substitutions);null!=a.box&&(d.box=a.box);return d};if(d.noClone)return h.walkMutate(a,g);a=h.cloneExpression(a);return h.walkMutate(a,
g)}},{"./util":32,lodash:9}],9:[function(a,E,f){(function(a){(function(){function F(a,c){if(a!==c){var e=null===a,d=a===q,g=a===a,n=null===c,H=c===q,D=c===c;if(a>c&&!n||!g||e&&!H&&D||d&&D)return 1;if(a<c&&!e||!D||n&&!d&&g||H&&g)return-1}return 0}function p(a,c,e){for(var d=a.length,q=e?d:-1;e?q--:++q<d;)if(c(a[q],q,a))return q;return-1}function l(a,c,e){if(c!==c)return h(a,e);--e;for(var d=a.length;++e<d;)if(a[e]===c)return e;return-1}function K(a){return"function"==typeof a||!1}function t(a){return null==
a?"":a+""}function u(a,c){for(var e=-1,d=a.length;++e<d&&-1<c.indexOf(a.charAt(e)););return e}function y(a,c){for(var e=a.length;e--&&-1<c.indexOf(a.charAt(e)););return e}function B(a,c){return F(a.criteria,c.criteria)||a.index-c.index}function c(a){return Ob[a]}function d(a){return La[a]}function v(a,c,e){c?a=ya[a]:e&&(a=nc[a]);return"\\"+a}function k(a){return"\\"+nc[a]}function h(a,c,e){var d=a.length;for(c+=e?0:-1;e?c--:++c<d;){var q=a[c];if(q!==q)return c}return-1}function w(a){return!!a&&"object"==
typeof a}function b(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function z(a,c){for(var e=-1,d=a.length,q=-1,g=[];++e<d;)a[e]===c&&(a[e]="__lodash_placeholder__",g[++q]=e);return g}function r(a){for(var c=-1,e=a.length;++c<e&&b(a.charCodeAt(c)););return c}function g(a){for(var c=a.length;c--&&b(a.charCodeAt(c)););return c}function e(a){return Xb[a]}function n(a){function b(m){if(w(m)&&!R(m)&&!(m instanceof
E)){if(m instanceof A)return m;if(ca.call(m,"__chain__")&&ca.call(m,"__wrapped__"))return Kc(m)}return new A(m)}function f(){}function A(m,C,a){this.__wrapped__=m;this.__actions__=a||[];this.__chain__=!!C}function E(m){this.__wrapped__=m;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=oc;this.__views__=[]}function Ob(){this.__data__={}}function Xb(m){var C=m?m.length:0;for(this.data={hash:pc(null),set:new na};C--;)this.push(m[C])}function Na(m,C){var a=
m.data;return("string"==typeof C||Z(C)?a.set.has(C):a.hash[C])?0:-1}function ya(m,C){var a=-1,b=m.length;for(C||(C=ea(b));++a<b;)C[a]=m[a];return C}function La(m,C){for(var a=-1,b=m.length;++a<b&&!1!==C(m[a],a,m););return m}function nc(m,C){for(var a=-1,b=m.length;++a<b;)if(!C(m[a],a,m))return!1;return!0}function yb(m,C){for(var a=-1,b=m.length,c=-1,e=[];++a<b;){var d=m[a];C(d,a,m)&&(e[++c]=d)}return e}function Ka(m,C){for(var a=-1,b=m.length,c=ea(b);++a<b;)c[a]=C(m[a],a,m);return c}function Aa(m,
C){for(var a=-1,b=C.length,c=m.length;++a<b;)m[c+a]=C[a];return m}function qc(m,C,a,b){var c=-1,e=m.length;for(b&&e&&(a=m[++c]);++c<e;)a=C(a,m[c],c,m);return a}function mc(m,C){for(var a=-1,b=m.length;++a<b;)if(C(m[a],a,m))return!0;return!1}function re(m,C,a,b){return m!==q&&ca.call(b,a)?m:C}function rd(m,C,a){for(var b=-1,c=wa(C),e=c.length;++b<e;){var d=c[b],g=m[d],n=a(g,C[d],d,m,C);(n===n?n===g:g!==g)&&(g!==q||d in m)||(m[d]=n)}return m}function rc(m,C){return null==C?m:fa(C,wa(C),m)}function se(m,
C){for(var a=-1,b=null==m,c=!b&&sa(m),e=c?m.length:0,d=C.length,g=ea(d);++a<d;){var n=C[a];g[a]=c?pb(n,e)?m[n]:q:b?q:m[n]}return g}function fa(m,C,a){a||(a={});for(var b=-1,c=C.length;++b<c;){var e=C[b];a[e]=m[e]}return a}function aa(m,C,a){var b=typeof m;return"function"==b?C===q?m:Da(m,C,a):null==m?qa:"object"==b?sd(m):C===q?sc(m):L(m,C)}function db(m,C,a,b,c,e,d){var g;a&&(g=c?a(m,b,c):a(m));if(g!==q)return g;if(!Z(m))return m;if(b=R(m)){if(g=td(m),!C)return ya(m,g)}else{var n=ta.call(m),H="[object Function]"==
n;if("[object Object]"==n||"[object Arguments]"==n||H&&!c){if(g=qb(H?{}:m),!C)return rc(g,m)}else return ja[n]?Ze(m,n,C):c?m:{}}e||(e=[]);d||(d=[]);for(c=e.length;c--;)if(e[c]==m)return d[c];e.push(m);d.push(g);(b?La:eb)(m,function(b,c){g[c]=db(b,C,a,c,m,e,d)});return g}function Lc(m,C,a){if("function"!=typeof m)throw new Ma("Expected a function");return tc(function(){m.apply(q,a)},C)}function zb(m,C){var a=m?m.length:0,b=[];if(!a)return b;var c=-1,e=Pb(),d=e==l,g=d&&200<=C.length?pc&&na?new Xb(C):
null:null,q=C.length;g&&(e=Na,d=!1,C=g);a:for(;++c<a;)if(g=m[c],d&&g===g){for(var n=q;n--;)if(C[n]===g)continue a;b.push(g)}else 0>e(C,g,0)&&b.push(g);return b}function rb(m,C){var a=!0;Ia(m,function(m,b,c){return a=!!C(m,b,c)});return a}function oe(m,C,a,b){var c=b,e=c;Ia(m,function(m,d,g){d=+C(m,d,g);if(a(d,c)||d===b&&d===e)c=d,e=m});return e}function te(m,C){var a=[];Ia(m,function(m,b,c){C(m,b,c)&&a.push(m)});return a}function ue(m,C,a,b){var c;a(m,function(m,a,Oa){if(C(m,a,Oa))return c=b?a:m,
!1});return c}function oa(m,C,a,b){b||(b=[]);for(var c=-1,e=m.length;++c<e;){var d=m[c];w(d)&&sa(d)&&(a||R(d)||Pa(d))?C?oa(d,C,a,b):Aa(b,d):a||(b[b.length]=d)}return b}function sb(m,C){return Mc(m,C,fb)}function eb(m,C){return Mc(m,C,wa)}function Yb(m,C){return ud(m,C,wa)}function Zb(m,C){for(var a=-1,b=C.length,c=-1,e=[];++a<b;){var d=C[a];gb(m[d])&&(e[++c]=d)}return e}function Ja(m,C,a){if(null!=m){a!==q&&a in ga(m)&&(C=[a]);a=0;for(var b=C.length;null!=m&&a<b;)m=m[C[a++]];return a&&a==b?m:q}}function Qa(m,
C,a,b,c,e){if(m===C)return!0;if(null==m||null==C||!Z(m)&&!w(C))return m!==m&&C!==C;a:{var d=Qa,g=R(m),q=R(C),n="[object Array]",H="[object Array]";g||(n=ta.call(m),"[object Arguments]"==n?n="[object Object]":"[object Object]"!=n&&(g=Qb(m)));q||(H=ta.call(C),"[object Arguments]"==H?H="[object Object]":"[object Object]"!=H&&Qb(C));var D="[object Object]"==n,q="[object Object]"==H,H=n==H;if(!H||g||D){if(!b&&(n=D&&ca.call(m,"__wrapped__"),q=q&&ca.call(C,"__wrapped__"),n||q)){m=d(n?m.value():m,q?C.value():
C,a,b,c,e);break a}if(H){c||(c=[]);e||(e=[]);for(n=c.length;n--;)if(c[n]==m){m=e[n]==C;break a}c.push(m);e.push(C);m=(g?ve:we)(m,C,d,a,b,c,e);c.pop();e.pop()}else m=!1}else m=xe(m,C,n)}return m}function ab(m,C,a){var b=C.length,c=b,e=!a;if(null==m)return!c;for(m=ga(m);b--;){var d=C[b];if(e&&d[2]?d[1]!==m[d[0]]:!(d[0]in m))return!1}for(;++b<c;){var d=C[b],g=d[0],n=m[g],H=d[1];if(e&&d[2]){if(n===q&&!(g in m))return!1}else if(d=a?a(n,H,g):q,d===q?!Qa(H,n,a,!0):!d)return!1}return!0}function hb(m,C){var a=
-1,b=sa(m)?ea(m.length):[];Ia(m,function(m,c,e){b[++a]=C(m,c,e)});return b}function sd(m){var C=vd(m);if(1==C.length&&C[0][2]){var a=C[0][0],b=C[0][1];return function(m){return null==m?!1:m[a]===b&&(b!==q||a in ga(m))}}return function(m){return ab(m,C)}}function L(m,C){var a=R(m),b=ib(m)&&C===C&&!Z(C),c=m+"";m=Ra(m);return function(e){if(null==e)return!1;var d=c;e=ga(e);if(!(!a&&b||d in e)){e=1==m.length?e:Ja(e,Ea(m,0,-1));if(null==e)return!1;d=$b(m);e=ga(e)}return e[d]===C?C!==q||d in e:Qa(C,e[d],
q,!0)}}function Hf(m,C,a,b,c){if(!Z(m))return m;var e=sa(C)&&(R(C)||Qb(C)),d=e?q:wa(C);La(d||C,function(g,n){d&&(n=g,g=C[n]);if(w(g)){b||(b=[]);c||(c=[]);a:{for(var H=n,D=b,I=c,k=D.length,L=C[H];k--;)if(D[k]==L){m[H]=I[k];break a}var k=m[H],r=a?a(k,L,H,m,C):q,h=r===q;h&&(r=L,sa(L)&&(R(L)||Qb(L))?r=R(k)?k:sa(k)?ya(k):[]:Nc(L)||Pa(L)?r=Pa(k)?Rb(k):Nc(k)?k:{}:h=!1);D.push(L);I.push(r);if(h)m[H]=Hf(r,L,a,D,I);else if(r===r?r!==k:k===k)m[H]=r}}else H=m[n],D=a?a(H,g,n,m,C):q,(I=D===q)&&(D=g),D===q&&(!e||
n in m)||!I&&(D===D?D===H:H!==H)||(m[n]=D)});return m}function af(m){return function(C){return null==C?q:C[m]}}function T(m){var C=m+"";m=Ra(m);return function(a){return Ja(a,m,C)}}function If(m,C){for(var a=m?C.length:0;a--;){var b=C[a];if(b!=c&&pb(b)){var c=b;wd.call(m,b,1)}}return m}function bf(m,C){return m+Sa(ac()*(C-m+1))}function pg(m,C,a,b,c){c(m,function(m,c,e){a=b?(b=!1,m):C(a,m,c,e)});return a}function Ea(m,C,a){var b=-1,c=m.length;C=null==C?0:+C||0;0>C&&(C=-C>c?0:c+C);a=a===q||a>c?c:+a||
0;0>a&&(a+=c);c=C>a?0:a-C>>>0;C>>>=0;for(a=ea(c);++b<c;)a[b]=m[b+C];return a}function tb(m,C){var a;Ia(m,function(m,b,c){a=C(m,b,c);return!a});return!!a}function Jf(m,C){var a=m.length;for(m.sort(C);a--;)m[a]=m[a].value;return m}function Kf(m,C,a){var b=da(),c=-1;C=Ka(C,function(m){return b(m)});m=hb(m,function(m){return{criteria:Ka(C,function(C){return C(m)}),index:++c,value:m}});return Jf(m,function(m,C){var b;a:{for(var c=-1,e=m.criteria,d=C.criteria,g=e.length,q=a.length;++c<g;)if(b=F(e[c],d[c])){if(c>=
q)break a;c=a[c];b*="asc"===c||!0===c?1:-1;break a}b=m.index-C.index}return b})}function qg(m,C){var a=0;Ia(m,function(m,b,c){a+=+C(m,b,c)||0});return a}function cf(m,C){var a=-1,b=Pb(),c=m.length,e=b==l,d=e&&200<=c,g=d?pc&&na?new Xb(void 0):null:null,q=[];g?(b=Na,e=!1):(d=!1,g=C?[]:q);a:for(;++a<c;){var n=m[a],H=C?C(n,a,m):n;if(e&&n===n){for(var D=g.length;D--;)if(g[D]===H)continue a;C&&g.push(H);q.push(n)}else 0>b(g,H,0)&&((C||d)&&g.push(H),q.push(n))}return q}function df(m,C){for(var a=-1,b=C.length,
c=ea(b);++a<b;)c[a]=m[C[a]];return c}function uc(m,C,a,b){for(var c=m.length,e=b?c:-1;(b?e--:++e<c)&&C(m[e],e,m););return a?Ea(m,b?0:e,b?e+1:c):Ea(m,b?e+1:0,b?c:e)}function vc(m,a){var b=m;b instanceof E&&(b=b.value());for(var c=-1,e=a.length;++c<e;)var d=a[c],b=d.func.apply(d.thisArg,Aa([b],d.args));return b}function ef(m,a,b){var c=0,e=m?m.length:c;if("number"==typeof a&&a===a&&2147483647>=e){for(;c<e;){var d=c+e>>>1,g=m[d];(b?g<=a:g<a)&&null!==g?c=d+1:e=d}return e}return Lf(m,a,qa,b)}function Lf(m,
a,b,c){a=b(a);for(var e=0,d=m?m.length:0,g=a!==a,n=null===a,H=a===q;e<d;){var D=Sa((e+d)/2),I=b(m[D]),k=I!==q,L=I===I;(g?L||c:n?L&&k&&(c||null!=I):H?L&&(c||k):null==I?0:c?I<=a:I<a)?e=D+1:d=D}return W(d,4294967294)}function Da(m,a,b){if("function"!=typeof m)return qa;if(a===q)return m;switch(b){case 1:return function(b){return m.call(a,b)};case 3:return function(b,c,Oa){return m.call(a,b,c,Oa)};case 4:return function(b,c,Oa,e){return m.call(a,b,c,Oa,e)};case 5:return function(b,c,Oa,e,d){return m.call(a,
b,c,Oa,e,d)}}return function(){return m.apply(a,arguments)}}function Oc(m){var a=new xd(m.byteLength);(new Pc(a)).set(new Pc(m));return a}function Ab(m,a,b){for(var c=b.length,e=-1,d=xa(m.length-c,0),g=-1,q=a.length,n=ea(q+d);++g<q;)n[g]=a[g];for(;++e<c;)n[b[e]]=m[e];for(;d--;)n[g++]=m[e++];return n}function Bb(m,a,b){for(var c=-1,e=b.length,d=-1,g=xa(m.length-e,0),q=-1,n=a.length,H=ea(g+n);++d<g;)H[d]=m[d];for(g=d;++q<n;)H[g+q]=a[q];for(;++c<e;)H[g+b[c]]=m[d++];return H}function ub(m,a){return function(b,
c,e){var d=a?a():{};c=da(c,e,3);if(R(b)){e=-1;for(var g=b.length;++e<g;){var q=b[e];m(d,q,c(q,e,b),b)}}else Ia(b,function(a,C,b){m(d,a,c(a,C,b),b)});return d}}function Ta(m){return ba(function(a,b){var c=-1,e=null==a?0:b.length,d=2<e?b[e-2]:q,g=2<e?b[2]:q,n=1<e?b[e-1]:q;"function"==typeof d?(d=Da(d,n,5),e-=2):(d="function"==typeof n?n:q,e-=d?1:0);g&&P(b[0],b[1],g)&&(d=3>e?q:d,e=1);for(;++c<e;)(g=b[c])&&m(a,g,d);return a})}function Mf(m,a){return function(b,c){var e=b?Fa(b):0;if(!Ua(e))return m(b,
c);for(var d=a?e:-1,g=ga(b);(a?d--:++d<e)&&!1!==c(g[d],d,g););return b}}function Sb(m){return function(a,b,c){var e=ga(a);c=c(a);for(var d=c.length,g=m?d:-1;m?g--:++g<d;){var q=c[g];if(!1===b(e[q],q,e))break}return a}}function ye(m,a){function b(){return(this&&this!==jb&&this instanceof b?c:m).apply(a,arguments)}var c=Qc(m);return b}function kb(m){return function(a){var b=-1;a=yd(zd(a));for(var c=a.length,e="";++b<c;)e=m(e,a[b],b);return e}}function Qc(m){return function(){var a=arguments;switch(a.length){case 0:return new m;
case 1:return new m(a[0]);case 2:return new m(a[0],a[1]);case 3:return new m(a[0],a[1],a[2]);case 4:return new m(a[0],a[1],a[2],a[3]);case 5:return new m(a[0],a[1],a[2],a[3],a[4]);case 6:return new m(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new m(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var b=bc(m.prototype),a=m.apply(b,a);return Z(a)?a:b}}function Ad(m){function a(b,c,e){e&&P(b,c,e)&&(c=q);b=bb(b,m,q,q,q,q,q,c);b.placeholder=a.placeholder;return b}return a}function ka(m,a){return ba(function(b){var c=
b[0];if(null==c)return c;b.push(a);return m.apply(q,b)})}function ze(m,a){return function(b,c,e){e&&P(b,c,e)&&(c=q);c=da(c,e,3);if(1==c.length){e=b=R(b)?b:Rc(b);for(var d=c,g=-1,n=e.length,H=a,D=H;++g<n;){var I=e[g],k=+d(I);m(k,H)&&(H=k,D=I)}e=D;if(!b.length||e!==a)return e}return oe(b,c,m,a)}}function Va(m,a){return function(b,c,e){c=da(c,e,3);return R(b)?(c=p(b,c,a),-1<c?b[c]:q):ue(b,c,m)}}function Sc(m){return function(a,b,c){if(!a||!a.length)return-1;b=da(b,c,3);return p(a,b,m)}}function wc(m){return function(a,
b,c){b=da(b,c,3);return ue(a,b,m,!0)}}function Tc(m){return function(){for(var a,b=arguments.length,c=m?b:-1,e=0,d=ea(b);m?c--:++c<b;){var g=d[e++]=arguments[c];if("function"!=typeof g)throw new Ma("Expected a function");!a&&A.prototype.thru&&"wrapper"==Uc(g)&&(a=new A([],!0))}for(c=a?-1:b;++c<b;){var g=d[c],e=Uc(g),n="wrapper"==e?xc(g):q;a=n&&Vc(n[0])&&424==n[1]&&!n[4].length&&1==n[9]?a[Uc(n[0])].apply(a,n[3]):1==g.length&&Vc(g)?a[e]():a.thru(g)}return function(){var m=arguments,c=m[0];if(a&&1==
m.length&&R(c)&&200<=c.length)return a.plant(c).value();for(var e=0,m=b?d[e].apply(this,m):c;++e<b;)m=d[e].call(this,m);return m}}}function Wc(m,a){return function(b,c,e){return"function"==typeof c&&e===q&&R(b)?m(b,c):a(b,Da(c,e,3))}}function Ae(m){return function(a,b,c){if("function"!=typeof b||c!==q)b=Da(b,c,3);return m(a,b,fb)}}function Xc(m){return function(a,b,c){if("function"!=typeof b||c!==q)b=Da(b,c,3);return m(a,b)}}function Be(m){return function(a,b,c){var e={};b=da(b,c,3);eb(a,function(a,
C,c){c=b(a,C,c);C=m?c:C;a=m?a:c;e[C]=a});return e}}function cc(m){return function(a,b,c){a=t(a);return(m?a:"")+Bd(a,b,c)+(m?"":a)}}function Cb(m){var a=ba(function(b,c){var e=z(c,a.placeholder);return bb(b,m,q,c,e)});return a}function Yc(m,a){return function(b,c,e,d){var g=3>arguments.length;return"function"==typeof c&&d===q&&R(b)?m(b,c,e,g):pg(b,da(c,d,4),e,g,a)}}function Zc(m,a,b,c,e,d,g,n,H,D){function I(){for(var J=arguments.length,x=J,ma=ea(J);x--;)ma[x]=arguments[x];c&&(ma=Ab(ma,c,e));d&&(ma=
Bb(ma,d,g));if(h||v){var x=I.placeholder,G=z(ma,x),J=J-G.length;if(J<D){var p=n?ya(n):q,J=xa(D-J,0),f=h?G:q,G=h?q:G,la=h?ma:q,ma=h?q:ma;a|=h?32:64;a&=~(h?64:32);l||(a&=-4);ma=[m,a,b,la,f,ma,G,p,H,J];p=Zc.apply(q,ma);Vc(m)&&$c(p,ma);p.placeholder=x;return p}}x=L?b:this;p=r?x[m]:m;if(n)for(J=ma.length,f=W(n.length,J),G=ya(ma);f--;)la=n[f],ma[f]=pb(la,J)?G[la]:q;k&&H<ma.length&&(ma.length=H);this&&this!==jb&&this instanceof I&&(p=ob||Qc(m));return p.apply(x,ma)}var k=a&128,L=a&1,r=a&2,h=a&8,l=a&4,v=
a&16,ob=r?q:Qc(m);return I}function Bd(m,a,b){m=m.length;a=+a;if(m>=a||!Db(a))return"";a-=m;b=null==b?" ":b+"";return Dd(b,lb(a/b.length)).slice(0,a)}function Ce(m,a,b,c){function e(){for(var a=-1,C=arguments.length,n=-1,q=c.length,H=ea(q+C);++n<q;)H[n]=c[n];for(;C--;)H[n++]=arguments[++a];return(this&&this!==jb&&this instanceof e?g:m).apply(d?b:this,H)}var d=a&1,g=Qc(m);return e}function ad(m){var a=Eb[m];return function(m,b){return(b=b===q?0:+b||0)?(b=yc(10,b),a(m*b)/b):a(m)}}function Ed(m){return function(a,
b,c,e){var d=da(c);return null==c&&d===aa?ef(a,b,m):Lf(a,b,d(c,e,1),m)}}function bb(m,a,b,c,e,d,g,n){var H=a&2;if(!H&&"function"!=typeof m)throw new Ma("Expected a function");var D=c?c.length:0;D||(a&=-97,c=e=q);D-=e?e.length:0;if(a&64){var I=c,k=e;c=e=q}var L=H?q:xc(m);b=[m,a,b,c,e,I,k,d,g,n];if(L){c=b[1];a=L[1];n=c|a;e=128==a&&8==c||128==a&&256==c&&b[7].length<=L[8]||384==a&&8==c;if(128>n||e){a&1&&(b[2]=L[2],n|=c&1?0:4);if(c=L[3])e=b[3],b[3]=e?Ab(e,c,L[4]):ya(c),b[4]=e?z(b[3],"__lodash_placeholder__"):
ya(L[4]);if(c=L[5])e=b[5],b[5]=e?Bb(e,c,L[6]):ya(c),b[6]=e?z(b[5],"__lodash_placeholder__"):ya(L[6]);(c=L[7])&&(b[7]=ya(c));a&128&&(b[8]=null==b[8]?L[8]:W(b[8],L[8]));null==b[9]&&(b[9]=L[9]);b[0]=L[0];b[1]=n}a=b[1];n=b[9]}b[9]=null==n?H?0:m.length:xa(n-D,0)||0;m=1==a?ye(b[0],b[2]):32!=a&&33!=a||b[4].length?Zc.apply(q,b):Ce.apply(q,b);return(L?Fd:$c)(m,b)}function ve(m,a,b,c,e,d,g){var n=-1,H=m.length,D=a.length;if(H!=D&&!(e&&D>H))return!1;for(;++n<H;){var I=m[n],D=a[n],L=c?c(e?D:I,e?I:D,n):q;if(L!==
q){if(L)continue;return!1}if(e){if(!mc(a,function(m){return I===m||b(I,m,c,e,d,g)}))return!1}else if(I!==D&&!b(I,D,c,e,d,g))return!1}return!0}function xe(m,a,b){switch(b){case "[object Boolean]":case "[object Date]":return+m==+a;case "[object Error]":return m.name==a.name&&m.message==a.message;case "[object Number]":return m!=+m?a!=+a:m==+a;case "[object RegExp]":case "[object String]":return m==a+""}return!1}function we(m,a,b,c,e,d,g){var n=wa(m),H=n.length,D=wa(a).length;if(H!=D&&!e)return!1;for(D=
H;D--;){var I=n[D];if(!(e?I in a:ca.call(a,I)))return!1}for(var L=e;++D<H;){var I=n[D],k=m[I],r=a[I],h=c?c(e?r:k,e?k:r,I):q;if(h===q?!b(k,r,c,e,d,g):!h)return!1;L||(L="constructor"==I)}return L||(b=m.constructor,c=a.constructor,!(b!=c&&"constructor"in m&&"constructor"in a)||"function"==typeof b&&b instanceof b&&"function"==typeof c&&c instanceof c)?!0:!1}function da(m,a,c){var e=b.callback||zc,e=e===zc?aa:e;return c?e(m,a,c):e}function Uc(m){for(var a=m.name,b=Ga[a],c=b?b.length:0;c--;){var e=b[c],
d=e.func;if(null==d||d==m)return e.name}return a}function Pb(m,a,c){var e=b.indexOf||bd,e=e===bd?l:e;return m?e(m,a,c):e}function vd(m){m=Gd(m);for(var a=m.length;a--;){var b=m[a],c;c=m[a][1];c=c===c&&!Z(c);b[2]=c}return m}function Fb(m,a){var b=null==m?q:m[a];return Wa(b)?b:q}function td(m){var a=m.length,b=new m.constructor(a);a&&"string"==typeof m[0]&&ca.call(m,"index")&&(b.index=m.index,b.input=m.input);return b}function qb(m){m=m.constructor;"function"==typeof m&&m instanceof m||(m=Gb);return new m}
function Ze(m,a,b){var c=m.constructor;switch(a){case "[object ArrayBuffer]":return Oc(m);case "[object Boolean]":case "[object Date]":return new c(+m);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return a=m.buffer,new c(b?Oc(a):a,m.byteOffset,m.length);case "[object Number]":case "[object String]":return new c(m);
case "[object RegExp]":var e=new c(m.source,dc.exec(m));e.lastIndex=m.lastIndex}return e}function ec(m,a,b){null==m||ib(a,m)||(a=Ra(a),m=1==a.length?m:Ja(m,Ea(a,0,-1)),a=$b(a));a=null==m?m:m[a];return null==a?q:a.apply(m,b)}function sa(m){return null!=m&&Ua(Fa(m))}function pb(m,a){m="number"==typeof m||x.test(m)?+m:-1;return-1<m&&0==m%1&&m<(null==a?9007199254740991:a)}function P(m,a,b){if(!Z(b))return!1;var c=typeof a;return("number"==c?sa(b)&&pb(a,b.length):"string"==c&&a in b)?(a=b[a],m===m?m===
a:a!==a):!1}function ib(m,a){var b=typeof m;return"string"==b&&I.test(m)||"number"==b?!0:R(m)?!1:!la.test(m)||null!=a&&m in ga(a)}function Vc(m){var a=Uc(m);if(!(a in E.prototype))return!1;a=b[a];if(m===a)return!0;a=xc(a);return!!a&&m===a[0]}function Ua(m){return"number"==typeof m&&-1<m&&0==m%1&&9007199254740991>=m}function Hd(m,a){return m===q?a:Id(m,a,Hd)}function De(m,a){m=ga(m);for(var b=-1,c=a.length,e={};++b<c;){var d=a[b];d in m&&(e[d]=m[d])}return e}function Jd(a,b){var c={};sb(a,function(a,
m,e){b(a,m,e)&&(c[m]=a)});return c}function Kd(a){for(var b=fb(a),c=b.length,e=c&&a.length,d=!!e&&Ua(e)&&(R(a)||Pa(a)),g=-1,n=[];++g<c;){var q=b[g];(d&&pb(q,e)||ca.call(a,q))&&n.push(q)}return n}function Rc(a){return null==a?[]:sa(a)?Z(a)?a:Gb(a):Hb(a)}function ga(a){return Z(a)?a:Gb(a)}function Ra(a){if(R(a))return a;var b=[];t(a).replace(H,function(a,m,c,e){b.push(c?e.replace(Ib,"$1"):m||a)});return b}function Kc(a){return a instanceof E?a.clone():new A(a.__wrapped__,a.__chain__,ya(a.__actions__))}
function Ld(a,b,c){if(!a||!a.length)return[];if(c?P(a,b,c):null==b)b=1;return Ea(a,0>b?0:b)}function Ac(a,b,c){var e=a?a.length:0;if(!e)return[];if(c?P(a,b,c):null==b)b=1;b=e-(+b||0);return Ea(a,0,0>b?0:b)}function Tb(a){return a?a[0]:q}function bd(a,b,c){var e=a?a.length:0;if(!e)return-1;if("number"==typeof c)c=0>c?xa(e+c,0):c;else if(c)return c=ef(a,b),c<e&&(b===b?b===a[c]:a[c]!==a[c])?c:-1;return l(a,b,c||0)}function $b(a){var b=a?a.length:0;return b?a[b-1]:q}function Ee(a){return Ld(a,1)}function Md(a,
b,c,e){if(!a||!a.length)return[];null!=b&&"boolean"!=typeof b&&(e=c,c=P(a,b,e)?q:b,b=!1);var d=da();if(null!=c||d!==aa)c=d(c,e,3);if(b&&Pb()==l){b=c;var g;c=-1;e=a.length;for(var d=-1,n=[];++c<e;){var H=a[c],D=b?b(H,c,a):H;c&&g===D||(g=D,n[++d]=H)}a=n}else a=cf(a,c);return a}function Jb(a){if(!a||!a.length)return[];var b=-1,c=0;a=yb(a,function(a){if(sa(a))return c=xa(a.length,c),!0});for(var e=ea(c);++b<c;)e[b]=Ka(a,af(b));return e}function fc(a,b,c){if(!a||!a.length)return[];a=Jb(a);if(null==b)return a;
b=Da(b,c,4);return Ka(a,function(a){return qc(a,b,q,!0)})}function Fe(a,b){var c=-1,e=a?a.length:0,d={};for(!e||b||R(a[0])||(b=[]);++c<e;){var g=a[c];b?d[g]=b[c]:g&&(d[g[0]]=g[1])}return d}function Nd(a){a=b(a);a.__chain__=!0;return a}function gc(a,b,c){return b.call(c,a)}function Od(a,b,c){var e=R(a)?nc:rb;c&&P(a,b,c)&&(b=q);if("function"!=typeof b||c!==q)b=da(b,c,3);return e(a,b)}function Bc(a,b,c){var e=R(a)?yb:te;b=da(b,c,3);return e(a,b)}function hc(a,b,c,e){var d=a?Fa(a):0;Ua(d)||(a=Hb(a),d=
a.length);c="number"!=typeof c||e&&P(b,c,e)?0:0>c?xa(d+c,0):c||0;return"string"==typeof a||!R(a)&&Pd(a)?c<=d&&-1<a.indexOf(b,c):!!d&&-1<Pb(a,b,c)}function Qd(a,b,c){var e=R(a)?Ka:hb;b=da(b,c,3);return e(a,b)}function Cc(a,b,c){if(c?P(a,b,c):null==b){a=Rc(a);var e=a.length;return 0<e?a[bf(0,e-1)]:q}c=-1;a=mb(a);var e=a.length,d=e-1;for(b=W(0>b?0:+b||0,e);++c<b;){var e=bf(c,d),g=a[e];a[e]=a[c];a[c]=g}a.length=b;return a}function Rd(a,b,c){var e=R(a)?mc:tb;c&&P(a,b,c)&&(b=q);if("function"!=typeof b||
c!==q)b=da(b,c,3);return e(a,b)}function cd(a,b){var c;if("function"!=typeof b)if("function"==typeof a){var e=a;a=b;b=e}else throw new Ma("Expected a function");return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=q);return c}}function nb(a,b,c){function e(b,c){c&&Ba(c);D=r=h=q;b&&(l=Dc(),I=a.apply(k,H),r||D||(H=k=q))}function d(){var a=b-(Dc()-L);0>=a||a>b?e(h,D):r=tc(d,a)}function g(){e(ob,r)}function n(){H=arguments;L=Dc();k=this;h=ob&&(r||!z);if(!1===v)var c=z&&!r;else{D||z||(l=L);var e=
v-(L-l),Oa=0>=e||e>v;Oa?(D&&(D=Ba(D)),l=L,I=a.apply(k,H)):D||(D=tc(g,e))}Oa&&r?r=Ba(r):r||b===v||(r=tc(d,b));c&&(Oa=!0,I=a.apply(k,H));!Oa||r||D||(H=k=q);return I}var H,D,I,L,k,r,h,l=0,v=!1,ob=!0;if("function"!=typeof a)throw new Ma("Expected a function");b=0>b?0:+b||0;if(!0===c)var z=!0,ob=!1;else Z(c)&&(z=!!c.leading,v="maxWait"in c&&xa(+c.maxWait||0,b),ob="trailing"in c?!!c.trailing:ob);n.cancel=function(){r&&Ba(r);D&&Ba(D);l=0;D=r=h=q};return n}function Sd(a,b){if("function"!=typeof a||b&&"function"!=
typeof b)throw new Ma("Expected a function");var c=function(){var e=arguments,d=b?b.apply(this,e):e[0],g=c.cache;if(g.has(d))return g.get(d);e=a.apply(this,e);c.cache=g.set(d,e);return e};c.cache=new Sd.Cache;return c}function ba(a,b){if("function"!=typeof a)throw new Ma("Expected a function");b=xa(b===q?a.length-1:+b||0,0);return function(){for(var c=arguments,e=-1,d=xa(c.length-b,0),g=ea(d);++e<d;)g[e]=c[b+e];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,
c[0],c[1],g)}d=ea(b+1);for(e=-1;++e<b;)d[e]=c[e];d[b]=g;return a.apply(this,d)}}function Ge(a,b){return a>b}function Pa(a){return w(a)&&sa(a)&&ca.call(a,"callee")&&!pa.call(a,"callee")}function O(a,b,c,e){e=(c="function"==typeof c?Da(c,e,3):q)?c(a,b):q;return e===q?Qa(a,b,c):!!e}function Ec(a){return w(a)&&"string"==typeof a.message&&"[object Error]"==ta.call(a)}function gb(a){return Z(a)&&"[object Function]"==ta.call(a)}function Z(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Wa(a){return null==
a?!1:gb(a)?ua.test(N.call(a)):w(a)&&He.test(a)}function Td(a){return"number"==typeof a||w(a)&&"[object Number]"==ta.call(a)}function Nc(a){var b;if(!w(a)||"[object Object]"!=ta.call(a)||Pa(a)||!(ca.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var c;sb(a,function(a,m){c=m});return c===q||ca.call(a,c)}function Ie(a){return Z(a)&&"[object RegExp]"==ta.call(a)}function Pd(a){return"string"==typeof a||w(a)&&"[object String]"==ta.call(a)}function Qb(a){return w(a)&&
Ua(a.length)&&!!ha[ta.call(a)]}function cb(a,b){return a<b}function mb(a){var b=a?Fa(a):0;return Ua(b)?b?ya(a):[]:Hb(a)}function Rb(a){return fa(a,fb(a))}function Fc(a){return Zb(a,fb(a))}function fb(a){if(null==a)return[];Z(a)||(a=Gb(a));for(var b=a.length,b=b&&Ua(b)&&(R(a)||Pa(a))&&b||0,c=a.constructor,e=-1,c="function"==typeof c&&c.prototype===a,d=ea(b),g=0<b;++e<b;)d[e]=e+"";for(var n in a)g&&pb(n,b)||"constructor"==n&&(c||!ca.call(a,n))||d.push(n);return d}function Gd(a){a=ga(a);for(var b=-1,
c=wa(a),e=c.length,d=ea(e);++b<e;){var g=c[b];d[b]=[g,a[g]]}return d}function Hb(a){return df(a,wa(a))}function zd(a){return(a=t(a))&&a.replace(dd,c).replace(ma,"")}function Dd(a,b){var c="";a=t(a);b=+b;if(1>b||!a||!Db(b))return c;do b%2&&(c+=a),b=Sa(b/2),a+=a;while(b);return c}function Ud(a,b,c){var e=a;a=t(a);if(!a)return a;if(c?P(e,b,c):null==b)return a.slice(r(a),g(a)+1);b+="";return a.slice(u(a,b),y(a,b)+1)}function yd(a,b,c){c&&P(a,b,c)&&(b=q);a=t(a);return a.match(b||gf)||[]}function zc(a,
b,c){c&&P(a,b,c)&&(b=q);return w(a)?Vd(a):aa(a,b)}function qa(a){return a}function Vd(a){return sd(db(a,!0))}function Gc(a,b,c){if(null==c){var e=Z(b),d=e?wa(b):q;((d=d&&d.length?Zb(b,d):q)?d.length:e)||(d=!1,c=b,b=a,a=this)}d||(d=Zb(b,wa(b)));var g=!0,e=-1,n=gb(a),H=d.length;!1===c?g=!1:Z(c)&&"chain"in c&&(g=c.chain);for(;++e<H;){c=d[e];var D=b[c];a[c]=D;n&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(g||c){var e=a(this.__wrapped__);(e.__actions__=ya(this.__actions__)).push({func:b,
args:arguments,thisArg:a});e.__chain__=c;return e}return b.apply(a,Aa([this.value()],arguments))}}(D))}return a}function ed(){}function sc(a){return ib(a)?af(a):T(a)}a=a?Kb.defaults(jb.Object(),a,Kb.pick(jb,hf)):jb;var ea=a.Array,Hc=a.Date,jf=a.Error,Wd=a.Function,Eb=a.Math,Xd=a.Number,Gb=a.Object,fd=a.RegExp,Yd=a.String,Ma=a.TypeError,Zd=ea.prototype,gd=Gb.prototype,$d=Yd.prototype,N=Wd.prototype.toString,ca=gd.hasOwnProperty,ae=0,ta=gd.toString,Xa=jb._,ua=fd("^"+N.call(ca).replace(/[\\^$.*+?()[\]{}|]/g,
"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xd=a.ArrayBuffer,Ba=a.clearTimeout,Je=a.parseFloat,yc=Eb.pow,pa=gd.propertyIsEnumerable,na=Fb(a,"Set"),tc=a.setTimeout,wd=Zd.splice,Pc=a.Uint8Array,be=Fb(a,"WeakMap"),lb=Eb.ceil,pc=Fb(Gb,"create"),Sa=Eb.floor,ce=Fb(ea,"isArray"),Db=a.isFinite,S=Fb(Gb,"keys"),xa=Eb.max,W=Eb.min,Ke=Fb(Hc,"now"),X=a.parseInt,ac=Eb.random,Le=Xd.NEGATIVE_INFINITY,oc=Xd.POSITIVE_INFINITY,va=be&&new be,Ga={};b.support={};b.templateSettings=
{escape:Lb,evaluate:Y,interpolate:M,variable:"",imports:{_:b}};var bc=function(){function a(){}return function(b){if(Z(b)){a.prototype=b;var c=new a;a.prototype=q}return c||{}}}(),Ia=Mf(eb),Ic=Mf(Yb,!0),Mc=Sb(),ud=Sb(!0),Fd=va?function(a,b){va.set(a,b);return a}:qa,xc=va?function(a){return va.get(a)}:ed,Fa=af("length"),$c=function(){var a=0,b=0;return function(c,e){var d=Dc(),g=16-(d-b);b=d;if(0<g){if(150<=++a)return c}else a=0;return Fd(c,e)}}(),de=ba(function(a,b){return w(a)&&sa(a)?zb(a,oa(b,!1,
!0)):[]}),ee=Sc(),Me=Sc(!0),Ne=ba(function(a){for(var b=a.length,c=b,e=ea(D),d=Pb(),g=d==l,n=[];c--;){var q=a[c]=sa(q=a[c])?q:[];e[c]=g&&120<=q.length?pc&&na?new Xb(c&&q):null:null}var g=a[0],H=-1,D=g?g.length:0,I=e[0];a:for(;++H<D;)if(q=g[H],0>(I?Na(I,q):d(n,q,0))){for(c=b;--c;){var L=e[c];if(0>(L?Na(L,q):d(a[c],q,0)))continue a}I&&I.push(q);n.push(q)}return n}),kf=ba(function(a,b){b=oa(b);var c=se(a,b);If(a,b.sort(F));return c}),lf=Ed(),ic=Ed(!0),fe=ba(function(a){return cf(oa(a,!1,!0))}),Ya=ba(function(a,
b){return sa(a)?zb(a,b):[]}),hd=ba(Jb),jc=ba(function(a){var b=a.length,c=2<b?a[b-2]:q,e=1<b?a[b-1]:q;2<b&&"function"==typeof c?b-=2:(c=1<b&&"function"==typeof e?(--b,e):q,e=q);a.length=b;return fc(a,c,e)}),Mb=ba(function(a){a=oa(a);return this.thru(function(b){b=R(b)?b:[ga(b)];for(var c=a,e=-1,d=b.length,g=-1,n=c.length,q=ea(d+n);++e<d;)q[e]=b[e];for(;++g<n;)q[e++]=c[g];return q})}),ra=ba(function(a,b){return se(a,oa(b))}),mf=ub(function(a,b,c){ca.call(a,c)?++a[c]:a[c]=1}),ge=Va(Ia),Ha=Va(Ic,!0),
Oe=Wc(La,Ia),he=Wc(function(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););return a},Ic),Pe=ub(function(a,b,c){ca.call(a,c)?a[c].push(b):a[c]=[b]}),Qe=ub(function(a,b,c){a[c]=b}),vb=ba(function(a,b,c){var e=-1,d="function"==typeof b,g=ib(b),n=sa(a)?ea(a.length):[];Ia(a,function(a){var m=d?b:g&&null!=a?a[b]:q;n[++e]=m?m.apply(a,c):ec(a,b,c)});return n}),id=ub(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Ub=Yc(qc,Ia),ie=Yc(function(a,b,c,e){var d=a.length;for(e&&d&&(c=a[--d]);d--;)c=
b(c,a[d],d,a);return c},Ic),jd=ba(function(a,b){if(null==a)return[];var c=b[2];c&&P(b[0],b[1],c)&&(b.length=1);return Kf(a,oa(b),[])}),Dc=Ke||function(){return(new Hc).getTime()},Nb=ba(function(a,b,c){var e=1;if(c.length)var d=z(c,Nb.placeholder),e=e|32;return bb(a,e,b,c,d)}),nf=ba(function(a,b){b=b.length?oa(b):Fc(a);for(var c=-1,e=b.length;++c<e;){var d=b[c];a[d]=bb(a[d],1,a)}return a}),je=ba(function(a,b,c){var e=3;if(c.length)var d=z(c,je.placeholder),e=e|32;return bb(b,e,a,c,d)}),kd=Ad(8),ld=
Ad(16),md=ba(function(a,b){return Lc(a,1,b)}),nd=ba(function(a,b,c){return Lc(a,b,c)}),of=Tc(),ke=Tc(!0),pf=ba(function(a,b){b=oa(b);if("function"!=typeof a||!nc(b,K))throw new Ma("Expected a function");var c=b.length;return ba(function(e){for(var d=W(e.length,c);d--;)e[d]=b[d](e[d]);return a.apply(this,e)})}),za=Cb(32),Za=Cb(64),qf=ba(function(a,b){return bb(a,256,q,q,q,oa(b))}),R=ce||function(a){return w(a)&&Ua(a.length)&&"[object Array]"==ta.call(a)},Id=Ta(Hf),$a=Ta(function(a,b,c){return c?rd(a,
b,c):rc(a,b)}),Vb=ka($a,function(a,b){return a===q?b:a}),kc=ka(Id,Hd),lc=wc(eb),od=wc(Yb),rf=Ae(Mc),sf=Ae(ud),tf=Xc(eb),Re=Xc(Yb),wa=S?function(a){var b=null==a?q:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&sa(a)?Kd(a):Z(a)?S(a):[]}:Kd,uf=Be(!0),Jc=Be(),wb=ba(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=Ka(oa(b),Yd),De(a,zb(fb(a),b));var c=Da(b[0],b[1],3);return Jd(a,function(a,b,m){return!c(a,b,m)})}),le=ba(function(a,b){return null==
a?{}:"function"==typeof b[0]?Jd(a,Da(b[0],b[1],3)):De(a,oa(b))}),me=kb(function(a,b,c){b=b.toLowerCase();return a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Se=kb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Te=cc(),vf=cc(!0),ne=kb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),wf=kb(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Ue=ba(function(a,b){try{return a.apply(q,b)}catch(c){return Ec(c)?c:new jf(c)}}),Ve=ba(function(a,b){return function(c){return ec(c,
a,b)}}),xf=ba(function(a,b){return function(c){return ec(a,c,b)}}),yf=ad("ceil"),zf=ad("floor"),Af=ze(Ge,Le),Bf=ze(cb,oc),Cf=ad("round");b.prototype=f.prototype;A.prototype=bc(f.prototype);A.prototype.constructor=A;E.prototype=bc(f.prototype);E.prototype.constructor=E;Ob.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};Ob.prototype.get=function(a){return"__proto__"==a?q:this.__data__[a]};Ob.prototype.has=function(a){return"__proto__"!=a&&ca.call(this.__data__,a)};Ob.prototype.set=
function(a,b){"__proto__"!=a&&(this.__data__[a]=b);return this};Xb.prototype.push=function(a){var b=this.data;"string"==typeof a||Z(a)?b.set.add(a):b.hash[a]=!0};Sd.Cache=Ob;b.after=function(a,b){if("function"!=typeof b)if("function"==typeof a){var c=a;a=b;b=c}else throw new Ma("Expected a function");a=Db(a=+a)?a:0;return function(){if(1>--a)return b.apply(this,arguments)}};b.ary=function(a,b,c){c&&P(a,b,c)&&(b=q);b=a&&null==b?a.length:xa(+b||0,0);return bb(a,128,q,q,q,q,b)};b.assign=$a;b.at=ra;b.before=
cd;b.bind=Nb;b.bindAll=nf;b.bindKey=je;b.callback=zc;b.chain=Nd;b.chunk=function(a,b,c){b=(c?P(a,b,c):null==b)?1:xa(Sa(b)||1,1);c=0;for(var e=a?a.length:0,d=-1,g=ea(lb(e/b));c<e;)g[++d]=Ea(a,c,c+=b);return g};b.compact=function(a){for(var b=-1,c=a?a.length:0,e=-1,d=[];++b<c;){var g=a[b];g&&(d[++e]=g)}return d};b.constant=function(a){return function(){return a}};b.countBy=mf;b.create=function(a,b,c){var e=bc(a);c&&P(a,b,c)&&(b=q);return b?rc(e,b):e};b.curry=kd;b.curryRight=ld;b.debounce=nb;b.defaults=
Vb;b.defaultsDeep=kc;b.defer=md;b.delay=nd;b.difference=de;b.drop=Ld;b.dropRight=Ac;b.dropRightWhile=function(a,b,c){return a&&a.length?uc(a,da(b,c,3),!0,!0):[]};b.dropWhile=function(a,b,c){return a&&a.length?uc(a,da(b,c,3),!0):[]};b.fill=function(a,b,c,e){var d=a?a.length:0;if(!d)return[];c&&"number"!=typeof c&&P(a,b,c)&&(c=0,e=d);d=a.length;c=null==c?0:+c||0;0>c&&(c=-c>d?0:d+c);e=e===q||e>d?d:+e||0;0>e&&(e+=d);d=c>e?0:e>>>0;for(c>>>=0;c<d;)a[c++]=b;return a};b.filter=Bc;b.flatten=function(a,b,c){var e=
a?a.length:0;c&&P(a,b,c)&&(b=!1);return e?oa(a,b):[]};b.flattenDeep=function(a){return a&&a.length?oa(a,!0):[]};b.flow=of;b.flowRight=ke;b.forEach=Oe;b.forEachRight=he;b.forIn=rf;b.forInRight=sf;b.forOwn=tf;b.forOwnRight=Re;b.functions=Fc;b.groupBy=Pe;b.indexBy=Qe;b.initial=function(a){return Ac(a,1)};b.intersection=Ne;b.invert=function(a,b,c){c&&P(a,b,c)&&(b=q);c=-1;for(var e=wa(a),d=e.length,g={};++c<d;){var n=e[c],H=a[n];b?ca.call(g,H)?g[H].push(n):g[H]=[n]:g[H]=n}return g};b.invoke=vb;b.keys=
wa;b.keysIn=fb;b.map=Qd;b.mapKeys=uf;b.mapValues=Jc;b.matches=Vd;b.matchesProperty=function(a,b){return L(a,db(b,!0))};b.memoize=Sd;b.merge=Id;b.method=Ve;b.methodOf=xf;b.mixin=Gc;b.modArgs=pf;b.negate=function(a){if("function"!=typeof a)throw new Ma("Expected a function");return function(){return!a.apply(this,arguments)}};b.omit=wb;b.once=function(a){return cd(2,a)};b.pairs=Gd;b.partial=za;b.partialRight=Za;b.partition=id;b.pick=le;b.pluck=function(a,b){return Qd(a,sc(b))};b.property=sc;b.propertyOf=
function(a){return function(b){return Ja(a,Ra(b),b+"")}};b.pull=function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,e=Pb(),d=a.length;++c<d;)for(var g=0,n=a[c];-1<(g=e(b,n,g));)wd.call(b,g,1);return b};b.pullAt=kf;b.range=function(a,b,c){c&&P(a,b,c)&&(b=c=q);a=+a||0;c=null==c?1:+c||0;null==b?(b=a,a=0):b=+b||0;var e=-1;b=xa(lb((b-a)/(c||1)),0);for(var d=ea(b);++e<b;)d[e]=a,a+=c;return d};b.rearg=qf;b.reject=function(a,b,c){var e=R(a)?yb:te;b=da(b,c,3);return e(a,function(a,c,e){return!b(a,
c,e)})};b.remove=function(a,b,c){var e=[];if(!a||!a.length)return e;var d=-1,g=[],n=a.length;for(b=da(b,c,3);++d<n;)c=a[d],b(c,d,a)&&(e.push(c),g.push(d));If(a,g);return e};b.rest=Ee;b.restParam=ba;b.set=function(a,b,c){if(null==a)return a;var e=b+"";b=null!=a[e]||ib(b,a)?[e]:Ra(b);for(var e=-1,d=b.length,g=d-1,n=a;null!=n&&++e<d;){var q=b[e];Z(n)&&(e==g?n[q]=c:null==n[q]&&(n[q]=pb(b[e+1])?[]:{}));n=n[q]}return a};b.shuffle=function(a){return Cc(a,oc)};b.slice=function(a,b,c){var e=a?a.length:0;if(!e)return[];
c&&"number"!=typeof c&&P(a,b,c)&&(b=0,c=e);return Ea(a,b,c)};b.sortBy=function(a,b,c){if(null==a)return[];c&&P(a,b,c)&&(b=q);var e=-1;b=da(b,c,3);a=hb(a,function(a,c,m){return{criteria:b(a,c,m),index:++e,value:a}});return Jf(a,B)};b.sortByAll=jd;b.sortByOrder=function(a,b,c,e){if(null==a)return[];e&&P(b,c,e)&&(c=q);R(b)||(b=null==b?[]:[b]);R(c)||(c=null==c?[]:[c]);return Kf(a,b,c)};b.spread=function(a){if("function"!=typeof a)throw new Ma("Expected a function");return function(b){return a.apply(this,
b)}};b.take=function(a,b,c){if(!a||!a.length)return[];if(c?P(a,b,c):null==b)b=1;return Ea(a,0,0>b?0:b)};b.takeRight=function(a,b,c){var e=a?a.length:0;if(!e)return[];if(c?P(a,b,c):null==b)b=1;b=e-(+b||0);return Ea(a,0>b?0:b)};b.takeRightWhile=function(a,b,c){return a&&a.length?uc(a,da(b,c,3),!1,!0):[]};b.takeWhile=function(a,b,c){return a&&a.length?uc(a,da(b,c,3)):[]};b.tap=function(a,b,c){b.call(c,a);return a};b.throttle=function(a,b,c){var e=!0,d=!0;if("function"!=typeof a)throw new Ma("Expected a function");
!1===c?e=!1:Z(c)&&(e="leading"in c?!!c.leading:e,d="trailing"in c?!!c.trailing:d);return nb(a,b,{leading:e,maxWait:+b,trailing:d})};b.thru=gc;b.times=function(a,b,c){a=Sa(a);if(1>a||!Db(a))return[];var e=-1,d=ea(W(a,4294967295));for(b=Da(b,c,1);++e<a;)4294967295>e?d[e]=b(e):b(e);return d};b.toArray=mb;b.toPlainObject=Rb;b.transform=function(a,b,c,e){var d=R(a)||Qb(a);b=da(b,e,4);null==c&&(d||Z(a)?(e=a.constructor,c=d?R(a)?new e:[]:bc(gb(e)?e.prototype:q)):c={});(d?La:eb)(a,function(a,e,m){return b(c,
a,e,m)});return c};b.union=fe;b.uniq=Md;b.unzip=Jb;b.unzipWith=fc;b.values=Hb;b.valuesIn=function(a){return df(a,fb(a))};b.where=function(a,b){return Bc(a,sd(b))};b.without=Ya;b.wrap=function(a,b){b=null==b?qa:b;return bb(b,32,q,[a],[])};b.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(sa(c))var e=e?Aa(zb(e,c),zb(c,e)):c}return e?cf(e):[]};b.zip=hd;b.zipObject=Fe;b.zipWith=jc;b.backflow=ke;b.collect=Qd;b.compose=ke;b.each=Oe;b.eachRight=he;b.extend=$a;b.iteratee=zc;b.methods=
Fc;b.object=Fe;b.select=Bc;b.tail=Ee;b.unique=Md;Gc(b,b);b.add=function(a,b){return(+a||0)+(+b||0)};b.attempt=Ue;b.camelCase=me;b.capitalize=function(a){return(a=t(a))&&a.charAt(0).toUpperCase()+a.slice(1)};b.ceil=yf;b.clone=function(a,b,c,e){b&&"boolean"!=typeof b&&P(a,b,c)?b=!1:"function"==typeof b&&(e=c,c=b,b=!1);return"function"==typeof c?db(a,b,Da(c,e,1)):db(a,b)};b.cloneDeep=function(a,b,c){return"function"==typeof b?db(a,!0,Da(b,c,1)):db(a,!0)};b.deburr=zd;b.endsWith=function(a,b,c){a=t(a);
b+="";var e=a.length;c=c===q?e:W(0>c?0:+c||0,e);c-=b.length;return 0<=c&&a.indexOf(b,c)==c};b.escape=function(a){return(a=t(a))&&ia.test(a)?a.replace(Wb,d):a};b.escapeRegExp=function(a){return(a=t(a))&&ob.test(a)?a.replace(xb,v):a||"(?:)"};b.every=Od;b.find=ge;b.findIndex=ee;b.findKey=lc;b.findLast=Ha;b.findLastIndex=Me;b.findLastKey=od;b.findWhere=function(a,b){return ge(a,sd(b))};b.first=Tb;b.floor=zf;b.get=function(a,b,c){a=null==a?q:Ja(a,Ra(b),b+"");return a===q?c:a};b.gt=Ge;b.gte=function(a,
b){return a>=b};b.has=function(a,b){if(null==a)return!1;var c=ca.call(a,b);if(!c&&!ib(b)){b=Ra(b);a=1==b.length?a:Ja(a,Ea(b,0,-1));if(null==a)return!1;b=$b(b);c=ca.call(a,b)}return c||Ua(a.length)&&pb(b,a.length)&&(R(a)||Pa(a))};b.identity=qa;b.includes=hc;b.indexOf=bd;b.inRange=function(a,b,c){b=+b||0;c===q?(c=b,b=0):c=+c||0;return a>=W(b,c)&&a<xa(b,c)};b.isArguments=Pa;b.isArray=R;b.isBoolean=function(a){return!0===a||!1===a||w(a)&&"[object Boolean]"==ta.call(a)};b.isDate=function(a){return w(a)&&
"[object Date]"==ta.call(a)};b.isElement=function(a){return!!a&&1===a.nodeType&&w(a)&&!Nc(a)};b.isEmpty=function(a){return null==a?!0:sa(a)&&(R(a)||Pd(a)||Pa(a)||w(a)&&gb(a.splice))?!a.length:!wa(a).length};b.isEqual=O;b.isError=Ec;b.isFinite=function(a){return"number"==typeof a&&Db(a)};b.isFunction=gb;b.isMatch=function(a,b,c,e){c="function"==typeof c?Da(c,e,3):q;return ab(a,vd(b),c)};b.isNaN=function(a){return Td(a)&&a!=+a};b.isNative=Wa;b.isNull=function(a){return null===a};b.isNumber=Td;b.isObject=
Z;b.isPlainObject=Nc;b.isRegExp=Ie;b.isString=Pd;b.isTypedArray=Qb;b.isUndefined=function(a){return a===q};b.kebabCase=Se;b.last=$b;b.lastIndexOf=function(a,b,c){var e=a?a.length:0;if(!e)return-1;var d=e;if("number"==typeof c)d=(0>c?xa(e+c,0):W(c||0,e-1))+1;else if(c)return d=ef(a,b,!0)-1,a=a[d],(b===b?b===a:a!==a)?d:-1;if(b!==b)return h(a,d,!0);for(;d--;)if(a[d]===b)return d;return-1};b.lt=cb;b.lte=function(a,b){return a<=b};b.max=Af;b.min=Bf;b.noConflict=function(){jb._=Xa;return this};b.noop=ed;
b.now=Dc;b.pad=function(a,b,c){a=t(a);b=+b;var e=a.length;if(e>=b||!Db(b))return a;e=(b-e)/2;b=Sa(e);e=lb(e);c=Bd("",e,c);return c.slice(0,b)+a+c};b.padLeft=Te;b.padRight=vf;b.parseInt=function(a,b,c){(c?P(a,b,c):null==b)?b=0:b&&(b=+b);a=Ud(a);return X(a,b||(Df.test(a)?16:10))};b.random=function(a,b,c){c&&P(a,b,c)&&(b=c=q);var e=null==a,d=null==b;null==c&&(d&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,d=!0));e&&d&&(b=1,d=!1);a=+a||0;d?(b=a,a=0):b=+b||0;return c||a%1||b%1?(c=ac(),W(a+
c*(b-a+Je("1e-"+((c+"").length-1))),b)):bf(a,b)};b.reduce=Ub;b.reduceRight=ie;b.repeat=Dd;b.result=function(a,b,c){var e=null==a?q:a[b];e===q&&(null==a||ib(b,a)||(b=Ra(b),a=1==b.length?a:Ja(a,Ea(b,0,-1)),e=null==a?q:a[$b(b)]),e=e===q?c:e);return gb(e)?e.call(a):e};b.round=Cf;b.runInContext=n;b.size=function(a){var b=a?Fa(a):0;return Ua(b)?b:wa(a).length};b.snakeCase=ne;b.some=Rd;b.sortedIndex=lf;b.sortedLastIndex=ic;b.startCase=wf;b.startsWith=function(a,b,c){a=t(a);c=null==c?0:W(0>c?0:+c||0,a.length);
return a.lastIndexOf(b,c)==c};b.sum=function(a,b,c){c&&P(a,b,c)&&(b=q);b=da(b,c,3);if(1==b.length){a=R(a)?a:Rc(a);c=a.length;for(var e=0;c--;)e+=+b(a[c])||0;a=e}else a=qg(a,b);return a};b.template=function(a,c,e){var d=b.templateSettings;e&&P(a,c,e)&&(c=e=q);a=t(a);c=rd(rc({},e||c),d,re);e=rd(rc({},c.imports),d.imports,re);var g=wa(e),n=df(e,g),H,I,L=0;e=c.interpolate||pd;var r="__p += '";e=fd((c.escape||pd).source+"|"+e.source+"|"+(e===M?qd:pd).source+"|"+(c.evaluate||pd).source+"|$","g");var h=
"//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++We+"]")+"\n";a.replace(e,function(b,c,e,d,g,n){e||(e=d);r+=a.slice(L,n).replace(Ef,k);c&&(H=!0,r+="' +\n__e("+c+") +\n'");g&&(I=!0,r+="';\n"+g+";\n__p += '");e&&(r+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'");L=n+b.length;return b});r+="';\n";(c=c.variable)||(r="with (obj) {\n"+r+"\n}\n");r=(I?r.replace(G,""):r).replace(D,"$1").replace(J,"$1;");r="function("+(c||"obj")+") {\n"+(c?"":"obj || (obj = {});\n")+"var __t, __p = ''"+
(H?", __e = _.escape":"")+(I?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+r+"return __p\n}";c=Ue(function(){return Wd(g,h+"return "+r).apply(q,n)});c.source=r;if(Ec(c))throw c;return c};b.trim=Ud;b.trimLeft=function(a,b,c){var e=a;return(a=t(a))?(c?P(e,b,c):null==b)?a.slice(r(a)):a.slice(u(a,b+"")):a};b.trimRight=function(a,b,c){var e=a;return(a=t(a))?(c?P(e,b,c):null==b)?a.slice(0,g(a)+1):a.slice(0,y(a,b+"")+1):a};b.trunc=function(a,b,c){c&&P(a,b,
c)&&(b=q);var e=30;c="...";if(null!=b)if(Z(b)){var d="separator"in b?b.separator:d,e="length"in b?+b.length||0:e;c="omission"in b?t(b.omission):c}else e=+b||0;a=t(a);if(e>=a.length)return a;e-=c.length;if(1>e)return c;b=a.slice(0,e);if(null==d)return b+c;if(Ie(d)){if(a.slice(e).search(d)){var g,n=a.slice(0,e);d.global||(d=fd(d.source,(dc.exec(d)||"")+"g"));for(d.lastIndex=0;a=d.exec(n);)g=a.index;b=b.slice(0,null==g?e:g)}}else a.indexOf(d,e)!=e&&(d=b.lastIndexOf(d),-1<d&&(b=b.slice(0,d)));return b+
c};b.unescape=function(a){return(a=t(a))&&Q.test(a)?a.replace(V,e):a};b.uniqueId=function(a){var b=++ae;return t(a)+b};b.words=yd;b.all=Od;b.any=Rd;b.contains=hc;b.eq=O;b.detect=ge;b.foldl=Ub;b.foldr=ie;b.head=Tb;b.include=hc;b.inject=Ub;Gc(b,function(){var a={};eb(b,function(c,e){b.prototype[e]||(a[e]=c)});return a}(),!1);b.sample=Cc;b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Cc(b,a)}):Cc(this.value())};b.VERSION="3.10.1";La("bind bindKey curry curryRight partial partialRight".split(" "),
function(a){b[a].placeholder=b});La(["drop","take"],function(a,b){E.prototype[a]=function(c){var e=this.__filtered__;if(e&&!b)return new E(this);c=null==c?1:xa(Sa(c)||0,0);var d=this.clone();e?d.__takeCount__=W(d.__takeCount__,c):d.__views__.push({size:c,type:a+(0>d.__dir__?"Right":"")});return d};E.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});La(["filter","map","takeWhile"],function(a,b){var c=b+1,e=2!=c;E.prototype[a]=function(a,b){var d=this.clone();d.__iteratees__.push({iteratee:da(a,
b,1),type:c});d.__filtered__=d.__filtered__||e;return d}});La(["first","last"],function(a,b){var c="take"+(b?"Right":"");E.prototype[a]=function(){return this[c](1).value()[0]}});La(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");E.prototype[a]=function(){return this.__filtered__?new E(this):this[c](1)}});La(["pluck","where"],function(a,b){var c=b?"filter":"map",e=b?sd:sc;E.prototype[a]=function(a){return this[c](e(a))}});E.prototype.compact=function(){return this.filter(qa)};E.prototype.reject=
function(a,b){a=da(a,b,1);return this.filter(function(b){return!a(b)})};E.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;if(c.__filtered__&&(0<a||0>b))return new E(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==q&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a));return c};E.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()};E.prototype.toArray=function(){return this.take(oc)};eb(E.prototype,function(a,c){var e=/^(?:filter|map|reject)|While$/.test(c),d=/^(?:first|last)$/.test(c),
g=b[d?"take"+("last"==c?"Right":""):c];g&&(b.prototype[c]=function(){var b=d?[1]:arguments,c=this.__chain__,n=this.__wrapped__,H=!!this.__actions__.length,D=n instanceof E,I=b[0],L=D||R(n);L&&e&&"function"==typeof I&&1!=I.length&&(D=L=!1);var r=function(a){return d&&c?g(a,1)[0]:g.apply(q,Aa([a],b))},I={func:gc,args:[r],thisArg:q},H=D&&!H;return d&&!c?H?(n=n.clone(),n.__actions__.push(I),a.call(n)):g.call(q,this.value())[0]:!d&&L?(n=H?n:new E(this),n=a.apply(n,b),n.__actions__.push(I),new A(n,c)):
this.thru(r)})});La("join pop push replace shift sort splice split unshift".split(" "),function(a){var c=(/^(?:replace|split)$/.test(a)?$d:Zd)[a],e=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?c.apply(this.value(),a):this[e](function(b){return c.apply(b,a)})}});eb(E.prototype,function(a,c){var e=b[c];if(e){var d=e.name;(Ga[d]||(Ga[d]=[])).push({name:c,func:e})}});Ga[Zc(q,2).name]=[{name:"wrapper",
func:q}];E.prototype.clone=function(){var a=new E(this.__wrapped__);a.__actions__=ya(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=ya(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=ya(this.__views__);return a};E.prototype.reverse=function(){if(this.__filtered__){var a=new E(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};E.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,e=R(b),
d=0>c,g=e?b.length:0;a=0;for(var n=g,q=this.__views__,H=-1,D=q.length;++H<D;){var I=q[H],L=I.size;switch(I.type){case "drop":a+=L;break;case "dropRight":n-=L;break;case "take":n=W(n,a+L);break;case "takeRight":a=xa(a,n-L)}}q=n;n=q-a;a=d?q:a-1;q=this.__iteratees__;H=q.length;D=0;I=W(n,this.__takeCount__);if(!e||200>g||g==n&&I==n)return vc(d&&e?b.reverse():b,this.__actions__);e=[];a:for(;n--&&D<I;){a+=c;d=-1;for(g=b[a];++d<H;){var r=q[d],L=r.iteratee,r=r.type,L=L(g);if(2==r)g=L;else if(!L)if(1==r)continue a;
else break a}e[D++]=g}return e};b.prototype.chain=function(){return Nd(this)};b.prototype.commit=function(){return new A(this.value(),this.__chain__)};b.prototype.concat=Mb;b.prototype.plant=function(a){for(var b,c=this;c instanceof f;){var e=Kc(c);b?d.__wrapped__=e:b=e;var d=e,c=c.__wrapped__}d.__wrapped__=a;return b};b.prototype.reverse=function(){var a=this.__wrapped__,b=function(a){return c&&0>c.__dir__?a:a.reverse()};if(a instanceof E){var c=a;this.__actions__.length&&(c=new E(this));c=c.reverse();
c.__actions__.push({func:gc,args:[b],thisArg:q});return new A(c,this.__chain__)}return this.thru(b)};b.prototype.toString=function(){return this.value()+""};b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=function(){return vc(this.__wrapped__,this.__actions__)};b.prototype.collect=b.prototype.map;b.prototype.head=b.prototype.first;b.prototype.select=b.prototype.filter;b.prototype.tail=b.prototype.rest;return b}var q,G=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,
V=/&(?:amp|lt|gt|quot|#39|#96);/g,Wb=/[&<>"'`]/g,Q=RegExp(V.source),ia=RegExp(Wb.source),Lb=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,M=/<%=([\s\S]+?)%>/g,la=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,I=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xb=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ob=RegExp(xb.source),ma=/[\u0300-\u036f\ufe20-\ufe23]/g,Ib=/\\(\\)?/g,qd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dc=/\w*$/,Df=/^0[xX]/,He=/^\[object .+?Constructor\]$/,
x=/^\d+$/,dd=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,pd=/($^)/,Ef=/['\n\r\u2028\u2029\\]/g,gf=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),hf="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),
We=-1,ha={};ha["[object Float32Array]"]=ha["[object Float64Array]"]=ha["[object Int8Array]"]=ha["[object Int16Array]"]=ha["[object Int32Array]"]=ha["[object Uint8Array]"]=ha["[object Uint8ClampedArray]"]=ha["[object Uint16Array]"]=ha["[object Uint32Array]"]=!0;ha["[object Arguments]"]=ha["[object Array]"]=ha["[object ArrayBuffer]"]=ha["[object Boolean]"]=ha["[object Date]"]=ha["[object Error]"]=ha["[object Function]"]=ha["[object Map]"]=ha["[object Number]"]=ha["[object Object]"]=ha["[object RegExp]"]=
ha["[object Set]"]=ha["[object String]"]=ha["[object WeakMap]"]=!1;var ja={};ja["[object Arguments]"]=ja["[object Array]"]=ja["[object ArrayBuffer]"]=ja["[object Boolean]"]=ja["[object Date]"]=ja["[object Float32Array]"]=ja["[object Float64Array]"]=ja["[object Int8Array]"]=ja["[object Int16Array]"]=ja["[object Int32Array]"]=ja["[object Number]"]=ja["[object Object]"]=ja["[object RegExp]"]=ja["[object String]"]=ja["[object Uint8Array]"]=ja["[object Uint8ClampedArray]"]=ja["[object Uint16Array]"]=ja["[object Uint32Array]"]=
!0;ja["[object Error]"]=ja["[object Function]"]=ja["[object Map]"]=ja["[object Set]"]=ja["[object WeakMap]"]=!1;var Ob={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i",
"\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},La={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Xb=
{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Na={"function":!0,object:!0},ya={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},nc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yb=Na[typeof f]&&f&&!f.nodeType&&f,Ka=Na[typeof E]&&E&&!E.nodeType&&E,oe=Na[typeof self]&&self&&
self.Object&&self,Na=Na[typeof window]&&window&&window.Object&&window,mc=Ka&&Ka.exports===yb&&yb,jb=yb&&Ka&&"object"==typeof a&&a&&a.Object&&a||Na!==(this&&this.window)&&Na||oe||this,Kb=n();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(jb._=Kb,define(function(){return Kb})):yb&&Ka?mc?(Ka.exports=Kb)._=Kb:yb._=Kb:jb._=Kb}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],10:[function(a,E,f){var A,
F,p,l,K,t,u,y,B,c,d,v,k,h,w,b,z,r,g,e,n,q,G=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};A=a("lodash");q=a("./util");d=a("./match");n=a("./substitute");v=function(a){a=q.cloneExpression(a);a=n.doSubRecursive(a,n.subsForPNF.replace_arrow);a=n.doSubRecursive(a,n.subsForPNF.replace_double_arrow);a=b(a);return a=q.exhaust(a,function(a){var b,c,e;c=n.subsForPNF;for(b in c)e=c[b],"replace_arrow"!==b&&"replace_double_arrow"!==b&&(a=n.doSubRecursive(a,
e));return a})};f.prenexNormalForm=v;f.isPNF=function(a){var b,c,e,d,g,n,q,r;a=h(a);b=B(a,"and");a=[];e=0;for(d=b.length;e<d;e++)c=b[e],a.push(B(c,"or"));c=0;for(d=a.length;c<d;c++)for(r=a[c],e=0,g=r.length;e<g;e++)if(b=r[e],"not"!==(n=b.type)&&"sentence_letter"!==n&&"predicate"!==n||"not"===b.type&&"sentence_letter"!==(q=b.left.type)&&"predicate"!==q)return!1;return!0};b=function(a,b){var c,e,d,g,n,r;null==b&&(b="x");g=("\u03b1"===(n=b[0])||"\u03b2"===n||"\u03b3"===n||"\u03c4"===n?"term_metavariable":
void 0)||"variable";c=0;e={};d=function(a){var d;null==e[a.name]&&(c+=1,d=""+b+c,e[a.name]=d);return e[a.name]};r=function(a){if(null!=e[a.name])return delete e[a.name]};return q.walkMutate(a,function(a){if(null===a||null==(null!=a?a.boundVariable:void 0)&&(null==(null!=a?a.type:void 0)||"variable"!==a.type))return a;null!=a.boundVariable&&r(a.boundVariable);null!=(null!=a?a.type:void 0)&&"variable"===a.type&&(a.name=d(a),a.type=g);return a},{topDown:!0})};f.renameVariables=b;f.convertToPNFsimplifyAndSort=
function(a){a=v(a);a=t(a);a=e(a);z(a);return a};f.areExpressionsEquivalent=function(a,b){a=v(a);b=v(b);return p(a,b)};p=function(a,c){var g,n,q;a=t(a);a=e(a);z(a);c=t(c);c=e(c);z(c);n=b(a,"\u03c4");g=h(n);q=h(c);g=d.find(q,g);if(!1===g)return!1;n=d.apply(n,g);return l(n,c)};f.arePNFExpressionsEquivalent=p;e=function(a){var b,c,e,d,n;n=u(a);a=h(a);b=B(a,"and");a=[];e=0;for(d=b.length;e<d;e++)c=b[e],a.push(B(c,"or"));c=0;for(e=a.length;c<e;c++)b=a[c],r(b);g(a);d=[];c=0;for(e=a.length;c<e;c++)b=a[c],
d.push(k(b,"or"));a=k(d,"and");return K(a,n)};f.sortPNFExpression=e;h=function(a){return null!=a.boundVariable?h(a.left):a};f.removeQuantifiers=h;B=function(a,b){var c;if(null!=a.type&&a.type!==b)return[a];if(null!=a.type&&a.type===b)return c=[],c.push.apply(c,B(a.left,b)),c.push.apply(c,B(a.right,b)),c;throw Error("listJuncts called with type = "+b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listJuncts=B;r=function(a){return a.sort(q.atomicExpressionComparator)};f.sortJuncts=
r;g=function(a){return a.sort(q.listOfAtomicExpressionsComparator)};f.sortListOfJuncts=g;k=function(a,b){var c,e;if(!a||null==a.length||0===a.length)throw Error("rebuildExpression called with listOfJuncts = "+a);if(1===a.length)return a[0];c=a.shift();e=k(a,b);return{type:b,left:c,right:e}};f.rebuildExpression=k;c=function(a,b){var e;if(null!=a.type&&a.type!==b)return{quantifiedExpression:a};if(null!=a.type&&a.type===b)return e=c(a.left,b),null==e.boundVariables&&(e.boundVariables=[]),e.boundVariables.push(a.boundVariable),
e;throw Error("listQuants called with type = "+b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listQuants=c;u=function(a){var b;return null!=a.boundVariable?(b=u(a.left),{type:a.type,symbol:a.symbol,location:a.location,boundVariable:a.boundVariable,left:b,right:null}):null};f.getPrefixedQuantifiers=u;K=function(a,b){if(null===b)return a;null!==b.left?K(a,b.left):b.left=a;return b};f.attachExpressionToQuantifiers=K;l=function(a,b,c){var e;null==c&&(c={quantifierType:null,leftBoundVariables:[],
rightBoundVariables:[]});e=(null!=a?a.type:void 0)||null;if(c.quantifierType!==e){c.leftBoundVariables.sort();c.rightBoundVariables.sort();if(!A.isEqual(c.leftBoundVariables,c.rightBoundVariables))return!1;c.leftBoundVariables=[];c.rightBoundVariables=[];c.quantifierType=e}if(null===a||null==a.boundVariable)return null===b||null==b.boundVariable?!0:!1;if(null===b||null==b.type||b.type!==e)return!1;c.leftBoundVariables.push(a.boundVariable.name);c.rightBoundVariables.push(b.boundVariable.name);return l(a.left,
b.left,c)};f.arePrefixedQuantifiersEquivalent=l;z=function(a,b){var c,e,d,g;void 0===b&&(b=F(a));if(null==(null!=a?a.type:void 0))return a;if("identity"!==a.type)return null!=a.left&&z(a.left,b),null!=a.right&&z(a.right,b),a;c=a.termlist[0];d=a.termlist[1];1===q.termComparator(c,d)&&(e=[d,c],c=e[0],d=e[1]);"variable"===c.type&&"variable"===d.type&&(e=b.indexOf(c.name),g=b.indexOf(d.name),e>g&&(e=[d,c],c=e[0],d=e[1]));a.termlist=[c,d];return a};f.sortIdentityStatements=z;F=function(a,b){var c,e;null==
b&&(b={quantifierType:null,thisTypeBoundVariables:[],allBoundVariables:[]});c=(null!=a?a.type:void 0)||null;b.quantifierType!==c&&(b.thisTypeBoundVariables.sort(),(e=b.allBoundVariables).push.apply(e,b.thisTypeBoundVariables),b.thisTypeBoundVariables=[],b.quantifierType=c);if(null===c||null==a.boundVariable)return b.allBoundVariables;b.thisTypeBoundVariables.push(a.boundVariable.name);return F(a.left,b)};f._getVariableOrder=F;t=function(a){a=q.exhaust(a,function(a){var b,c,d;c=n.subs_eliminate_redundancy;
for(b in c)d=c[b],a=n.doSubRecursive(a,d);return e(a)});return a=w(a)};f.eliminateRedundancyInPNF=t;y=function(a,b){var c;if(null!=b.termlist){var e,d,g,n;g=b.termlist;n=[];e=0;for(d=g.length;e<d;e++)c=g[e],n.push(c.name);if(0<=G.call(n,a))return!0}return null!=b.boundVariable&&b.boundVariable.name===a?!1:null!=b.left&&y(a,b.left)||null!=b.right&&y(a,b.right)?!0:!1};f.isVariableFree=y;w=function(a){a=q.cloneExpression(a);return q.walkMutate(a,function(a){return null==(null!=a?a.boundVariable:void 0)||
y(a.boundVariable.name,a.left)?a:a.left})};f.removeQuantifiersThatBindNothing=w},{"./match":8,"./substitute":30,"./util":32,lodash:9}],11:[function(a,E,f){(function(A){var F=function(){function a(){this.yy={}}var l=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=b);return c},f=[1,4],t=[1,5],u=[1,6],y=[1,7],B=[1,8],c=[1,9],d=[1,11],v=[1,14],k=[1,15],h=[1,18],w=[1,19],b=[1,16],z=[1,21],r=[1,22],g=[1,23],e=[1,24],n=[1,25],q=[1,26],G=[1,27],D=[1,32],J=[5,10,13,14,15,16,17,18,27,29,34,37],V=[1,40],
A=[5,10,13,14,15,16,17,18,26,27,29,34,37],Q=[2,32],F=[5,7,9,10,11,13,14,15,16,17,18,19,20,21,23,26,27,29,30,31,32,33,34,35,37],E=[7,9,10,11,19,20,21,23,30,31,32,33,35],Y=[5,10,13,14,15,16,17,18,29,34,37],M=[5,10,29,34,37],la=[29,34],l={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,"(":9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,
sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,"[":27,substitution_list:28,"]":29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,",":34,name:35,substitution:36,substitution_symbol:37,"null":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"(",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",
29:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",34:",",35:"name",37:"substitution_symbol",38:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,5],[4,3],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,4],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[8,1],[8,3],[24,1],[24,3],[25,1],[25,1],[28,1],[28,3],[36,3],[36,3],[36,3],[36,3],[6,3]],performAction:function(a,b,c,e,d,g,n){a=g.length-1;switch(d){case 1:case 2:return g[a-1];case 3:return g[a-
1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-2],location:n[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 5:this.$={type:"existential_quantifier",symbol:g[a-3],location:n[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:g[a-2],location:n[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 7:this.$={type:"universal_quantifier",symbol:g[a-3],location:n[a-3],boundVariable:g[a-2],left:g[a],right:null};
break;case 8:this.$={type:"universal_quantifier",symbol:"",location:n[a-2],boundVariable:g[a-2],left:g[a],right:null};break;case 9:this.$={type:"and",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"or",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"nand",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"nor",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 13:this.$={type:"arrow",symbol:g[a-
1],location:n[a-1],left:g[a-2],right:g[a]};break;case 14:this.$={type:"double_arrow",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 15:this.$={type:"not",symbol:g[a-1],location:n[a-1],left:g[a],right:null};break;case 16:this.$={type:"value",symbol:g[a],location:n[a],value:!0,left:null,right:null};break;case 17:this.$={type:"value",symbol:g[a],location:n[a],value:!1,left:null,right:null};break;case 18:case 27:case 32:this.$=g[a];break;case 19:this.$={type:"predicate",name:g[a-3],
location:n[a-3],termlist:g[a-1]};break;case 20:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 21:case 28:this.$=g[a-1];break;case 22:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 23:this.$={type:"expression_variable",location:n[a],letter:g[a],left:null,right:null};break;case 24:this.$={type:"sentence_letter",location:n[a],letter:g[a],left:null,right:null};break;case 25:this.$={type:"variable",
name:g[a],location:n[a]};break;case 26:this.$={type:"term_metavariable",name:g[a],location:n[a]};break;case 29:case 33:this.$=[g[a]];break;case 30:case 34:this.$=[g[a-2]].concat(g[a]);break;case 31:this.$={type:"name",name:g[a],location:n[a]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 36:case 38:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 39:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:t,11:u,12:17,19:y,
20:B,21:c,22:10,23:d,25:12,27:[1,13],30:v,31:k,32:h,33:w,35:b},{1:[3]},{5:[1,20],13:z,14:r,15:g,16:e,17:n,18:q,27:G},{4:29,5:[1,28],7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{8:30,9:D,12:31,32:h,33:w},{4:36,7:[1,33],9:t,11:[1,34],12:35,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{8:37,9:D,12:31,32:h,33:w},{4:38,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},l(J,[2,16]),l(J,[2,17]),l(J,[2,18]),{9:[1,39]},{26:V},{12:17,25:41,
32:h,33:w,35:b},l(J,[2,23]),l(J,[2,24]),l(A,[2,31]),l(A,Q),l(F,[2,25]),l(F,[2,26]),{1:[2,1]},{4:42,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{4:43,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{4:44,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{4:45,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{4:46,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,
35:b},{4:47,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{4:51,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:50,28:48,30:v,31:k,32:h,33:w,35:b,36:49},{1:[2,2]},{5:[1,52],13:z,14:r,15:g,16:e,17:n,18:q,27:G},{4:53,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},l(E,[2,27]),{12:54,32:h,33:w},{8:55,9:D,12:31,32:h,33:w},{8:56,9:D,12:31,32:h,33:w},{10:[1,57],26:Q},{10:[1,58],13:z,14:r,15:g,16:e,17:n,18:q,27:G},{4:59,7:f,9:t,11:u,12:17,19:y,
20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},l(Y,[2,15],{27:G}),{12:17,24:60,25:61,32:h,33:w,35:b},{12:17,25:62,32:h,33:w,35:b},{29:[1,63]},l(Y,[2,9],{27:G}),l(Y,[2,10],{27:G}),l(Y,[2,11],{27:G}),l(Y,[2,12],{27:G}),l(M,[2,13],{13:z,14:r,15:g,16:e,27:G}),l(M,[2,14],{13:z,14:r,15:g,16:e,27:G}),{29:[1,64]},{29:[2,33],34:[1,65]},{26:V,37:[1,66]},{13:z,14:r,15:g,16:e,17:n,18:q,27:G,37:[1,67]},{1:[2,3]},l(Y,[2,4],{27:G}),{10:[1,68]},{4:53,7:f,9:t,10:[1,69],11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,
30:v,31:k,32:h,33:w,35:b},{4:59,7:f,9:t,10:[1,70],11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{4:71,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},l(J,[2,21]),l(Y,[2,6],{27:G}),{10:[1,72]},{10:[2,29],34:[1,73]},l(J,[2,20]),l([5,7,9,11,19,20,21,23,30,31,32,33,35],[2,39]),l(J,[2,22]),{4:51,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:50,28:74,30:v,31:k,32:h,33:w,35:b,36:49},{12:17,25:75,32:h,33:w,35:b,38:[1,76]},{4:77,7:f,9:t,11:u,12:17,19:y,
20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b,38:[1,78]},l(E,[2,28]),{4:79,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},{4:80,7:f,9:t,11:u,12:17,19:y,20:B,21:c,22:10,23:d,25:12,30:v,31:k,32:h,33:w,35:b},l(Y,[2,8],{27:G}),l(J,[2,19]),{12:17,24:81,25:61,32:h,33:w,35:b},{29:[2,34]},l(la,[2,35]),l(la,[2,36]),l(la,[2,37],{13:z,14:r,15:g,16:e,17:n,18:q,27:G}),l(la,[2,38]),l(Y,[2,5],{27:G}),l(Y,[2,7],{27:G}),{10:[2,30]}],defaultActions:{20:[2,1],28:[2,2],52:[2,3],74:[2,
34],81:[2,30]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],d=this.table,g="",n=0,q=0,r=0,k=e.slice.call(arguments,1),h=Object.create(this.lexer),D={},l;for(l in this.yy)Object.prototype.hasOwnProperty.call(this.yy,l)&&(D[l]=this.yy[l]);h.setInput(a,D);D.lexer=h;D.parser=this;"undefined"==typeof h.yylloc&&(h.yylloc={});l=h.yylloc;e.push(l);var v=h.options&&
h.options.ranges;this.parseError="function"===typeof D.parseError?D.parseError:Object.getPrototypeOf(this).parseError;for(var z,f,G,p,la={},w,M;;){G=b[b.length-1];if(this.defaultActions[G])p=this.defaultActions[G];else{if(null===z||"undefined"==typeof z)z=void 0,z=h.lex()||1,"number"!==typeof z&&(z=this.symbols_[z]||z);p=d[G]&&d[G][z]}if("undefined"===typeof p||!p.length||!p[0]){var Q="";M=[];for(w in d[G])this.terminals_[w]&&2<w&&M.push("'"+this.terminals_[w]+"'");Q=h.showPosition?"Parse error on line "+
(n+1)+":\n"+h.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[z]||z)+"'":"Parse error on line "+(n+1)+": Unexpected "+(1==z?"end of input":"'"+(this.terminals_[z]||z)+"'");this.parseError(Q,{text:h.match,token:this.terminals_[z]||z,line:h.yylineno,loc:l,expected:M})}if(p[0]instanceof Array&&1<p.length)throw Error("Parse Error: multiple actions possible at state: "+G+", token: "+z);switch(p[0]){case 1:b.push(z);c.push(h.yytext);e.push(h.yylloc);b.push(p[1]);z=null;f?(z=f,f=null):
(q=h.yyleng,g=h.yytext,n=h.yylineno,l=h.yylloc,0<r&&r--);break;case 2:M=this.productions_[p[1]][1];la.$=c[c.length-M];la._$={first_line:e[e.length-(M||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(M||1)].first_column,last_column:e[e.length-1].last_column};v&&(la._$.range=[e[e.length-(M||1)].range[0],e[e.length-1].range[1]]);G=this.performAction.apply(la,[g,q,n,D,p[1],c,e].concat(k));if("undefined"!==typeof G)return G;M&&(b=b.slice(0,-2*M),c=c.slice(0,-1*M),e=e.slice(0,
-1*M));b.push(this.productions_[p[1]][0]);c.push(la.$);e.push(la._$);p=d[b[b.length-2]][b[b.length-1]];b.push(p);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,
last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,
this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&
(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},
pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,
yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc=
{first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,
this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var d in e)this[d]=e[d];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),d=0;d<e.length;d++)if((b=this._input.match(this.rules[e[d]]))&&(!a||b[0].length>a[0].length))if(a=b,c=d,this.options.backtrack_lexer){a=this.test_match(b,e[d]);if(!1!==a)return a;
if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,e){switch(c){case 1:return this.popState(),
9;case 2:return 9;case 3:return 10;case 4:return 27;case 5:return 29;case 6:return 34;case 7:return this.begin("expectLeftBracket"),23;case 8:return 37;case 9:return 20;case 10:return 21;case 11:return 26;case 12:return 13;case 13:return 17;case 14:return 18;case 15:return 14;case 16:return 19;case 17:return 16;case 18:return 15;case 19:return 11;case 20:return 7;case 21:return 31;case 22:return 35;case 23:return 32;case 24:return 30;case 25:return 33;case 26:return 38;case 27:return 5;case 28:return"invalid_character"}},
rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][A-Za-z0-9]*(?=(\()))/,/^(?:--\x3e)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE]|\u22a5|_\|_|[cC][oO][nN][tT][rR][aA][dD][iI][cC][tT][iI][oO][nN]|[cC][oO][nN][tT][rR][aA])/,/^(?:=)/,/^(?:[aA][nN][dD]|&|\u2227|\u2022)/,/^(?:[aA][rR][rR][oO][wW]|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:[oO][rR]|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:[nN][oO][tT]|\u00ac|~|\u02dc|!)/,/^(?:[nN][oO][rR]|\u2193)/,
/^(?:[nN][aA][nN][dD]|\u2191)/,/^(?:[aA][lL][lL]|\u2200|[eE][vV][eE][rR][yY])/,/^(?:[sS][oO][mM][eE]|[eE][xX][iI][sS][tT][sS]|\u2203)/,/^(?:[A-Zpqrs][0-9]*)/,/^(?:[a-d][0-9]*)/,/^(?:[etxyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[1],inclusive:!1},INITIAL:{rules:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}}}();l.lexer=f;a.prototype=
l;l.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(p){p[1]||(console.log("Usage: "+p[0]+" FILE"),A.exit(1));p=a("fs").readFileSync(a("path").normalize(p[1]),"utf8");return f.parser.parse(p)},"undefined"!==typeof E&&a.main===E&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],12:[function(a,E,f){(function(A){var F=function(){function a(){this.yy=
{}}var l=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=b);return c},f=[1,4],t=[1,5],u=[1,6],y=[1,7],B=[1,9],c=[1,12],d=[1,13],v=[1,18],k=[1,19],h=[1,14],w=[1,15],b=[1,17],z=[1,21],r=[1,22],g=[1,23],e=[1,24],n=[1,25],q=[1,26],G=[1,27],D=[1,30],J=[5,10,13,14,15,16,17,18,27,28,38],V=[1,38],A=[5,10,13,14,15,16,17,18,27,28,38,39],Q=[5,10,13,14,15,16,17,18,26,27,28,32,33,34,35,36,38,39],F=[2,31],E=[5,10,13,14,15,16,17,18,28,38],Y=[5,10,28,38],M=[28,38],l={trace:function(){},yy:{},symbols_:{error:2,
expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,"[":27,"]":28,substitution_list:29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,
"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",28:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,4],[4,3],[4,3],
[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[9,1],[24,1],[24,2],[25,1],[25,1],[25,1],[25,1],[29,1],[29,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,e,d,g,n){a=g.length-1;switch(d){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-3],location:n[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-
3],location:n[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:"",location:n[a-2],boundVariable:g[a-2],left:g[a],right:null};break;case 7:this.$={type:"and",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 8:this.$={type:"or",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nand",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"nor",symbol:g[a-1],location:n[a-1],
left:g[a-2],right:g[a]};break;case 11:this.$={type:"arrow",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"double_arrow",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 13:this.$={type:"not",symbol:g[a-1],location:n[a-1],left:g[a],right:null};break;case 14:this.$={type:"value",symbol:g[a],location:n[a],value:!0,left:null,right:null};break;case 15:this.$={type:"value",symbol:g[a],location:n[a],value:!1,left:null,right:null};break;case 16:case 26:case 31:this.$=
g[a];break;case 17:this.$={type:"predicate",name:g[a-1],location:n[a-1],termlist:g[a]};break;case 18:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 19:case 20:this.$=g[a-1];break;case 21:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 22:this.$={type:"expression_variable",location:n[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"sentence_letter",location:n[a],letter:g[a],
left:null,right:null};break;case 24:this.$={type:"variable",name:g[a],location:n[a]};break;case 25:this.$={type:"term_metavariable",name:g[a],location:n[a]};break;case 27:case 33:this.$=[g[a]];break;case 28:this.$=[g[a-1]].concat(g[a]);break;case 29:this.$={type:"name",name:g[a],location:n[a]};break;case 30:this.$={type:"name_hat",name:g[a],location:n[a]};break;case 32:this.$={type:"term_metavariable_hat",name:g[a],location:n[a]};break;case 34:this.$=[g[a-2]].concat(g[a]);break;case 35:case 37:this.$=
{type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 36:case 38:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 39:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:[1,11],30:c,31:d,32:v,33:k,34:h,35:w,36:b},{1:[3]},{5:[1,20],13:z,14:r,15:g,16:e,17:n,18:q,27:G},{4:29,5:[1,28],7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{4:34,7:f,8:[1,31],11:[1,32],12:33,19:t,20:u,21:y,22:8,
23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{4:35,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},l(J,[2,14]),l(J,[2,15]),l(J,[2,16]),{12:16,24:36,25:37,32:v,33:k,34:h,35:w,36:b},{26:V},{4:39,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:40,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},l(A,[2,22]),l(A,[2,23]),l(Q,[2,29]),l(Q,[2,30]),l(Q,F),l(Q,[2,32]),l(Q,[2,24]),l(Q,[2,25]),{1:[2,1]},{4:41,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},
{4:42,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{4:43,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{4:44,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{4:45,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{4:46,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{12:16,22:50,25:49,29:47,30:c,31:d,32:v,33:k,34:h,35:w,36:b,37:48},
{1:[2,2]},{5:[1,51],13:z,14:r,15:g,16:e,17:n,18:q,27:G},{4:39,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{9:52,12:53,32:v,33:k},{9:54,12:53,32:v,33:k},{10:[1,55],26:F},{10:[1,56],13:z,14:r,15:g,16:e,17:n,18:q,27:G},l(E,[2,13],{27:G}),l(J,[2,17]),l(J,[2,27],{12:16,25:37,24:57,32:v,33:k,34:h,35:w,36:b}),{12:16,25:58,32:v,33:k,34:h,35:w,36:b},{13:z,14:r,15:g,16:e,17:n,18:q,27:G,28:[1,59]},{26:V,28:[1,60]},l(E,[2,7],{27:G}),l(E,[2,8],{27:G}),l(E,[2,9],{27:G}),l(E,
[2,10],{27:G}),l(Y,[2,11],{13:z,14:r,15:g,16:e,27:G}),l(Y,[2,12],{13:z,14:r,15:g,16:e,27:G}),{28:[1,61]},{28:[2,33],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},{10:[1,65]},{10:[2,26]},{10:[1,66]},{4:67,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},l(J,[2,19]),l(J,[2,28]),l(J,[2,18]),l(J,[2,20]),l([5,7,19,20,21,23,27,30,31,32,33,34,35,36],[2,39]),l(J,[2,21]),{12:16,22:50,25:49,29:68,30:c,31:d,32:v,33:k,34:h,35:w,36:b,37:48},{12:16,25:69,32:v,33:k,34:h,35:w,36:b,
40:[1,70]},{4:71,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b,40:[1,72]},{4:73,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},{4:74,7:f,12:16,19:t,20:u,21:y,22:8,23:B,25:10,27:D,30:c,31:d,32:v,33:k,34:h,35:w,36:b},l(E,[2,6],{27:G}),{28:[2,34]},l(M,[2,35]),l(M,[2,36]),l(M,[2,37],{13:z,14:r,15:g,16:e,17:n,18:q,27:G}),l(M,[2,38]),l(E,[2,4],{27:G}),l(E,[2,5],{27:G})],defaultActions:{20:[2,1],28:[2,2],51:[2,3],53:[2,26],68:[2,34]},
parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],d=this.table,g="",n=0,q=0,r=0,k=e.slice.call(arguments,1),h=Object.create(this.lexer),D={},l;for(l in this.yy)Object.prototype.hasOwnProperty.call(this.yy,l)&&(D[l]=this.yy[l]);h.setInput(a,D);D.lexer=h;D.parser=this;"undefined"==typeof h.yylloc&&(h.yylloc={});l=h.yylloc;e.push(l);var z=h.options&&h.options.ranges;
this.parseError="function"===typeof D.parseError?D.parseError:Object.getPrototypeOf(this).parseError;for(var v,f,G,p,w={},M,Q;;){G=b[b.length-1];if(this.defaultActions[G])p=this.defaultActions[G];else{if(null===v||"undefined"==typeof v)v=void 0,v=h.lex()||1,"number"!==typeof v&&(v=this.symbols_[v]||v);p=d[G]&&d[G][v]}if("undefined"===typeof p||!p.length||!p[0]){var u="";Q=[];for(M in d[G])this.terminals_[M]&&2<M&&Q.push("'"+this.terminals_[M]+"'");u=h.showPosition?"Parse error on line "+(n+1)+":\n"+
h.showPosition()+"\nExpecting "+Q.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(n+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(u,{text:h.match,token:this.terminals_[v]||v,line:h.yylineno,loc:l,expected:Q})}if(p[0]instanceof Array&&1<p.length)throw Error("Parse Error: multiple actions possible at state: "+G+", token: "+v);switch(p[0]){case 1:b.push(v);c.push(h.yytext);e.push(h.yylloc);b.push(p[1]);v=null;f?(v=f,f=null):(q=h.yyleng,
g=h.yytext,n=h.yylineno,l=h.yylloc,0<r&&r--);break;case 2:Q=this.productions_[p[1]][1];w.$=c[c.length-Q];w._$={first_line:e[e.length-(Q||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(Q||1)].first_column,last_column:e[e.length-1].last_column};z&&(w._$.range=[e[e.length-(Q||1)].range[0],e[e.length-1].range[1]]);G=this.performAction.apply(w,[g,q,n,D,p[1],c,e].concat(k));if("undefined"!==typeof G)return G;Q&&(b=b.slice(0,-2*Q),c=c.slice(0,-1*Q),e=e.slice(0,-1*Q));b.push(this.productions_[p[1]][0]);
c.push(w.$);e.push(w._$);p=d[b[b.length-2]][b[b.length-1]];b.push(p);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&
(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;
a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+
this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=
this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+
1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);
this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var d in e)this[d]=e[d];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),d=0;d<e.length;d++)if((b=this._input.match(this.rules[e[d]]))&&(!a||b[0].length>a[0].length))if(a=b,c=d,this.options.backtrack_lexer){a=this.test_match(b,e[d]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;
return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-
1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,e){switch(c){case 1:return 7;case 2:return 10;case 3:return 27;case 4:return 28;case 5:return 38;case 6:return 23;case 7:return 39;case 8:return 20;
case 9:return 21;case 10:return 26;case 11:return 13;case 12:return 17;case 13:return 18;case 14:return 14;case 15:return 19;case 16:return 16;case 17:return 15;case 18:return 11;case 19:return 8;case 20:return 31;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 30;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,
/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,
/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();l.lexer=f;a.prototype=l;l.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(p){p[1]||(console.log("Usage: "+p[0]+" FILE"),A.exit(1));p=a("fs").readFileSync(a("path").normalize(p[1]),
"utf8");return f.parser.parse(p)},"undefined"!==typeof E&&a.main===E&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],13:[function(a,E,f){(function(A){var F=function(){function a(){this.yy={}}var l=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=b);return c},f=[1,4],t=[1,5],u=[1,6],y=[1,7],B=[1,8],c=[1,10],d=[1,12],v=[1,14],k=[1,15],h=[1,20],w=[1,21],b=[1,16],z=[1,17],r=[1,19],g=[1,23],e=[1,24],n=[1,25],q=[1,26],G=[1,27],D=[1,28],J=[1,29],V=[1,32],A=[5,10,11,12,
13,14,15,25,26,27,38],Q=[1,39],F=[5,10,11,12,13,14,15,25,26,27,38,39],E=[5,10,11,12,13,14,15,23,25,26,27,32,33,34,35,36,38,39],Y=[5,7,9,10,11,12,13,14,15,16,17,18,20,23,24,25,26,27,29,30,32,33,34,35,36,38,39],M=[5,10,11,12,13,14,15,25,27,38],la=[5,25,27,38],I=[27,38],l={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,universal_quantifier:9,and:10,or:11,nand:12,nor:13,arrow:14,double_arrow:15,not:16,"true":17,"false":18,sentence_letter_or_expression_variable:19,
predicate:20,termlist:21,term:22,identity:23,"(":24,")":25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"universal_quantifier",10:"and",11:"or",12:"nand",13:"nor",14:"arrow",15:"double_arrow",16:"not",17:"true",18:"false",20:"predicate",
23:"identity",24:"(",25:")",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[19,1],[19,1],[31,1],[31,1],[8,1],[21,1],[21,2],[22,1],[22,1],[22,1],[22,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,
b,c,e,d,g,n){a=g.length-1;switch(d){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-2],location:n[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-2],location:n[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 6:this.$={type:"and",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 7:this.$={type:"or",symbol:g[a-1],location:n[a-1],left:g[a-2],
right:g[a]};break;case 8:this.$={type:"nand",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nor",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"arrow",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"double_arrow",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"not",symbol:g[a-1],location:n[a-1],left:g[a],right:null};break;case 13:this.$={type:"value",symbol:g[a],
location:n[a],value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:g[a],location:n[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=g[a];break;case 16:this.$={type:"predicate",name:g[a-1],location:n[a-1],termlist:g[a]};break;case 17:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 18:case 19:this.$=g[a-1];break;case 20:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];
this.$=g[a-3];break;case 21:this.$={type:"expression_variable",location:n[a],letter:g[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:n[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"variable",name:g[a],location:n[a]};break;case 24:this.$={type:"term_metavariable",name:g[a],location:n[a]};break;case 26:case 32:this.$=[g[a]];break;case 27:this.$=[g[a-1]].concat(g[a]);break;case 28:this.$={type:"name",name:g[a],location:n[a]};break;case 29:this.$={type:"name_hat",
name:g[a],location:n[a]};break;case 31:this.$={type:"term_metavariable_hat",name:g[a],location:n[a]};break;case 33:this.$=[g[a-2]].concat(g[a]);break;case 34:case 36:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 38:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:[1,13],29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{1:[3]},{5:[1,22],10:g,
11:e,12:n,13:q,14:G,15:D,26:J},{4:31,5:[1,30],7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{8:33,31:34,32:h,33:w},{8:35,31:34,32:h,33:w},{4:36,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},l(A,[2,13]),l(A,[2,14]),l(A,[2,15]),{21:37,22:38,31:18,32:h,33:w,34:b,35:z,36:r},{23:Q},{4:40,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{4:41,7:f,9:t,16:u,17:y,18:B,19:9,20:c,
22:42,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},l(F,[2,21]),l(F,[2,22]),l(E,[2,28]),l(E,[2,29]),l(E,[2,30]),l(E,[2,31]),l(Y,[2,23]),l(Y,[2,24]),{1:[2,1]},{4:43,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{4:44,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{4:45,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{4:46,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,
26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{4:47,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{4:48,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{19:52,22:51,28:49,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r,37:50},{1:[2,2]},{5:[1,53],10:g,11:e,12:n,13:q,14:G,15:D,26:J},{4:41,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},{4:54,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,
24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},l([7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,25]),{4:55,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r},l(M,[2,12],{26:J}),l(A,[2,16]),l(A,[2,26],{31:18,22:38,21:56,32:h,33:w,34:b,35:z,36:r}),{22:57,31:18,32:h,33:w,34:b,35:z,36:r},{10:g,11:e,12:n,13:q,14:G,15:D,25:[1,58],26:J},{10:g,11:e,12:n,13:q,14:G,15:D,26:J,27:[1,59]},{23:Q,27:[1,60]},l(M,[2,6],{26:J}),l(M,[2,7],{26:J}),l(M,[2,8],{26:J}),l(M,[2,
9],{26:J}),l(la,[2,10],{10:g,11:e,12:n,13:q,26:J}),l(la,[2,11],{10:g,11:e,12:n,13:q,26:J}),{27:[1,61]},{27:[2,32],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},l(M,[2,4],{26:J}),l(M,[2,5],{26:J}),l(A,[2,27]),l(A,[2,17]),l(A,[2,18]),l(A,[2,19]),l([5,7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,38]),l(A,[2,20]),{19:52,22:51,28:65,29:v,30:k,31:18,32:h,33:w,34:b,35:z,36:r,37:50},{22:66,31:18,32:h,33:w,34:b,35:z,36:r,40:[1,67]},{4:68,7:f,9:t,16:u,17:y,18:B,19:9,20:c,22:11,24:d,26:V,29:v,30:k,31:18,32:h,
33:w,34:b,35:z,36:r,40:[1,69]},{27:[2,33]},l(I,[2,34]),l(I,[2,35]),l(I,[2,36],{10:g,11:e,12:n,13:q,14:G,15:D,26:J}),l(I,[2,37])],defaultActions:{22:[2,1],30:[2,2],53:[2,3],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],g=this.table,d="",n=0,q=0,r=0,k=e.slice.call(arguments,1),h=Object.create(this.lexer),D={},l;for(l in this.yy)Object.prototype.hasOwnProperty.call(this.yy,
l)&&(D[l]=this.yy[l]);h.setInput(a,D);D.lexer=h;D.parser=this;"undefined"==typeof h.yylloc&&(h.yylloc={});l=h.yylloc;e.push(l);var v=h.options&&h.options.ranges;this.parseError="function"===typeof D.parseError?D.parseError:Object.getPrototypeOf(this).parseError;for(var z,f,G,p,I={},w,M;;){G=b[b.length-1];if(this.defaultActions[G])p=this.defaultActions[G];else{if(null===z||"undefined"==typeof z)z=void 0,z=h.lex()||1,"number"!==typeof z&&(z=this.symbols_[z]||z);p=g[G]&&g[G][z]}if("undefined"===typeof p||
!p.length||!p[0]){var Q="";M=[];for(w in g[G])this.terminals_[w]&&2<w&&M.push("'"+this.terminals_[w]+"'");Q=h.showPosition?"Parse error on line "+(n+1)+":\n"+h.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[z]||z)+"'":"Parse error on line "+(n+1)+": Unexpected "+(1==z?"end of input":"'"+(this.terminals_[z]||z)+"'");this.parseError(Q,{text:h.match,token:this.terminals_[z]||z,line:h.yylineno,loc:l,expected:M})}if(p[0]instanceof Array&&1<p.length)throw Error("Parse Error: multiple actions possible at state: "+
G+", token: "+z);switch(p[0]){case 1:b.push(z);c.push(h.yytext);e.push(h.yylloc);b.push(p[1]);z=null;f?(z=f,f=null):(q=h.yyleng,d=h.yytext,n=h.yylineno,l=h.yylloc,0<r&&r--);break;case 2:M=this.productions_[p[1]][1];I.$=c[c.length-M];I._$={first_line:e[e.length-(M||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(M||1)].first_column,last_column:e[e.length-1].last_column};v&&(I._$.range=[e[e.length-(M||1)].range[0],e[e.length-1].range[1]]);G=this.performAction.apply(I,[d,q,
n,D,p[1],c,e].concat(k));if("undefined"!==typeof G)return G;M&&(b=b.slice(0,-2*M),c=c.slice(0,-1*M),e=e.slice(0,-1*M));b.push(this.productions_[p[1]][0]);c.push(I.$);e.push(I._$);p=g[b[b.length-2]][b[b.length-1]];b.push(p);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=
this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=
a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:
0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),
{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+
"\n"+b+"^"},test_match:function(a,b){var c,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=
this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=
this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var g in e)this[g]=e[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),g=0;g<e.length;g++)if((b=this._input.match(this.rules[e[g]]))&&(!a||b[0].length>a[0].length))if(a=
b,c=g,this.options.backtrack_lexer){a=this.test_match(b,e[g]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<
this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,b,c,e){switch(c){case 1:return 24;case 2:return 25;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 20;case 7:return 39;case 8:return 17;case 9:return 18;case 10:return 23;case 11:return 10;case 12:return 14;case 13:return 15;case 14:return 11;case 15:return 16;case 16:return 13;case 17:return 12;case 18:return 9;case 19:return 7;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;
case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,
/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-w][0-9]*\^)/,/^(?:[a-w][0-9]*)/,/^(?:[xyz][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();l.lexer=f;a.prototype=l;l.Parser=a;return new a}();"undefined"!==typeof a&&
"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(p){p[1]||(console.log("Usage: "+p[0]+" FILE"),A.exit(1));p=a("fs").readFileSync(a("path").normalize(p[1]),"utf8");return f.parser.parse(p)},"undefined"!==typeof E&&a.main===E&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],14:[function(a,E,f){(function(A){var F=function(){function a(){this.yy={}}var l=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=
b);return c},f=[1,3],t=[1,4],u=[1,5],y=[1,6],B=[1,8],c=[1,10],d=[1,11],v=[1,14],k=[1,15],h=[1,12],w=[1,17],b=[1,18],z=[1,19],r=[1,20],g=[1,21],e=[1,22],n=[1,23],q=[5,9,11,12,13,14,15,16,25,27,35,36],G=[1,30],D=[5,9,11,12,13,14,15,16,24,25,27,31,32,33,35,36],J=[5,9,11,12,13,14,15,16,27,35,36],A=[5,9,27,35,36],F=[27,35],l={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"(":6,existential_quantifier:7,quantifier_variable:8,")":9,universal_quantifier:10,and:11,or:12,nand:13,nor:14,
arrow:15,double_arrow:16,not:17,"true":18,"false":19,sentence_letter_or_expression_variable:20,predicate:21,termlist:22,term:23,identity:24,"[":25,substitution_list:26,"]":27,expression_variable:28,sentence_letter:29,variable_or_metavariable:30,variable:31,term_metavariable:32,name:33,substitution:34,",":35,substitution_symbol:36,"null":37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"(",7:"existential_quantifier",9:")",10:"universal_quantifier",11:"and",12:"or",13:"nand",14:"nor",15:"arrow",
16:"double_arrow",17:"not",18:"true",19:"false",21:"predicate",24:"identity",25:"[",27:"]",28:"expression_variable",29:"sentence_letter",31:"variable",32:"term_metavariable",33:"name",35:",",36:"substitution_symbol",37:"null"},productions_:[0,[3,2],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,4],[20,1],[20,1],[30,1],[30,1],[8,1],[22,1],[22,2],[23,1],[23,1],[26,1],[26,3],[34,3],[34,3],[34,3],[34,3]],performAction:function(a,b,c,e,g,d,n){a=d.length-1;
switch(g){case 1:return d[a-1];case 2:this.$={type:"existential_quantifier",symbol:d[a-3],location:n[a-3],boundVariable:d[a-2],left:d[a],right:null};break;case 3:this.$={type:"universal_quantifier",symbol:d[a-3],location:n[a-3],boundVariable:d[a-2],left:d[a],right:null};break;case 4:this.$={type:"and",symbol:d[a-1],location:n[a-1],left:d[a-2],right:d[a]};break;case 5:this.$={type:"or",symbol:d[a-1],location:n[a-1],left:d[a-2],right:d[a]};break;case 6:this.$={type:"nand",symbol:d[a-1],location:n[a-
1],left:d[a-2],right:d[a]};break;case 7:this.$={type:"nor",symbol:d[a-1],location:n[a-1],left:d[a-2],right:d[a]};break;case 8:this.$={type:"arrow",symbol:d[a-1],location:n[a-1],left:d[a-2],right:d[a]};break;case 9:this.$={type:"double_arrow",symbol:d[a-1],location:n[a-1],left:d[a-2],right:d[a]};break;case 10:this.$={type:"not",symbol:d[a-1],location:n[a-1],left:d[a],right:null};break;case 11:this.$={type:"value",symbol:d[a],location:n[a],value:!0,left:null,right:null};break;case 12:this.$={type:"value",
symbol:d[a],location:n[a],value:!1,left:null,right:null};break;case 13:case 22:case 26:this.$=d[a];break;case 14:this.$={type:"predicate",name:d[a-1],location:n[a-1],termlist:d[a]};break;case 15:this.$={type:"identity",symbol:d[a-1],termlist:[d[a-2],d[a]]};break;case 16:this.$=d[a-1];break;case 17:d[a-3].substitutions=d[a-3].substitutions&&d[a-3].substitutions.length?d[a-3].substitutions.concat(d[a-1]):d[a-1];this.$=d[a-3];break;case 18:this.$={type:"expression_variable",location:n[a],letter:d[a],
left:null,right:null};break;case 19:this.$={type:"sentence_letter",location:n[a],letter:d[a],left:null,right:null};break;case 20:this.$={type:"variable",name:d[a],location:n[a]};break;case 21:this.$={type:"term_metavariable",name:d[a],location:n[a]};break;case 23:case 27:this.$=[d[a]];break;case 24:this.$=[d[a-1]].concat(d[a]);break;case 25:this.$={type:"name",name:d[a],location:n[a]};break;case 28:this.$=[d[a-2]].concat(d[a]);break;case 29:case 31:this.$={type:"substitution",from:d[a-2],to:d[a],
symbol:d[a-1]};break;case 30:case 32:this.$={type:"substitution",from:d[a-2],to:null,symbol:d[a-1]}}},table:[{3:1,4:2,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{1:[3]},{5:[1,16],11:w,12:b,13:z,14:r,15:g,16:e,25:n},{4:26,6:f,7:[1,24],10:[1,25],17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{4:27,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},l(q,[2,11]),l(q,[2,12]),l(q,[2,13]),{22:28,23:29,30:13,31:v,32:k,33:h},{24:G},l(q,[2,18]),l(q,[2,19]),
l(D,[2,25]),l(D,[2,26]),l(D,[2,20]),l(D,[2,21]),{1:[2,1]},{4:31,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{4:32,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{4:33,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{4:34,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{4:35,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{4:36,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{4:40,6:f,17:t,
18:u,19:y,20:7,21:B,23:39,26:37,28:c,29:d,30:13,31:v,32:k,33:h,34:38},{8:41,30:42,31:v,32:k},{8:43,30:42,31:v,32:k},{9:[1,44],11:w,12:b,13:z,14:r,15:g,16:e,25:n},l(J,[2,10],{25:n}),l(q,[2,14]),l(q,[2,23],{30:13,23:29,22:45,31:v,32:k,33:h}),{23:46,30:13,31:v,32:k,33:h},l(J,[2,4],{25:n}),l(J,[2,5],{25:n}),l(J,[2,6],{25:n}),l(J,[2,7],{25:n}),l(A,[2,8],{11:w,12:b,13:z,14:r,25:n}),l(A,[2,9],{11:w,12:b,13:z,14:r,25:n}),{27:[1,47]},{27:[2,27],35:[1,48]},{24:G,36:[1,49]},{11:w,12:b,13:z,14:r,15:g,16:e,25:n,
36:[1,50]},{9:[1,51]},{9:[2,22]},{9:[1,52]},l(q,[2,16]),l(q,[2,24]),l(q,[2,15]),l(q,[2,17]),{4:40,6:f,17:t,18:u,19:y,20:7,21:B,23:39,26:53,28:c,29:d,30:13,31:v,32:k,33:h,34:38},{23:54,30:13,31:v,32:k,33:h,37:[1,55]},{4:56,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h,37:[1,57]},{4:58,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{4:59,6:f,17:t,18:u,19:y,20:7,21:B,23:9,28:c,29:d,30:13,31:v,32:k,33:h},{27:[2,28]},l(F,[2,29]),l(F,[2,30]),l(F,[2,31],{11:w,12:b,13:z,
14:r,15:g,16:e,25:n}),l(F,[2,32]),l(J,[2,2],{25:n}),l(J,[2,3],{25:n})],defaultActions:{16:[2,1],42:[2,22],53:[2,28]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],d=this.table,g="",n=0,q=0,r=0,h=e.slice.call(arguments,1),k=Object.create(this.lexer),D={},l;for(l in this.yy)Object.prototype.hasOwnProperty.call(this.yy,l)&&(D[l]=this.yy[l]);k.setInput(a,D);D.lexer=
k;D.parser=this;"undefined"==typeof k.yylloc&&(k.yylloc={});l=k.yylloc;e.push(l);var z=k.options&&k.options.ranges;this.parseError="function"===typeof D.parseError?D.parseError:Object.getPrototypeOf(this).parseError;for(var f,v,G,p,w={},u,t;;){G=b[b.length-1];if(this.defaultActions[G])p=this.defaultActions[G];else{if(null===f||"undefined"==typeof f)f=void 0,f=k.lex()||1,"number"!==typeof f&&(f=this.symbols_[f]||f);p=d[G]&&d[G][f]}if("undefined"===typeof p||!p.length||!p[0]){var J="";t=[];for(u in d[G])this.terminals_[u]&&
2<u&&t.push("'"+this.terminals_[u]+"'");J=k.showPosition?"Parse error on line "+(n+1)+":\n"+k.showPosition()+"\nExpecting "+t.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(n+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'");this.parseError(J,{text:k.match,token:this.terminals_[f]||f,line:k.yylineno,loc:l,expected:t})}if(p[0]instanceof Array&&1<p.length)throw Error("Parse Error: multiple actions possible at state: "+G+", token: "+f);switch(p[0]){case 1:b.push(f);
c.push(k.yytext);e.push(k.yylloc);b.push(p[1]);f=null;v?(f=v,v=null):(q=k.yyleng,g=k.yytext,n=k.yylineno,l=k.yylloc,0<r&&r--);break;case 2:t=this.productions_[p[1]][1];w.$=c[c.length-t];w._$={first_line:e[e.length-(t||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(t||1)].first_column,last_column:e[e.length-1].last_column};z&&(w._$.range=[e[e.length-(t||1)].range[0],e[e.length-1].range[1]]);G=this.performAction.apply(w,[g,q,n,D,p[1],c,e].concat(h));if("undefined"!==typeof G)return G;
t&&(b=b.slice(0,-2*t),c=c.slice(0,-1*t),e=e.slice(0,-1*t));b.push(this.productions_[p[1]][0]);c.push(w.$);e.push(w._$);p=d[b[b.length-2]][b[b.length-1]];b.push(p);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];
this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=
a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:
this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});
return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,
b){var c,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(c=
a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);
this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var d in e)this[d]=e[d];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),d=0;d<e.length;d++)if((b=this._input.match(this.rules[e[d]]))&&(!a||b[0].length>a[0].length))if(a=b,c=d,this.options.backtrack_lexer){a=
this.test_match(b,e[d]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():
this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,e){switch(c){case 1:return 6;
case 2:return 9;case 3:return 25;case 4:return 27;case 5:return 35;case 6:return 21;case 7:return 36;case 8:return 18;case 9:return 19;case 10:return 24;case 11:return 11;case 12:return 15;case 13:return 16;case 14:return 12;case 15:return 17;case 16:return 14;case 17:return 13;case 18:return 10;case 19:return 7;case 20:return 29;case 21:return 37;case 22:return 33;case 23:return 31;case 24:return 28;case 25:return 32;case 26:return 5;case 27:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,
/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*)/,
/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],inclusive:!0}}}}();l.lexer=f;a.prototype=l;l.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(p){p[1]||(console.log("Usage: "+
p[0]+" FILE"),A.exit(1));p=a("fs").readFileSync(a("path").normalize(p[1]),"utf8");return f.parser.parse(p)},"undefined"!==typeof E&&a.main===E&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],15:[function(a,E,f){(function(A){var F=function(){function a(){this.yy={}}var l=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=b);return c},f=[1,4],t=[1,5],u=[1,6],y=[1,7],B=[1,9],c=[1,12],d=[1,13],v=[1,18],k=[1,19],h=[1,14],w=[1,15],b=[1,17],z=[1,21],r=[1,22],g=[1,23],e=
[1,24],n=[1,25],q=[1,26],G=[1,27],D=[1,30],J=[5,10,12,13,14,15,16,17,26,27,38],A=[1,37],F=[5,10,12,13,14,15,16,17,26,27,38,39],E=[5,10,12,13,14,15,16,17,25,26,27,32,33,34,35,36,38,39],ia=[5,10,12,13,14,15,16,17,27,38],Lb=[5,10,27,38],Y=[27,38],l={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,and:12,or:13,nand:14,nor:15,arrow:16,double_arrow:17,not:18,"true":19,"false":20,sentence_letter_or_expression_variable:21,
predicate:22,termlist:23,term:24,identity:25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",12:"and",13:"or",14:"nand",15:"nor",16:"arrow",17:"double_arrow",18:"not",19:"true",20:"false",22:"predicate",
25:"identity",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[21,1],[21,1],[31,1],[31,1],[9,1],[23,1],[23,2],[24,1],[24,1],[24,1],[24,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,e,d,g,
n){a=g.length-1;switch(d){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-3],location:n[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-3],location:n[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"and",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 7:this.$={type:"or",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};
break;case 8:this.$={type:"nand",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nor",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"arrow",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"double_arrow",symbol:g[a-1],location:n[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"not",symbol:g[a-1],location:n[a-1],left:g[a],right:null};break;case 13:this.$={type:"value",symbol:g[a],location:n[a],
value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:g[a],location:n[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=g[a];break;case 16:this.$={type:"predicate",name:g[a-1],location:n[a-1],termlist:g[a]};break;case 17:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 18:case 19:this.$=g[a-1];break;case 20:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];
break;case 21:this.$={type:"expression_variable",location:n[a],letter:g[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:n[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"variable",name:g[a],location:n[a]};break;case 24:this.$={type:"term_metavariable",name:g[a],location:n[a]};break;case 26:case 32:this.$=[g[a]];break;case 27:this.$=[g[a-1]].concat(g[a]);break;case 28:this.$={type:"name",name:g[a],location:n[a]};break;case 29:this.$={type:"name_hat",
name:g[a],location:n[a]};break;case 31:this.$={type:"term_metavariable_hat",name:g[a],location:n[a]};break;case 33:this.$=[g[a-2]].concat(g[a]);break;case 34:case 36:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 38:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:[1,11],29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{1:[3]},{5:[1,20],12:z,13:r,14:g,
15:e,16:n,17:q,26:G},{4:29,5:[1,28],7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{4:33,7:f,8:[1,31],11:[1,32],18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{4:34,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},l(J,[2,13]),l(J,[2,14]),l(J,[2,15]),{23:35,24:36,31:16,32:v,33:k,34:h,35:w,36:b},{25:A},{4:38,7:f,18:t,19:u,20:y,21:8,22:B,24:39,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},l(F,[2,21]),
l(F,[2,22]),l(E,[2,28]),l(E,[2,29]),l(E,[2,30]),l(E,[2,31]),l(E,[2,23]),l(E,[2,24]),{1:[2,1]},{4:40,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{4:41,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{4:42,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{4:43,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{4:44,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,
31:16,32:v,33:k,34:h,35:w,36:b},{4:45,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{21:49,24:48,28:46,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b,37:47},{1:[2,2]},{5:[1,50],12:z,13:r,14:g,15:e,16:n,17:q,26:G},{4:38,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{9:51,31:52,32:v,33:k},{9:53,31:52,32:v,33:k},{10:[1,54],12:z,13:r,14:g,15:e,16:n,17:q,26:G},l(ia,[2,12],{26:G}),l(J,[2,16]),l(J,[2,26],{31:16,24:36,23:55,32:v,33:k,34:h,
35:w,36:b}),{24:56,31:16,32:v,33:k,34:h,35:w,36:b},{12:z,13:r,14:g,15:e,16:n,17:q,26:G,27:[1,57]},{25:A,27:[1,58]},l(ia,[2,6],{26:G}),l(ia,[2,7],{26:G}),l(ia,[2,8],{26:G}),l(ia,[2,9],{26:G}),l(Lb,[2,10],{12:z,13:r,14:g,15:e,26:G}),l(Lb,[2,11],{12:z,13:r,14:g,15:e,26:G}),{27:[1,59]},{27:[2,32],38:[1,60]},{39:[1,61]},{39:[1,62]},{1:[2,3]},{10:[1,63]},{10:[2,25]},{10:[1,64]},l(J,[2,18]),l(J,[2,27]),l(J,[2,17]),l(J,[2,19]),l([5,7,18,19,20,22,26,29,30,32,33,34,35,36],[2,38]),l(J,[2,20]),{21:49,24:48,28:65,
29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b,37:47},{24:66,31:16,32:v,33:k,34:h,35:w,36:b,40:[1,67]},{4:68,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b,40:[1,69]},{4:70,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{4:71,7:f,18:t,19:u,20:y,21:8,22:B,24:10,26:D,29:c,30:d,31:16,32:v,33:k,34:h,35:w,36:b},{27:[2,33]},l(Y,[2,34]),l(Y,[2,35]),l(Y,[2,36],{12:z,13:r,14:g,15:e,16:n,17:q,26:G}),l(Y,[2,37]),l(ia,[2,4],{26:G}),l(ia,[2,5],{26:G})],
defaultActions:{20:[2,1],28:[2,2],50:[2,3],52:[2,25],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],g=this.table,d="",n=0,q=0,r=0,k=e.slice.call(arguments,1),h=Object.create(this.lexer),D={},l;for(l in this.yy)Object.prototype.hasOwnProperty.call(this.yy,l)&&(D[l]=this.yy[l]);h.setInput(a,D);D.lexer=h;D.parser=this;"undefined"==typeof h.yylloc&&(h.yylloc=
{});l=h.yylloc;e.push(l);var f=h.options&&h.options.ranges;this.parseError="function"===typeof D.parseError?D.parseError:Object.getPrototypeOf(this).parseError;for(var z,v,G,p,w={},t,u;;){G=b[b.length-1];if(this.defaultActions[G])p=this.defaultActions[G];else{if(null===z||"undefined"==typeof z)z=void 0,z=h.lex()||1,"number"!==typeof z&&(z=this.symbols_[z]||z);p=g[G]&&g[G][z]}if("undefined"===typeof p||!p.length||!p[0]){var J="";u=[];for(t in g[G])this.terminals_[t]&&2<t&&u.push("'"+this.terminals_[t]+
"'");J=h.showPosition?"Parse error on line "+(n+1)+":\n"+h.showPosition()+"\nExpecting "+u.join(", ")+", got '"+(this.terminals_[z]||z)+"'":"Parse error on line "+(n+1)+": Unexpected "+(1==z?"end of input":"'"+(this.terminals_[z]||z)+"'");this.parseError(J,{text:h.match,token:this.terminals_[z]||z,line:h.yylineno,loc:l,expected:u})}if(p[0]instanceof Array&&1<p.length)throw Error("Parse Error: multiple actions possible at state: "+G+", token: "+z);switch(p[0]){case 1:b.push(z);c.push(h.yytext);e.push(h.yylloc);
b.push(p[1]);z=null;v?(z=v,v=null):(q=h.yyleng,d=h.yytext,n=h.yylineno,l=h.yylloc,0<r&&r--);break;case 2:u=this.productions_[p[1]][1];w.$=c[c.length-u];w._$={first_line:e[e.length-(u||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(u||1)].first_column,last_column:e[e.length-1].last_column};f&&(w._$.range=[e[e.length-(u||1)].range[0],e[e.length-1].range[1]]);G=this.performAction.apply(w,[d,q,n,D,p[1],c,e].concat(k));if("undefined"!==typeof G)return G;u&&(b=b.slice(0,-2*u),
c=c.slice(0,-1*u),e=e.slice(0,-1*u));b.push(this.productions_[p[1]][0]);c.push(w.$);e.push(w._$);p=g[b[b.length-2]][b[b.length-1]];b.push(p);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,
first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=
this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-
b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},
less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,
e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,
this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var g in e)this[g]=e[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),g=0;g<e.length;g++)if((b=this._input.match(this.rules[e[g]]))&&(!a||b[0].length>a[0].length))if(a=b,c=g,this.options.backtrack_lexer){a=this.test_match(b,e[g]);if(!1!==a)return a;
if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,e){switch(c){case 1:return 7;case 2:return 10;
case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 22;case 7:return 39;case 8:return 19;case 9:return 20;case 10:return 25;case 11:return 12;case 12:return 16;case 13:return 17;case 14:return 13;case 15:return 18;case 16:return 15;case 17:return 14;case 18:return 11;case 19:return 8;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,
/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,
/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();l.lexer=f;a.prototype=l;l.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,
arguments)},f.main=function(p){p[1]||(console.log("Usage: "+p[0]+" FILE"),A.exit(1));p=a("fs").readFileSync(a("path").normalize(p[1]),"utf8");return f.parser.parse(p)},"undefined"!==typeof E&&a.main===E&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],16:[function(a,E,f){var A,F,p,l,K,t,u,y,B,c,d,v,k,h,w,b,z,r,g=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};l=a("lodash");z=a("./justification_parser");B=a("../dialect_manager/dialectManager");
y=a("./add_line_numbers").cleanNumber;p=z.parse("premise");A=z.parse("close branch");F=z.parse("open branch");f.to=function(a){var g;g={visit:function(a){var e,g,n;"line"!==(g=a.type)&&"close_branch"!==g&&"open_branch"!==g||null!=a.justification||null!=a.justificationErrors||("close_branch"===a.type&&(a.justification=A),"open_branch"===a.type&&(a.justification=F),"line"===a.type&&(g=r(a.content),a.justification=g.justification,a.content=g.rest,a.justificationErrors=g.justificationErrors,a.justificationText=
g.justificationText),null!=(null!=(n=a.justification)?n.numbers:void 0)&&(a.justification.numbers=function(){var b,c,g,d;g=a.justification.numbers;d=[];b=0;for(c=g.length;b<c;b++)e=g[b],d.push(y(e));return d}()),a.getRuleName=b,a.findLine=d,a.findBlock=c,a.findLineOrBlock=v,a.getCitedLines=h,a.getLinesThatCiteMe=w,a.getCitedBlocks=k,a.isPremise=function(){return a.justification.rule.connective===p.rule.connective})}};a.walk(g);g={visit:function(a){"line"===a.type&&null==a.justification&&null==a.justificationErrors&&
u(a)&&(a.justification=p)}};a.walk(g);g={visit:function(a){"block"===a.type&&(a.getConclusion=function(){var b;b=l.last(a.content);return"line"===b.type&&null!=b.sentence?b.sentence:!1},a.getPremises=function(){var b,c;b=l.filter(a.content,function(a){var b,c;return"line"!==a.type||null==a.sentence||"premise"!==(null!=(b=a.justification)?null!=(c=b.rule)?c.connective:void 0:void 0)?!1:!0});return function(){var a,e,g;g=[];a=0;for(e=b.length;a<e;a++)c=b[a],g.push(c.sentence);return g}()})}};a.walk(g);
return a};K=/((\s)*\/\/)|(\\)|(--)/;t=/(\S+)(\s\s\s)(?=\s*\S+)/;r=function(a){var b,c,g,d;c=a.match(K);if(null!=c)d=a.slice(0,c.index),g=c[0].length,a=a.slice(c.index+g);else if(c=a.match(t),null!=c)d=c[1],d=a.slice(0,c.index+d.length),g=c[0].length,a=a.slice(c.index+g);else return{justification:null,rest:a,justificationErrors:null};try{b=z.parse(a)}catch(r){return{justification:null,rest:d,justificationErrors:r.message,justificationText:a}}return{justification:b,rest:d,justificationErrors:null}};
u=function(a){var b,c,g,d,r,h;b=a.parent;if(a===b.content[0])return!0;if(null!=b.parent)return!1;r=b.content;h=d=!1;c=0;for(g=r.length;c<g;c++){b=r[c];if("divider"===b.type){h=!0;break}b===a&&(d=!0)}return d&&h?!0:!1};f._isPremise=u;b=function(){var a,b,c,g;if(null==(null!=(a=this.justification)?a.rule:void 0))return"";g=B.getSymbols();a=g[this.justification.rule.connective]||this.justification.rule.connective;c=(1!==(null!=a?a.length:void 0)?" ":void 0)||"";b=this.justification.rule.variant.intronation||
"";b=g[b]||b;return(""+a+c+b+" "+(this.justification.rule.variant.side||"")).trim()};d=function(a){return this.findAbove(function(b){if("line"===b.type&&b.number===a)return!0})};c=function(a){return this.findAbove(function(b){if("block"===b.type&&b.number===a)return!0})};v=function(a){return this.findAbove(function(b){if(("block"===b.type||"line"===b.type)&&b.number===a)return!0})};h=function(){var a,b,c,g,d;if(null==(null!=(a=this.justification)?a.numbers:void 0))return[];a=[];g=this.justification.numbers;
b=0;for(c=g.length;b<c;b++)d=g[b],d=this.findLine(d),!1!==d&&a.push(d);return a};w=function(){var a,b;b=this;a=[];this.parent.walk({visit:function(c){null!=c.getCitedLines&&0<=g.call(c.getCitedLines(),b)&&a.push(c)}});return a};k=function(){var a,b,c,g,d;if(!this.justification.numbers)return[];a=[];g=this.justification.numbers;b=0;for(c=g.length;b<c;b++)d=g[b],d=this.findBlock(d),!1!==d&&a.push(d);return a}},{"../dialect_manager/dialectManager":5,"./add_line_numbers":17,"./justification_parser":24,
lodash:9}],17:[function(a,E,f){var A,F,p,l,K,t=[].indexOf||function(a){for(var l=0,f=this.length;l<f;l++)if(l in this&&this[l]===a)return l;return-1};A=a("lodash");p=/^([|\s])*\(?([0-9]\S*)([|\s]*)([\s\S]*)/;F=/\.*\)?$/;l=function(a){return a.replace(F,"")};f.cleanNumber=l;K=function(a){var f;return(f=a.content.match(p))?(a=f[2],a=l(a),{lineNumber:a,rest:f[4]}):{lineNumber:null,rest:a.content}};f.to=function(a,l){a.walk({usedLineNumbers:[],lineCounter:0,userNumberedLines:!1,visit:function(a){var c,
d;if("block"!==a.type){this.lineCounter+=1;d=K(a);c=d.lineNumber;d=d.rest;if(c||0===c)this.userNumberedLines=!0;null===c&&(c="line"===a.type?""+this.lineCounter:this.lineCounter+"x");if((null==l||!l.treeProof)&&0<=t.call(this.usedLineNumbers,c))throw Error("Duplicate line number '"+c+"' used for the second time at line "+this.lineCounter+".  Line numbers must be unique.");this.usedLineNumbers.push(c);a.number=c;a.content=d}}});a.walk({visit:function(l){var c;if("block"===l.type&&(a=l,0!==a.content.length)){l=
a.content[0];for(c=A.last(a.content);"block"===c.type;)c=A.last(c.content);null!=l.number&&null!=c.number&&(a.number=l.number+"-"+c.number)}}});return a}},{lodash:9}],18:[function(a,E,f){var A;A=a("../fol");a("../substitute");a("../util");f.to=function(a){a.walk({visit:function(a){if("line"===a.type&&null==a.sentence&&null==a.sentenceErrors){a.sentenceText=a.content;try{a.sentence=A.parse(a.sentenceText)}catch(l){a.sentenceErrors=l.message}a.canBeDecomposed=function(){var l;l=a.sentence;return null==
l||null==l.left||"not"===l.type&&null==l.left.left?!1:!0}}}});return a}},{"../fol":7,"../substitute":30,"../util":32}],19:[function(a,E,f){var A,F,p;F=a("lodash");a("../fol");a("../substitute");p=a("../util");f.to=function(a){a.walk({visit:function(a){null!=(null!=a?a.type:void 0)&&"block"!==a.type&&(a.status=new A(a),a.getErrorMessage=function(){return a.status.getMessage()})}});return a};A=function(){function a(l){var f;this.line=l;this.messages=[];this.verificationAttempted=this.verified=!1;this.sentenceParsed=
null!=this.line.sentence;this.justificationParsed=null!=this.line.justification;null!=this.line.sentenceErrors&&(l=p.getLanguageNames(),this.addMessage("the sentence you wrote (\u2018"+this.line.sentenceText.trim()+"\u2019) is not a sentence or well-formed formula of "+l.join(" or ")+"."));null!=this.line.justificationErrors&&this.addMessage("the justification you supplied ("+(null!=(f=this.line.justificationText)?f.trim():void 0)+") either mentions a rule you can't use here or doesn't make sense.");
"line"===this.line.type&&null==this.line.justification&&null==this.line.justificationErrors&&this.addMessage("you supplied no justification for this line.")}a.prototype.addMessage=function(a){return this.messages.push(a)};a.prototype.addMessageIfNoneAlready=function(a){if(0===this.messages.length)return this.messages.push(a)};a.prototype.clearMessages=function(){return this.messages=[]};a.prototype.popMessage=function(){return 0<this.messages.length?this.messages.pop():""};a.prototype.addAlthoughMessage=
function(a){if(null!=this._addedAlthough)return this.addMessage("and although "+a);this.addMessage("although "+a);return this._addedAlthough=!0};a.prototype.getMessage=function(){var a,l,f,p,B;if(0===this.messages.length)return"";this.messages=F.uniq(this.messages);f="This line is "+((this.verified?void 0:"not correct because")||"correct but")+" "+this.messages[0];1<this.messages.length&&(f+=" And also "+this.messages[1]);2<this.messages.length&&(f+=" Further, "+this.messages[2]);3<this.messages.length&&
(f+=" And, for another thing, "+this.messages[3]);if(4<this.messages.length)for(p=this.messages.splice(4),a=0,l=p.length;a<l;a++)B=p[a],f+=" And "+B;return f};return a}()},{"../fol":7,"../substitute":30,"../util":32,lodash:9}],20:[function(a,E,f){var A,F,p,l,K,t,u,y,B,c,d,v,k,h,w,b,z,r=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};A=a("lodash");b=a("../util");B=a("./block_parser");K=a("./add_line_numbers");l=a("./add_justification");t=a("./add_sentences");
u=a("./add_status");a("./fitch_rules");a("./teller_rules");a("./forallx_rules");a("./logicbook_rules");a("./logicbook_tree_rules");w=a("../dialect_manager/dialectManager");p=function(a){a=B.parse(a);K.to(a);l.to(a);t.to(a);u.to(a);return a};f.to=function(a){a.walk({visit:function(b){null!=(null!=b?b.type:void 0)&&("block"===b.type?b.verify=function(){var a;a=!0;b.walk({visit:function(b){var c;if("line"===(c=b.type)||"close_branch"===c||"open_branch"===c)b=b.verify(),a=a&&b}});return a}:(b.verify=
function(){return z(b,a)},b.canLineBeTicked=function(){return c(b)}))}});return a.verifyTree=function(){var b;if(!1===a.verify())return!1;console.log("verify done");if(y(a))return!1;console.log("anythingOtherThanABranchOccursAfterABranch done");b=a.getChildren();if(!1===d(b))return!1;console.log("checkBranchingRules done");return!1===h(a)?!1:!0}};y=function(a){var b,c,d,r,h;c=a.getChildren();if(!(0<(null!=c?c.length:void 0)))return!1;d=0;for(r=c.length;d<r;d++)if(b=c[d],y(b))return!0;b=!1;r=a.content;
c=0;for(d=r.length;c<d;c++)if(a=r[c],"block"===a.type&&(b=!0),b&&"block"!==(h=a.type)&&"blank_line"!==h)return!0;return!1};h=function(a){return!1===a.walk({visit:function(a){var b;if(null!=a&&null!=(b=a.justification)&&b.ticked&&!1===c(a))return!1}})?!1:!0};d=function(a){var b,c,q,h,k,f,l,z,v,p,w,t;if(!(0<(null!=a?a.length:void 0)))return!0;c=0;for(f=a.length;c<f;c++)if(b=a[c],b=d(b),!1===b)return!1;c=null!=(p=a[0].getFirstLine())?null!=(h=p.rulesChecked)?null!=(l=h[0])?l.rule.ruleSet:void 0:void 0:
void 0;if(null==c)throw Error("Could not get ruleSet at line "+(null!=(v=a[0].getFirstLine())?v.number:void 0)+".");p=[];h=0;for(l=a.length;h<l;h++){b=a[h];v=b.getFirstLine();console.log("at line "+(null!=v?v.number:void 0)+".");f=null!=v?null!=(w=v.rulesChecked)?w[0].rule:void 0:void 0;if(null==f)throw Error("Could not get rule at line "+(null!=(t=b.getFirstLine())?t.number:void 0)+".");if(0<=r.call(p,f)&&1<c.length){q=!1;k=0;for(z=c.length;k<z;k++)b=c[k],0>r.call(p,b)&&b.check(v)&&(q=!0,p.push(b));
if(!q)return v.status.addMessage("you cannot use the same rule twice in branching"),console.log("you cannot use the same rule twice in branching"),!1}if(f.ruleSet!==c)return!1;p.push(f)}if(p.length<c.length&&1<c.length){t=[];a=0;for(w=c.length;a<w;a++)b=c[a],b.isBranchingRule&&t.push(b);a=t.length;if(p.length<a)return!1}return!0};f.lineNeedsToBeTicked=function(a){return null==a.sentence?!1:"identity"===sentence.type?!0:null==sentence.left||"not"===sentence.type&&null==sentence.left.left?!1:!0};c=
function(a){var b,c;c=w.getCurrentRules();b=a.sentence;c=c.tickCheckers[b.type];if(null==c)return!0;if(!A.isFunction(c)){b=b.left;if(null==b)return!0;c=c[b.type];if(null==c)return!0}return c(a)};f.canLineBeTicked=c;z=function(a,b){var c,d;A.isString(b)&&(b=p(b));d=b;if(null!=a.type)d=a;else if(d=d.getLine(a),!d)throw Error("Could not find line "+a+" in "+b);d.status.verificationAttempted=!0;if("line"!==(c=d.type)&&"close_branch"!==c&&"open_branch"!==c)return d.status.verified=!0,d.status.addMessage("(This is a "+
d.type.replace(/_/g," ")+")"),!0;if(null!=d.sentenceErrors||null!=d.justificationErrors||null==d.justification)return d.status.verified=!1;c=F(d);return!0!==c?(d.status.addMessage(c),d.status.verified=!1):v(d)};f._line=z;F=function(a){var c,d,q,h,k,f,l,z;f=a.justification.numbers;if(!f)return!0;q=0;for(h=f.length;q<h;q++){k=f[q];d=a.findLineOrBlock(k);if(!d)return"something you cited, "+k+", cannot be cited here (either it does not exist, or it is below this line, or else it occurs above but in a closed subproof).";
c=[];for(l=a.parent;l;)c.push(l),l=l.parent;if(0<=r.call(c,d))return"you cannot cite a subproof ("+k+") from within that subproof (you must close it, then cite it).";if("line"!==(z=d.type)&&"block"!==z)return"you cannot cite line "+k+" because it is a "+d.type.replace(/_/g," ")+".";if("line"===d.type&&!0!==d.status.sentenceParsed)return a=b.getLanguageNames(),"you cannot cite line "+k+" yet because it does not contain a correct sentence of "+a.join(" or ")+".";if("block"===d.type){c=d.getFirstLine();
d=d.getLastLine();if("block"===d.type)return"you cannot cite "+k+" because it finishes with an unclosed (sub)subproof (you must close it, then cite it)";if(null==c||null==d||!c.status.sentenceParsed||!d.status.sentenceParsed)return a=b.getLanguageNames(),"you cannot cite subproof "+k+" yet because it contains lines that are not correct sentence of "+a.join(" or ")+"."}}return!0};f._linesCitedAreOk=F;k=function(a,b){var c,d,h,r,k,f;d=[];h=0;for(r=b.length;h<r;h++){c=b[h];c=c.check(a);if(!0===c)return a.status.verified=
!0;c=a.status.popMessage();null!=c&&d.push(c)}a.status.verified=!1;1===d.length&&a.status.addMessage(d[0]);if(1<d.length){c="This rule has multiple forms and none of them matched.  ";h=r=0;for(k=d.length;r<k;h=++r)f=d[h],c+="("+h+") "+f+"  ";a.status.addMessage(c)}return!1};v=function(a){var b,c,d,h,r,f,l;b=a.justification.rule.connective;c=null!=(h=a.justification.rule.variant)?h.intronation:void 0;h=null!=(r=a.justification.rule.variant)?r.side:void 0;r=w.getCurrentRules()[b];if(null==r)return a.status.addMessage(("the rule you specified, `"+
b+" "+(c||"")+" "+(h||"")+"` does not exist (or, if it does, you are not allowed to use it in this proof).").replace(/\s\s+/g,"")),a.status.verified=!1;if(!c){if("rule"===r.type)return k(a,[r]);if(A.isArray(r))return k(a,r);a.status.addMessage("you only partially specified the rule: `"+b+"` needs something extra (intro? elim?).");return a.status.verified=!1}r=r[c];if(null==r)return a.status.addMessage("you specified the rule "+b+" *"+c+"* but there is no \u2018"+c+"\u2019 version of the rule for "+
b+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;if(!h){if("rule"===r.type)return k(a,[r]);if(A.isArray(r))return k(a,r);b=[];"rule"===(null!=(f=r.left)?f.type:void 0)&&b.push(r.left);if(A.isArray(r.left))for(l=r.left,c=0,h=l.length;c<h;c++)f=l[c],b.push(f);"rule"===(null!=(d=r.right)?d.type:void 0)&&b.push(r.right);if(A.isArray(r.right))for(c=r.right,d=0,r=c.length;d<r;d++)f=c[d],b.push(f);return k(a,b)}if(null==r[h])return a.status.addMessage("you specified the rule "+
b+" "+c+" *"+h+"* but there is no \u2018"+h+"\u2019 version of  "+b+" "+c+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;b=r[h];A.isArray(b)||(b=[b]);return k(a,b)}},{"../dialect_manager/dialectManager":5,"../util":32,"./add_justification":16,"./add_line_numbers":17,"./add_sentences":18,"./add_status":19,"./block_parser":21,"./fitch_rules":22,"./forallx_rules":23,"./logicbook_rules":25,"./logicbook_tree_rules":26,"./teller_rules":29,lodash:9}],21:[function(a,
E,f){var A,F,p,l,K,t,u,y,B,c,d,v,k,h,w,b,z=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};F=a("lodash");b=a("../util");f.parse=function(a){var b,c,d,h,k,f,l,v,p;F.isString(a)&&(a=a.split("\n"));if(0===a.length)return new A("");u(a);a=y(a);b=a[0];p=!1;d=0;for(c=a.length;d<c;d++)k=a[d],0<=z.call(k.indentation,"|")&&(p=!0);for(c=d=new A(b.indentation);0<a.length;)if(k=a.shift(),"line"===k.type||p&&"blank_line"===k.type){for(k.indentation.length>
c.indentation.length&&(c=c.newBlock(k.indentation));c&&k.indentation.length<c.indentation.length;)c=c.close();if(!c||k.indentation.length!==c.indentation.length)throw Error("Bad indentation at line "+k.idx+" ("+k.originalText+"). (It is indented to a level to which no earlier line is indented.)");c.newLine(k)}else if("divider"===(v=k.type)||"close_branch"===v||"open_branch"===v)c.newLine(k);else if("blank_line"===k.type&&!p){for(b=[k];0<a.length&&"blank_line"===a[0].type;)b.push(a.shift());if(c===
d)for(h=0,f=b.length;h<f;h++)k=b[h],c.newLine(k);else if(h=a[0].indentation,h.length===c.indentation.length){h=c;l=c.close();f=0;for(c=b.length;f<c;f++)k=b[f],l.newLine(k);c=l.newBlock(h.indentation)}else if(h.length>c.indentation.length){l=0;for(f=b.length;l<f;l++)k=b[l],c.newLine(k);c=c.newBlock(h)}else{for(;c&&h.length<c.indentation.length;)c=c.close();if(!c||h.length!==c.indentation.length)throw Error("Bad indentation at line "+k.idx+" ("+k.originalText+"). (It is indented to a level to which no earlier line is indented.)");
f=0;for(h=b.length;f<h;f++)k=b[f],c.newLine(k)}}for(;c!==d;)c=c.close();return c};u=function(a){};y=function(a){var b,e,n,h,k,f,l,p,u;h=t(a);p=[];n=k=0;for(f=a.length;k<f;n=++k)l=a[n],b=w(l,h),e=b.indentation,b=b.content,u="line",B(b)&&(u="blank_line"),d(b)&&(u="divider"),c(b)&&(u="close_branch"),v(b)&&(u="open_branch"),p.push({indentation:e,content:b,idx:n+1,type:u,originalText:l});a=!1;n=[];k=0;for(h=p.length;k<h;k++)e=p[k],n.push(e.indentation);h=0;for(k=n.length;h<k;h++)if(e=n[h],0<=z.call(e,
"|")){a=!0;break}if(a)for(n=0,a=p.length;n<a;n++)e=p[n],e.indentation=e.indentation.replace(/\s+/g,"");return p};p=/^([|\s]+)/;t=function(a){var b,c,d,h,k;if(!a||0===a.length)return!0;c=null!=(d=a[0].match(p))?d[1]:void 0;d=0;for(h=a.length;d<h;d++)if(b=a[d],""!==b.replace(/[|-\s]/g,"")&&(k=b.match(p),b=null!=k?k[1]:void 0,null!==k&&b!==c))return!0;return!1};f.areLinesFormattedIndentationFirst=t;l=/^([|\s]*)([\s\S]*)/;K=/^([|\s]*)(\(?[0-9]+[^|\s]*)?([|\s]*)([\s\S]*)/;w=function(a,b){var c,d,h,k;if(b)return c=
a.match(l),{indentation:c[1],content:c[2]};c=a.match(K);k=c[1]||"";d=c[2];h=c[3]||"";c=c[4]||"";return d?{indentation:h,content:d+" "+c}:{indentation:k,content:""+c}};f.split=w;h=function(a){return a.replace(/[0-9]\S*/,"")};k=function(a){return a.replace(/\|/g,"")};d=function(a){a=h(a);a=k(a);return null!==a.match(/^\s*(--)/)?!0:!1};f._isDivider=d;B=function(a){a=h(a);a=k(a);return""===a.trim()};f._isBlank=B;c=function(a){var b;a=h(a);a=k(a);return"X"===("function"===typeof a.trim?"function"===typeof(b=
a.trim()).toUpperCase?b.toUpperCase():void 0:void 0)};v=function(a){var b;a=h(a);a=k(a);return"O"===("function"===typeof a.trim?"function"===typeof(b=a.trim()).toUpperCase?b.toUpperCase():void 0:void 0)};A=function(){function a(b,c,d){this.indentation=b;this.parent=c;this.prev=d;this.type="block";this.content=[];null!=this.prev&&(this.prev.next=this);this._depth=null==this.parent?1:this.parent._depth+1}a.prototype.getFirstLine=function(){return 0<this.content.length?this.content[0]:null};a.prototype.getLastLine=
function(){return 0<this.content.length?F.last(this.content):null};a.prototype.getChildren=function(){var a,b,c,d,h;h=[];d=this.content;b=0;for(c=d.length;b<c;b++)a=d[b],"block"===a.type&&h.push(a);return h};a.prototype.removeBlankAndDividerLines=function(){this.content=this.content.filter(function(a){var b;return!("blank_line"===(b=a.type)||"divider"===b)});return this};a.prototype.newLine=function(a){var b;a.parent=this;b=this.getLastLine();a.prev=b;null!=b&&(b.next=a);a.lineNumberInSource=a.idx;
a.findAbove=function(a){var b;for(b=this.prev||this.parent;null!=b&&null!=b.parent;){if(a(b))return b;b=null==b.prev&&null!=b.parent?b.parent:b.prev}return!1};a.findAllAbove=function(a){var b,c;c=[];for(b=this.findAbove(a);b;)c.push(b),b=b.findAbove(a);return c};this.content.push(a);return a};a.prototype.newBlock=function(b){b=new a(b,this,this.getLastLine());this.content.push(b);return b};a.prototype.close=function(){return this.parent};a.prototype.walk=function(a){var b,c,d,h;b=a.visit(this);if(null!=
b)return b;h=this.content;c=0;for(d=h.length;c<d;c++)if(b=h[c],b="block"===b.type?b.walk(a):a.visit(b),null!=b)return b};a.prototype.getLine=function(a){var b;b=this.walk({onLine:0,visit:function(b){if("block"!==b.type&&(this.onLine+=1,this.onLine===a))return b}});if(null==b)throw Error("Could not get line number "+a);return b};a.prototype.getLeaves=function(){var a;a=[];this.walk({visit:function(b){"block"!==b.type||0<b.getChildren().length||(b=b.getLastLine(),a.push(b))}});return a};a.prototype.areAllBranchesClosed=
function(){var a,b,c;c=this.getLeaves();b=F.uniq(function(){var b,e,d;d=[];b=0;for(e=c.length;b<e;b++)a=c[b],d.push(a.type);return d}());return 1!==b.length?!1:0<=z.call(b,"close_branch")};a.prototype.areAllBranchesClosedOrOpen=function(){var a,b,c;c=this.getLeaves();b=F.uniq(function(){var b,e,d;d=[];b=0;for(e=c.length;b<e;b++)a=c[b],d.push(a.type);return d}());return 0===F.difference(b,["close_branch","open_branch"]).length};a.prototype.toString=function(){return JSON.stringify(this,function(a,
c){return!c||"prev"!==a&&"parent"!==a?"sentence"===a?b.expressionToString(c):F.isFunction(c)?void 0:c:"[circular reference to "+(null!=c?c.type:void 0)+", depth "+(null!=c?c._depth:void 0)+"]"},4)};return a}();f.Block=A},{"../util":32,lodash:9}],22:[function(a,E,f){E=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(E.getParser("awFOL"));a={_description:"Rules of proof for classical first-order logic.  The rules assume that\nthere is no possible situation with an empty domain.",premise:a.from().to(a.premise()),
reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:a.from(a.subproof("\u03c6",
"contradiction")).to("not \u03c6")},contradiction:{elim:a.from("contradiction").to("\u03c6"),intro:a.from("not \u03c6").and("\u03c6").to("contradiction")},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8",
"\u03c6")).to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),
intro:{left:a.from(a.subproof("[\u03b1]","\u03c6[\u03c4--\x3e\u03b1]")).to("all \u03c4 \u03c6"),right:a.from(a.subproof("[\u03b1]\u03c6","\u03c8")).to("all \u03c4 (\u03c6 arrow \u03c8)[\u03b1--\x3e\u03c4]")}}};f.rules=a;E.registerRuleSet("fitch",a)},{"../dialect_manager/dialectManager":5,"./rule":28}],23:[function(a,E,f){E=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(E.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.from().to(a.premise()),
reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),right:a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),
intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},
identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),
intro:a.from(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},dilemma:a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),commutivity:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),
a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 <-> \u03c7",to:"\u03c7 <-> \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 <-> \u03c7",from:"\u03c7 <-> \u03c8"}))],DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",
to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",from:"not \u03c8 or not \u03c7"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",
from:"\u03c8"}))],"material-conditional":[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"not \u03c8 arrow \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"not \u03c8 arrow \u03c7"}))],"biconditional-exchange":[a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",
to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"}))],"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (exists x) \u03c8",to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",
from:"(all x) not \u03c8"}))]};f.rules=a;E.registerRuleSet("forallx",a)},{"../dialect_manager/dialectManager":5,"./rule":28}],24:[function(a,E,f){(function(A){var F=function(){function a(){this.yy={}}var f=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},A=[1,7],t=[1,12],u=[1,13],y=[1,14],B=[1,15],c=[1,16],d=[1,17],v=[1,11],k=[1,18],h=[1,19],w=[5,7],b=[5,7,22],z=[5,7,10,16,17,18,19,20,21,23,24],r=[5,7,10,20,21,22],g=[5,7,10,16,17,18,19,22],f={trace:function(){},yy:{},symbols_:{error:2,
justification:3,j:4,EOF:5,j2:6,tick:7,rule_name:8,numberlist:9,connective:10,intronation:11,rule_name_option0:12,rule_name_option1:13,side:14,rule_name_group0:15,elim:16,intro:17,decomposition:18,decomposition2:19,left:20,right:21,number:22,reit:23,premise:24,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"tick",10:"connective",16:"elim",17:"intro",18:"decomposition",19:"decomposition2",20:"left",21:"right",22:"number",23:"reit",24:"premise"},productions_:[0,[3,2],[4,1],[4,2],[4,2],[6,1],[6,2],
[6,2],[8,3],[8,3],[8,3],[8,3],[8,3],[8,3],[8,1],[8,1],[11,1],[11,1],[11,1],[11,1],[14,1],[14,1],[9,1],[9,2],[12,0],[12,1],[13,0],[13,1],[15,1],[15,1]],performAction:function(a,b,c,d,g,h,k){a=h.length-1;switch(g){case 1:return h[a-1];case 2:this.$=h[a];break;case 3:h[a].ticked=!0;this.$=h[a];break;case 4:h[a-1].ticked=!0;this.$=h[a-1];break;case 5:this.$={type:"justification",rule:h[a],location:k[a]};break;case 6:this.$={type:"justification",rule:h[a-1],location:k[a-1],numbers:h[a]};break;case 7:this.$=
{type:"justification",rule:h[a],location:k[a],numbers:h[a-1]};break;case 8:this.$={type:"rule",connective:h[a-2],variant:{type:"variant",intronation:h[a-1],side:h[a]}};break;case 9:this.$={type:"rule",connective:h[a-1],variant:{type:"variant",intronation:h[a-2],side:h[a]}};break;case 10:this.$={type:"rule",connective:h[a-1],variant:{type:"variant",intronation:h[a],side:h[a-2]}};break;case 11:this.$={type:"rule",connective:h[a-2],variant:{type:"variant",intronation:h[a],side:h[a-1]}};break;case 12:this.$=
{type:"rule",connective:h[a],variant:{type:"variant",intronation:h[a-1],side:h[a-2]}};break;case 13:this.$={type:"rule",connective:h[a],variant:{type:"variant",intronation:h[a-2],side:h[a-1]}};break;case 14:case 15:this.$={type:"rule",connective:h[a],variant:{type:"variant",intronation:null,side:null}};break;case 16:this.$="elim";break;case 17:this.$="intro";break;case 18:this.$="decomposition";break;case 19:this.$="decomposition2";break;case 20:this.$="left";break;case 21:this.$="right";break;case 22:this.$=
[h[a]];break;case 23:this.$=[h[a-1]].concat(h[a])}},table:[{3:1,4:2,6:3,7:[1,4],8:5,9:6,10:A,11:8,14:9,15:10,16:t,17:u,18:y,19:B,20:c,21:d,22:v,23:k,24:h},{1:[3]},{5:[1,20]},{5:[2,2],7:[1,21]},{6:22,8:5,9:6,10:A,11:8,14:9,15:10,16:t,17:u,18:y,19:B,20:c,21:d,22:v,23:k,24:h},f(w,[2,5],{9:23,22:v}),{8:24,10:A,11:8,14:9,15:10,16:t,17:u,18:y,19:B,20:c,21:d,23:k,24:h},f(b,[2,14],{11:25,14:26,16:t,17:u,18:y,19:B,20:c,21:d}),{10:[1,27],14:28,20:c,21:d},{10:[1,29],11:30,16:t,17:u,18:y,19:B},f(b,[2,15]),f(z,
[2,22],{9:31,22:v}),f(r,[2,16]),f(r,[2,17]),f(r,[2,18]),f(r,[2,19]),f(g,[2,20]),f(g,[2,21]),f(b,[2,28]),f(b,[2,29]),{1:[2,1]},{5:[2,4]},{5:[2,3]},f(w,[2,6]),f(w,[2,7]),f(b,[2,24],{12:32,14:33,20:c,21:d}),{11:34,16:t,17:u,18:y,19:B},f(b,[2,26],{13:35,14:36,20:c,21:d}),{10:[1,37]},{11:38,16:t,17:u,18:y,19:B},{10:[1,39]},f(z,[2,23]),f(b,[2,8]),f(b,[2,25]),f(b,[2,11]),f(b,[2,9]),f(b,[2,27]),f(b,[2,13]),f(b,[2,10]),f(b,[2,12])],defaultActions:{20:[2,1],21:[2,4],22:[2,3]},parseError:function(a,b){if(b.recoverable)this.trace(a);
else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],g=this.table,h="",k=0,f=0,r=0,l=d.slice.call(arguments,1),z=Object.create(this.lexer),v={},p;for(p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(v[p]=this.yy[p]);z.setInput(a,v);v.lexer=z;v.parser=this;"undefined"==typeof z.yylloc&&(z.yylloc={});p=z.yylloc;d.push(p);var w=z.options&&z.options.ranges;this.parseError="function"===typeof v.parseError?v.parseError:
Object.getPrototypeOf(this).parseError;for(var I,H,t,u,B={},y,A;;){t=b[b.length-1];if(this.defaultActions[t])u=this.defaultActions[t];else{if(null===I||"undefined"==typeof I)I=void 0,I=z.lex()||1,"number"!==typeof I&&(I=this.symbols_[I]||I);u=g[t]&&g[t][I]}if("undefined"===typeof u||!u.length||!u[0]){var E="";A=[];for(y in g[t])this.terminals_[y]&&2<y&&A.push("'"+this.terminals_[y]+"'");E=z.showPosition?"Parse error on line "+(k+1)+":\n"+z.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[I]||
I)+"'":"Parse error on line "+(k+1)+": Unexpected "+(1==I?"end of input":"'"+(this.terminals_[I]||I)+"'");this.parseError(E,{text:z.match,token:this.terminals_[I]||I,line:z.yylineno,loc:p,expected:A})}if(u[0]instanceof Array&&1<u.length)throw Error("Parse Error: multiple actions possible at state: "+t+", token: "+I);switch(u[0]){case 1:b.push(I);c.push(z.yytext);d.push(z.yylloc);b.push(u[1]);I=null;H?(I=H,H=null):(f=z.yyleng,h=z.yytext,k=z.yylineno,p=z.yylloc,0<r&&r--);break;case 2:A=this.productions_[u[1]][1];
B.$=c[c.length-A];B._$={first_line:d[d.length-(A||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(A||1)].first_column,last_column:d[d.length-1].last_column};w&&(B._$.range=[d[d.length-(A||1)].range[0],d[d.length-1].range[1]]);t=this.performAction.apply(B,[h,f,k,v,u[1],c,d].concat(l));if("undefined"!==typeof t)return t;A&&(b=b.slice(0,-2*A),c=c.slice(0,-1*A),d=d.slice(0,-1*A));b.push(this.productions_[u[1]][0]);c.push(B.$);d.push(B._$);u=g[b[b.length-2]][b[b.length-1]];b.push(u);
break;case 3:return!0}}}},A=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=
this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-
1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=
!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<
a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,
last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?
c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;
if(this._backtrack)for(var g in d)this[g]=d[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),g=0;g<d.length;g++)if((b=this._input.match(this.rules[d[g]]))&&(!a||b[0].length>a[0].length))if(a=b,c=g,this.options.backtrack_lexer){a=this.test_match(b,d[g]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==
a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?
this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,b,c,d){switch(c){case 0:return b.yytext=a.lexer.matches[1],22;case 1:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],
22;case 2:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],22;case 3:return b.yytext=a.lexer.matches[1],22;case 4:return 16;case 5:return 17;case 6:return 19;case 7:return 18;case 8:return 7;case 9:return b.yytext="contradiction",10;case 10:return b.yytext="or",10;case 11:return b.yytext="identity",10;case 12:return b.yytext="and",10;case 13:return b.yytext="double_arrow",10;case 14:return b.yytext="arrow",10;case 15:return b.yytext="not",10;case 16:return b.yytext="reit",23;case 17:return b.yytext=
"premise",24;case 18:return b.yytext="weakening",10;case 19:return b.yytext="cases",10;case 20:return b.yytext="DC",10;case 21:return b.yytext="reductio",10;case 22:return b.yytext="DM",10;case 23:return b.yytext="contraposition",10;case 24:return b.yytext="C",10;case 25:return b.yytext="contradiction",10;case 26:return b.yytext="not-all",10;case 27:return b.yytext="all-not",10;case 28:return b.yytext="exists-not",10;case 29:return b.yytext="not-exists",10;case 30:return b.yytext="dilemma",10;case 31:return b.yytext=
"modus-tollens",10;case 32:return b.yytext="hypothetical-syllogism",10;case 33:return b.yytext="disjunctive-syllogism",10;case 34:return b.yytext="commutivity",10;case 35:return b.yytext="double-negation",10;case 36:return b.yytext="material-conditional",10;case 37:return b.yytext="biconditional-exchange",10;case 38:return b.yytext="quantifier-negation",10;case 39:return b.yytext="implication",10;case 40:return b.yytext="transposition",10;case 41:return b.yytext="distribution",10;case 42:return b.yytext=
"association",10;case 43:return b.yytext="idempotence",10;case 44:return b.yytext="exportation",10;case 45:return b.yytext="equivalence",10;case 46:return b.yytext="not_double_arrow",10;case 47:return b.yytext="not_and",10;case 48:return b.yytext="not_or",10;case 49:return b.yytext="not_arrow",10;case 50:return b.yytext="universal",10;case 51:return b.yytext="existential",10;case 52:return 20;case 53:return 21;case 54:return b.yytext="close-branch",10;case 55:return b.yytext="open-branch",10;case 57:return 5;
case 60:console.log(b.yytext)}},rules:[/^(?:([0-9][^,\s]*)(\s+and\s+)(?=[0-9]))/i,/^(?:([0-9][^,\s]*)\s+to\s+([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*?)\s*(?:-+)\s*([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*)(?:(\s*,)*))/i,/^(?:elimination|eliminate|elim|e)/i,/^(?:introduction|introduce|intro|i)/i,/^(?:decomposition-2|decomposition2|d-2|d2)/i,/^(?:decomposition|d)/i,/^(?:\u2713|tick)/i,/^(?:\u22a5|_\|_|contradiction|contra|false)/i,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/i,/^(?:=|identity)/i,/^(?:and|conjunction|\u2227|\u2022|&)/i,
/^(?:double_arrow|\u2194|\u2261|\u21d4|<->)/i,/^(?:arrow|->|\u21d2|\u2192|\u2283)/i,/^(?:not|\u00ac|\u02dc|~|!|negation)/i,/^(?:reit|reiteration|r)/i,/^(?:premise|assumption|set member|sm|p)/i,/^(?:weakening|w)/i,/^(?:argument by cases|cases|ac)/i,/^(?:denying the consequent|dc)/i,/^(?:reductio|rd|reductio ad absurdum)/i,/^(?:dm|deMorgan|dem|de morgan)/i,/^(?:contraposition|cp)/i,/^(?:conditional|c)/i,/^(?:cd)/i,/^(?:(negated|not_|not-|not|~|\u00ac|!)(\s)?(all|\u2200|every|universal))/i,/^(?:all not|all-not|\u2200~)/i,
/^(?:exists not|exists-not|\u2203~)/i,/^(?:(negated|not_|not-|not|~|\u00ac|!)(\s)?(some|exists|\u2203|existential))/i,/^(?:dilemma|dil)/i,/^(?:mt|modus tollens|modus-tollens)/i,/^(?:hs|hypothetical syllogism|hypothetical-syllogism)/i,/^(?:ds|disjunctive syllogism|disjunctive-syllogism)/i,/^(?:commutivity|comm|com)/i,/^(?:dn|double-negation|double negation|negated negation|negated-negation|~~|~ ~|\u00ac\u00ac|\u00ac \u00ac|not not)/i,/^(?:mc|material-conditional|material conditional)/i,/^(?:bex|\u2194ex|biconditional-exchange|biconditional exchange)/i,
/^(?:qn|quantifier-negation|quantifier negation)/i,/^(?:implication|impl)/i,/^(?:transposition|trans)/i,/^(?:distribution|dist)/i,/^(?:association|assoc)/i,/^(?:idempotence|idem)/i,/^(?:exportation|exp)/i,/^(?:equivalence|equiv)/i,/^(?:not_double_arrow|negated biconditional|negated-biconditional|not <->|~ <->|~<->|not<->|~\u2194|~\u2261|~ \u2194|~ \u2261|\u00ac\u2194|\u00ac\u2261|\u00ac \u2194|\u00ac \u2261)/i,/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(and|conjunction|\u2227|\u2022|&))/i,/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(disjunction|or|\u2228|\|))/i,
/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(conditional|arrow|->|\u21d2|\u2192|\u2283))/i,/^(?:all|\u2200|every|universal)/i,/^(?:some|exists|\u2203|existential)/i,/^(?:left)/i,/^(?:right)/i,/^(?:close branch|close-branch)/i,/^(?:open branch|open-branch)/i,/^(?:[\s,]+)/i,/^(?:$)/i,/^(?:\w+)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,
58,59,60],inclusive:!0}}}}();f.lexer=A;a.prototype=f;f.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(p){p[1]||(console.log("Usage: "+p[0]+" FILE"),A.exit(1));p=a("fs").readFileSync(a("path").normalize(p[1]),"utf8");return f.parser.parse(p)},"undefined"!==typeof E&&a.main===E&&f.main(A.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],25:[function(a,E,f){E=
a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(E.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6",
"\u03c8")).to("\u03c6 arrow \u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),
right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),"disjunctive-syllogism":[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")],commutivity:[a.from("\u03c6").to(a.replace("\u03c6",
{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"}))],implication:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"}))],
DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",from:"not \u03c8 or not \u03c7"}))],transposition:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",
to:"not \u03c7 arrow not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c7 arrow not \u03c8"}))],distribution:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 or \u03c83)",to:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 or \u03c83)",from:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 and \u03c83)",
to:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 and \u03c83)",from:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"}))],association:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 and \u03c83)",to:"(\u03c81 and \u03c82) and \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 and \u03c83)",from:"(\u03c81 and \u03c82) and \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 or \u03c83)",
to:"(\u03c81 or \u03c82) or \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 or \u03c83)",from:"(\u03c81 or \u03c82) or \u03c83"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",from:"\u03c8"}))],idempotence:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 and \u03c8"})),
a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 or \u03c8"}))],exportation:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 -> (\u03c82 -> \u03c83)",to:"(\u03c81 and \u03c82) -> \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 -> (\u03c82 -> \u03c83)",from:"(\u03c81 and \u03c82) -> \u03c83"}))],equivalence:[a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",
to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",from:"\u03c8 <-> \u03c7"}))],universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},
existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (exists x) \u03c8",
to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",from:"(all x) not \u03c8"}))],identity:{intro:a.to("all \u03c4 \u03c4=\u03c4"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}}};f.rules=a;E.registerRuleSet("logicbook",a)},{"../dialect_manager/dialectManager":5,"./rule":28}],26:[function(a,E,f){var A,F,p;E=a("../dialect_manager/dialectManager");
A=a("lodash");p=a("./rule");p.setParser(E.getParser("awFOL"));a={_description:"Rules of proof for tree proofs as presented in Bergman et al, \u2018The Logic Book\u2019 (2014).  ",premise:p.from().to(p.premiseInTreeProof()),"close-branch":p.from().to(p.closeBranch()),"open-branch":p.from().to(p.openBranch()),"double-negation":{decomposition:p.from("not not \u03c6").to(p.matches("\u03c6").and.doesntBranch())},and:{decomposition:[p.from("\u03c6 and \u03c8").to(p.matches("\u03c6").and.doesntBranch()),
p.from("\u03c6 and \u03c8").to(p.matches("\u03c8").and.doesntBranch())]},or:{decomposition:[p.from("\u03c6 or \u03c8").to(p.matches("\u03c6").and.branches()),p.from("\u03c6 or \u03c8").to(p.matches("\u03c8").and.branches())]},arrow:{decomposition:[p.from("\u03c6 arrow \u03c8").to(p.matches("not \u03c6").and.branches()),p.from("\u03c6 arrow \u03c8").to(p.matches("\u03c8").and.branches())]},double_arrow:{decomposition:[p.from("\u03c6 <-> \u03c8").to(p.matches("\u03c6").and.branches()),p.from("\u03c6 <-> \u03c8").to(p.matches("\u03c8").and.doesntBranch()).where(p.previousLineMatches("\u03c6")).andAlso.where(p.previousLineCitesSameLines()),
p.from("\u03c6 <-> \u03c8").to(p.matches("not \u03c6").and.branches()),p.from("\u03c6 <-> \u03c8").to(p.matches("not \u03c8").and.doesntBranch()).where(p.previousLineMatches("not \u03c6")).andAlso.where(p.previousLineCitesSameLines())]},not_and:{decomposition:[p.from("not (\u03c6 and \u03c8)").to(p.matches("not \u03c6").and.branches()),p.from("not (\u03c6 and \u03c8)").to(p.matches("not \u03c8").and.branches()),p.from("\u03c6").to(p.matches("\u03c8"))]},not_or:{decomposition:[p.from("not (\u03c6 or \u03c8)").to(p.matches("not \u03c6").and.doesntBranch()),
p.from("not (\u03c6 or \u03c8)").to(p.matches("not \u03c8").and.doesntBranch())]},not_arrow:{decomposition:[p.from("not (\u03c6 arrow \u03c8)").to(p.matches("\u03c6").and.doesntBranch()),p.from("not (\u03c6 arrow \u03c8)").to(p.matches("not \u03c8").and.doesntBranch())]},not_double_arrow:{decomposition:[p.from("not (\u03c6 <-> \u03c8)").to(p.matches("\u03c6").and.branches()),p.from("not (\u03c6 <-> \u03c8)").to(p.matches("not \u03c8").and.doesntBranch()).where(p.previousLineMatches("\u03c6")).andAlso.where(p.previousLineCitesSameLines()),
p.from("not (\u03c6 <-> \u03c8)").to(p.matches("not \u03c6").and.branches()),p.from("not (\u03c6 <-> \u03c8)").to(p.matches("\u03c8").and.doesntBranch()).where(p.previousLineMatches("not \u03c6")).andAlso.where(p.previousLineCitesSameLines())]},universal:{decomposition:p.from("all \u03c4 \u03c6").to(p.matches("\u03c6[\u03c4--\x3e\u03b1]").and.doesntBranch())},existential:{decomposition:p.from("exists \u03c4 \u03c6").to(p.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1").and.doesntBranch()),
decomposition2:p.from("exists \u03c4 \u03c6").to(p.matches("\u03c6[\u03c4--\x3e\u03b1]").and.branches()).where(p.ruleIsAppliedToEveryExistingConstantAndANewConstant("\u03b1"))},"not-all":{decomposition:p.from("not all \u03c4 \u03c6").to(p.matches("exists \u03c4 not \u03c6").and.doesntBranch())},"not-exists":{decomposition:p.from("not exists \u03c4 \u03c6").to(p.matches("all \u03c4 not \u03c6").and.doesntBranch())},identity:{decomposition:[p.from("\u03b1=\u03b2").and("\u03c6").to(p.matches("\u03c6[\u03b1--\x3e\u03b2]").and.doesntBranch()),
p.from("\u03b2=\u03b1").and("\u03c6").to(p.matches("\u03c6[\u03b1--\x3e\u03b2]").and.doesntBranch())]}};a.tickCheckers={and:p.tickIf.allRulesAppliedInEveryBranch(a.and.decomposition),or:p.tickIf.someRuleAppliedInEveryBranch(a.or.decomposition),arrow:p.tickIf.someRuleAppliedInEveryBranch(a.arrow.decomposition),double_arrow:p.tickIf.someRuleAppliedInEveryBranch([a.double_arrow.decomposition[1],a.double_arrow.decomposition[3]]),universal_quantifier:p.tickIf.ruleAppliedAtLeastOnceAndAppliedToEveryExistingConstant(a.universal.decomposition),
existential_quantifier:p.tickIf.someRuleAppliedInEveryBranch([a.existential.decomposition2]),not:{not:p.tickIf.allRulesAppliedInEveryBranch([a["double-negation"].decomposition]),and:p.tickIf.someRuleAppliedInEveryBranch(a.not_and.decomposition),or:p.tickIf.allRulesAppliedInEveryBranch(a.not_or.decomposition),arrow:p.tickIf.allRulesAppliedInEveryBranch(a.not_arrow.decomposition),double_arrow:p.tickIf.someRuleAppliedInEveryBranch([a.not_double_arrow.decomposition[1],a.not_double_arrow.decomposition[3]]),
universal_quantifier:p.tickIf.allRulesAppliedInEveryBranch(a["not-all"].decomposition),existential_quantifier:p.tickIf.allRulesAppliedInEveryBranch(a["not-exists"].decomposition)}};F=function(a){var f,t,u,y,B;B=[];for(t in a)if("rule"===a[t].type)p=a[t],null==p.ruleSet&&(p.ruleSet=[p]);else{if(A.isArray(a[t]))for(y=a[t],f=0,u=y.length;f<u;f++)p=y[f],p.ruleSet=y;A.isObject(a[t])?B.push(F(a[t])):B.push(void 0)}return B};F(a);f.rules=a;E.registerRuleSet("logicbook_tree",a)},{"../dialect_manager/dialectManager":5,
"./rule":28,lodash:9}],27:[function(a,E,f){var A,F,p,l,K,t,u,y,B,c,d,v=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1};A=a("lodash");y=a("./block_parser");l=a("./add_line_numbers");p=a("./add_justification");K=a("./add_sentences");t=a("./add_status");u=a("./add_verification");B=a("../dialect_manager/dialectManager");c=function(a,c){A.isString(a)||(a=""+a);return a.length>=c?a:a+Array(c-a.length+1).join(" ")};F=function(a){a.clone=function(c){return d(a.toString(),
c)};a.detachChildren=function(){var c,d;d=a.clone({treeProof:!0});c=d.getChildren();d.content=d.content.filter(function(a){return!(0<=v.call(c,a))});return{children:c,childlessProof:d}};return a.toString=function(d){var f,b,z,r,g,e,n,l,v,p,t;null==d&&(d={});p={result:[],lineNumber:0,addLineNumbers:!0,needLineNumbers:!1,lookBackTwo:[],getAndIncLineNumber:function(a){var b,d;p.lineNumber+=1;return null!=a.number||!1===p.addLineNumbers?(d=parseInt(("function"===typeof(b=a.number).replace?b.replace("x",
""):void 0)||a.number),d!==p.lineNumber&&(p.needLineNumbers=!0),p.addLineNumbers=!1,c(a.number,3)):c(p.lineNumber,3)},visit:function(a){var b,e,g,k,n,f;"divider"===a.type||d.treeProof||"block"!==(null!=(b=p.lookBackTwo[0])?b.type:void 0)||"line"!==(null!=(e=p.lookBackTwo[1])?e.type:void 0)||(b=p.lookBackTwo[0],null!=b.parent&&(b=p.lookBackTwo[1],b.parent===a.parent&&p.result.push({number:c(p.getAndIncLineNumber(b).trim()+"y",3),indentation:b.indentation.trim()+"---",sentence:"",justification:""})));
p.lookBackTwo.push(a);2<p.lookBackTwo.length&&p.lookBackTwo.shift();"blank_line"===a.type&&(b=a,p.result.push({number:""+p.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"",justification:""}));"divider"===a.type&&(b=a,p.result.push({number:""+p.getAndIncLineNumber(b),indentation:b.indentation.trim()+"---",sentence:"",justification:""}));"close_branch"===a.type&&(b=a,p.result.push({number:""+p.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"X",justification:""}));
"open_branch"===a.type&&(b=a,p.result.push({number:""+p.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"O",justification:""}));"line"===a.type&&(b=a,a="premise"===b.getRuleName()?"":null!=b.justification?b.getRuleName()+" "+((null!=(g=b.justification)?null!=(k=g.numbers)?k.join(", "):void 0:void 0)||""):(null!=(n=b.justificationText)?n.trim():void 0)||"",p.result.push({number:""+p.getAndIncLineNumber(b),indentation:""+b.indentation,sentence:""+(b.sentence||b.sentenceText),justification:a,
ticked:null!=(f=b.justification)?f.ticked:void 0}))}};a.walk(p);v="";g=A.max(function(){var a,b,c,d,e,g;c=p.result;g=[];a=0;for(b=c.length;a<b;a++)t=c[a],g.push((null!=(d=t.sentence)?d.length:void 0)+(null!=(e=t.indentation)?e.length:void 0));return g}());l=B.getSymbols().tick||"\u2713";l+=" ";e=p.result;f=0;for(z=e.length;f<z;f++)r=e[f],n=(r.ticked?l:void 0)||"",b=c(((d.treeProof?void 0:r.indentation)||"")+" "+r.sentence,g+1),(p.needLineNumbers||!0===d.numberLines)&&!1!==d.numberLines&&(v+=r.number+
" "),v+=b+"   "+n+r.justification+"\n";return v.trim()}};d=function(a,c){var d,b;try{d=y.parse(a,c),l.to(d,c),p.to(d,c),K.to(d,c),t.to(d,c),u.to(d,c)}catch(f){return f.message}b=d;b.listErrorMessages=function(){var a;a=[];b.walk({visit:function(b){var c;if(("line"===(c=null!=b?b.type:void 0)||"close_branch"===c||"open_branch"===c)&&!1===b.status.verified)return c=b.number,b=b.status.getMessage(),a.push(c+": "+b)}});return a.join("\n")};b.walk({visit:function(a){"block"===a.type&&F(a)}});return b};
f.parse=d},{"../dialect_manager/dialectManager":5,"./add_justification":16,"./add_line_numbers":17,"./add_sentences":18,"./add_status":19,"./add_verification":20,"./block_parser":21,lodash:9}],28:[function(a,E,f){var A,F,p,l,K,t,u,y,B,c,d,v,k,h,w,b,z,r,g,e,n,q,G,D,J,V,Wb,Q,ia,Lb,Y,M=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},la=[].slice;A=a("lodash");a("../util");Lb=a("../substitute");g=a("../fol");Wb=void 0;f.setParser=function(a){return Wb=
a};Y={};f.tickIf=Y;p=function(a,b,c){var d,e,g,h,k,n,f;n=[];e=0;for(g=a.length;e<g;e++)if(d=a[e],d.parent===b)for(null==d.rulesChecked&&d.verify(),f=d.rulesChecked,k=0,h=f.length;k<h;k++)d=f[k],d=d.rule,n.push(d);e=[];h=0;for(g=c.length;h<g;h++)d=c[h],0>M.call(n,d)&&e.push(d);if(0===e.length)return!0;b=b.getChildren();if(!(0<(null!=b?b.length:void 0)))return!1;n=0;for(c=b.length;n<c;n++)if(d=b[n],d=p(a,d,e),!1===d)return!1;return!0};Y.allRulesAppliedInEveryBranch=function(a){return function(b){var c;
c=b.getLinesThatCiteMe();return p(c,b.parent,a)}};y=function(a,b,c){var d,e,g,h,k,n;e=0;for(g=a.length;e<g;e++)if(d=a[e],d.parent===b)for(null==d.rulesChecked&&d.verify(),n=d.rulesChecked,h=0,d=n.length;h<d;h++)if(k=n[h],k=k.rule,0<=M.call(c,k))return!0;b=b.getChildren();if(!(0<(null!=b?b.length:void 0)))return!1;g=0;for(e=b.length;g<e;g++)if(d=b[g],d=y(a,d,c),!1===d)return!1;return!0};Y.someRuleAppliedInEveryBranch=function(a){return function(b){var c;c=b.getLinesThatCiteMe();return y(c,b.parent,
a)}};Y.ruleAppliedAtLeastOnceAndAppliedToEveryExistingConstant=function(a){return function(b){if(!Y.someRuleAppliedInEveryBranch([a])(b))return!1}};F=function(){function a(b){b=h(b);this._requirements={from:(null!=b?[b]:void 0)||[],to:void 0};this.whereReqs=[];this.andAlso=this}a.prototype.type="rule";a.prototype.and=function(a){a=h(a);this._requirements.from.push(a);return this};a.prototype.to=function(a){if(null!=this._requirements.to)throw Error("You cannot specify `.to` more than once in a single rule.");
a=h(a);this._requirements.to=a;a.isBranchingRule&&(this.isBranchingRule=!0);return this};a.prototype.where=function(a){this.whereReqs.push(a);return this};a.prototype.check=function(a){var b,c,d,e,g;b=k(a,this._requirements);if(!1===b)return!1;e=this.whereReqs;c=0;for(d=e.length;c<d;c++)if(g=e[c],b=g.check(a,b,this),!1===b)return!1;null==a.rulesChecked&&(a.rulesChecked=[]);a.rulesChecked.push({rule:this,matches:b});return!0};return a}();e=function(a){return new F(a)};f.from=e;f.to=function(a){return e().to(a)};
f.previousLineMatches=function(a){A.isString(a)&&(a=g.parse(a));return{check:function(b,c,d){for(b=b.prev;null==b.sentence&&null!=b.prev;)b=b.prev;return null==(null!=b?b.sentence:void 0)?!1:r(b,a,c)}}};f.previousLineCitesSameLines=function(){return{check:function(a,b,c){for(b=a.prev;null==b.sentence&&null!=b.prev;)b=b.prev;return a.getCitedLines().length!==b.getCitedLines().length?!1:A.intersection(a.getCitedLines(),b.getCitedLines()).length===a.getCitedLines().length}}};f.ruleIsAppliedToEveryExistingConstantAndANewConstant=
function(a){return{check:function(b,c,d){var e,g,h,k,n,f,r,l,z,p,v,q;v=b.parent.parent.getChildren();k=function(){var a,b,c;c=[];a=0;for(b=v.length;a<b;a++)q=v[a],c.push(q.getFirstLine());return c}();e=0;for(g=k.length;e<g;e++)if(p=k[e],p!==b){if(!(0<(null!=(h=p.rulesChecked)?h.length:void 0)))return c;n=function(){var a,b,c,d;c=p.rulesChecked;d=[];b=0;for(a=c.length;b<a;b++)q=c[b],d.push(q.rule);return d}();if(0>M.call(n,d))return c}l=[];b.findAbove(function(a){null!=a.sentence&&l.push(a.sentence.getNames())});
l=A.uniq(A.flatten(l));e=[];n=0;for(g=k.length;n<g;n++)for(p=k[n],z=p.rulesChecked||[{rule:d,matches:c}],f=0,h=z.length;f<h;f++)r=z[f],r.rule===d&&(r=r.matches,r=r[a],e.push(r.name));g=0;for(k=l.length;g<k;g++)if(d=l[g],0>M.call(e,d))return b.status.addMessage("you don\u2019t have a branch for the name \u2018"+d+"\u2019"),!1;g=0;for(k=e.length;g<k;g++)if(d=e[g],!(0<=M.call(l,d)))return c;b.status.addMessage("you don\u2019t branch for a new name");return!1}}};f.branch=function(a){return q(a).isFirstLineOfASubproof()};
q=function(a){var c,d;d=V(a);c=[function(a,b){return r(a,d,b)}];a={check:function(a,b){var d,e,g,h;d=b;g=0;for(h=c.length;g<h;g++)if(e=c[g],d=e(a,d),!1===d)return!1;return d},toString:function(){return d.toString()},isNewName:function(a){var d;d=K(a);c.push(function(a,c){var e;e=d.clone();e=e.applyMatches(c).applySubstitutions();return b(e.name,a)?!1:c});return this},isNotInAnyUndischargedPremise:function(a){var b;b=K(a);c.push(function(a,c){var d;d=b.clone();d=d.applyMatches(c).applySubstitutions();
return z(d.name,a)?!1:c});return this},branches:function(){this.isBranchingRule=!0;c.push(function(a,b){var c;c=a.parent;return null==c.parent||c.getFirstLine()!==a?(a.status.addMessage("to use this rule you must branch"),!1):b});return this},doesntBranch:function(){c.push(function(a,b){var c;c=a.parent;return(null!=c?c.getFirstLine():void 0)===a?(a.status.addMessage("you cannot use this rule to branch"),!1):b});return this}};return a.and=a};f.matches=q;f.replace=function(a,b){var c,d;d=V(a);b.from=
V(b.from);b.to=V(b.to);c=[function(a,c){var e,g,h,k;h=d.listMetaVariableNames().inExpression;e=0;for(g=h.length;e<g;e++)if(k=h[e],!(k in c))return!1;g=d.clone().applyMatches(c);e=a.sentence;null==g.box&&null!=e.box&&(e=e.clone(),delete e.box);return Lb.isOneASubstitutionInstanceOfTheOther(e,g,b)}];return{check:function(a,b){var d,e,g,h;d=b;g=0;for(h=c.length;g<h;g++)if(e=c[g],d=e(a,d),!1===d)return!1;return d},toString:function(){return d.toString()+"["+b.from.toString()+"--\x3e"+b.to.toString()+
"]"}}};r=function(a,c,d){var e,g,h,k;if("line"!==a.type)return!1;h=c.listMetaVariableNames().inSub.left;e=0;for(g=h.length;e<g;e++)if(k=h[e],!(k in d))return!1;c=c.clone().applyMatches(d);if(null===c.applySubstitutions())return!1;e=a.sentence;if(null==e)return!1;null==c.box&&null!=e.box&&(e=e.clone(),delete e.box);d=e.findMatches(c,d);if(!1===d)return!1;if(null!=c.box||"box"===c.type)if(c=("box"===c.type?c:void 0)||(null!=c.box?c.box:void 0),c=c.applyMatches(d).applySubstitutions(),c=c.term.name,
a=b(c,a),!1!==a)return!1;return d};b=function(a,b){return b.findAbove(function(b){return"line"!==b.type?!1:0<=M.call(b.sentence.getNames(),a)?!0:!1})};z=function(a,b){return b.isPremise()&&0<=M.call(b.sentence.getNames(),a)?!0:b.findAbove(function(b){return"line"===b.type&&b.isPremise()?0<=M.call(b.sentence.getNames(),a)?!0:!1:!1})};h=function(a){return A.isString(a)?q(a):a};f.subproof=function(a,b){var c,d,e,g;e=h(a);d=h(b);c=[function(a,b){var c,g,h;g=a.getFirstLine();c=a.getLastLine();h=e.check(g,
b);if(!1!==h&&(h=d.check(c,h),!1!==h))return h;c=d.check(c,b);if(!1===c)return!1;g=e.check(g,c);return!1===g?!1:g}];g=[function(){return e.toString()+" \u22a2 "+d.toString()}];return{type:"subproof",check:function(a,b){var d,e,g,h;d=b;g=0;for(h=c.length;g<h;g++)if(e=c[g],d=e(a,d),!1===d)return!1;return d},contains:function(){var a,b;a=1<=arguments.length?la.call(arguments,0):[];a=function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(V(b));return e}();c.push(function(b,c){var d,e,g,h,
k;h=[];k=b.content;e=0;for(g=k.length;e<g;e++)d=k[e],"line"===d.type&&(d.isPremise()||h.push(d));return n(h,a,c)});g.push(function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(b.toString());return", where this subproof contains "+e.join(" and ")});return this},toString:function(){var a,b,c,d;d="";b=0;for(c=g.length;b<c;b++)a=g[b],d+=a();return d}}};n=function(a,b,c){var d,e,g,h;if(0===b.length)return c;b=A.clone(b);e=b.pop();c=B(a,e,c);if(0===c.length)return!1;e=0;for(g=c.length;e<g;e++)if(d=
c[e],d=d.matches,d=h=n(a,b,d),!1!==h)return d;return!1};f.linesContainPatterns=n;B=function(a,b,c){var d,e,g,h,k;h=[];d=0;for(e=a.length;d<e;d++)g=a[d],k=g.sentence,k=null!=k?k.findMatches(b,c):void 0,!1!==k&&h.push({line:g,matches:k});return h};k=function(a,b){var c,e,g,h,k,n,f,r;if(!v(a,b))return!1;h=[];n=a.getCitedLines();e=0;for(k=n.length;e<k;e++)g=n[e],0<=M.call(h,g)?h.push(A.clone(g)):h.push(g);e=a.getCitedBlocks();h=t(h);e=t(e);f=0;for(k=h.length;f<k;f++)for(g=h[f],r=0,n=e.length;r<n;r++)if(c=
e[r],c=d(b,a,g,c),!1!==c)return h=c;f=a.getRuleName();e=[];null!=b.to&&e.push("on a line with the form "+b.to);n=b.from;g=0;for(h=n.length;g<h;g++)k=n[g],"subproof"===k.type?e.push(" citing a subproof of the form "+k):e.push(" citing a line of the form "+k);a.status.addMessageIfNoneAlready("you can only use "+f+" "+e.join("; ")+".");return!1};d=function(a,b,d,e){var g,h,k;g=[];null!=a.to&&g.push({req:a.to,linesOrBlocks:[b]});k=a.from;b=0;for(h=k.length;b<h;b++)a=k[b],g.push({req:a,linesOrBlocks:("subproof"===
a.type?e:void 0)||d});d=t(g);g=0;for(e=d.length;g<e;g++)if(a=d[g],a=c(a),!1!==a)return d=a;return!1};v=function(a,b){var c,d,e,g,h,k,n,f;e=a.getCitedLines().length;c=a.getCitedBlocks().length;g=d=0;f=b.from;k=0;for(h=f.length;k<h;k++)n=f[k],"subproof"===n.type?g+=1:d+=1;if(!0===(d===e&&g===c))return!0;k=J(d,"line");h=J(g,"subproof");g=(k&&h?"and ":void 0)||(k||h?void 0:"nothing")||"";e=J(e,"line");d=J(c,"subproof");c=(e&&d?"and ":void 0)||(e||d?void 0:"nothing")||"";n=a.getRuleName();a.status.addMessage(("you must cite "+
k+" "+g+h+" when using the rule "+n+" (you cited "+e+" "+c+d+").").replace(/\s\s+/g," "));return!1};c=function(a){var b,c,d,e,g,h,k,n,f,r;n=[];d={};e=0;for(g=a.length;e<g;e++){b=a[e];r=b.req;c=[];f=b.linesOrBlocks;k=0;for(h=f.length;k<h;k++)b=f[k],0>M.call(n,b)&&c.push(b);c=w(r,c,d);if(!1===c)return!1;d=c.newMatches;c=c.matchedLineOrBlock;n.push(c)}return d};w=function(a,b,c){var d,e,g,h;d=0;for(e=b.length;d<e;d++)if(g=b[d],h=a.check(g,c),!1!==h)return{newMatches:h,matchedLineOrBlock:g};return!1};
f.premise=function(){return{check:l}};l=function(a,b){return a.prev?null!=a.parent.parent?(a.status.addMessage("only the first line of a subproof may be a premise."),!1):a.findAbove(function(a){var b,c;if("line"===a.type){if(c="premise"===(null!=(b=a.justification)?b.rule.connective:void 0))return!1;if(!c)return!0}return"block"===a.type?!0:!1})?(a.status.addMessage("premises may not occur after non-premises."),!1):b:b};f.premiseInTreeProof=function(){return{check:function(a,b){return null!=a.parent.parent?
(a.status.addMessage("you cannot have a premise (aka \u2018assumption\u2019, \u2018set member\u2019) in a branch"),!1):l(a,b)}}};Q=g.parse("\u03c6");D=g.parse("not \u03c6");G=g.parse("not \u03b1=\u03b1");f.closeBranch=function(){return{check:function(a,b){var c;if(null!=a.next)return a.status.addMessage("You can only close on the final line of a branch."),!1;c=a.findAllAbove(function(a){return"line"===a.type});if(!1!==n(c,[D,Q],{})||!1!==n(c,[G],{}))return b;a.status.addMessage("you can only close a branch if it contains either a sentence like \u2018\u00ac\u03b1=\u03b1\u2019, or two sentences like \u2018\u03c6\u2019 and \u2018\u00ac\u03c6\u2019.");
return!1}}};u=g.parse("\u03b1=\u03b1");ia=function(a){return null!=a&&!1!==a.findMatches(u)};f.openBranch=function(){return{check:function(a,b){var c,d,e,h,k,f,r,l,z,p,v,q,w,t,u,A,B,y,E;if(null!=a.next)return a.status.addMessage("You can only put a \u2018branch open\u2019 marker on the final line of a branch."),!1;u=a.findAllAbove(function(a){return"line"===a.type});e=n(u,[Q,D],{});z=n(u,[G],{});if(!1!==e||!1!==z)return a.status.addMessage("You can only mark a branch open if it contains neither a sentence like \u2018\u00ac\u03b1=\u03b1\u2019, nor two sentences like \u2018\u03c6\u2019 and \u00ac\u2018\u03c6\u2019."),
!1;z=0;for(w=u.length;z<w;z++)if(e=u[z],!e.canLineBeTicked())return a.status.addMessage("You can only mark a branch open if you have exhaustively decomposed every sentence on it, but line "+e.number+" has not been exhaustively decomposed."),!1;z=function(){var a,b,c,d;d=[];b=0;for(a=u.length;b<a;b++)p=u[b],"identity"===(null!=(c=p.sentence)?c.type:void 0)&&!1===ia(p.sentence)&&d.push(p);return d}();E=function(){var a,b,c;c=[];b=0;for(a=u.length;b<a;b++)p=u[b],!1===p.canBeDecomposed()&&c.push(p);return c}();
A=0;for(w=z.length;A<w;A++){e=z[A];l=e.sentence.getNames();k=l[0];l=l[1];c=[];d=[];q=0;for(t=E.length;q<t;q++)y=E[q],y===e||ia(y.sentence)||((f=0<=M.call(y.sentence.getNames(),k))&&c.push(y),(f=0<=M.call(y.sentence.getNames(),l))&&d.push(y));B=function(){var a,b,c;c=[];b=0;for(a=u.length;b<a;b++)v=u[b],null!=v.sentence&&c.push(v.sentence.toString({replaceSymbols:!0}));return c}();t=g.parse("\u03c6["+k+"--\x3e"+l+"]").substitutions;l=g.parse("\u03c6["+l+"--\x3e"+k+"]").substitutions;r=function(a,b){var c;
c=a.clone();c.substitutions=b;return c.getAllSubstitutionInstances()};h=function(a){var b,c,d,e;c=0;for(b=a.length;c<b;c++)if(e=a[c],d=e.toString({replaceSymbols:!0}),0>M.call(B,d))return!1;return!0};k=function(a,b){var c,d,e;d=0;for(c=a.length;d<c;d++)if(e=a[d],!h(r(e,b)))return!1;return!0};q=function(){var a,b,d,e;d=c;e=[];b=0;for(a=d.length;b<a;b++)y=d[b],e.push(y.sentence);return e}();if(!k(q,t))return a.status.addMessage("You can only mark a branch open if you have exhaustively applied every identity statement in it, but you have not done so for the identity statement on line "+
e.number+" ."),!1;t=function(){var a,b,c,e;c=d;e=[];b=0;for(a=c.length;b<a;b++)y=c[b],e.push(y.sentence);return e}();if(!k(t,l))return a.status.addMessage("You can only mark a branch open if you have exhaustively applied every identity statement in it, but you have not done so for the identity statement on line "+e.number+" ."),!1}return b}}};f._notImplementedYet=function(a){throw Error("the rule `"+a.justification.rule.connective+"` (or some part of it) is not implemented yet!");};V=function(a){A.isString(a)&&
(a=g.parse(a,Wb));return a};K=function(a){return A.isString(a)?V("F("+a+")").termlist[0]:a};t=function(a){var b,c,d,e,g,h,k,n;if(0===a.length)return[[]];n=[];c=e=0;for(g=a.length-1;0<=g?e<=g:e>=g;c=0<=g?++e:--e)for(b=A.clone(a),c=b.splice(c,1),k=t(b),d=b=0,h=k.length-1;0<=h?b<=h:b>=h;d=0<=h?++b:--b)d=c.concat(k[d]),n.push(d);return n};f._permutations=t;J=function(a,b){if(0===a)return"";if(1===a)return"1 "+b;if(1<a)return a+" "+b+"s"}},{"../fol":7,"../substitute":30,"../util":32,lodash:9}],29:[function(a,
E,f){E=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(E.getParser("teller"));a={_description:"Rules of proof for classical first-order logic as presented in Paul Teller,\nA Modern Formal Logic Primer (1998).",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),
a.from("not \u03c6 or \u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6"),a.from("\u03c6 or not \u03c8").and("\u03c8").to("\u03c6")]},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:[a.from(a.subproof("\u03c6","\u03c8 and not \u03c8")).to("not \u03c6"),a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")]},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),
intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:[a.from("\u03c6\u2194\u03c8").to("\u03c6 arrow \u03c8"),a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6\u2194\u03c8").to("\u03c8 arrow \u03c6"),a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")]},intro:a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c6").to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),
right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("(exists \u03c4) \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("(exists \u03c4) \u03c6")},universal:{elim:a.from("(all \u03c4) \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1^]").to("(all \u03c4) \u03c6")},weakening:a.from("\u03c6").to("\u03c8 arrow \u03c6"),cases:[a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),
a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7")],DC:[a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),a.from("\u03c6 arrow not \u03c8").and("\u03c8").to("not \u03c6"),a.from("not \u03c6 arrow \u03c8").and("not \u03c8").to("\u03c6")],reductio:[a.from(a.subproof("not \u03c6","\u03c8 and not \u03c8")).to("\u03c6"),a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6")],DM:[a.from("not (\u03c6 or \u03c8)").to("not \u03c6 and not \u03c8"),
a.from("not \u03c6 and not \u03c8").to("not (\u03c6 or \u03c8)"),a.from("not (\u03c6 and \u03c8)").to("not \u03c6 or not \u03c8"),a.from("not \u03c6 or not \u03c8").to("not (\u03c6 and \u03c8)")],contraposition:[a.from("\u03c6 arrow \u03c8").to("not \u03c8 arrow not \u03c6"),a.from("not \u03c8 arrow not \u03c6").to("\u03c6 arrow \u03c8"),a.from("not \u03c6 arrow \u03c8").to("not \u03c8 arrow \u03c6"),a.from("not \u03c8 arrow \u03c6").to("not \u03c6 arrow \u03c8"),a.from("\u03c6 arrow not \u03c8").to("\u03c8 arrow not \u03c6"),
a.from("\u03c8 arrow not \u03c6").to("\u03c6 arrow not \u03c8")],C:[a.from("\u03c6 arrow \u03c8").to("not \u03c6 or \u03c8"),a.from("not \u03c6 or \u03c8").to("\u03c6 arrow \u03c8"),a.from("not (\u03c6 arrow \u03c8)").to("\u03c6 and not \u03c8"),a.from("\u03c6 and not \u03c8").to("not (\u03c6 arrow \u03c8)")],CD:a.from("\u03c6").and("not \u03c6").to("\u03c8"),"not-all":a.from("not (all \u03c4) \u03c6").to("(exists \u03c4) not \u03c6"),"all-not":a.from("(all \u03c4) not  \u03c6").to("not (exists \u03c4) \u03c6"),
"not-exists":a.from("not (exists \u03c4) \u03c6").to("(all \u03c4) not \u03c6"),"exists-not":a.from("(exists \u03c4) not \u03c6").to("not (all \u03c4) \u03c6")};f.rules=a;E.registerRuleSet("teller",a)},{"../dialect_manager/dialectManager":5,"./rule":28}],30:[function(a,E,f){var A,F,p,l,K,t,u,y,B,c;A=a("lodash");c=a("./util");E=a("./dialect_manager/dialectManager").getParser("awFOL");t=a("./match");p={replace_arrow:{from:"\u03c6 arrow \u03c8",to:"(not \u03c6) or \u03c8"},replace_double_arrow:{from:"\u03c6 \u2194 \u03c8",
to:"(\u03c6 or (not \u03c8)) and ((not \u03c6) or \u03c8)"},demorgan1:{from:"not (\u03c6 and \u03c8)",to:"((not \u03c6) or (not \u03c8))"},demorgan2:{from:"not (\u03c6 or \u03c8)",to:"((not \u03c6) and (not \u03c8))"},dbl_neg:{from:"not not \u03c6",to:"\u03c6"},not_all:{from:"not ((all \u03c4) \u03c6)",to:"(exists \u03c4) (not \u03c6)"},not_exists:{from:"not ((exists \u03c4) \u03c6)",to:"(all \u03c4) (not \u03c6)"},cnf_left:{from:"\u03c61 or (\u03c62 and \u03c63)",to:"(\u03c61 or \u03c62) and (\u03c61 or \u03c63)"},
cnf_right:{from:"(\u03c62 and \u03c63) or \u03c61",to:"(\u03c62 or \u03c61) and (\u03c63 or \u03c61)"},all_and_left:{from:"\u03c6 and ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 and \u03c8)"},all_and_right:{from:"((all \u03c4) \u03c8) and \u03c6",to:"(all \u03c4) (\u03c8 and \u03c6)"},all_or_left:{from:"\u03c6 or ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 or \u03c8)"},all_or_right:{from:"((all \u03c4) \u03c8) or \u03c6",to:"(all \u03c4) (\u03c8 or \u03c6)"},exists_and_left:{from:"\u03c6 and ((exists \u03c4) \u03c8)",
to:"(exists \u03c4) (\u03c6 and \u03c8)"},exists_and_right:{from:"((exists \u03c4) \u03c8) and \u03c6",to:"(exists \u03c4) (\u03c8 and \u03c6)"},exists_or_left:{from:"\u03c6 or ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 or \u03c8)"},exists_or_right:{from:"((exists \u03c4) \u03c8) or \u03c6",to:"(exists \u03c4) (\u03c8 or \u03c6)"}};y={};for(K in p)B=p[K],a=E.parse(B.from),c.delExtraneousProperties(a),B=E.parse(B.to),c.delExtraneousProperties(B),a={from:a,to:B},y[K]=a;f.subsForPNF=y;p={identity:{from:"\u03c4=\u03c4",
to:"true"},not_true:{from:"not true",to:"false"},not_false:{from:"not false",to:"true"},or_duplicate:{from:"\u03c6 or \u03c6",to:"\u03c6"},or_duplicate_left:{from:"\u03c6 or (\u03c6 or \u03c8)",to:"\u03c6 or \u03c8"},or_duplicate_right:{from:"(\u03c8 or \u03c6) or \u03c6",to:"\u03c8 or \u03c6"},and_duplicate:{from:"\u03c6 and \u03c6",to:"\u03c6"},and_duplicate_left:{from:"\u03c6 and (\u03c6 and \u03c8)",to:"\u03c6 and \u03c8"},and_duplicate_right:{from:"(\u03c8 and \u03c6) and \u03c6",to:"\u03c8 and \u03c6"},
false_or:{from:"false or \u03c6",to:"\u03c6"},true_or:{from:"true or \u03c6",to:"true"},false_and:{from:"false and \u03c6",to:"false"},true_and:{from:"true and \u03c6",to:"\u03c6"},contradiction_and:{from:"\u03c6 and not \u03c6",to:"false"},contradiction_and_left:{from:"\u03c6 and (not \u03c6 and \u03c8)",to:"false"},contradiction_and_right:{from:"(\u03c8 and \u03c6) and not \u03c6",to:"false"},taut_or:{from:"\u03c6 or not \u03c6",to:"true"},taut_and_left:{from:"\u03c6 or (not \u03c6 or \u03c8)",
to:"true"},taut_and_right:{from:"(\u03c8 or \u03c6) or not \u03c6",to:"true"}};y={};for(K in p)B=p[K],a=E.parse(B.from),c.delExtraneousProperties(a),B=E.parse(B.to),c.delExtraneousProperties(B),a={from:a,to:B},y[K]=a;f.subs_eliminate_redundancy=y;l=function(a,c){var k;return(k=t.findWithoutApplyingSubs(a,c.from))?t.apply(c.to,k):a};f.doSub=l;f.doSubRecursive=function(a,f,k){null==k&&(k={});return c.walkMutate(a,function(a){return null===a||A.isArray(a)||null!=a.type&&"box"===a.type?a:l(a,f)})};u=
function(a,f,k){var h,l,b;null==k&&(k={});h=f.from;l=f.to;b=function(a){if(null===a||A.isArray(a)||b._inSub)return a;if(c.areIdenticalExpressions(a,h)){if(null===l)throw Error("_internal: replace to null");return c.cloneExpression(l)}return a};a=k.noClone?a:c.cloneExpression(a);return c.walkMutate(a,b)};f.replace=u;f.applySubstitutions=function(a){var f;f=function(a){var c,d,b,f;if(null==(null!=a?a.substitutions:void 0))return a;f=A.cloneDeep(a.substitutions);delete a.substitutions;c=0;for(d=f.length;c<
d;c++)b=f[c],b={from:b.from,to:b.to},a=u(a,b);return a};a=A.cloneDeep(a);try{return c.walkMutate(a,f)}catch(k){a=k;if("_internal: replace to null"===a.message)return null;throw a;}};F=function(a,f,k){var h;if(c.areIdenticalExpressions(a,f))return!0;h=function(a,b){var c,d,g,e;e="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");d=0;for(g=e.length;d<g;d++)if(c=e[d],null!=a[c]||null!=b[c]){if(null==a[c]||null==b[c])return!1;if(A.isString(a[c])){if(a[c]!==
b[c])return!1}else if(!F(a[c],b[c],k))return!1}return!0};if(h(a,f))return!0;a=l(c.cloneExpression(a),k);return h(a,f)?!0:!1};f.isOneASubstitutionInstanceOfTheOther=function(a,f,k){a=c.delExtraneousProperties(c.cloneExpression(a));f=c.delExtraneousProperties(c.cloneExpression(f));return F(a,f,k)};f.isThereAWayOfApplyingTheSubstitutionToMakeTheFunctionReturnTrue=function(a,f,k){a=c.cloneExpression(a);f=l(a,f);if(k(f))return!0}},{"./dialect_manager/dialectManager":5,"./match":8,"./util":32,lodash:9}],
31:[function(a,E,f){a("lodash");E.exports={"default":{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",propLanguageName:"FOL",predLanguageName:"FOL",elim:" Elim",intro:" Intro"},copi:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2022",arrow:"\u2283",double_arrow:"\u2261",
or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"",universal:"all",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0},teller:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,
singleLetterPredicates:!0,"not-all":"~\u2200","all-not":"\u2200~","exists-not":"\u2203~","not-exists":"~\u2203",propLanguageName:"sentence logic",predLanguageName:"predicate logic"},forallx:{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!1,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,
propLanguageName:"SL",predLanguageName:"QL"},logicbook:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",predLanguageName:"PL",association:"Assoc",premise:"Assumption",DM:"DeM",decomposition:"D",decomposition2:"D2",
tick:"\u2713","double-negation":"~ ~",not_double_arrow:"~ \u2261",not_and:"~ &",not_or:"~ \u2228",not_arrow:"~ \u2283"}}},{lodash:9}],32:[function(a,E,f){var A,F,p,l,K,t,u,y,B,c,d,v,k,h,w={}.hasOwnProperty;A=a("lodash");u=a("./dialect_manager/dialectManager");h=function(a,c,d){var g;if(A.isArray(a)){var e,k,f;f=[];e=0;for(k=a.length;e<k;e++)g=a[e],f.push(h(g,c,d));return f}if(null===a)return c(a);null!=(null!=d?d.topDown:void 0)&&d.topDown&&(g=c(a));c._trace&&console.log("walkMutate got "+util.expressionToString(a));
null!=a.box&&(c._inBox=!0,a.box=h(a.box,c,d),c._inBox=void 0);null!=a.substitutions&&(null==c._inSubCount&&(c._inSubCount=0),c._inSubCount+=1,c._inSub=!0,a.substitutions=h(a.substitutions,c,d),--c._inSubCount,0===c._inSubCount&&(c._inSub=void 0));"substitution"===a.type&&(c._inSubLeft=!0,a.from=h(a.from,c,d),c._inSubLeft=void 0,a.to=h(a.to,c,d));null!=a.boundVariable&&(c._inBoundVariable=!0,a.boundVariable=h(a.boundVariable,c,d),c._inBoundVariable=void 0);null!=a.termlist&&(a.termlist=h(a.termlist,
c,d));null!=a.term&&(a.term=h(a.term,c,d));null!=a.left&&(a.left=h(a.left,c,d));null!=a.right&&(a.right=h(a.right,c,d));return null!=(null!=d?d.topDown:void 0)&&d.topDown?g:c(a)};f.walkMutate=h;v=function(a,c,d){var g;g=function(a){var b,d;for(b in g)w.call(g,b)&&(d=g[b],c[b]=d);c(a);return a};return h(a,g,d)};f.walk=v;k=function(a,c,d,g){var e,h,f;if(null!=d&&(g=d(a,c),void 0!==g))return g;if(null===a||null===c)return a===c;h=[A.isBoolean,A.isNumber,A.isString];g=0;for(e=h.length;g<e;g++)if(f=h[g],
f(a)||f(c))return a===c;if(A.isArray(a)||A.isArray(c)){if(!A.isArray(a)||!A.isArray(c)||a.length!==c.length)return!1;e=h=0;for(f=a.length;h<f;e=++h)if(g=a[e],!k(g,c[e],d))return!1;return!0}f="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");e=0;for(h=f.length;e<h;e++)if(g=f[e],(g in a||g in c)&&!(g in a&&g in c&&k(a[g],c[g],d)))return!1;return!0};f.walkCompare=k;l=function(a,c,d){return k(a,c,void 0,d)};f.areIdenticalExpressions=l;B=function(a,c){var d,
g,e,h;d=c(a);if(void 0!==d)return d;if(null!==a){e=[A.isBoolean,A.isNumber,A.isString];d=0;for(g=e.length;d<g;d++)if(h=e[d],h(a))return;if(A.isArray(a))for(g=0,e=a.length;g<e;g++){if(d=a[g],d=B(d,c),void 0!==d)return d}else for(h="substitutions from to box term boundVariable termlist left right type name letter value".split(" "),g=0,e=h.length;g<e;g++)if(d=h[g],d in a&&(d=B(a[d],c),void 0!==d))return d}};f.find=B;f.walkMutateFindOne=function(a,c,d){var g,e;g=void 0;e=function(a){var b,d;if(void 0!==
g)return a;for(b in e)w.call(e,b)&&(d=e[b],c[b]=d);d=c(a)||{};b=d.newExpression;g=d.aResult;return void 0!==b?b:a};a=h(a,e,d);return{theResult:g,mutatedExpression:a}};F=function(a){var c,d,g,e;if(null===a)return a;e=["location","symbol","parent"];d=0;for(g=e.length;d<g;d++)c=e[d],c in a&&delete a[c];for(c in a)w.call(a,c)&&(d=a[c],A.isFunction(d)&&delete a[c]);return a};f.delExtraneousProperties=function(a){return null==(null!=a?a.type:void 0)?a:v(a,F)};t=function(a){var c,d,g,e,h;if(null===a)return null;
g=[A.isBoolean,A.isNumber,A.isString];c=0;for(d=g.length;c<d;c++)if(e=g[c],e(a))return a;if(A.isArray(a)){e=[];d=0;for(g=a.length;d<g;d++)c=a[d],e.push(t(c));return e}c={};h="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");g=0;for(e=h.length;g<e;g++)d=h[g],d in a&&(c[d]=t(a[d]));return c};f.cloneExpression=t;y=function(a,c){var d,g,e,k,f,l;null==c&&(c={});null!=c.symbols?c.replaceSymbols=!0:c.symbols=u.getSymbols();k=[A.isBoolean,A.isNumber,A.isString,
A.isArray];d=0;for(g=k.length;d<g;d++)if(l=k[d],l(a))return""+a;f=0;d=c.replaceSymbols?t(a):A.cloneDeep(a);g=h(d,function(a){var b,d,e,g,h,k,n,p;if(null===a)return"null";f+=1;k=[A.isBoolean,A.isNumber,A.isString];d=0;for(g=k.length;d<g;d++)if(l=k[d],l(a))return""+a;if(A.isArray(a))return!1===c.symbols.predicationBracketsAndCommas?a.join(""):a.join(",");if(null==(null!=a?a.type:void 0)&&void 0===a)return"[undefined]";if("variable"===(n=a.type)||"name"===n||"name_hat"===n||"term_metavariable"===n||
"term_metavariable_hat"===n)return a.substitutions?"{"+a.name+"["+a.substitutions+"]}":a.name;if("box"===a.type)return"["+a.term+"]";if("termlist"===a.type){e=[];p=0;for(h=a.length;p<h;p++)b=a[p],e.push(b.name);return e}if("substitution"===a.type)return a.from+"--\x3e"+a.to;null!=a.box&&(b=a.box);a.substitutions&&(p="["+a.substitutions+"]");null!=a.termlist&&(d=a.name||a.symbol||c.symbols[a.type]||a.type,!0===c.symbols.singleLetterPredicates&&"predicate"===a.type&&""!==d.replace(/[A-Z][0-9]*/,"")&&
(d=d[0]),h=!1===c.symbols.predicationBracketsAndCommas?""+d+a.termlist.join(""):d+"("+a.termlist.join(",")+")");"identity"===a.type&&(d=a.symbol||"=",g=a.termlist,h=g[0],g=g[1],h=""+h+d+g);if("sentence_letter"===(e=a.type)||"expression_variable"===e)h=a.letter;"value"===a.type&&(h=""+((null!=a.symbol?a.symbol:void 0)||("false"===a.value||!1===a.value?c.symbols["false"]:void 0)||a.value));d=null!=a.right;g=e="";d&&(e="(",g=")");d=a.symbol||c.symbols[a.type]||"";c.wrapWithDivs&&(d="<span class='_symbolWrap' data-symbolNum='"+
f+"'>"+d+"</span>");null!=a.boundVariable&&(h=a.boundVariable,h=""===c.symbols.universal_quantifier||!0===c.symbols.quantifiersInBrackets?"("+d+h+")"+e+a.left+(a.right||"")+g:""+d+h+" "+e+a.left+(a.right||"")+g);null!=a.left&&null==a.boundVariable&&(h=null==a.right?""+e+d+(a.left||"")+g:""+e+(a.left||"")+" "+d+" "+(a.right||"")+g);c.wrapWithDivs&&(h="<span class='_expressionWrap'>"+h+"</span>");return""+(b||"")+h+(p||"")});d={remove_extra_whitespace:{from:/\s+/g,to:" "},remove_space_between_quantifiers:{from:/([\u2200\u2203].)\s+([\u2200\u2203].)/,
to:"$1$2"},remove_space_between_quantifier_and_brackets:{from:/([\u2200\u2203].)\s+(\()/,to:"$1$2"},remove_outer_brackets:{from:/(^\s*\()([\s\S]*)(\)\s*$)/,to:"$2"}};if(""!==c.symbols.universal_quantifier&&!0!==c.symbols.quantifiersInBrackets||null==a.boundVariable)for(e in d)k=d[e],g=g.replace(k.from,k.to);return g.trim()};f.expressionToString=y;f.matchesToString=function(a){var c,d,g;if(!1===a)return"false";if(!a)return"[no]";c="";for(d in a)w.call(a,d)&&(g=a[d],null!=(null!=g?g.type:void 0)&&(c=
c+"\n\t"+d+" : "+y(g)));return c};f.exhaust=function(a,c,d){var g;null==d&&(d=l);for(g=null;!d(g,a);)g=a,a=c(t(g));return a};f.listOfAtomicExpressionsComparator=function(a,c){var d,g,e,h;if(a.length<c.length)return-1;if(a.length>c.length)return 1;g=d=0;for(h=a.length;d<h;g=++d)if(e=a[g],g=K(e,c[g]),0!==g)return g;return 0};K=function(a,h){var k,g;k=p(a.type,h.type);if(0!==k)return k;if("not"===a.type&&"not"!==h.type)return k=K(a.left,h),0===k?1:k;if("not"!==a.type&&"not"===h.type)return k=K(a,h.left),
0===k?-1:k;if("not"===a.type&&"not"===h.type)return K(a.left,h.left);if(null!=a.value)return a.value<h.value?-1:a.value>h.value?1:0;if(null!=a.letter)return a.letter<h.letter?-1:a.letter>h.letter?1:0;if(null!=a.name)return a.name<h.name?-1:a.name>h.name?1:0;if(null!=a.termlist)return k=c(a.termlist[0],a.termlist[1],d),g=c(h.termlist[0],h.termlist[1],d),d(k,g);throw Error("Could not do a comparison for "+JSON.stringify(a,null,4));};f.atomicExpressionComparator=K;c=function(a,c,d){return 0<d(a,c)?c:
a};d=function(a,c){var d;d=p(a.type,c.type);return 0!==d?d:a.name<c.name?-1:a.name>c.name?1:0};f.termComparator=d;p=function(a,c){var d;if("not"===a||"not"===c)return 0;d={value:5,sentence_letter:10,predicate:20,identity:30,name:50,variable:60};return d[a]<d[c]?-1:d[a]>d[c]?1:0};f.listTerms=function(a){var c;c=[];v(a,function(a){var b;if("variable"===(b=a.type)||"name"===b||"term_metavariable"===b)return c.push(a)});return c};f.listMetaVariableNames=function(a){var c,d;c={inExpression:[],inBox:[],
inSub:{left:[],right:[]}};d=function(a){var b;if(null==(null!=a?a.type:void 0)||"term_metavariable"!==a.type&&"expression_variable"!==a.type)return a;b=(null!=(null!=a?a.letter:void 0)?a.letter:void 0)||a.name;null!=d._inSub?null!=d._inSubLeft?c.inSub.left.push(b):c.inSub.right.push(b):null!=d._inBox?c.inBox.push(b):c.inExpression.push(b);return a};v(a,d);return c};f.expressionTypes="existential_quantifier universal_quantifier and or nand nor arrow double_arrow not value predicate identity expression_variable sentence_letter".split(" ");
f.termTypes=["name","variable","term_metavariable"];f.atomicSentenceTypes=["sentence_letter","expression_variable","identity","predicate"];f.expressionContainsSubstitutions=function(a){return!0===B(a,function(a){if(null!=(null!=a?a.substitutions:void 0))return!0})?!0:!1};f.expressionHasSub=function(a,c){var d,g,e,h;if(null==(null!=a?a.substitutions:void 0))return!1;h=a.substitutions;g=0;for(e=h.length;g<e;g++)if(d=h[g],l(d.from,c.from)&&l(d.to,c.to))return!0;return!1};f.getLanguageNames=function(){var a,
c,d;c=null!=(a=u.getSymbols())?a.propLanguageName:void 0;a=(null!=(d=u.getSymbols())?d.predLanguageName:void 0)||"quantificational logic";d=[a];null!=c&&c!==a&&d.unshift(c);return d};f.getPredLanguageName=function(){var a;return(null!=(a=u.getSymbols())?a.predLanguageName:void 0)||"quantificational logic"}},{"./dialect_manager/dialectManager":5,lodash:9}],33:[function(a,E,f){(function(a){var f={inheritAttrs:function(a,d){for(var f in d)"function"!==typeof d[f]&&(a[f]instanceof Object&&d[f]instanceof
Object?this.inheritAttrs(a[f],d[f]):a[f]=d[f])},createMerge:function(a,d){var f={};a&&this.inheritAttrs(f,this.cloneObj(a));d&&this.inheritAttrs(f,d);return f},cloneObj:function(a){if(Object(a)!==a)return a;var d=new a.constructor,f;for(f in a)a.hasOwnProperty(f)&&(d[f]=this.cloneObj(a[f]));return d},addEvent:function(a,d,f){a.addEventListener?a.addEventListener(d,f,!1):a.attachEvent?a.attachEvent("on"+d,f):a["on"+d]=f},hasClass:function(a,d){return-1<(" "+a.className+" ").replace(/[\n\t]/g," ").indexOf(" "+
d+" ")}},p=function(){this.loading=[]};p.prototype={processNode:function(a){for(var d=a.nodeDOM.getElementsByTagName("img"),f=d.length;f--;)this.create(a,d[f])},removeAll:function(a){for(var d=this.loading.length;d--;)this.loading[d]===a&&this.loading.splice(d,1)},create:function(a,d){function l(){k.removeAll(h);a.width=a.nodeDOM.offsetWidth;a.height=a.nodeDOM.offsetHeight}var k=this,h=d.src;this.loading.push(h);if(d.complete)return l();f.addEvent(d,"load",l);f.addEvent(d,"error",l);d.src+="?"+(new Date).getTime()},
isNotLoading:function(){return 0===this.loading.length}};var l={store:[],createTree:function(a){this.store.push(new E(a,this.store.length));return this.store[this.store.length-1]},get:function(a){return this.store[a]},destroy:function(a){var d=this.get(a);if(d){d._R.remove();for(d=d.drawArea;d.firstChild;)d.removeChild(d.firstChild);for(var f=d.className.split(" "),k=[],h=0;h<f.length;h++){var l=f[h];"Treant"!=l&&"Treant-loaded"!=l&&k.push(l)}d.style.overflowY="";d.style.overflowX="";d.className=
k.join(" ");this.store[a]=null}}},E=function(a,d){this.id=d;this.imageLoader=new p;this.CONFIG=f.createMerge(E.CONFIG,a.chart);this.drawArea=document.getElementById(this.CONFIG.container.substring(1));this.drawArea.className+=" Treant";this.nodeDB=new t(a.nodeStructure,this);this.connectionStore={}};E.prototype={positionTree:function(a){var d=this;if(this.imageLoader.isNotLoading()){var f=this.root();this.resetLevelData();this.firstWalk(f,0);this.secondWalk(f,0,0,0);this.positionNodes();this.CONFIG.animateOnInit&&
setTimeout(function(){f.toggleCollapse()},this.CONFIG.animateOnInitDelay);this.loaded||(this.drawArea.className+=" Treant-loaded","[object Function]"===Object.prototype.toString.call(a)&&a(d),this.loaded=!0)}else setTimeout(function(){d.positionTree(a)},10)},firstWalk:function(a,d){a.prelim=null;a.modifier=null;this.setNeighbors(a,d);this.calcLevelDim(a,d);var f=a.leftSibling();if(0===a.childrenCount()||d==this.CONFIG.maxDepth)a.prelim=f?f.prelim+f.size()+this.CONFIG.siblingSeparation:0;else{for(var k=
0,h=a.childrenCount();k<h;k++)this.firstWalk(a.childAt(k),d+1);k=a.childrenCenter()-a.size()/2;f?(a.prelim=f.prelim+f.size()+this.CONFIG.siblingSeparation,a.modifier=a.prelim-k,this.apportion(a,d)):a.prelim=k;a.stackParent?a.modifier+=this.nodeDB.get(a.stackChildren[0]).size()/2+a.connStyle.stackIndent:a.stackParentId&&(a.prelim=0)}},apportion:function(a,d){for(var f=a.firstChild(),k=f.leftNeighbor(),h=1,l=this.CONFIG.maxDepth-d;f&&k&&h<=l;){for(var b=0,p=0,r=k,g=f,e=0;e<h;e++)r=r.parent(),g=g.parent(),
p+=r.modifier,b+=g.modifier,void 0!==g.stackParent&&(b+=g.size()/2);b=k.prelim+p+k.size()+this.CONFIG.subTeeSeparation-(f.prelim+b);if(0<b){g=a;for(p=0;g&&g.id!=r.id;)g=g.leftSibling(),p++;if(g)for(g=a,p=b/p;g.id!=r.id;)g.prelim+=b,g.modifier+=b,b-=p,g=g.leftSibling()}h++;(f=0===f.childrenCount()?a.leftMost(0,h):f.firstChild())&&(k=f.leftNeighbor())}},secondWalk:function(a,d,f,k){if(d<=this.CONFIG.maxDepth){var h=a.prelim+f,l=this.CONFIG.nodeAlign,b=this.CONFIG.rootOrientation,p,r;if("NORTH"==b||
"SOUTH"==b)p=this.levelMaxDim[d].height,r=a.height,a.pseudo&&(a.height=p);else if("WEST"==b||"EAST"==b)p=this.levelMaxDim[d].width,r=a.width,a.pseudo&&(a.width=p);a.X=h;if(a.pseudo)if("NORTH"==b||"WEST"==b)a.Y=k;else{if("SOUTH"==b||"EAST"==b)a.Y=k+(p-r)}else a.Y="CENTER"==l?k+(p-r)/2:"TOP"==l?k+(p-r):k;if("WEST"==b||"EAST"==b)h=a.X,a.X=a.Y,a.Y=h;"SOUTH"==b?a.Y=-a.Y-r:"EAST"==b&&(a.X=-a.X-r);0!==a.childrenCount()&&(0===a.id&&this.CONFIG.hideRootNode?this.secondWalk(a.firstChild(),d+1,f+a.modifier,
k):this.secondWalk(a.firstChild(),d+1,f+a.modifier,k+p+this.CONFIG.levelSeparation));a.rightSibling()&&this.secondWalk(a.rightSibling(),d,f,k)}},positionNodes:function(){var a=this.nodeDB.getMinMaxCoord("X",null,null),d=this.nodeDB.getMinMaxCoord("Y",null,null),f=a.max-a.min,k=d.max-d.min,h=this.drawArea.clientWidth/2-(a.max-f/2),l=this.drawArea.clientHeight/2-(d.max-k/2),a=0>=a.min+h?Math.abs(a.min):0,d=0>=d.min+l?Math.abs(d.min):0,b,p,r;this.handleOverflow(f,k);b=0;for(p=this.nodeDB.db.length;b<
p;b++)if(r=this.nodeDB.get(b),0!==r.id||!this.CONFIG.hideRootNode){r.X+=a+(f<this.drawArea.clientWidth?h:this.CONFIG.padding);r.Y+=d+(k<this.drawArea.clientHeight?l:this.CONFIG.padding);var g=r.collapsedParent(),e=null;g?(e=g.connectorPoint(!0),r.hide(e)):r.positioned?r.show():(r.nodeDOM.style.left=r.X+"px",r.nodeDOM.style.top=r.Y+"px",r.positioned=!0);0===r.id||0===r.parent().id&&this.CONFIG.hideRootNode?!this.CONFIG.hideRootNode&&r.drawLineThrough&&r.drawLineThroughMe():this.setConnectionToParent(r,
e)}},handleOverflow:function(a,d){var f=a<this.drawArea.clientWidth?this.drawArea.clientWidth:a+2*this.CONFIG.padding,k=d<this.drawArea.clientHeight?this.drawArea.clientHeight:d+2*this.CONFIG.padding;this._R?this._R.setSize(f,k):this._R=Raphael(this.drawArea,f,k);if("native"==this.CONFIG.scrollbar)this.drawArea.clientWidth<a&&(this.drawArea.style.overflowX="auto"),this.drawArea.clientHeight<d&&(this.drawArea.style.overflowY="auto");else if("fancy"==this.CONFIG.scrollbar){var h=$(this.drawArea);h.hasClass("ps-container")?
(h.find(".Treant").css({width:f,height:k}),h.perfectScrollbar("update")):(h=h.wrapInner('<div class="Treant"/>'),h.find(".Treant").css({width:f,height:k}),h.perfectScrollbar())}},setConnectionToParent:function(a,d){var f=a.stackParentId,k=f?this.nodeDB.get(f):a.parent(),h=d?this.getPointPathString(d):this.getPathString(k,a,f);this.connectionStore[a.id]?(f=this.connectionStore[a.id],this.animatePath(f,h)):(f=this._R.path(h),this.connectionStore[a.id]=f,a.pseudo&&delete k.connStyle.style["arrow-end"],
k.pseudo&&delete k.connStyle.style["arrow-start"],f.attr(k.connStyle.style),(a.drawLineThrough||a.pseudo)&&a.drawLineThroughMe(d))},getPointPathString:function(a){return["_M",a.x,",",a.y,"L",a.x,",",a.y,a.x,",",a.y].join(" ")},animatePath:function(a,d){a.hidden&&"_"!==d.charAt(0)&&(a.show(),a.hidden=!1);a.animate({path:"_"===d.charAt(0)?d.substring(1):d},this.CONFIG.animation.connectorsSpeed,this.CONFIG.animation.connectorsAnimation,function(){"_"===d.charAt(0)&&(a.hide(),a.hidden=!0)})},getPathString:function(a,
d,f){var k=a.connectorPoint(!0);d=d.connectorPoint(!1);var h=this.CONFIG.rootOrientation,l=a.connStyle.type,b,p,r,g;if("NORTH"==h||"SOUTH"==h)b=r=(k.y+d.y)/2,p=k.x,g=d.x;else if("EAST"==h||"WEST"==h)p=g=(k.x+d.x)/2,b=k.y,r=d.y;var e=k.x+","+k.y,n=p+","+b,q=g+","+r,t=d.x+","+d.y;b=(p+g)/2+","+(b+r)/2;var u;if(f)if(f="EAST"==h||"WEST"==h?d.x+","+k.y:k.x+","+d.y,"step"==l||"straight"==l)u=["M",e,"L",f,"L",t];else{if("curve"==l||"bCurve"==l){var y;a=a.connStyle.stackIndent;"NORTH"==h?y=d.x-a+","+(d.y-
a):"SOUTH"==h?y=d.x-a+","+(d.y+a):"EAST"==h?y=d.x+a+","+k.y:"WEST"==h&&(y=d.x-a+","+k.y);u=["M",e,"L",y,"S",f,t]}}else"step"==l?u=["M",e,"L",n,"L",q,"L",t]:"curve"==l?u=["M",e,"C",n,q,t]:"bCurve"==l?u=["M",e,"Q",n,b,"T",t]:"straight"==l&&(u=["M",e,"L",e,t]);return u.join(" ")},setNeighbors:function(a,d){a.leftNeighborId=this.lastNodeOnLevel[d];a.leftNeighborId&&(a.leftNeighbor().rightNeighborId=a.id);this.lastNodeOnLevel[d]=a.id},calcLevelDim:function(a,d){this.levelMaxDim[d]?(this.levelMaxDim[d].width<
a.width&&(this.levelMaxDim[d].width=a.width),this.levelMaxDim[d].height<a.height&&(this.levelMaxDim[d].height=a.height)):this.levelMaxDim[d]={width:a.width,height:a.height}},resetLevelData:function(){this.lastNodeOnLevel=[];this.levelMaxDim=[]},root:function(){return this.nodeDB.get(0)}};var t=function(a,d){function l(a,c){var b=k.createNode(a,c,d,null);if(a.children){b.children=[];if(a.childrenDropLevel&&0<a.childrenDropLevel)for(;a.childrenDropLevel--;){var p=f.cloneObj(b.connStyle),b=k.createNode("pseudo",
b.id,d,null);b.connStyle=p;b.children=[]}p=a.stackChildren&&!k.hasGrandChildren(a)?b.id:null;null!==p&&(b.stackChildren=[]);for(var r=0,g=a.children.length;r<g;r++)null!==p?(b=k.createNode(a.children[r],b.id,d,p),r+1<g&&(b.children=[])):l(a.children[r],b.id)}}this.db=[];var k=this;d.CONFIG.animateOnInit&&(a.collapsed=!0);l(a,-1);this.createGeometries(d)};t.prototype={createGeometries:function(a){for(var d=this.db.length;d--;)this.get(d).createGeometry(a)},get:function(a){return this.db[a]},createNode:function(a,
d,f,k){a=new u(a,this.db.length,d,f,k);this.db.push(a);0<=d&&this.get(d).children.push(a.id);k&&(this.get(k).stackParent=!0,this.get(k).stackChildren.push(a.id));return a},getMinMaxCoord:function(a,d,f){d=d||this.get(0);var k=d.childrenCount();for(f=f||{min:d[a],max:d[a]+("X"==a?d.width:d.height)};k--;){var h=d.childAt(k),l=h[a]+("X"==a?h.width:h.height),b=h[a];l>f.max&&(f.max=l);b<f.min&&(f.min=b);this.getMinMaxCoord(a,h,f)}return f},hasGrandChildren:function(a){for(var d=a.children.length;d--;)if(a.children[d].children)return!0}};
var u=function(a,d,l,k,h){this.id=d;this.parentId=l;this.treeId=k.id;this.modifier=this.prelim=0;this.stackParentId=h;this.pseudo="pseudo"===a||a.pseudo;this.image=a.image;this.link=f.createMerge(k.CONFIG.node.link,a.link);this.connStyle=f.createMerge(k.CONFIG.connectors,a.connectors);this.drawLineThrough=!1===a.drawLineThrough?!1:a.drawLineThrough||k.CONFIG.node.drawLineThrough;this.collapsable=!1===a.collapsable?!1:a.collapsable||k.CONFIG.node.collapsable;this.collapsed=a.collapsed;this.text=a.text;
this.nodeInnerHTML=a.innerHTML;this.nodeHTMLclass=(k.CONFIG.node.HTMLclass?k.CONFIG.node.HTMLclass:"")+(a.HTMLclass?" "+a.HTMLclass:"");this.nodeHTMLid=a.HTMLid};u.prototype={Tree:function(){return l.get(this.treeId)},dbGet:function(a){return this.Tree().nodeDB.get(a)},size:function(){var a=this.Tree().CONFIG.rootOrientation;if(this.pseudo)return-this.Tree().CONFIG.subTeeSeparation;if("NORTH"==a||"SOUTH"==a)return this.width;if("WEST"==a||"EAST"==a)return this.height},childrenCount:function(){return this.collapsed||
!this.children?0:this.children.length},childAt:function(a){return this.dbGet(this.children[a])},firstChild:function(){return this.childAt(0)},lastChild:function(){return this.childAt(this.children.length-1)},parent:function(){return this.dbGet(this.parentId)},leftNeighbor:function(){if(this.leftNeighborId)return this.dbGet(this.leftNeighborId)},rightNeighbor:function(){if(this.rightNeighborId)return this.dbGet(this.rightNeighborId)},leftSibling:function(){var a=this.leftNeighbor();if(a&&a.parentId==
this.parentId)return a},rightSibling:function(){var a=this.rightNeighbor();if(a&&a.parentId==this.parentId)return a},childrenCenter:function(a){a=this.firstChild();var d=this.lastChild();return a.prelim+(d.prelim-a.prelim+d.size())/2},collapsedParent:function(){var a=this.parent();return a?a.collapsed?a:a.collapsedParent():!1},leftMost:function(a,d){if(a>=d)return this;if(0!==this.childrenCount())for(var f=0,k=this.childrenCount();f<k;f++){var h=this.childAt(f).leftMost(a+1,d);if(h)return h}},connectorPoint:function(a){var d=
this.Tree().CONFIG.rootOrientation,f={};if(this.stackParentId)if("NORTH"==d||"SOUTH"==d)d="WEST";else if("EAST"==d||"WEST"==d)d="NORTH";"NORTH"==d?(f.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,f.y=a?this.Y+this.height:this.Y):"SOUTH"==d?(f.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,f.y=a?this.Y:this.Y+this.height):"EAST"==d?(f.x=a?this.X:this.X+this.width,f.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/
2):"WEST"==d&&(f.x=a?this.X+this.width:this.X,f.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2);return f},pathStringThrough:function(){var a=this.connectorPoint(!0),d=this.connectorPoint(!1);return["M",a.x+","+a.y,"L",d.x+","+d.y].join(" ")},drawLineThroughMe:function(a){var d=a?this.Tree().getPointPathString(a):this.pathStringThrough();this.lineThroughMe=this.lineThroughMe||this.Tree()._R.path(d);d=f.cloneObj(this.connStyle.style);delete d["arrow-start"];delete d["arrow-end"];
this.lineThroughMe.attr(d);a&&(this.lineThroughMe.hide(),this.lineThroughMe.hidden=!0)},addSwitchEvent:function(a){var d=this;f.addEvent(a,"click",function(a){a.preventDefault();d.toggleCollapse()})},toggleCollapse:function(){var a=this.Tree();a.inAnimation||(a.inAnimation=!0,(this.collapsed=!this.collapsed)?$(this.nodeDOM).addClass("collapsed"):$(this.nodeDOM).removeClass("collapsed"),a.positionTree(),setTimeout(function(){a.inAnimation=!1},a.CONFIG.animation.nodeSpeed>a.CONFIG.animation.connectorsSpeed?
a.CONFIG.animation.nodeSpeed:a.CONFIG.animation.connectorsSpeed))},hide:function(a){this.nodeDOM.style.overflow="hidden";var d=$(this.nodeDOM),f=this.Tree(),k=f.CONFIG,h={left:a.x,top:a.y};this.hidden||(h.width=h.height=0);this.startW&&this.startH||(this.startW=d.outerWidth(),this.startH=d.outerHeight());!this.positioned||this.hidden?(this.nodeDOM.style.visibility="hidden",d.css(h),this.positioned=!0):d.animate(h,k.animation.nodeSpeed,k.animation.nodeAnimation,function(){this.style.visibility="hidden"});
this.lineThroughMe&&(d=f.getPointPathString(a),this.hidden?this.lineThroughMe.attr({path:d}):f.animatePath(this.lineThroughMe,f.getPointPathString(a)));this.hidden=!0},show:function(){this.nodeDOM.style.visibility="visible";var a={left:this.X,top:this.Y},d=this.Tree(),f=d.CONFIG;this.hidden&&(a.width=this.startW,a.height=this.startH);$(this.nodeDOM).animate(a,f.animation.nodeSpeed,f.animation.nodeAnimation,function(){this.style.overflow=""});this.lineThroughMe&&d.animatePath(this.lineThroughMe,this.pathStringThrough());
this.hidden=!1}};u.prototype.createGeometry=function(a){if(0===this.id&&a.CONFIG.hideRootNode)this.height=this.width=0;else{var d=a.drawArea,f,k=this.link.href?document.createElement("a"):document.createElement("div");k.className=this.pseudo?"pseudo":u.CONFIG.nodeHTMLclass;this.nodeHTMLclass&&!this.pseudo&&(k.className+=" "+this.nodeHTMLclass);this.nodeHTMLid&&(k.id=this.nodeHTMLid);this.link.href&&(k.href=this.link.href,k.target=this.link.target);if(!this.pseudo){if(this.nodeInnerHTML)if("#"===this.nodeInnerHTML.charAt(0)){var h=
document.getElementById(this.nodeInnerHTML.substring(1));h?(k=h.cloneNode(!0),k.id+="-clone",k.className+=" node"):k.innerHTML="<b> Wrong ID selector </b>"}else k.innerHTML=this.nodeInnerHTML;else if(this.image&&(f=document.createElement("img"),f.src=this.image,k.appendChild(f)),this.text)for(h in this.text)u.CONFIG.textClass[h]&&(f=document.createElement(this.text[h].href?"a":"p"),this.text[h].href&&(f.href=this.text[h].href,this.text[h].target&&(f.target=this.text[h].target)),f.className=u.CONFIG.textClass[h],
f.appendChild(document.createTextNode(this.text[h].val?this.text[h].val:this.text[h]instanceof Object?"'val' param missing!":this.text[h])),k.appendChild(f));if(this.collapsed||this.collapsable&&this.childrenCount()&&!this.stackParentId)h=document.createElement("a"),h.className="collapse-switch",k.appendChild(h),this.addSwitchEvent(h),this.collapsed&&(k.className+=" collapsed")}d.appendChild(k);this.width=k.offsetWidth;this.height=k.offsetHeight;this.nodeDOM=k;a.imageLoader.processNode(this)}};E.CONFIG=
{maxDepth:100,rootOrientation:"NORTH",nodeAlign:"CENTER",levelSeparation:30,siblingSeparation:30,subTeeSeparation:30,hideRootNode:!1,animateOnInit:!1,animateOnInitDelay:500,padding:15,scrollbar:"native",connectors:{type:"curve",style:{stroke:"black"},stackIndent:15},node:{link:{target:"_self"}},animation:{nodeSpeed:450,nodeAnimation:"linear",connectorsSpeed:450,connectorsAnimation:"linear"}};u.CONFIG={nodeHTMLclass:"node",textClass:{name:"node-name",title:"node-title",desc:"node-desc",contact:"node-contact"}};
var y={make:function(a){var d=a.length,f;for(this.jsonStructure={chart:null,nodeStructure:null};d--;)f=a[d],f.hasOwnProperty("container")?this.jsonStructure.chart=f:f.hasOwnProperty("parent")||f.hasOwnProperty("container")||(this.jsonStructure.nodeStructure=f,f.myID=this.getID());this.findChildren(a);return this.jsonStructure},findChildren:function(a){for(var d=[0];d.length;){for(var f=d.pop(),k=this.findNode(this.jsonStructure.nodeStructure,f),h=0,l=a.length,b=[];h<l;h++){var p=a[h];p.parent&&p.parent.myID==
f&&(p.myID=this.getID(),delete p.parent,b.push(p),d.push(p.myID))}b.length&&(k.children=b)}},findNode:function(a,d){var f,k;if(a.myID===d)return a;if(a.children)for(f=a.children.length;f--;)if(k=this.findNode(a.children[f],d))return k},getID:function(){var a=0;return function(){return a++}}()},B=function(a,d){a instanceof Array&&(a=y.make(a));var f=l.createTree(a);f.positionTree(d);this.tree_id=f.id};B.prototype.destroy=function(){l.destroy(this.tree_id)};a.Treant=B})(f)},{}],34:[function(a,E,f){var A,
F,p,l,K,t,u,y,B,c,d,v;F=a("lodash");A=a("./Treant").Treant;v=a("../../love-logic_new_project/proofs/proof");K=function(a,c){var d,b,f,p;null!=c?(a.id=c.id+".c"+c.children.indexOf(a),a.parent=c):a.id="r";a.addChild=function(b){b=B(b,a);b.id=this.id+".c"+this.children.length;b.depth=this.depth+1;b.parent=this;this.children.push(b);return b};a.addSib=function(a){return this.parent.addChild(a)};a.getSibs=function(){return null==this.parent?[this]:this.parent.children};a.clear=function(){this.children=
[];this.proofText="";this.displayEditable();return this};a.setProofText=function(a){this.proofText=a;this.displayEditable();return this};a.remove=function(){var a;a=this.parent.children.indexOf(this);this.parent.children.splice(a,1);return this.parent};a.walk=function(a){var b,c,d,f;f=this.children;c=0;for(d=f.length;c<d;c++)b=f[c],b.walk(a);return a(this)};a.setInnerHTML=function(a){this.walk(function(b){return b.innerHTML=a(b)});return this};a.getNodeLocator=function(){var a;a={};this.walk(function(b){return a[b.id]=
b});return a};a._getLinesAndNumbers=function(){var a,b,c,d,f,h,k,l,p;a=this.getFirstLineNumber();p=[];f=this.proofText.split("\n");c=b=0;for(d=f.length;b<d;c=++b)k=f[c],p.push({indentation:"|",number:a+c,text:k.trim()});d=this.children;b=[];k=0;for(c=d.length;k<c;k++)a=d[k],b.push(a._getLinesAndNumbers());c=0;for(f=b.length;c<f;c++)if(a=b[c],0<a.length){k=a[0];l=k.indentation;d=0;for(h=a.length;d<h;d++)k=a[d],k.indentation+="|",p.push(k);p.push({indentation:l,number:" ",text:""})}return p};a.toSequent=
function(){var a,b,c,d,f;d=this._getLinesAndNumbers();f="";a=0;for(c=d.length;a<c;a++)b=d[a],f+=b.number+" "+b.indentation+" "+b.text+"\n";return f.trim()};a.getLastLineNumber=function(){var b,c;b=a.proofText.split("\n").length;if(null==a.parent)return b;var d,f,h,l;h=a.parent.getSibs();l=[];d=0;for(f=h.length;d<f;d++)c=h[d],l.push(c.getLastLineNumber());return F.max(l)+b};a.getFirstLineNumber=function(){var b;if(null==a.parent)return 1;var c,d,f,h;f=a.parent.getSibs();h=[];c=0;for(d=f.length;c<d;c++)b=
f[c],h.push(b.getLastLineNumber());return F.max(h)+1};a.toBareTreeProof=function(){var a,b=this.proofText,c=this.id,d=this.depth,f,h,k,l;k=this.children;l=[];f=0;for(h=k.length;f<h;f++)a=k[f],l.push(a.toBareTreeProof());return{proofText:b,id:c,depth:d,children:l}};a.verify=function(){var a,b;b=this.toSequent();a=v.parse(b,{treeProof:!0});b=a.verifyTree();a=a.listErrorMessages();return{isCorrect:b,errorMessages:a}};a.convertToSymbols=function(){var a;a=this.toSequent();a=v.parse(a,{treeProof:!0});
if(F.isString(a))return a;a=l(a);a.container=this.container;a.onChange=this.onChange;return K(a)};a.displayEditable=function(b,c){var d,f,h;null==this.container&&(this.container=b);null==this.onChange&&(this.onChange=c);d=$(window).scrollLeft();f=$(window).scrollTop();this.resizeContainer(50,50);h=this;u(a,this.container,this.onChange,function(){h.resizeContainer();$(window).scrollLeft(d);return $(window).scrollTop(f)});return a};a.displayStatic=function(b){null==this.container&&(this.container=b);
this.resizeContainer(50,50);y(a,b);this.resizeContainer();return a};a.resizeContainer=function(a,b){var c;c=$("svg",this.container);null==a&&(a=c.width()+150);null==b&&(b=c.height()+50);c=$(this.container);c.height(b);return c.width(a)};p=a.children;b=0;for(f=p.length;b<f;b++)d=p[b],K(d,a);return a};f.decorateTreeProof=K;B=function(a,c){var d;d={proofText:a.trim(),depth:0,children:[]};return K(d,c)};f.makeTreeProof=B;t=function(a,c,d,b){$(c).html("");a=a.setInnerHTML(d);return new A({chart:{container:c,
nodeAlign:"BOTTOM",connectors:{type:"straight"}},nodeStructure:a},b)};f.display=t;y=function(a,d){return t(a,d,c)};f.displayStatic=y;u=function(a,c,f,b){return t(a,c,d,function(){var d,l,g,e,n,q,t,v;q={theme:"blackboardTree",smartIndent:!0,lineNumbers:!0,autofocus:!0,mode:"fol",matchBrackets:!0,gutters:["error-light"],tabSize:4,extraKeys:{Tab:function(a){return a.replaceSelection("    ")}}};n=a.getNodeLocator();t=$(c+" textarea");l=0;for(g=t.length;l<g;l++)v=t[l],d=$(v).attr("data-proofId"),e=n[d],
q.firstLineNumber=e.getFirstLineNumber(),d=CodeMirror.fromTextArea(v,q),d.on("change",function(a){return function(b){b=b.getValue();a.proofText=b;return"function"===typeof f?f(a):void 0}}(e));$(".treeAddChild").click(function(a,b,c){return function(d){e=p($(d.target),c);e.addChild("").addSib("");return a.displayEditable(b)}}(a,c,n));$(".treeAddSib").click(function(a,b,c){return function(d){e=p($(d.target),c);e.addSib("");return a.displayEditable(b)}}(a,c,n));$(".treeRemoveNode").click(function(a,
b,c){return function(d){e=p($(d.target),c);e.remove();return a.displayEditable(b)}}(a,c,n));return"function"===typeof b?b():void 0})};f.displayEditable=u;p=function(a,c){var d;d=a.attr("data-proofId");null==d&&(d=a.parent().attr("data-proofId"));return c[d]};c=function(a){var c,d,b,f,l,g;c=a.proofText;a=a.getFirstLineNumber();l=[];g=c.split("\n");d=c=0;for(b=g.length;c<b;d=++c)f=g[d],l.push(a+d+".  "+f.trim());return"<div style='white-space:pre;margin-left:3em;'>"+l.join("<br>")};d=function(a){var c,
d,b,f;b=a.proofText;c=null==a.children||0===a.children.length;f=null!=(d=a.parent)?d.children:void 0;d=a===(null!=f?f[(null!=f?f.length:NaN)-1]:void 0);b="<div style='white-space:pre;margin-left:3em;width:250px;height:"+20*b.split("\n").length+"px;'><textarea data-proofId='"+a.id+"'>"+b+"</textarea></div>";c&&(b+="<div class='center' style='margin-left:3em;margin-top:2em;'><a class='treeAddChild hint--bottom' data-hint='branch' data-proofId='"+a.id+"' href='#'><i class='material-icons'>add_circle_outline</i></a></div>",
d&&(c="<a class='treeRemoveNode hint--bottom' data-hint='remove rightmost node' data-proofId='"+a.id+"' href='#'><i class='material-icons'>remove_circle_outline</i></a>",a="<a class='treeAddSib hint--bottom' data-hint='add a node' data-proofId='"+a.id+"' href='#'><i class='material-icons'>add_circle_outline</i></a>",b="<div style='width:300px;'><div style='float:right;'>"+c+a+"</div>"+b+"</div>"));return b};l=function(a){var c,d,b,f,p;f=a.detachChildren();a=f.childlessProof;d=f.children;b=a.removeBlankAndDividerLines().toString({treeProof:!0,
numberLines:!1});b=function(){var a,c,d,f;d=b.split("\n");f=[];a=0;for(c=d.length;a<c;a++)p=d[a],f.push(p.trim());return f}().join("\n");a={proofText:b,children:function(){var a,b,f;f=[];a=0;for(b=d.length;a<b;a++)c=d[a],f.push(l(c));return f}()};return K(a)};f.convertProofToTreeProof=l},{"../../love-logic_new_project/proofs/proof":27,"./Treant":33,lodash:35}],35:[function(a,E,f){(function(a){(function(){function F(a,b){a.set(b[0],b[1]);return a}function p(a,b){a.add(b);return a}function l(a,b,c){switch(c.length){case 0:return a.call(b);
case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function K(a,b,c,d){for(var e=-1,g=a.length;++e<g;){var f=a[e];b(d,f,c(f),a)}return d}function t(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}function u(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function y(a,b){for(var c=-1,d=a.length,e=-1,g=[];++c<d;){var f=a[c];b(f,c,a)&&(g[++e]=f)}return g}function B(a,b){return!!a.length&&-1<g(a,
b,0)}function c(a,b,c){for(var d=-1,e=a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function d(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function v(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function k(a,b,c,d){var e=-1,g=a.length;for(d&&g&&(c=a[++e]);++e<g;)c=b(c,a[e],e,a);return c}function h(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function w(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}
function b(a,b,c){for(var d=-1,e=a.length;++d<e;){var g=a[d],f=b(g);if(null!=f&&(h===x?f===f:c(f,h)))var h=f,k=g}return k}function z(a,b,c,d){var e;c(a,function(a,c,g){if(b(a,c,g))return e=d?c:a,!1});return e}function r(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function g(a,b,c){if(b!==b)return I(a,c);--c;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}function e(a,b,c,d,e){e(a,function(a,e,g){c=d?(d=!1,a):b(c,a,e,g)});return c}function n(a,b){var c=
a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function q(a,b){for(var c,d=-1,e=a.length;++d<e;){var g=b(a[d]);g!==x&&(c=c===x?g:c+g)}return c}function G(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function D(a,b){return d(b,function(b){return[b,a[b]]})}function J(a){return function(b){return a(b)}}function V(a,b){return d(b,function(b){return a[b]})}function Wb(a,b){for(var c=-1,d=a.length;++c<d&&-1<g(b,a[c],0););return c}function Q(a,b){for(var c=a.length;c--&&-1<g(b,a[c],0););
return c}function ia(a){return a&&a.Object===Object?a:null}function Lb(a,b){if(a!==b){var c=null===a,d=a===x,e=a===a,g=null===b,f=b===x,h=b===b;if(a>b&&!g||!e||c&&!f&&h||d&&h)return 1;if(a<b&&!c||!h||g&&!d&&e||f&&e)return-1}return 0}function Y(a){return db[a]}function M(a){return Lc[a]}function la(a){return"\\"+$e[a]}function I(a,b,c){var d=a.length;for(b+=c?0:-1;c?b--:++b<d;){var e=a[b];if(e!==e)return b}return-1}function H(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}
function xb(a,b){a="number"==typeof a||Ye.test(a)?+a:-1;return-1<a&&0==a%1&&a<(null==b?9007199254740991:b)}function ob(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function ma(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}function Ib(a,b){for(var c=-1,d=a.length,e=-1,g=[];++c<d;){var f=a[c];if(f===b||"__lodash_placeholder__"===f)a[c]="__lodash_placeholder__",g[++e]=c}return g}function qd(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}
function dc(a){if(!a||!qc.test(a))return a.length;for(var b=Aa.lastIndex=0;Aa.test(a);)b++;return b}function Df(a){return zb[a]}function He(a){function f(a){if(na(a)&&!U(a)&&!(a instanceof T)){if(a instanceof E)return a;if(ra.call(a,"__wrapped__"))return Dd(a)}return new E(a)}function A(){}function E(a,b){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!b;this.__index__=0;this.__values__=x}function T(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=
[];this.__takeCount__=4294967295;this.__views__=[]}function oa(){}function ia(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Ja(a){var b=-1,c=a?a.length:0;for(this.__data__=new ia;++b<c;)this.push(a[b])}function Ea(a,b){var c=a.__data__;return Rb(b)?(c=c.__data__,"__lodash_hash_undefined__"===("string"==typeof b?c.string:c.hash)[b]):c.has(b)}function tb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function db(a,b){var c=
Qa(a,b);if(0>c)return!1;c==a.length-1?a.pop():ld.call(a,c,1);return!0}function sb(a,b){var c=Qa(a,b);return 0>c?x:a[c][1]}function Qa(a,b){for(var c=a.length;c--;)if(ca(a[c][0],b))return c;return-1}function zb(a,b,c){var d=Qa(a,b);0>d?a.push([b,c]):a[d][1]=c}function rb(a,b,c,d){return a===x||ca(a,jc[c])&&!ra.call(d,c)?b:a}function uc(a,b,c){if(c!==x&&!ca(a[b],c)||"number"==typeof b&&c===x&&!(b in a))a[b]=c}function vc(a,b,c){var d=a[b];ra.call(a,b)&&ca(d,c)&&(c!==x||b in a)||(a[b]=c)}function Zb(a,
b,c,d){wb(a,function(a,Ca,e){b(d,a,c(a),e)});return d}function Yb(a,b){return a&&Ra(b,va(b),a)}function Da(a,b){for(var c=-1,d=null==a,e=b.length,f=Array(e);++c<e;)f[c]=d?x:ac(a,b[c]);return f}function Oc(a){return ua(a)?a:[]}function Ab(a){return"function"==typeof a?a:Fa}function Bb(a){return U(a)?a:zd(a)}function ub(a,b,c){a===a&&(c!==x&&(a=a<=c?a:c),b!==x&&(a=a>=b?a:b));return a}function Ta(a,b,c,d,e,f){var g;c&&(g=e?c(a,d,e,f):c(a));if(g!==x)return g;if(!pa(a))return a;if(d=U(a)){if(g=Nc(a),!b)return ga(a,
g)}else{var h=Wa(a),k="[object Function]"==h||"[object GeneratorFunction]"==h;if(Of(a))return De(a,b);if("[object Object]"==h||"[object Arguments]"==h||k&&!e){if(H(a))return e?a:{};g=Ie(k?{}:a);if(!b)return Ld(a,Yb(g,a))}else{if(!aa[h])return e?a:{};g=Pd(a,h,b)}}f||(f=new tb);if(e=f.get(a))return e;f.set(a,g);(d?t:Va)(a,function(d,e){vc(g,e,Ta(d,b,c,e,a,f))});return d?g:Ld(a,g)}function Lc(a){var b=va(a),c=b.length;return function(d){if(null==d)return!c;for(var e=c;e--;){var f=b[e],g=a[f],h=d[f];
if(h===x&&!(f in Object(d))||!g(h))return!1}return!0}}function Sb(a){return pa(a)?nf(a):{}}function ye(a,b,c){if("function"!=typeof a)throw new Ya("Expected a function");return kd(function(){a.apply(x,c)},b)}function kb(a,b,e,f){var g=-1,h=B,k=!0,m=a.length,l=[],p=b.length;if(!m)return l;e&&(b=d(b,J(e)));f?(h=c,k=!1):200<=b.length&&(h=Ea,k=!1,b=new Ja(b));a:for(;++g<m;){var n=a[g],q=e?e(n):n;if(k&&q===q){for(var r=p;r--;)if(b[r]===q)continue a;l.push(n)}else h(b,q,f)||l.push(n)}return l}function Qc(a,
b){var c=!0;wb(a,function(a,d,Ca){return c=!!b(a,d,Ca)});return c}function Ad(a,b){var c=[];wb(a,function(a,d,Ca){b(a,d,Ca)&&c.push(a)});return c}function ka(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];0<b&&ua(g)&&(c||U(g)||ta(g))?1<b?ka(g,b-1,c,d):v(d,g):c||(d[d.length]=g)}return d}function ze(a,b){return null==a?a:me(a,b,Ga)}function Va(a,b){return a&&me(a,b,va)}function Sc(a,b){return a&&Se(a,b,va)}function wc(a,b){return y(b,function(b){return Ba(a[b])})}function Tc(a,b){b=mb(b,
a)?[b+""]:Bb(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[b[c++]];return c&&c==d?a:x}function Wc(a,b){return ra.call(a,b)||"object"==typeof a&&b in a&&null===jd(a)}function Ae(a,b){return b in Object(a)}function Xc(a,b,e){for(var f=e?c:B,g=a.length,h=g,k=Array(g),m=[];h--;){var l=a[h];h&&b&&(l=d(l,J(b)));k[h]=!e&&(b||120<=l.length)?new Ja(h&&l):x}var l=a[0],p=-1,n=l.length,q=k[0];a:for(;++p<n;){var r=l[p],t=b?b(r):r;if(q?!Ea(q,t):!f(m,t,e)){for(h=g;--h;){var v=k[h];if(v?!Ea(v,t):!f(a[h],t,e))continue a}q&&
q.push(t);m.push(r)}}return m}function Be(a,b,c,d){Va(a,function(a,Ca,e){b(d,c(a),Ca,e)});return d}function cc(a,b,c){mb(b,a)||(b=Bb(b),a=Hb(a,b),b=qa(b));b=null==a?a:a[b];return null==b?x:l(b,a,c)}function Cb(a,b,c,d,e){if(a===b)return!0;if(null==a||null==b||!pa(a)&&!na(b))return a!==a&&b!==b;a:{var f=U(a),g=U(b),h="[object Array]",k="[object Array]";f||(h=Wa(a),"[object Arguments]"==h?h="[object Object]":"[object Object]"!=h&&(f=Sa(a)));g||(k=Wa(b),"[object Arguments]"==k?k="[object Object]":"[object Object]"!=
k&&Sa(b));var l="[object Object]"==h&&!H(a),g="[object Object]"==k&&!H(b),k=h==k;if(!k||f||l){if(!(d&2)&&(h=l&&ra.call(a,"__wrapped__"),g=g&&ra.call(b,"__wrapped__"),h||g)){a=Cb(h?a.value():a,g?b.value():b,c,d,e);break a}k?(e||(e=new tb),a=(f?Sd:Ge)(a,b,Cb,c,d,e)):a=!1}else a=ba(a,b,h,Cb,c,d)}return a}function Yc(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){var h=c[e],k=h[0],l=a[k],m=h[1];if(g&&h[2]){if(l===
x&&!(k in a))return!1}else if(h=new tb,k=d?d(l,m,k,a,b,h):x,k===x?!Cb(m,l,d,3,h):!k)return!1}return!0}function Zc(a){var b=typeof a;return"function"==b?a:null==a?Fa:"object"==b?U(a)?Ed(a[0],a[1]):ad(a):Me(a)}function Bd(a){a=null==a?a:Object(a);var b=[],c;for(c in a)b.push(c);return b}function Ce(a,b){var c=-1,d=Xa(a)?Array(a.length):[];wb(a,function(a,Ca,e){d[++c]=b(a,Ca,e)});return d}function ad(a){var b=Ec(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:
a[c]===d&&(d!==x||c in Object(a))}}return function(c){return c===a||Yc(c,a,b)}}function Ed(a,b){return function(c){var d=ac(c,a);return d===x&&d===b?oc(c,a):Cb(b,d,x,3)}}function bb(a,b,c,d,e){if(a!==b){var f=U(b)||Sa(b)?x:Ga(b);t(f||b,function(g,h){f&&(h=g,g=b[h]);if(pa(g)){e||(e=new tb);var k=h,l=e,m=a[k],p=b[k],n=l.get(p);if(!n){var n=d?d(m,p,k+"",a,b,l):x,q=n===x;q&&(n=p,U(p)||Sa(p)?U(m)?n=m:ua(m)?n=ga(m):(q=!1,n=Ta(p,!0)):Pc(p)||ta(p)?ta(m)?n=Ke(m):!pa(m)||c&&Ba(m)?(q=!1,n=Ta(p,!0)):n=m:q=!1);
l.set(p,n);q&&bb(n,p,c,d,l)}uc(a,k,n)}else k=d?d(a[h],g,h+"",a,b,e):x,k===x&&(k=g),uc(a,h,k)})}}function ve(a,b,c){var e=-1,f=O();b=d(b.length?b:Array(1),function(a){return f(a)});a=Ce(a,function(a,c,Ca){return{criteria:d(b,function(b){return b(a)}),index:++e,value:a}});return n(a,function(a,b){var d;a:{d=-1;for(var Ca=a.criteria,e=b.criteria,f=Ca.length,Xe=c.length;++d<f;){var g=Lb(Ca[d],e[d]);if(g){if(d>=Xe){d=g;break a}d=g*("desc"==c[d]?-1:1);break a}}d=a.index-b.index}return d})}function xe(a,
b){a=Object(a);return k(b,function(b,c){c in a&&(b[c]=a[c]);return b},{})}function we(a,b){var c={};ze(a,function(a,d){b(a,d)&&(c[d]=a)});return c}function da(a){return function(b){return null==b?x:b[a]}}function Uc(a){return function(b){return Tc(b,a)}}function Pb(a,b,c){var e=-1,f=b.length,h=a;for(c&&(h=d(a,function(a){return c(a)}));++e<f;)for(var k=0,l=b[e],l=c?c(l):l;-1<(k=g(h,l,k));)h!==a&&ld.call(h,k,1),ld.call(a,k,1);return a}function vd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];
if(d==c||e!=f){var f=e;if(xb(e))ld.call(a,e,1);else if(mb(e,a))delete a[e];else{var e=Bb(e),g=Hb(a,e);null!=g&&delete g[qa(e)]}}}return a}function Fb(a,b){return a+nd(R()*(b-a+1))}function td(a,b,c,d){b=mb(b,a)?[b+""]:Bb(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var k=b[e];if(pa(h)){var l=c;if(e!=g){var m=h[k],l=d?d(m,k,h):x;l===x&&(l=null==m?xb(b[e+1])?[]:{}:m)}vc(h,k,l)}h=h[k]}return a}function qb(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b);c=c>e?e:c;0>c&&(c+=e);e=b>c?0:c-b>>>0;b>>>=
0;for(c=Array(e);++d<e;)c[d]=a[d+b];return c}function Ze(a,b){var c;wb(a,function(a,d,Ca){c=b(a,d,Ca);return!c});return!!c}function ec(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&2147483647>=e){for(;d<e;){var f=d+e>>>1,g=a[f];(c?g<=b:g<b)&&null!==g?d=f+1:e=f}return e}return sa(a,b,Fa,c)}function sa(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,k=b===x;e<f;){var l=nd((e+f)/2),m=c(a[l]),n=m!==x,p=m===m;(g?p||d:h?p&&n&&(d||null!=m):k?p&&(d||n):null==m?0:d?m<=b:m<b)?e=
l+1:f=l}return Za(f,4294967294)}function pb(a,b){for(var c=0,d=a.length,e=a[0],f=b?b(e):e,g=f,h=0,k=[e];++c<d;)e=a[c],f=b?b(e):e,ca(f,g)||(g=f,k[++h]=e);return k}function P(a,b,d){var e=-1,f=B,g=a.length,h=!0,k=[],l=k;if(d)h=!1,f=c;else if(200<=g){if(f=b?null:vf(a))return qd(f);h=!1;f=Ea;l=new Ja}else l=b?[]:k;a:for(;++e<g;){var m=a[e],p=b?b(m):m;if(h&&p===p){for(var n=l.length;n--;)if(l[n]===p)continue a;b&&l.push(p);k.push(m)}else f(l,p,d)||(l!==k&&l.push(p),k.push(m))}return k}function ib(a,b,
c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?qb(a,d?0:f,d?f+1:e):qb(a,d?f+1:0,d?e:f)}function Vc(a,b){var c=a;c instanceof T&&(c=c.value());return k(b,function(a,b){return b.func.apply(b.thisArg,v([a],b.args))},c)}function Ua(a,b,c){for(var d=-1,e=a.length;++d<e;)var f=f?v(kb(f,a[d],b,c),kb(a[d],f,b,c)):a[d];return f&&f.length?P(f,b,c):[]}function Hd(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;)c(g,a[d],d<f?b[d]:x);return g}function De(a,b){if(b)return a.slice();
var c=new a.constructor(a.length);a.copy(c);return c}function Jd(a){var b=new a.constructor(a.byteLength);(new id(b)).set(new id(a));return b}function Kd(a,b,c,d){var e=-1,f=a.length,g=c.length,h=-1,k=b.length,l=za(f-g,0),m=Array(k+l);for(d=!d;++h<k;)m[h]=b[h];for(;++e<g;)if(d||e<f)m[c[e]]=a[e];for(;l--;)m[h++]=a[e++];return m}function Rc(a,b,c,d){var e=-1,f=a.length,g=-1,h=c.length,k=-1,l=b.length,m=za(f-h,0),p=Array(m+l);for(d=!d;++e<m;)p[e]=a[e];for(m=e;++k<l;)p[m+k]=b[k];for(;++g<h;)if(d||e<f)p[m+
c[g]]=a[e++];return p}function ga(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function Ra(a,b,c){return Kc(a,b,c)}function Kc(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=d?d(c[g],a[g],g,c,a):a[g];vc(c,g,h)}return c}function Ld(a,b){return Ra(a,Ue(a),b)}function Ac(a,b){return function(c,d){var e=U(c)?K:Zb,f=b?b():{};return e(c,a,O(d),f)}}function Tb(a){return N(function(b,c){var d=-1,e=c.length,f=1<e?c[e-1]:x,g=2<e?c[2]:x,f="function"==typeof f?(e--,
f):x;g&&cb(c[0],c[1],g)&&(f=3>e?x:f,e=1);for(b=Object(b);++d<e;)(g=c[d])&&a(b,g,d,f);return b})}function bd(a,b){return function(c,d){if(null==c)return c;if(!Xa(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function $b(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var g=d.length;g--;){var h=d[a?g:++e];if(!1===c(f[h],h,f))break}return b}}function Ee(a,b,c){function d(){return(this&&this!==ab&&this instanceof d?f:a).apply(e?c:this,arguments)}
var e=b&1,f=fc(a);return d}function Md(a){return function(b){b=X(b);var c=qc.test(b)?b.match(Aa):x,d=c?c[0]:b.charAt(0);b=c?c.slice(1).join(""):b.slice(1);return d[a]()+b}}function Jb(a){return function(b){return k(Fd(Mc(b)),a,"")}}function fc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],
b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Sb(a.prototype),b=a.apply(c,b);return pa(b)?b:c}}function Fe(a,b,c){function d(){for(var f=arguments.length,g=Array(f),h=f,k=Z(d);h--;)g[h]=arguments[h];h=3>f&&g[0]!==k&&g[f-1]!==k?[]:Ib(g,k);f-=h.length;return f<c?Rd(a,b,gc,d.placeholder,x,g,h,x,x,c-f):l(this&&this!==ab&&this instanceof d?e:a,this,g)}var e=fc(a);return d}function Nd(a){return N(function(b){b=ka(b,1);var c=b.length,d=c,e=E.prototype.thru;for(a&&
b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new Ya("Expected a function");if(e&&!g&&"wrapper"==Pa(f))var g=new E([],!0)}for(d=g?d:c;++d<c;)var f=b[d],e=Pa(f),h="wrapper"==e?ne(f):x,g=h&&Fc(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?g[Pa(h[0])].apply(g,h[3]):1==f.length&&Fc(f)?g[e]():g.thru(f);return function(){var a=arguments,d=a[0];if(g&&1==a.length&&U(d)&&200<=d.length)return g.plant(d).value();for(var Ca=0,a=c?b[Ca].apply(this,a):d;++Ca<c;)a=b[Ca].call(this,a);return a}})}function gc(a,
b,c,d,e,f,g,h,k,l){function m(){for(var u=arguments.length,y=u,w=Array(u);y--;)w[y]=arguments[y];if(r){var z=Z(m),A,y=w.length;for(A=0;y--;)w[y]===z&&A++}d&&(w=Kd(w,d,e,r));f&&(w=Rc(w,f,g,r));u-=A;if(r&&u<l)return z=Ib(w,z),Rd(a,b,gc,m.placeholder,c,w,z,h,k,l-u);z=n?c:this;y=q?z[a]:a;u=w.length;if(h){A=w.length;for(var B=Za(h.length,A),C=ga(w);B--;){var D=h[B];w[B]=xb(D,A)?C[D]:x}}else t&&1<u&&w.reverse();p&&k<u&&(w.length=k);this&&this!==ab&&this instanceof m&&(y=v||fc(y));return y.apply(z,w)}var p=
b&128,n=b&1,q=b&2,r=b&24,t=b&512,v=q?x:fc(a);return m}function Od(a,b){return function(c,d){return Be(c,a,b(d),{})}}function Bc(a){return N(function(b){b=d(ka(b,1),O());return N(function(c){var d=this;return a(b,function(a){return l(a,d,c)})})})}function hc(a,b,c){b=S(b);a=dc(a);if(!b||a>=b)return"";b-=a;c=c===x?" ":c+"";a=ud(c,md(b/dc(c)));return qc.test(c)?a.match(Aa).slice(0,b).join(""):a.slice(0,b)}function Qd(a,b,c,d){function e(){for(var b=-1,Xe=arguments.length,h=-1,k=d.length,m=Array(k+Xe),
p=this&&this!==ab&&this instanceof e?g:a;++h<k;)m[h]=d[h];for(;Xe--;)m[h++]=arguments[++b];return l(p,f?c:this,m)}var f=b&1,g=fc(a);return e}function Cc(a){return function(b,c,d){d&&"number"!=typeof d&&cb(b,c,d)&&(c=d=x);b=W(b);b=b===b?b:0;c===x?(c=b,b=0):c=W(c)||0;d=d===x?b<c?1:-1:W(d)||0;var e=-1;c=za(md((c-b)/(d||1)),0);for(var f=Array(c);c--;)f[a?c:++e]=b,b+=d;return f}}function Rd(a,b,c,d,e,f,g,h,k,m){var l=b&8;h=h?ga(h):x;var p=l?g:x;g=l?x:g;var n=l?f:x;f=l?x:f;b=(b|(l?32:64))&~(l?64:32);b&
4||(b&=-4);b=[a,b,e,n,p,f,g,h,k,m];c=c.apply(x,b);Fc(a)&&Ve(c,b);c.placeholder=d;return c}function cd(a){var b=ic[a];return function(a,c){a=W(a);if(c=S(c)){var d=(X(a)+"e").split("e"),d=b(d[0]+"e"+(+d[1]+c)),d=(X(d)+"e").split("e");return+(d[0]+"e"+(+d[1]-c))}return b(a)}}function nb(a,b,c,d,e,f,g,h){var k=b&2;if(!k&&"function"!=typeof a)throw new Ya("Expected a function");var l=d?d.length:0;l||(b&=-97,d=e=x);g=g===x?g:za(S(g),0);h=h===x?h:S(h);l-=e?e.length:0;if(b&64){var m=d,p=e;d=e=x}var n=k?x:
ne(a);f=[a,b,c,d,e,m,p,f,g,h];if(n&&(c=f[1],a=n[1],b=c|a,d=128==a&&8==c||128==a&&256==c&&f[7].length<=n[8]||384==a&&n[7].length<=n[8]&&8==c,131>b||d)){a&1&&(f[2]=n[2],b|=c&1?0:4);if(c=n[3])d=f[3],f[3]=d?Kd(d,c,n[4]):ga(c),f[4]=d?Ib(f[3],"__lodash_placeholder__"):ga(n[4]);if(c=n[5])d=f[5],f[5]=d?Rc(d,c,n[6]):ga(c),f[6]=d?Ib(f[5],"__lodash_placeholder__"):ga(n[6]);(c=n[7])&&(f[7]=ga(c));a&128&&(f[8]=null==f[8]?n[8]:Za(f[8],n[8]));null==f[9]&&(f[9]=n[9]);f[0]=n[0];f[1]=b}a=f[0];b=f[1];c=f[2];d=f[3];
e=f[4];h=f[9]=null==f[9]?k?0:a.length:za(f[9]-l,0);!h&&b&24&&(b&=-25);k=b&&1!=b?8==b||16==b?Fe(a,b,h):32!=b&&33!=b||e.length?gc.apply(x,f):Qd(a,b,c,d):Ee(a,b,c);return(n?Te:Ve)(k,f)}function Sd(a,b,c,d,e,f){var g=-1,h=e&2,k=e&1,l=a.length,m=b.length;if(l!=m&&!(h&&m>l))return!1;if(m=f.get(a))return m==b;m=!0;for(f.set(a,b);++g<l;){var n=a[g],p=b[g];if(d)var q=h?d(p,n,g,b,a,f):d(n,p,g,a,b,f);if(q!==x){if(q)continue;m=!1;break}if(k){if(!w(b,function(a){return n===a||c(n,a,d,e,f)})){m=!1;break}}else if(n!==
p&&!c(n,p,d,e,f)){m=!1;break}}f["delete"](a);return m}function ba(a,b,c,d,e,f){switch(c){case "[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!d(new id(a),new id(b)))break;return!0;case "[object Boolean]":case "[object Date]":return+a==+b;case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object Number]":return a!=+a?b!=+b:a==+b;case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var g=ma;case "[object Set]":return g||(g=qd),(f&2||a.size==b.size)&&
d(g(a),g(b),e,f|1);case "[object Symbol]":return!!vb&&wa.call(a)==wa.call(b)}return!1}function Ge(a,b,c,d,e,f){var g=e&2,h=va(a),k=h.length,m=va(b).length;if(k!=m&&!g)return!1;for(var l=k;l--;){var n=h[l];if(!(g?n in b:Wc(b,n)))return!1}if(m=f.get(a))return m==b;m=!0;f.set(a,b);for(var p=g;++l<k;){var n=h[l],q=a[n],r=b[n];if(d)var t=g?d(r,q,n,b,a,f):d(q,r,n,a,b,f);if(t===x?q!==r&&!c(q,r,d,e,f):!t){m=!1;break}p||(p="constructor"==n)}m&&!p&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&
"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(m=!1));f["delete"](a);return m}function Pa(a){for(var b=a.name+"",c=Jc[b],d=ra.call(Jc,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function O(){var a=f.iteratee||$c,a=a===$c?Zc:a;return arguments.length?a(arguments[0],arguments[1]):a}function Ec(a){a=bc(a);for(var b=a.length;b--;){var c=a[b],d;d=a[b][1];d=d===d&&!pa(d);c[2]=d}return a}function gb(a,b){var c=null==
a?x:a[b];return tc(c)?c:x}function Z(a){return(ra.call(f,"placeholder")?f:a).placeholder}function Wa(a){return Ha.call(a)}function Td(a,b,c){if(null==a)return!1;var d=c(a,b);d||mb(b)||(b=Bb(b),a=Hb(a,b),null!=a&&(b=qa(b),d=c(a,b)));c=a?a.length:x;return d||!!c&&yc(c)&&xb(b,c)&&(U(a)||lb(a)||ta(a))}function Nc(a){var b=a.length,c=a.constructor(b);b&&"string"==typeof a[0]&&ra.call(a,"index")&&(c.index=a.index,c.input=a.input);return c}function Ie(a){return Ba(a.constructor)&&!fb(a)?Sb(jd(a)):{}}function Pd(a,
b,c){var d=a.constructor;switch(b){case "[object ArrayBuffer]":return Jd(a);case "[object Boolean]":case "[object Date]":return new d(+a);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return b=a.buffer,c=c?Jd(b):b,new a.constructor(c,a.byteOffset,a.length);case "[object Map]":return c=a.constructor,
k(ma(a),F,new c);case "[object Number]":case "[object String]":return new d(a);case "[object RegExp]":return c=new a.constructor(a.source,Gf.exec(a)),c.lastIndex=a.lastIndex,c;case "[object Set]":return c=a.constructor,k(qd(a),p,new c);case "[object Symbol]":return vb?Object(wa.call(a)):{}}}function Qb(a){var b=a?a.length:x;return yc(b)&&(U(a)||lb(a)||ta(a))?G(b,String):null}function cb(a,b,c){if(!pa(c))return!1;var d=typeof b;return("number"==d?Xa(c)&&xb(b,c.length):"string"==d&&b in c)?ca(c[b],
a):!1}function mb(a,b){return"number"==typeof a?!0:!U(a)&&(nc.test(a)||!ya.test(a)||null!=b&&a in Object(b))}function Rb(a){var b=typeof a;return"number"==b||"boolean"==b||"string"==b&&"__proto__"!=a||null==a}function Fc(a){var b=Pa(a),c=f[b];if("function"!=typeof c||!(b in T.prototype))return!1;if(a===c)return!0;b=ne(c);return!!b&&a===b[0]}function fb(a){var b=a&&a.constructor,b=Ba(b)&&b.prototype||jc;return a===b}function Gd(a,b,c,d,e,f){pa(a)&&pa(b)&&(f.set(b,a),bb(a,b,x,Gd,f));return a}function Hb(a,
b){return 1==b.length?a:ac(a,qb(b,0,-1))}function zd(a){var b=[];X(a).replace(yb,function(a,c,d,e){b.push(d?e.replace(Uf,"$1"):c||a)});return b}function Dd(a){if(a instanceof T)return a.clone();var b=new E(a.__wrapped__,a.__chain__);b.__actions__=ga(a.__actions__);b.__index__=a.__index__;b.__values__=a.__values__;return b}function Ud(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===x?1:S(b);return qb(a,0>b?0:b,d)}function yd(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===x?1:S(b);b=d-b;return qb(a,
0,0>b?0:b)}function zc(a){return a?a[0]:x}function qa(a){var b=a?a.length:0;return b?a[b-1]:x}function Vd(a,b){return a&&a.length&&b&&b.length?Pb(a,b):a}function Gc(a){return a?Id.call(a):a}function ed(a){if(!a||!a.length)return[];var b=0;a=y(a,function(a){if(ua(a))return b=za(a.length,b),!0});return G(b,function(b){return d(a,da(b))})}function sc(a,b){if(!a||!a.length)return[];var c=ed(a);return null==b?c:d(c,function(a){return l(b,x,a)})}function ea(a){a=f(a);a.__chain__=!0;return a}function Hc(a,
b){return b(a)}function jf(){return this}function Wd(a,b){return"function"==typeof b&&U(a)?t(a,b):wb(a,Ab(b))}function Eb(a,b){var c;if("function"==typeof b&&U(a)){for(c=a.length;c--&&!1!==b(a[c],c,a););c=a}else c=le(a,Ab(b));return c}function Xd(a,b){return(U(a)?d:Ce)(a,O(b,3))}function Gb(a,b){var c=-1,d=Db(a),e=d.length,f=e-1;for(b=ub(S(b),0,e);++c<b;){var e=Fb(c,f),g=d[e];d[e]=d[c];d[c]=g}d.length=b;return d}function fd(a,b,c){b=c?x:b;b=a&&null==b?a.length:b;return nb(a,128,x,x,x,x,b)}function Yd(a,
b){var c;if("function"!=typeof b)throw new Ya("Expected a function");a=S(a);return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=x);return c}}function Ma(a,b,c){b=c?x:b;a=nb(a,8,x,x,x,x,x,b);a.placeholder=Ma.placeholder;return a}function Zd(a,b,c){b=c?x:b;a=nb(a,16,x,x,x,x,x,b);a.placeholder=Zd.placeholder;return a}function gd(a,b,c){function d(){q&&Ub(q);m&&Ub(m);t=0;k=m=p=q=r=x}function e(b,c){c&&Ub(c);m=q=r=x;b&&(t=Cd(),l=a.apply(p,k),q||m||(k=p=x))}function f(){var a=b-(Cd()-n);0>=a||
a>b?e(r,m):q=kd(f,a)}function g(){e(w,q)}function h(){k=arguments;n=Cd();p=this;r=w&&(q||!u);if(!1===v)var c=u&&!q;else{t||m||u||(t=n);var d=v-(n-t),e=(0>=d||d>v)&&(u||m);e?(m&&(m=Ub(m)),t=n,l=a.apply(p,k)):m||(m=kd(g,d))}e&&q?q=Ub(q):q||b===v||(q=kd(f,b));c&&(e=!0,l=a.apply(p,k));!e||q||m||(k=p=x);return l}var k,m,l,n,p,q,r,t=0,u=!1,v=!1,w=!0;if("function"!=typeof a)throw new Ya("Expected a function");b=W(b)||0;pa(c)&&(u=!!c.leading,v="maxWait"in c&&za(W(c.maxWait)||0,b),w="trailing"in c?!!c.trailing:
w);h.cancel=d;h.flush=function(){if(q&&r||m&&w)l=a.apply(p,k);d();return l};return h}function $d(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Ya("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);c.cache=f.set(e,d);return d};c.cache=new $d.Cache;return c}function N(a,b){if("function"!=typeof a)throw new Ya("Expected a function");b=za(b===x?a.length-1:S(b),0);return function(){for(var c=arguments,
d=-1,e=za(c.length-b,0),f=Array(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}e=Array(b+1);for(d=-1;++d<b;)e[d]=c[d];e[b]=f;return l(a,this,e)}}function ca(a,b){return a===b||a!==a&&b!==b}function ae(a,b){return a>b}function ta(a){return ua(a)&&ra.call(a,"callee")&&(!je.call(a,"callee")||"[object Arguments]"==Ha.call(a))}function Xa(a){return null!=a&&!("function"==typeof a&&Ba(a))&&yc(wf(a))}function ua(a){return na(a)&&
Xa(a)}function xd(a){return na(a)?"[object Error]"==Ha.call(a)||"string"==typeof a.message&&"string"==typeof a.name:!1}function Ba(a){a=pa(a)?Ha.call(a):"";return"[object Function]"==a||"[object GeneratorFunction]"==a}function Je(a){return"number"==typeof a&&a==S(a)}function yc(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function pa(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function na(a){return!!a&&"object"==typeof a}function tc(a){return null==a?!1:Ba(a)?he.test(Mb.call(a)):
na(a)&&(H(a)?he:Zf).test(a)}function wd(a){return"number"==typeof a||na(a)&&"[object Number]"==Ha.call(a)}function Pc(a){if(!na(a)||"[object Object]"!=Ha.call(a)||H(a))return!1;a=jd(a);if(null===a)return!0;a=a.constructor;return"function"==typeof a&&a instanceof a&&Mb.call(a)==ge}function be(a){return pa(a)&&"[object RegExp]"==Ha.call(a)}function lb(a){return"string"==typeof a||!U(a)&&na(a)&&"[object String]"==Ha.call(a)}function pc(a){return"symbol"==typeof a||na(a)&&"[object Symbol]"==Ha.call(a)}
function Sa(a){return na(a)&&yc(a.length)&&!!fa[Ha.call(a)]}function ce(a,b){return a<b}function Db(a){if(!a)return[];if(Xa(a))return lb(a)?a.match(Aa):ga(a);if(Nb&&a[Nb])return ob(a[Nb]());var b=Wa(a);return("[object Map]"==b?ma:"[object Set]"==b?qd:Ia)(a)}function S(a){if(!a)return 0===a?a:0;a=W(a);if(a===dd||a===-dd)return 1.7976931348623157E308*(0>a?-1:1);var b=a%1;return a===a?b?a-b:a:0}function xa(a){return a?ub(S(a),0,4294967295):0}function W(a){pa(a)&&(a=Ba(a.valueOf)?a.valueOf():a,a=pa(a)?
a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(mc,"");var b=Yf.test(a);return b||$f.test(a)?ue(a.slice(2),b?2:8):Xf.test(a)?pd:+a}function Ke(a){return Ra(a,Ga(a))}function X(a){if("string"==typeof a)return a;if(null==a)return"";if(pc(a))return vb?uf.call(a):"";var b=a+"";return"0"==b&&1/a==-dd?"-0":b}function ac(a,b,c){a=null==a?x:Tc(a,b);return a===x?c:a}function Le(a,b){return Td(a,b,Wc)}function oc(a,b){return Td(a,b,Ae)}function va(a){var b=fb(a);if(!b&&!Xa(a))return pf(Object(a));
var c=Qb(a),d=!!c,c=c||[],e=c.length,f;for(f in a)!Wc(a,f)||d&&("length"==f||xb(f,e))||b&&"constructor"==f||c.push(f);return c}function Ga(a){for(var b=-1,c=fb(a),d=Bd(a),e=d.length,f=Qb(a),g=!!f,f=f||[],h=f.length;++b<e;){var k=d[b];g&&("length"==k||xb(k,h))||"constructor"==k&&(c||!ra.call(a,k))||f.push(k)}return f}function bc(a){return D(a,va(a))}function Ia(a){return a?V(a,va(a)):[]}function Ic(a){return Pf(X(a).toLowerCase())}function Mc(a){return(a=X(a))&&a.replace(ag,Y).replace(eg,"")}function ud(a,
b){a=X(a);b=S(b);var c="";if(!a||1>b||9007199254740991<b)return c;do b%2&&(c+=a),b=nd(b/2),a+=a;while(b);return c}function Fd(a,b,c){a=X(a);b=c?x:b;b===x&&(b=rd.test(a)?re:fg);return a.match(b)||[]}function xc(a){return function(){return a}}function Fa(a){return a}function $c(a){return Zc("function"==typeof a?a:Ta(a,!0))}function de(a,b,c){var d=va(b),e=wc(b,d);null!=c||pa(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=wc(b,va(b)));var f=pa(c)&&"chain"in c?c.chain:!0,g=Ba(a);t(e,function(c){var d=b[c];
a[c]=d;g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);(c.__actions__=ga(this.__actions__)).push({func:d,args:arguments,thisArg:a});c.__chain__=b;return c}return d.apply(a,v([this.value()],arguments))})});return a}function ee(){}function Me(a){return mb(a)?da(a):Uc(a)}function Ne(a){return a&&a.length?q(a,Fa):0}a=a?hb.defaults({},a,hb.pick(ab,rc)):ab;var kf=a.Date,lf=a.Error,ic=a.Math,fe=a.RegExp,Ya=a.TypeError,hd=a.Array.prototype,jc=a.Object.prototype,Mb=a.Function.prototype.toString,
ra=jc.hasOwnProperty,mf=0,ge=Mb.call(Object),Ha=jc.toString,Oe=ab._,he=fe("^"+Mb.call(ra).replace(Ka,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=eb?a.Buffer:x,Qe=a.Reflect,vb=a.Symbol,id=a.Uint8Array,Ub=a.clearTimeout,ie=Qe?Qe.enumerate:x,jd=Object.getPrototypeOf,Dc=Object.getOwnPropertySymbols,Nb="symbol"==typeof(Nb=vb&&vb.iterator)?Nb:x,nf=Object.create,je=jc.propertyIsEnumerable,kd=a.setTimeout,ld=hd.splice,md=ic.ceil,nd=ic.floor,of=a.isFinite,ke=hd.join,
pf=Object.keys,za=ic.max,Za=ic.min,qf=a.parseInt,R=ic.random,Id=hd.reverse,$a=gb(a,"Map"),Vb=gb(a,"Set"),kc=gb(a,"WeakMap"),lc=gb(Object,"create"),od=kc&&new kc,rf=$a?Mb.call($a):"",sf=Vb?Mb.call(Vb):"",tf=kc?Mb.call(kc):"",Re=vb?vb.prototype:x,wa=vb?Re.valueOf:x,uf=vb?Re.toString:x,Jc={};f.templateSettings={escape:La,evaluate:Xb,interpolate:Na,variable:"",imports:{_:f}};var wb=bd(Va),le=bd(Sc,!0),me=$b(),Se=$b(!0);ie&&!je.call({valueOf:1},"valueOf")&&(Bd=function(a){return ob(ie(a))});var Te=od?
function(a,b){od.set(a,b);return a}:Fa,vf=Vb&&2===(new Vb([1,2])).size?function(a){return new Vb(a)}:ee,ne=od?function(a){return od.get(a)}:ee,wf=da("length"),Ue=Dc||function(){return[]};if($a&&"[object Map]"!=Wa(new $a)||Vb&&"[object Set]"!=Wa(new Vb)||kc&&"[object WeakMap]"!=Wa(new kc))Wa=function(a){var b=Ha.call(a);a="[object Object]"==b?a.constructor:null;if(a="function"==typeof a?Mb.call(a):"")switch(a){case rf:return"[object Map]";case sf:return"[object Set]";case tf:return"[object WeakMap]"}return b};
var Ve=function(){var a=0,b=0;return function(c,d){var e=Cd(),f=16-(e-b);b=e;if(0<f){if(150<=++a)return c}else a=0;return Te(c,d)}}(),xf=N(function(a,b){U(a)||(a=null==a?[]:[Object(a)]);b=ka(b,1);for(var c=a,d=b,e=-1,f=c.length,g=-1,h=d.length,k=Array(f+h);++e<f;)k[e]=c[e];for(;++g<h;)k[e++]=d[g];return k}),yf=N(function(a,b){return ua(a)?kb(a,ka(b,1,!0)):[]}),zf=N(function(a,b){var c=qa(b);ua(c)&&(c=x);return ua(a)?kb(a,ka(b,1,!0),O(c)):[]}),Af=N(function(a,b){var c=qa(b);ua(c)&&(c=x);return ua(a)?
kb(a,ka(b,1,!0),x,c):[]}),Bf=N(function(a){var b=d(a,Oc);return b.length&&b[0]===a[0]?Xc(b):[]}),Cf=N(function(a){var b=qa(a),c=d(a,Oc);b===qa(c)?b=x:c.pop();return c.length&&c[0]===a[0]?Xc(c,O(b)):[]}),m=N(function(a){var b=qa(a),c=d(a,Oc);b===qa(c)?b=x:c.pop();return c.length&&c[0]===a[0]?Xc(c,x,b):[]}),C=N(Vd),Oa=N(function(a,b){b=d(ka(b,1),String);var c=Da(a,b);vd(a,b.sort(Lb));return c}),Ye=N(function(a){return P(ka(a,1,!0))}),$e=N(function(a){var b=qa(a);ua(b)&&(b=x);return P(ka(a,1,!0),O(b))}),
cg=N(function(a){var b=qa(a);ua(b)&&(b=x);return P(ka(a,1,!0),x,b)}),dg=N(function(a,b){return ua(a)?kb(a,b):[]}),gg=N(function(a){return Ua(y(a,ua))}),hg=N(function(a){var b=qa(a);ua(b)&&(b=x);return Ua(y(a,ua),O(b))}),ig=N(function(a){var b=qa(a);ua(b)&&(b=x);return Ua(y(a,ua),x,b)}),jg=N(ed),kg=N(function(a){var b=a.length,b=1<b?a[b-1]:x,b="function"==typeof b?(a.pop(),b):x;return sc(a,b)}),lg=N(function(a){a=ka(a,1);var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return Da(b,a)};if(1<
b||this.__actions__.length||!(d instanceof T)||!xb(c))return this.thru(e);d=d.slice(c,+c+(b?1:0));d.__actions__.push({func:Hc,args:[e],thisArg:x});return(new E(d,this.__chain__)).thru(function(a){b&&!a.length&&a.push(x);return a})}),mg=Ac(function(a,b,c){ra.call(a,c)?++a[c]:a[c]=1}),ng=Ac(function(a,b,c){ra.call(a,c)?a[c].push(b):a[c]=[b]}),og=N(function(a,b,c){var d=-1,e="function"==typeof b,f=mb(b),g=Xa(a)?Array(a.length):[];wb(a,function(a){var h=e?b:f&&null!=a?a[b]:x;g[++d]=h?l(h,a,c):cc(a,b,
c)});return g}),sg=Ac(function(a,b,c){a[c]=b}),wg=Ac(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),rg=N(function(a,b){if(null==a)return[];var c=b.length;1<c&&cb(a,b[0],b[1])?b=[]:2<c&&cb(b[0],b[1],b[2])&&(b.length=1);return ve(a,ka(b,1),[])}),Cd=kf.now,ff=N(function(a,b,c){var d=1;if(c.length)var e=Ib(c,Z(ff)),d=d|32;return nb(a,d,b,c,e)}),Nf=N(function(a,b,c){var d=3;if(c.length)var e=Ib(c,Z(Nf)),d=d|32;return nb(b,d,a,c,e)}),tg=N(function(a,b){return ye(a,1,b)}),ug=N(function(a,b,
c){return ye(a,W(b)||0,c)}),vg=N(function(a,b){b=d(ka(b,1),O());var c=b.length;return N(function(d){for(var e=-1,f=Za(d.length,c);++e<f;)d[e]=b[e].call(this,d[e]);return l(a,this,d)})}),Ff=N(function(a,b){var c=Ib(b,Z(Ff));return nb(a,32,x,b,c)}),Qf=N(function(a,b){var c=Ib(b,Z(Qf));return nb(a,64,x,b,c)}),xg=N(function(a,b){return nb(a,256,x,x,x,ka(b,1))}),U=Array.isArray,Of=Pe?function(a){return a instanceof Pe}:xc(!1),yg=Tb(function(a,b){Ra(b,va(b),a)}),Rf=Tb(function(a,b){Ra(b,Ga(b),a)}),pe=Tb(function(a,
b,c,d){Kc(b,Ga(b),a,d)}),zg=Tb(function(a,b,c,d){Kc(b,va(b),a,d)}),Ag=N(function(a,b){return Da(a,ka(b,1))}),Bg=N(function(a){a.push(x,rb);return l(pe,x,a)}),Cg=N(function(a){a.push(x,Gd);return l(Sf,x,a)}),Dg=Od(function(a,b,c){a[b]=c},xc(Fa)),Eg=Od(function(a,b,c){ra.call(a,b)?a[b].push(c):a[b]=[c]},O),Fg=N(cc),Gg=Tb(function(a,b,c){bb(a,b,c)}),Sf=Tb(function(a,b,c,d){bb(a,b,c,d)}),Hg=N(function(a,b){if(null==a)return{};b=d(ka(b,1),String);return xe(a,kb(Ga(a),b))}),Ig=N(function(a,b){return null==
a?{}:xe(a,ka(b,1))}),Jg=Jb(function(a,b,c){b=b.toLowerCase();return a+(c?Ic(b):b)}),Kg=Jb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Lg=Jb(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),Mg=Md("toLowerCase"),Pf=Md("toUpperCase"),Ng=Jb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Og=Jb(function(a,b,c){return a+(c?" ":"")+Ic(b)}),Pg=Jb(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),Tf=N(function(a,b){try{return l(a,x,b)}catch(c){return xd(c)?c:new lf(c)}}),Qg=N(function(a,
b){t(ka(b,1),function(b){a[b]=ff(a[b],a)});return a}),Rg=Nd(),Sg=Nd(!0),Tg=N(function(a,b){return function(c){return cc(c,a,b)}}),Ug=N(function(a,b){return function(c){return cc(a,c,b)}}),Vg=Bc(d),Wg=Bc(u),Xg=Bc(w),Yg=Cc(),Zg=Cc(!0),$g=cd("ceil"),ah=cd("floor"),bh=cd("round");f.prototype=A.prototype;E.prototype=Sb(A.prototype);E.prototype.constructor=E;T.prototype=Sb(A.prototype);T.prototype.constructor=T;oa.prototype=lc?lc(null):jc;ia.prototype.clear=function(){this.__data__={hash:new oa,map:$a?
new $a:[],string:new oa}};ia.prototype["delete"]=function(a){var b=this.__data__;return Rb(a)?(b="string"==typeof a?b.string:b.hash,(lc?b[a]!==x:ra.call(b,a))&&delete b[a]):$a?b.map["delete"](a):db(b.map,a)};ia.prototype.get=function(a){var b=this.__data__;return Rb(a)?(b="string"==typeof a?b.string:b.hash,lc?(a=b[a],a="__lodash_hash_undefined__"===a?x:a):a=ra.call(b,a)?b[a]:x,a):$a?b.map.get(a):sb(b.map,a)};ia.prototype.has=function(a){var b=this.__data__;Rb(a)?(b="string"==typeof a?b.string:b.hash,
a=lc?b[a]!==x:ra.call(b,a)):a=$a?b.map.has(a):-1<Qa(b.map,a);return a};ia.prototype.set=function(a,b){var c=this.__data__;Rb(a)?("string"==typeof a?c.string:c.hash)[a]=lc&&b===x?"__lodash_hash_undefined__":b:$a?c.map.set(a,b):zb(c.map,a,b);return this};Ja.prototype.push=function(a){var b=this.__data__;Rb(a)?(b=b.__data__,("string"==typeof a?b.string:b.hash)[a]="__lodash_hash_undefined__"):b.set(a,"__lodash_hash_undefined__")};tb.prototype.clear=function(){this.__data__={array:[],map:null}};tb.prototype["delete"]=
function(a){var b=this.__data__,c=b.array;return c?db(c,a):b.map["delete"](a)};tb.prototype.get=function(a){var b=this.__data__,c=b.array;return c?sb(c,a):b.map.get(a)};tb.prototype.has=function(a){var b=this.__data__,c=b.array;return c?-1<Qa(c,a):b.map.has(a)};tb.prototype.set=function(a,b){var c=this.__data__,d=c.array;d&&(199>d.length?zb(d,a,b):(c.array=null,c.map=new ia(d)));(c=c.map)&&c.set(a,b);return this};$d.Cache=ia;f.after=function(a,b){if("function"!=typeof b)throw new Ya("Expected a function");
a=S(a);return function(){if(1>--a)return b.apply(this,arguments)}};f.ary=fd;f.assign=yg;f.assignIn=Rf;f.assignInWith=pe;f.assignWith=zg;f.at=Ag;f.before=Yd;f.bind=ff;f.bindAll=Qg;f.bindKey=Nf;f.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return U(a)?a:[a]};f.chain=ea;f.chunk=function(a,b){b=za(S(b),0);var c=a?a.length:0;if(!c||1>b)return[];for(var d=0,e=-1,f=Array(md(c/b));d<c;)f[++e]=qb(a,d,d+=b);return f};f.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<
c;){var f=a[b];f&&(e[++d]=f)}return e};f.concat=xf;f.cond=function(a){var b=a?a.length:0,c=O();a=b?d(a,function(a){if("function"!=typeof a[1])throw new Ya("Expected a function");return[c(a[0]),a[1]]}):[];return N(function(c){for(var d=-1;++d<b;){var e=a[d];if(l(e[0],this,c))return l(e[1],this,c)}})};f.conforms=function(a){return Lc(Ta(a,!0))};f.constant=xc;f.countBy=mg;f.create=function(a,b){var c=Sb(a);return b?Yb(c,b):c};f.curry=Ma;f.curryRight=Zd;f.debounce=gd;f.defaults=Bg;f.defaultsDeep=Cg;f.defer=
tg;f.delay=ug;f.difference=yf;f.differenceBy=zf;f.differenceWith=Af;f.drop=Ud;f.dropRight=yd;f.dropRightWhile=function(a,b){return a&&a.length?ib(a,O(b,3),!0,!0):[]};f.dropWhile=function(a,b){return a&&a.length?ib(a,O(b,3),!0):[]};f.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];c&&"number"!=typeof c&&cb(a,b,c)&&(c=0,d=e);e=a.length;c=S(c);0>c&&(c=-c>e?0:e+c);d=d===x||d>e?e:S(d);0>d&&(d+=e);for(d=c>d?0:xa(d);c<d;)a[c++]=b;return a};f.filter=function(a,b){return(U(a)?y:Ad)(a,O(b,3))};f.flatMap=
function(a,b){return ka(Xd(a,b),1)};f.flatten=function(a){return a&&a.length?ka(a,1):[]};f.flattenDeep=function(a){return a&&a.length?ka(a,dd):[]};f.flattenDepth=function(a,b){if(!a||!a.length)return[];b=b===x?1:S(b);return ka(a,b)};f.flip=function(a){return nb(a,512)};f.flow=Rg;f.flowRight=Sg;f.fromPairs=function(a){for(var b=-1,c=a?a.length:0,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d};f.functions=function(a){return null==a?[]:wc(a,va(a))};f.functionsIn=function(a){return null==a?[]:wc(a,Ga(a))};
f.groupBy=ng;f.initial=function(a){return yd(a,1)};f.intersection=Bf;f.intersectionBy=Cf;f.intersectionWith=m;f.invert=Dg;f.invertBy=Eg;f.invokeMap=og;f.iteratee=$c;f.keyBy=sg;f.keys=va;f.keysIn=Ga;f.map=Xd;f.mapKeys=function(a,b){var c={};b=O(b,3);Va(a,function(a,d,e){c[b(a,d,e)]=a});return c};f.mapValues=function(a,b){var c={};b=O(b,3);Va(a,function(a,d,e){c[d]=b(a,d,e)});return c};f.matches=function(a){return ad(Ta(a,!0))};f.matchesProperty=function(a,b){return Ed(a,Ta(b,!0))};f.memoize=$d;f.merge=
Gg;f.mergeWith=Sf;f.method=Tg;f.methodOf=Ug;f.mixin=de;f.negate=function(a){if("function"!=typeof a)throw new Ya("Expected a function");return function(){return!a.apply(this,arguments)}};f.nthArg=function(a){a=S(a);return function(){return arguments[a]}};f.omit=Hg;f.omitBy=function(a,b){b=O(b);return we(a,function(a,c){return!b(a,c)})};f.once=function(a){return Yd(2,a)};f.orderBy=function(a,b,c,d){if(null==a)return[];U(b)||(b=null==b?[]:[b]);c=d?x:c;U(c)||(c=null==c?[]:[c]);return ve(a,b,c)};f.over=
Vg;f.overArgs=vg;f.overEvery=Wg;f.overSome=Xg;f.partial=Ff;f.partialRight=Qf;f.partition=wg;f.pick=Ig;f.pickBy=function(a,b){return null==a?{}:we(a,O(b))};f.property=Me;f.propertyOf=function(a){return function(b){return null==a?x:Tc(a,b)}};f.pull=C;f.pullAll=Vd;f.pullAllBy=function(a,b,c){return a&&a.length&&b&&b.length?Pb(a,b,O(c)):a};f.pullAt=Oa;f.range=Yg;f.rangeRight=Zg;f.rearg=xg;f.reject=function(a,b){var c=U(a)?y:Ad;b=O(b,3);return c(a,function(a,c,d){return!b(a,c,d)})};f.remove=function(a,
b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=O(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}vd(a,e);return c};f.rest=N;f.reverse=Gc;f.sampleSize=Gb;f.set=function(a,b,c){return null==a?a:td(a,b,c)};f.setWith=function(a,b,c,d){d="function"==typeof d?d:x;return null==a?a:td(a,b,c,d)};f.shuffle=function(a){return Gb(a,4294967295)};f.slice=function(a,b,c){var d=a?a.length:0;if(!d)return[];c&&"number"!=typeof c&&cb(a,b,c)?(b=0,c=d):(b=null==b?0:S(b),c=c===x?d:S(c));return qb(a,
b,c)};f.sortBy=rg;f.sortedUniq=function(a){return a&&a.length?pb(a):[]};f.sortedUniqBy=function(a,b){return a&&a.length?pb(a,O(b)):[]};f.split=function(a,b,c){return X(a).split(b,c)};f.spread=function(a,b){if("function"!=typeof a)throw new Ya("Expected a function");b=b===x?0:za(S(b),0);return N(function(c){var d=c[b];c=c.slice(0,b);d&&v(c,d);return l(a,this,c)})};f.tail=function(a){return Ud(a,1)};f.take=function(a,b,c){if(!a||!a.length)return[];b=c||b===x?1:S(b);return qb(a,0,0>b?0:b)};f.takeRight=
function(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===x?1:S(b);b=d-b;return qb(a,0>b?0:b,d)};f.takeRightWhile=function(a,b){return a&&a.length?ib(a,O(b,3),!1,!0):[]};f.takeWhile=function(a,b){return a&&a.length?ib(a,O(b,3)):[]};f.tap=function(a,b){b(a);return a};f.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Ya("Expected a function");pa(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return gd(a,b,{leading:d,maxWait:b,trailing:e})};f.thru=Hc;f.toArray=
Db;f.toPairs=bc;f.toPairsIn=function(a){return D(a,Ga(a))};f.toPath=function(a){return U(a)?d(a,String):zd(a)};f.toPlainObject=Ke;f.transform=function(a,b,c){var d=U(a)||Sa(a);b=O(b,4);if(null==c)if(d||pa(a)){var e=a.constructor;c=d?U(a)?new e:[]:Ba(e)?Sb(jd(a)):{}}else c={};(d?t:Va)(a,function(a,d,e){return b(c,a,d,e)});return c};f.unary=function(a){return fd(a,1)};f.union=Ye;f.unionBy=$e;f.unionWith=cg;f.uniq=function(a){return a&&a.length?P(a):[]};f.uniqBy=function(a,b){return a&&a.length?P(a,
O(b)):[]};f.uniqWith=function(a,b){return a&&a.length?P(a,x,b):[]};f.unset=function(a,b){var c;if(null==a)c=!0;else{c=a;var d=b,d=mb(d,c)?[d+""]:Bb(d);c=Hb(c,d);d=qa(d);c=null!=c&&Le(c,d)?delete c[d]:!0}return c};f.unzip=ed;f.unzipWith=sc;f.values=Ia;f.valuesIn=function(a){return null==a?[]:V(a,Ga(a))};f.without=dg;f.words=Fd;f.wrap=function(a,b){b=null==b?Fa:b;return Ff(b,a)};f.xor=gg;f.xorBy=hg;f.xorWith=ig;f.zip=jg;f.zipObject=function(a,b){return Hd(a||[],b||[],vc)};f.zipObjectDeep=function(a,
b){return Hd(a||[],b||[],td)};f.zipWith=kg;f.extend=Rf;f.extendWith=pe;de(f,f);f.add=function(a,b){var c;if(a===x&&b===x)return 0;a!==x&&(c=a);b!==x&&(c=c===x?b:c+b);return c};f.attempt=Tf;f.camelCase=Jg;f.capitalize=Ic;f.ceil=$g;f.clamp=function(a,b,c){c===x&&(c=b,b=x);c!==x&&(c=W(c),c=c===c?c:0);b!==x&&(b=W(b),b=b===b?b:0);return ub(W(a),b,c)};f.clone=function(a){return Ta(a)};f.cloneDeep=function(a){return Ta(a,!0)};f.cloneDeepWith=function(a,b){return Ta(a,!0,b)};f.cloneWith=function(a,b){return Ta(a,
!1,b)};f.deburr=Mc;f.endsWith=function(a,b,c){a=X(a);b="string"==typeof b?b:b+"";var d=a.length;c=c===x?d:ub(S(c),0,d);c-=b.length;return 0<=c&&a.indexOf(b,c)==c};f.eq=ca;f.escape=function(a){return(a=X(a))&&Ob.test(a)?a.replace(ha,M):a};f.escapeRegExp=function(a){return(a=X(a))&&oe.test(a)?a.replace(Ka,"\\$&"):a};f.every=function(a,b,c){var d=U(a)?u:Qc;c&&cb(a,b,c)&&(b=x);return d(a,O(b,3))};f.find=function(a,b){b=O(b,3);if(U(a)){var c=r(a,b);return-1<c?a[c]:x}return z(a,b,wb)};f.findIndex=function(a,
b){return a&&a.length?r(a,O(b,3)):-1};f.findKey=function(a,b){return z(a,O(b,3),Va,!0)};f.findLast=function(a,b){b=O(b,3);if(U(a)){var c=r(a,b,!0);return-1<c?a[c]:x}return z(a,b,le)};f.findLastIndex=function(a,b){return a&&a.length?r(a,O(b,3),!0):-1};f.findLastKey=function(a,b){return z(a,O(b,3),Sc,!0)};f.floor=ah;f.forEach=Wd;f.forEachRight=Eb;f.forIn=function(a,b){return null==a?a:me(a,Ab(b),Ga)};f.forInRight=function(a,b){return null==a?a:Se(a,Ab(b),Ga)};f.forOwn=function(a,b){return a&&Va(a,Ab(b))};
f.forOwnRight=function(a,b){return a&&Sc(a,Ab(b))};f.get=ac;f.gt=ae;f.gte=function(a,b){return a>=b};f.has=Le;f.hasIn=oc;f.head=zc;f.identity=Fa;f.includes=function(a,b,c,d){a=Xa(a)?a:Ia(a);c=c&&!d?S(c):0;d=a.length;0>c&&(c=za(d+c,0));return lb(a)?c<=d&&-1<a.indexOf(b,c):!!d&&-1<g(a,b,c)};f.indexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;c=S(c);0>c&&(c=za(d+c,0));return g(a,b,c)};f.inRange=function(a,b,c){b=W(b)||0;c===x?(c=b,b=0):c=W(c)||0;a=W(a);return a>=Za(b,c)&&a<za(b,c)};f.invoke=
Fg;f.isArguments=ta;f.isArray=U;f.isArrayBuffer=function(a){return na(a)&&"[object ArrayBuffer]"==Ha.call(a)};f.isArrayLike=Xa;f.isArrayLikeObject=ua;f.isBoolean=function(a){return!0===a||!1===a||na(a)&&"[object Boolean]"==Ha.call(a)};f.isBuffer=Of;f.isDate=function(a){return na(a)&&"[object Date]"==Ha.call(a)};f.isElement=function(a){return!!a&&1===a.nodeType&&na(a)&&!Pc(a)};f.isEmpty=function(a){if(Xa(a)&&(U(a)||lb(a)||Ba(a.splice)||ta(a)))return!a.length;for(var b in a)if(ra.call(a,b))return!1;
return!0};f.isEqual=function(a,b){return Cb(a,b)};f.isEqualWith=function(a,b,c){var d=(c="function"==typeof c?c:x)?c(a,b):x;return d===x?Cb(a,b,c):!!d};f.isError=xd;f.isFinite=function(a){return"number"==typeof a&&of(a)};f.isFunction=Ba;f.isInteger=Je;f.isLength=yc;f.isMap=function(a){return na(a)&&"[object Map]"==Wa(a)};f.isMatch=function(a,b){return a===b||Yc(a,b,Ec(b))};f.isMatchWith=function(a,b,c){c="function"==typeof c?c:x;return Yc(a,b,Ec(b),c)};f.isNaN=function(a){return wd(a)&&a!=+a};f.isNative=
tc;f.isNil=function(a){return null==a};f.isNull=function(a){return null===a};f.isNumber=wd;f.isObject=pa;f.isObjectLike=na;f.isPlainObject=Pc;f.isRegExp=be;f.isSafeInteger=function(a){return Je(a)&&-9007199254740991<=a&&9007199254740991>=a};f.isSet=function(a){return na(a)&&"[object Set]"==Wa(a)};f.isString=lb;f.isSymbol=pc;f.isTypedArray=Sa;f.isUndefined=function(a){return a===x};f.isWeakMap=function(a){return na(a)&&"[object WeakMap]"==Wa(a)};f.isWeakSet=function(a){return na(a)&&"[object WeakSet]"==
Ha.call(a)};f.join=function(a,b){return a?ke.call(a,b):""};f.kebabCase=Kg;f.last=qa;f.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;c!==x&&(e=S(c),e=(0>e?za(d+e,0):Za(e,d-1))+1);if(b!==b)return I(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1};f.lowerCase=Lg;f.lowerFirst=Mg;f.lt=ce;f.lte=function(a,b){return a<=b};f.max=function(a){return a&&a.length?b(a,Fa,ae):x};f.maxBy=function(a,c){return a&&a.length?b(a,O(c),ae):x};f.mean=function(a){return Ne(a)/(a?a.length:0)};f.min=
function(a){return a&&a.length?b(a,Fa,ce):x};f.minBy=function(a,c){return a&&a.length?b(a,O(c),ce):x};f.noConflict=function(){ab._===this&&(ab._=Oe);return this};f.noop=ee;f.now=Cd;f.pad=function(a,b,c){a=X(a);b=S(b);var d=dc(a);if(!b||d>=b)return a;d=(b-d)/2;b=nd(d);d=md(d);return hc("",b,c)+a+hc("",d,c)};f.padEnd=function(a,b,c){a=X(a);return a+hc(a,b,c)};f.padStart=function(a,b,c){a=X(a);return hc(a,b,c)+a};f.parseInt=function(a,b,c){c||null==b?b=0:b&&(b=+b);a=X(a).replace(mc,"");return qf(a,b||
(Wf.test(a)?16:10))};f.random=function(a,b,c){c&&"boolean"!=typeof c&&cb(a,b,c)&&(b=c=x);c===x&&("boolean"==typeof b?(c=b,b=x):"boolean"==typeof a&&(c=a,a=x));a===x&&b===x?(a=0,b=1):(a=W(a)||0,b===x?(b=a,a=0):b=W(b)||0);if(a>b){var d=a;a=b;b=d}return c||a%1||b%1?(c=R(),Za(a+c*(b-a+te("1e-"+((c+"").length-1))),b)):Fb(a,b)};f.reduce=function(a,b,c){var d=U(a)?k:e,f=3>arguments.length;return d(a,O(b,4),c,f,wb)};f.reduceRight=function(a,b,c){var d=U(a)?h:e,f=3>arguments.length;return d(a,O(b,4),c,f,le)};
f.repeat=ud;f.replace=function(){var a=arguments,b=X(a[0]);return 3>a.length?b:b.replace(a[1],a[2])};f.result=function(a,b,c){if(mb(b,a))d=null==a?x:a[b];else{b=Bb(b);var d=ac(a,b);a=Hb(a,b)}d===x&&(d=c);return Ba(d)?d.call(a):d};f.round=bh;f.runInContext=He;f.sample=function(a){a=Xa(a)?a:Ia(a);var b=a.length;return 0<b?a[Fb(0,b-1)]:x};f.size=function(a){if(null==a)return 0;if(Xa(a)){var b=a.length;return b&&lb(a)?dc(a):b}return va(a).length};f.snakeCase=Ng;f.some=function(a,b,c){var d=U(a)?w:Ze;
c&&cb(a,b,c)&&(b=x);return d(a,O(b,3))};f.sortedIndex=function(a,b){return ec(a,b)};f.sortedIndexBy=function(a,b,c){return sa(a,b,O(c))};f.sortedIndexOf=function(a,b){var c=a?a.length:0;if(c){var d=ec(a,b);if(d<c&&ca(a[d],b))return d}return-1};f.sortedLastIndex=function(a,b){return ec(a,b,!0)};f.sortedLastIndexBy=function(a,b,c){return sa(a,b,O(c),!0)};f.sortedLastIndexOf=function(a,b){if(a&&a.length){var c=ec(a,b,!0)-1;if(ca(a[c],b))return c}return-1};f.startCase=Og;f.startsWith=function(a,b,c){a=
X(a);c=ub(S(c),0,a.length);return a.lastIndexOf(b,c)==c};f.subtract=function(a,b){var c;if(a===x&&b===x)return 0;a!==x&&(c=a);b!==x&&(c=c===x?b:c-b);return c};f.sum=Ne;f.sumBy=function(a,b){return a&&a.length?q(a,O(b)):0};f.template=function(a,b,c){var d=f.templateSettings;c&&cb(a,b,c)&&(b=x);a=X(a);b=pe({},b,d,rb);c=pe({},b.imports,d.imports,rb);var e=va(c),g=V(c,e),h,k,m=0;c=b.interpolate||qe;var l="__p += '";c=fe((b.escape||qe).source+"|"+c.source+"|"+(c===Na?Vf:qe).source+"|"+(b.evaluate||qe).source+
"|$","g");var n="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++se+"]")+"\n";a.replace(c,function(b,c,d,e,f,g){d||(d=e);l+=a.slice(m,g).replace(bg,la);c&&(h=!0,l+="' +\n__e("+c+") +\n'");f&&(k=!0,l+="';\n"+f+";\n__p += '");d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");m=g+b.length;return b});l+="';\n";(b=b.variable)||(l="with (obj) {\n"+l+"\n}\n");l=(k?l.replace(Ef,""):l).replace(gf,"$1").replace(hf,"$1;");l="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+
"var __t, __p = ''"+(h?", __e = _.escape":"")+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";b=Tf(function(){return Function(e,n+"return "+l).apply(x,g)});b.source=l;if(xd(b))throw b;return b};f.times=function(a,b){a=S(a);if(1>a||9007199254740991<a)return[];var c=4294967295,d=Za(a,4294967295);b=Ab(b);a-=4294967295;for(d=G(d,b);++c<a;)b(c);return d};f.toInteger=S;f.toLength=xa;f.toLower=function(a){return X(a).toLowerCase()};f.toNumber=
W;f.toSafeInteger=function(a){return ub(S(a),-9007199254740991,9007199254740991)};f.toString=X;f.toUpper=function(a){return X(a).toUpperCase()};f.trim=function(a,b,c){a=X(a);if(!a)return a;if(c||b===x)return a.replace(mc,"");b+="";if(!b)return a;a=a.match(Aa);b=b.match(Aa);return a.slice(Wb(a,b),Q(a,b)+1).join("")};f.trimEnd=function(a,b,c){a=X(a);if(!a)return a;if(c||b===x)return a.replace(Kb,"");b+="";if(!b)return a;a=a.match(Aa);return a.slice(0,Q(a,b.match(Aa))+1).join("")};f.trimStart=function(a,
b,c){a=X(a);if(!a)return a;if(c||b===x)return a.replace(jb,"");b+="";if(!b)return a;a=a.match(Aa);return a.slice(Wb(a,b.match(Aa))).join("")};f.truncate=function(a,b){var c=30,d="...";if(pa(b))var e="separator"in b?b.separator:e,c="length"in b?S(b.length):c,d="omission"in b?X(b.omission):d;a=X(a);var f=a.length;if(qc.test(a))var g=a.match(Aa),f=g.length;if(c>=f)return a;f=c-dc(d);if(1>f)return d;c=g?g.slice(0,f).join(""):a.slice(0,f);if(e===x)return c+d;g&&(f+=c.length-f);if(be(e)){if(a.slice(f).search(e)){var h=
c;e.global||(e=fe(e.source,X(Gf.exec(e))+"g"));for(e.lastIndex=0;g=e.exec(h);)var k=g.index;c=c.slice(0,k===x?f:k)}}else a.indexOf(e,f)!=f&&(e=c.lastIndexOf(e),-1<e&&(c=c.slice(0,e)));return c+d};f.unescape=function(a){return(a=X(a))&&ja.test(a)?a.replace(We,Df):a};f.uniqueId=function(a){var b=++mf;return X(a)+b};f.upperCase=Pg;f.upperFirst=Pf;f.each=Wd;f.eachRight=Eb;f.first=zc;de(f,function(){var a={};Va(f,function(b,c){ra.call(f.prototype,c)||(a[c]=b)});return a}(),{chain:!1});f.VERSION="4.5.1";
t("bind bindKey curry curryRight partial partialRight".split(" "),function(a){f[a].placeholder=f});t(["drop","take"],function(a,b){T.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new T(this);c=c===x?1:za(S(c),0);var e=this.clone();d?e.__takeCount__=Za(c,e.__takeCount__):e.__views__.push({size:Za(c,4294967295),type:a+(0>e.__dir__?"Right":"")});return e};T.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});t(["filter","map","takeWhile"],function(a,b){var c=
b+1,d=1==c||3==c;T.prototype[a]=function(a){var b=this.clone();b.__iteratees__.push({iteratee:O(a,3),type:c});b.__filtered__=b.__filtered__||d;return b}});t(["head","last"],function(a,b){var c="take"+(b?"Right":"");T.prototype[a]=function(){return this[c](1).value()[0]}});t(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");T.prototype[a]=function(){return this.__filtered__?new T(this):this[c](1)}});T.prototype.compact=function(){return this.filter(Fa)};T.prototype.find=function(a){return this.filter(a).head()};
T.prototype.findLast=function(a){return this.reverse().find(a)};T.prototype.invokeMap=N(function(a,b){return"function"==typeof a?new T(this):this.map(function(c){return cc(c,a,b)})});T.prototype.reject=function(a){a=O(a,3);return this.filter(function(b){return!a(b)})};T.prototype.slice=function(a,b){a=S(a);var c=this;if(c.__filtered__&&(0<a||0>b))return new T(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==x&&(b=S(b),c=0>b?c.dropRight(-b):c.take(b-a));return c};T.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()};
T.prototype.toArray=function(){return this.take(4294967295)};Va(T.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=f[d?"take"+("last"==b?"Right":""):b],g=d||/^find/.test(b);e&&(f.prototype[b]=function(){var b=this.__wrapped__,h=d?[1]:arguments,k=b instanceof T,l=h[0],m=k||U(b),n=function(a){a=e.apply(f,v([a],h));return d&&p?a[0]:a};m&&c&&"function"==typeof l&&1!=l.length&&(k=m=!1);var p=this.__chain__,q=!!this.__actions__.length,l=g&&!p,k=k&&
!q;if(!g&&m)return b=k?b:new T(this),b=a.apply(b,h),b.__actions__.push({func:Hc,args:[n],thisArg:x}),new E(b,p);if(l&&k)return a.apply(this,h);b=this.thru(n);return l?d?b.value()[0]:b.value():b})});t("pop push shift sort splice unshift".split(" "),function(a){var b=hd[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);f.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}});Va(T.prototype,
function(a,b){var c=f[b];if(c){var d=c.name+"";(Jc[d]||(Jc[d]=[])).push({name:b,func:c})}});Jc[gc(x,2).name]=[{name:"wrapper",func:x}];T.prototype.clone=function(){var a=new T(this.__wrapped__);a.__actions__=ga(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=ga(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=ga(this.__views__);return a};T.prototype.reverse=function(){if(this.__filtered__){var a=new T(this);a.__dir__=-1;a.__filtered__=!0}else a=
this.clone(),a.__dir__*=-1;return a};T.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=U(b),e=0>c,f=d?b.length:0;a=0;for(var g=f,h=this.__views__,k=-1,l=h.length;++k<l;){var m=h[k],n=m.size;switch(m.type){case "drop":a+=n;break;case "dropRight":g-=n;break;case "take":g=Za(g,a+n);break;case "takeRight":a=za(a,g-n)}}h=g;g=h-a;e=e?h:a-1;a=this.__iteratees__;h=a.length;k=0;l=Za(g,this.__takeCount__);if(!d||200>f||f==g&&l==g)return Vc(b,this.__actions__);d=[];a:for(;g--&&k<
l;){e+=c;f=-1;for(m=b[e];++f<h;){var p=a[f],n=p.iteratee,p=p.type,n=n(m);if(2==p)m=n;else if(!n)if(1==p)continue a;else break a}d[k++]=m}return d};f.prototype.at=lg;f.prototype.chain=function(){return ea(this)};f.prototype.commit=function(){return new E(this.value(),this.__chain__)};f.prototype.flatMap=function(a){return this.map(a).flatten()};f.prototype.next=function(){this.__values__===x&&(this.__values__=Db(this.value()));var a=this.__index__>=this.__values__.length,b=a?x:this.__values__[this.__index__++];
return{done:a,value:b}};f.prototype.plant=function(a){for(var b,c=this;c instanceof A;){var d=Dd(c);d.__index__=0;d.__values__=x;b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}e.__wrapped__=a;return b};f.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof T?(this.__actions__.length&&(a=new T(this)),a=a.reverse(),a.__actions__.push({func:Hc,args:[Gc],thisArg:x}),new E(a,this.__chain__)):this.thru(Gc)};f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return Vc(this.__wrapped__,
this.__actions__)};Nb&&(f.prototype[Nb]=jf);return f}var x,dd=1/0,pd=0/0,Ef=/\b__p \+= '';/g,gf=/\b(__p \+=) '' \+/g,hf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,We=/&(?:amp|lt|gt|quot|#39|#96);/g,ha=/[&<>"'`]/g,ja=RegExp(We.source),Ob=RegExp(ha.source),La=/<%-([\s\S]+?)%>/g,Xb=/<%([\s\S]+?)%>/g,Na=/<%=([\s\S]+?)%>/g,ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nc=/^\w*$/,yb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,Ka=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(Ka.source),mc=/^\s+|\s+$/g,
jb=/^\s+/,Kb=/\s+$/,Uf=/\\(\\)?/g,Vf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gf=/\w*$/,Wf=/^0x/i,Xf=/^[-+]0x[0-9a-f]+$/i,Yf=/^0b[01]+$/i,Zf=/^\[object .+?Constructor\]$/,$f=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,ag=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,qe=/($^)/,bg=/['\n\r\u2028\u2029\\]/g,eg=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),Aa=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",
"g"),qc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),fg=/[a-zA-Z0-9]+/g,re=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|\\d+|(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",
"g"),rd=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rc="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),se=-1,fa={};fa["[object Float32Array]"]=fa["[object Float64Array]"]=fa["[object Int8Array]"]=fa["[object Int16Array]"]=fa["[object Int32Array]"]=fa["[object Uint8Array]"]=
fa["[object Uint8ClampedArray]"]=fa["[object Uint16Array]"]=fa["[object Uint32Array]"]=!0;fa["[object Arguments]"]=fa["[object Array]"]=fa["[object ArrayBuffer]"]=fa["[object Boolean]"]=fa["[object Date]"]=fa["[object Error]"]=fa["[object Function]"]=fa["[object Map]"]=fa["[object Number]"]=fa["[object Object]"]=fa["[object RegExp]"]=fa["[object Set]"]=fa["[object String]"]=fa["[object WeakMap]"]=!1;var aa={};aa["[object Arguments]"]=aa["[object Array]"]=aa["[object ArrayBuffer]"]=aa["[object Boolean]"]=
aa["[object Date]"]=aa["[object Float32Array]"]=aa["[object Float64Array]"]=aa["[object Int8Array]"]=aa["[object Int16Array]"]=aa["[object Int32Array]"]=aa["[object Map]"]=aa["[object Number]"]=aa["[object Object]"]=aa["[object RegExp]"]=aa["[object Set]"]=aa["[object String]"]=aa["[object Symbol]"]=aa["[object Uint8Array]"]=aa["[object Uint8ClampedArray]"]=aa["[object Uint16Array]"]=aa["[object Uint32Array]"]=!0;aa["[object Error]"]=aa["[object Function]"]=aa["[object WeakMap]"]=!1;var db={"\u00c0":"A",
"\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O",
"\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Lc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},rb={"function":!0,object:!0},$e={"\\":"\\","'":"'","\n":"n",
"\r":"r","\u2028":"u2028","\u2029":"u2029"},te=parseFloat,ue=parseInt,oa=rb[typeof f]&&f&&!f.nodeType?f:x,sb=rb[typeof E]&&E&&!E.nodeType?E:x,eb=sb&&sb.exports===oa?oa:x,Yb=ia(oa&&sb&&"object"==typeof a&&a),Zb=ia(rb[typeof self]&&self),Ja=ia(rb[typeof window]&&window),Qa=ia(rb[typeof this]&&this),ab=Yb||Ja!==(Qa&&Qa.window)&&Ja||Zb||Qa||Function("return this")(),hb=He();(Ja||Zb||{})._=hb;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return hb}):oa&&sb?(eb&&((sb.exports=
hb)._=hb),oa._=hb):ab._=hb}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}]},{},[4]);
