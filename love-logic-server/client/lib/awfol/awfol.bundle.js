/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>

 lodash 4.5.1 (Custom Build) <https://lodash.com/>
 Build: `lodash -d -o ./foo/lodash.js`
 Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function e$$0(D,b,p){function F(x,v){if(!b[x]){if(!D[x]){var E="function"==typeof require&&require;if(!v&&E)return E(x,!0);if(K)return K(x,!0);E=Error("Cannot find module '"+x+"'");throw E.code="MODULE_NOT_FOUND",E;}E=b[x]={exports:{}};D[x][0].call(E.exports,function(v){var E=D[x][1][v];return F(E?E:v)},E,E.exports,e$$0,D,b,p)}return b[x].exports}for(var K="function"==typeof require&&require,x=0;x<p.length;x++)F(p[x]);return F})({1:[function(a,D,b){},{}],2:[function(a,D,b){(function(a){function F(a,
x){for(var b=0,u=a.length-1;0<=u;u--){var c=a[u];"."===c?a.splice(u,1):".."===c?(a.splice(u,1),b++):b&&(a.splice(u,1),b--)}if(x)for(;b--;b)a.unshift("..");return a}function K(a,x){if(a.filter)return a.filter(x);for(var b=[],u=0;u<a.length;u++)x(a[u],u,a)&&b.push(a[u]);return b}var x=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;b.resolve=function(){for(var x="",b=!1,u=arguments.length-1;-1<=u&&!b;u--){var z=0<=u?arguments[u]:a.cwd();if("string"!==typeof z)throw new TypeError("Arguments to path.resolve must be strings");
z&&(x=z+"/"+x,b="/"===z.charAt(0))}x=F(K(x.split("/"),function(a){return!!a}),!b).join("/");return(b?"/":"")+x||"."};b.normalize=function(a){var x=b.isAbsolute(a),A="/"===u(a,-1);(a=F(K(a.split("/"),function(a){return!!a}),!x).join("/"))||x||(a=".");a&&A&&(a+="/");return(x?"/":"")+a};b.isAbsolute=function(a){return"/"===a.charAt(0)};b.join=function(){var a=Array.prototype.slice.call(arguments,0);return b.normalize(K(a,function(a,x){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");
return a}).join("/"))};b.relative=function(a,x){function u(a){for(var c=0;c<a.length&&""===a[c];c++);for(var m=a.length-1;0<=m&&""===a[m];m--);return c>m?[]:a.slice(c,m-c+1)}a=b.resolve(a).substr(1);x=b.resolve(x).substr(1);for(var z=u(a.split("/")),c=u(x.split("/")),m=Math.min(z.length,c.length),h=m,l=0;l<m;l++)if(z[l]!==c[l]){h=l;break}m=[];for(l=h;l<z.length;l++)m.push("..");m=m.concat(c.slice(h));return m.join("/")};b.sep="/";b.delimiter=":";b.dirname=function(a){var b=x.exec(a).slice(1);a=b[0];
b=b[1];if(!a&&!b)return".";b&&(b=b.substr(0,b.length-1));return a+b};b.basename=function(a,b){var u=x.exec(a).slice(1)[2];b&&u.substr(-1*b.length)===b&&(u=u.substr(0,u.length-b.length));return u};b.extname=function(a){return x.exec(a).slice(1)[3]};var u="b"==="ab".substr(-1)?function(a,x,b){return a.substr(x,b)}:function(a,x,b){0>x&&(x=a.length+x);return a.substr(x,b)}}).call(this,a("_process"))},{_process:3}],3:[function(a,D,b){function p(){v=!1;E.length?u=E.concat(u):A=-1;u.length&&F()}function F(){if(!v){var a=
setTimeout(p);v=!0;for(var c=u.length;c;){E=u;for(u=[];++A<c;)E&&E[A].run();A=-1;c=u.length}E=null;v=!1;clearTimeout(a)}}function K(a,c){this.fun=a;this.array=c}function x(){}a=D.exports={};var u=[],v=!1,E,A=-1;a.nextTick=function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var m=1;m<arguments.length;m++)c[m-1]=arguments[m];u.push(new K(a,c));1!==u.length||v||setTimeout(F,0)};K.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=
[];a.version="";a.versions={};a.on=x;a.addListener=x;a.once=x;a.off=x;a.removeListener=x;a.removeAllListeners=x;a.emit=x;a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],4:[function(a,D,b){D="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};var p;b=a("../fol");p=a("../proofs/proof");a=a("../../ui_components/tree_proof/tree");
D.fol=b;D.proof=p;D.tree=a;"undefined"!==typeof _&&null!==_&&_.noConflict()},{"../../ui_components/tree_proof/tree":35,"../fol":7,"../proofs/proof":28}],5:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c,m,h,l,k,q;p=a("lodash");q=a("../symbols");A={lpl:{available:!0,description:"The language and natural deduction proof system presented in Barker-Plummer, Barwise and Etchemndy\u2019s \u2018Language, Proof and Logic\u2019",textbook:"\u2018Language, Proof and Logic\u2019 by Barker-Plummer, Barwise & Etchemendy",
versions:{"0.1":{symbols:"default",parser:"awFOL",rules:"fitch",treeRules:"logicbook_tree"}}},teller:{available:!0,description:"The language and natural deduction proof system presented in Teller\u2019s \u2018A Modern Formal Logic Primer\u2019 (1998)",textbook:"\u2018A Modern Formal Logic Primer\u2019 by Teller",versions:{"0.1":{symbols:"teller",parser:"teller",rules:"teller"}}},copi:{available:!1,versions:{"0.1":{symbols:"copi",parser:"copi",rules:"copi"}}},forallx:{available:!0,description:"The language and natural deduction proof system presented in Magnus\u2019 \u2018forallx\u2019 (2014)",
textbook:"\u2018forallx\u2019 Primer by Magnus",versions:{"0.1":{symbols:"forallx",parser:"forallx",rules:"forallx"}}},logicbook:{available:!0,description:"The language and natural deduction proof system presented in Bergmann, Moore and Nelson\u2019s \u2018The Logic Book\u2019 (2014)",textbook:"\u2018The Logic Book\u2019 by Bergmann, Moore and Nelson",versions:{"0.1":{symbols:"logicbook",parser:"logicbookFOL",rules:"logicbook",treeRules:"logicbook_tree"}}}};v="lpl";E="0.1";D=function(a,c){var g;null!=
a.version&&(c=a.version,a=a.name);v=a;g=A[a].versions;null==c&&(c=Math.max(p.keys(g)));E=c;g=g[c];l(g.symbols);m(g.parser);h(g.rules);return k(g.treeRules)};b.set=D;b.getCurrentDialectNameAndVersion=function(){return{name:v,version:E}};b.getTextbookForDialect=function(a){null==a&&(a=v);return A[a].textbook};b.getAllDialectNamesAndDescriptions=function(){var a,c,g,r,d,f;c=p.keys(A);f=[];g=0;for(d=c.length;g<d;g++)r=c[g],a=A[r],!0===a.available&&f.push({name:r,description:a.description,textbook:a.textbook});
return f};u=void 0;k=function(a){return u=a};b.getTreeRules=function(){return c[u]};b.listDialects=function(){return p.keys(A)};x=void 0;l=function(a){return x=a};b.setSymbols=l;b.getSymbols=function(a){return null==a?q[x]:q[a]};b.getSymbolsName=function(){return x};z={awFOL:a("../parser/awFOL"),copi:a("../parser/copiFOL"),teller:a("../parser/tellerFOL"),forallx:a("../parser/forallxFOL"),logicbookFOL:a("../parser/logicbookFOL")};F=void 0;b.registerParser=function(a,c){return z[a]=c};b.getParser=function(a){if(!(a in
z))throw Error("unknown parser "+a);return z[a]};b.getCurrentParser=function(){return z[F]};b.getCurrentParserName=function(){return F};m=function(a){if(!(a in z))throw Error("unknown parser \u2018"+a+"\u2019");return F=a};b.setCurrentParser=m;c={};b.registerRuleSet=function(a,k){return c[a]=k};K="fitch";b.getCurrentRules=function(){return c[K]};b.getCurrentRulesName=function(){return K};h=function(a){return K=a};b.setCurrentRules=h;D("lpl")},{"../parser/awFOL":12,"../parser/copiFOL":13,"../parser/forallxFOL":14,
"../parser/logicbookFOL":15,"../parser/tellerFOL":16,"../symbols":32,lodash:9}],6:[function(a,D,b){var p,F,K;F=a("lodash");K=a("./dialect_manager/dialectManager").getCurrentParser();p=function(a,b){this.world=b;F.isString(a)?this.sentence=K.parse(a):this.sentence=a;this.varStack={};return this};p.prototype.logSentence=function(){return console.log("sentence "+JSON.stringify(this.sentence,null,4))};p.prototype.evaluate=function(a){var b,v,E,A,z;a=null!=a?a:this.sentence;if("value"===a.type)return a.value;
if("and"===a.type)return this.evaluate(a.left)&&this.evaluate(a.right);if("nand"===a.type)return!(this.evaluate(a.left)&&this.evaluate(a.right));if("or"===a.type)return this.evaluate(a.left)||this.evaluate(a.right);if("nor"===a.type)return!(this.evaluate(a.left)||this.evaluate(a.right));if("not"===a.type)return!this.evaluate(a.left);if("arrow"===a.type)return!this.evaluate(a.left)||this.evaluate(a.right);if("double_arrow"===a.type)return this.evaluate(a.left)===this.evaluate(a.right);if("sentence_letter"===
a.type)return this.world[a.letter];if("predicate"===a.type||"identity"===a.type)return v=a,b="identity"===v.type?function(){var a,m,h,l;h=this.world.domain;l=[];a=0;for(m=h.length;a<m;a++)z=h[a],l.push([z,z]);return l}.call(this):this.world.predicates[v.name],v=this.instantiate_terms(v.termlist),b=F.where(b,v),0<b.length;if("existential_quantifier"===a.type||"universal_quantifier"===a.type)return b=a.boundVariable,A=b.name,A in this.varStack||(this.varStack[A]=[]),E=this,"existential_quantifier"===
a.type&&(v=F.some),"universal_quantifier"===a.type&&(v=F.all),v(this.world.domain,function(c){E.varStack[A].push(c);c=E.evaluate(a.left);E.varStack[A].pop();return c});throw Error("e (evaluate inner) could not evaluate sentence "+JSON.stringify(a,null,4));};p.prototype.instantiate_terms=function(a){var b,v,E,A;E=[];b=0;for(v=a.length;b<v;b++)if(A=a[b],"name"===A.type){if(!(A.name in this.world.names))throw Error("The name "+A.name+" is not defined in this world.");E.push(this.world.names[A.name])}else if("variable"===
A.type){if(!(A.name in this.varStack))throw Error("The variable "+A.name+" is not bound by any quantifier.");E.push(F.last(this.varStack[A.name]))}else throw Error("Encountered a term of unknown type: "+JSON.stringify(A,null,4));return E};b.evaluate=function(a,b){return(new p(a,b)).evaluate()}},{"./dialect_manager/dialectManager":5,lodash:9}],7:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c;p=a("lodash");c=a("./util");u=a("./match");z=a("./substitute");v=a("./normal_form");x=a("./evaluate");E=a("./op");
D=a("./symbols");K=a("./dialect_manager/dialectManager");A=function(a,c){var l;null==c&&(c=K.getCurrentParser());l=c.parse(a);return F(l)};b.parse=A;b.parseUsingSystemParser=function(a){var c;c=K.getParser("awFOL");return A(a,c)};b.symbols=D;b.getLanguageNames=c.getLanguageNames;b.getPredLanguageName=c.getPredLanguageName;b.setDialect=function(a,c){return K.set(a,c)};b.getAllDialectNamesAndDescriptions=function(){return K.getAllDialectNamesAndDescriptions()};b.getCurrentDialectNameAndVersion=function(){return K.getCurrentDialectNameAndVersion()};
b._dialectManager=K;b.getTextbookForDialect=function(a){return K.getTextbookForDialect(a)};F=function(a){c.walk(a,function(h){if(null!==h&&!(p.isArray(h)||p.isString(h)||p.isBoolean(h)||p.isNumber(h)))return h.walk=function(a){c.walk(h,a);return h},h.delExtraneousProperties=function(){return c.delExtraneousProperties(h)},h.isIdenticalTo=function(a){return c.areIdenticalExpressions(h,a)},h.clone=function(){var a;a=c.cloneExpression(h);F(a);return a},h.toString=function(a){null==a&&(a={});!1!==a.replaceSymbols&&
null==a.symbols&&(a.symbols=K.getSymbols());return c.expressionToString(h,a)},h.listMetaVariableNames=function(){return c.listMetaVariableNames(h)},h.listMetaVariableNamesAsList=function(){return c.listMetaVariableNamesAsList(h)},h.findMatches=function(a,c,m){return u.find(h,a,c,m)},h.applyMatches=function(a){a=u.apply(h,a);F(a);return a},h.applySubstitutions=function(){var a;a=z.applySubstitutions(h);F(a);return a},h.containsSubstitutions=function(){var a;a=!1;h.walk(function(c){null!=(null!=c?c.substitutions:
void 0)&&(a=!0)});return a},h.getAllSubstitutionInstances=function(){var a;a=[];u.doAfterApplyingSubstitutions(h,function(c){a.push(F(c))});return a},h.getNames=function(){var a;a=[];h.walk(function(c){"name"===(null!=c?c.type:void 0)&&a.push(c.name)});return a},h.getPredicates=function(){var a;a=[];h.walk(function(c){"predicate"===(null!=c?c.type:void 0)&&a.push({name:c.name,arity:c.termlist.length})});return p.uniq(a,function(a){return a.name+"*&!"+a.arity})},h.getSentenceLetters=function(){var a;
a=[];h.walk(function(c){"sentence_letter"===(null!=c?c.type:void 0)&&a.push(c.letter)});return a.sort()},h.getFreeVariableNames=function(){var x,k,b,t;x=c.listTerms(h);k=p.uniq(function(){var a,c,r;r=[];a=0;for(c=x.length;a<c;a++)b=x[a],"variable"===b.type&&r.push(b.name);return r}());return function(){var c,g,r;r=[];c=0;for(g=k.length;c<g;c++)t=k[c],v.isVariableFree(t,a)&&r.push(t);return r}()},h.negate=function(){return F(E.negate(h))},h.convertToPNFsimplifyAndSort=function(){var c;c=v.convertToPNFsimplifyAndSort(a);
F(c);return c},h.isPNFExpressionEquivalent=function(a){return v.arePNFExpressionsEquivalent(h,a)},h.evaluate=function(a){return x.evaluate(h,a)}});return a};b._decorate=F},{"./dialect_manager/dialectManager":5,"./evaluate":6,"./match":8,"./normal_form":10,"./op":11,"./substitute":31,"./symbols":32,"./util":33,lodash:9}],8:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c,m,h,l,k,q=[].indexOf||function(a){for(var c=0,g=this.length;c<g;c++)if(c in this&&this[c]===a)return c;return-1};p=a("lodash");k=a("./util");
b.find=function(a,c,g){null==g&&(g={});null==g&&(g={});return h(c,function(c){var d,f;c=l(a,c,g);if(!1!==c){for(d in c)f=c[d],c[d]=k.cloneExpression(f);return c}})||!1};l=function(a,c,g){var r;null==g&&(g={});r=function(a,c){var e,B,y;if(null!=(null!=c?c.type:void 0)&&("expression_variable"===(e=c.type)||"term_metavariable"===e||"term_metavariable_hat"===e)){"expression_variable"===c.type&&(y=c.letter);if("term_metavariable"===(B=c.type)||"term_metavariable_hat"===B)y=c.name;if(y in g)return k.areIdenticalExpressions(a,
g[y]);g=p.clone(g);if("term_metavariable_hat"===c.type&&"name_hat"!==a.type)return!1;g[y]=a;return null!=c.box?(e=k.cloneExpression(a),delete e.box,g[y]=e,null==a.box?!1:k.walkCompare(a.box,c.box,r)):g}};return k.walkCompare(a,c,r)?g:!1};b.findWithoutApplyingSubs=l;h=function(a,c){var g;if(!k.expressionContainsSubstitutions(a))return c(a);g=k.cloneExpression(a);g=z(g);return v(g,c)};b.doAfterApplyingSubstitutions=h;v=function(a,c){var g,r,d,f,e,h;g=u(a);if(d=!k.expressionContainsSubstitutions(g))if(h=
c(g))return h;f=m(a);e=!k.expressionContainsSubstitutions(f);r=!k.areIdenticalExpressions(g,f);if(e&&r&&(h=c(f))||!d&&(h=v(g,c))||!e&&r&&(h=v(f,c)))return h};u=function(a){var B;B=k.cloneExpression(a);return k.walkMutateFindOne(B,function(a){var r,d;if(null!=(null!=a?a.substitutions:void 0)){a=k.cloneExpression(a);d=c(a);if(null==d)return{newExpression:B,aResult:void 0};E(a,d)&&(r=k.cloneExpression(d.to),null!=a.substitutions&&(r.substitutions=a.substitutions),null!=a.box&&(r.box=a.box),a=r);return{newExpression:a,
aResult:d}}}).mutatedExpression};E=function(a,c){return a.type!==c.from.type?!1:null!=a.name&&null!=c.from.name&&a.name===c.from.name||null!=a.letter&&null!=c.from.letter&&a.letter===c.from.letter?!0:!1};m=function(a){a=k.cloneExpression(a);return k.walkMutateFindOne(a,function(a){var g;if(null!=(null!=a?a.substitutions:void 0))return a=k.cloneExpression(a),g=c(a),{newExpression:a,aResult:g}}).mutatedExpression};z=function(a){a=k.cloneExpression(a);return k.walkMutate(a,function(a){var g;if(null==
(null!=a?a.substitutions:void 0)||null!=(null!=a?a.type:void 0)&&("name"===(g=a.type)||"variable"===g||"term_metavariable"===g))return a;for(g=c(a);g;)a=A(g)?K(a,g):F(a,g),g=c(a);return a})};b._moveAllSubsInwards=z;c=function(a){var c;if(null!=a.substitutions){for(c=a.substitutions.shift();0<a.substitutions.length&&k.areIdenticalExpressions(c.from,c.to);)c=a.substitutions.shift();if(k.areIdenticalExpressions(c.from,c.to))delete a.substitutions;else return 0===a.substitutions.length&&delete a.substitutions,
c}};A=function(a){var c;return(c=a.from.type,0<=q.call(k.termTypes,c))?!0:!1};K=function(a,c){return x(a,c,k.termTypes)};b._addSubToEveryTerm=K;F=function(a,c){return x(a,c,["sentence_letter","expression_variable"])};b._addSubToEverySentence=F;x=function(a,c,g){var r,d;d=function(a){var c;if(null==(null!=a?a.type:void 0)||!(c=a.type,0<=q.call(g,c))||d._inSub)return a;a.substitutions&&!k.expressionHasSub(a,r)?a.substitutions.push(r):a.substitutions=[r];return a};a=k.cloneExpression(a);r=k.cloneExpression(c);
return a=k.walkMutate(a,d)};b.apply=function(a,c,g){var r;null==g&&(g={});r=function(a){var f,e,g;if(null==(null!=a?a.type:void 0)||"expression_variable"!==(f=a.type)&&"term_metavariable"!==f&&"term_metavariable_hat"!==f)return a;"expression_variable"===a.type&&(g=a.letter);if("term_metavariable"===(e=a.type)||"term_metavariable_hat"===e)g=a.name;if(!(g in c))return a;f=k.cloneExpression(c[g]);null!=a.substitutions&&(f.substitutions=a.substitutions);null!=a.box&&(f.box=a.box);return f};if(g.noClone)return k.walkMutate(a,
r);a=k.cloneExpression(a);return k.walkMutate(a,r)}},{"./util":33,lodash:9}],9:[function(a,D,b){(function(a){(function(){function F(a,d){if(a!==d){var c=null===a,f=a===e,g=a===a,C=null===d,r=d===e,I=d===d;if(a>d&&!C||!g||c&&!r&&I||f&&I)return 1;if(a<d&&!c||!I||C&&!f&&g||r&&g)return-1}return 0}function K(a,d,c){for(var e=a.length,f=c?e:-1;c?f--:++f<e;)if(d(a[f],f,a))return f;return-1}function x(a,d,c){if(d!==d)return k(a,c);--c;for(var e=a.length;++c<e;)if(a[c]===d)return c;return-1}function u(a){return"function"==
typeof a||!1}function v(a){return null==a?"":a+""}function E(a,d){for(var c=-1,e=a.length;++c<e&&-1<d.indexOf(a.charAt(c)););return c}function A(a,d){for(var c=a.length;c--&&-1<d.indexOf(a.charAt(c)););return c}function z(a,d){return F(a.criteria,d.criteria)||a.index-d.index}function c(a){return Ob[a]}function m(a){return Wb[a]}function h(a,d,c){d?a=za[a]:c&&(a=Ja[a]);return"\\"+a}function l(a){return"\\"+Ja[a]}function k(a,d,c){var e=a.length;for(d+=c?0:-1;c?d--:++d<e;){var f=a[d];if(f!==f)return d}return-1}
function q(a){return!!a&&"object"==typeof a}function t(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function B(a,d){for(var c=-1,e=a.length,f=-1,g=[];++c<e;)a[c]===d&&(a[c]="__lodash_placeholder__",g[++f]=c);return g}function g(a){for(var d=-1,c=a.length;++d<c&&t(a.charCodeAt(d)););return d}function r(a){for(var d=a.length;d--&&t(a.charCodeAt(d)););return d}function d(a){return mc[a]}function f(a){function b(n){if(q(n)&&
!R(n)&&!(n instanceof D)){if(n instanceof p)return n;if(da.call(n,"__chain__")&&da.call(n,"__wrapped__"))return Jc(n)}return new p(n)}function t(){}function p(n,L,a){this.__wrapped__=n;this.__actions__=a||[];this.__chain__=!!L}function D(n){this.__wrapped__=n;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=nc;this.__views__=[]}function Ob(){this.__data__={}}function Oa(n){var L=n?n.length:0;for(this.data={hash:oc(null),set:new ma};L--;)this.push(n[L])}
function Wb(n,L){var a=n.data;return("string"==typeof L||Z(L)?a.set.has(L):a.hash[L])?0:-1}function za(n,L){var a=-1,d=n.length;for(L||(L=ga(d));++a<d;)L[a]=n[a];return L}function Ja(n,L){for(var a=-1,d=n.length;++a<d&&!1!==L(n[a],a,n););return n}function Nb(n,L){for(var a=-1,d=n.length;++a<d;)if(!L(n[a],a,n))return!1;return!0}function mc(n,L){for(var a=-1,d=n.length,c=-1,e=[];++a<d;){var b=n[a];L(b,a,n)&&(e[++c]=b)}return e}function Ma(n,L){for(var a=-1,d=n.length,c=ga(d);++a<d;)c[a]=L(n[a],a,n);
return c}function Ba(n,L){for(var a=-1,d=L.length,c=n.length;++a<d;)n[c+a]=L[a];return n}function pc(n,L,a,d){var c=-1,e=n.length;for(d&&e&&(a=n[++c]);++c<e;)a=L(a,n[c],c,n);return a}function lc(n,L){for(var a=-1,d=n.length;++a<d;)if(L(n[a],a,n))return!0;return!1}function re(n,L,a,d){return n!==e&&da.call(d,a)?n:L}function rd(n,L,a){for(var d=-1,c=va(L),b=c.length;++d<b;){var f=c[d],g=n[f],C=a(g,L[f],f,n,L);(C===C?C===g:g!==g)&&(g!==e||f in n)||(n[f]=C)}return n}function qc(n,L){return null==L?n:
ha(L,va(L),n)}function se(n,L){for(var a=-1,d=null==n,c=!d&&ra(n),b=c?n.length:0,f=L.length,g=ga(f);++a<f;){var C=L[a];g[a]=c?rb(C,b)?n[C]:e:d?e:n[C]}return g}function ha(n,L,a){a||(a={});for(var d=-1,c=L.length;++d<c;){var e=L[d];a[e]=n[e]}return a}function aa(n,L,a){var d=typeof n;return"function"==d?L===e?n:Da(n,L,a):null==n?pa:"object"==d?sd(n):L===e?rc(n):M(n,L)}function gb(n,L,a,d,c,b,f){var g;a&&(g=c?a(n,d,c):a(n));if(g!==e)return g;if(!Z(n))return n;if(d=R(n)){if(g=td(n),!L)return za(n,g)}else{var C=
sa.call(n),r="[object Function]"==C;if("[object Object]"==C||"[object Arguments]"==C||r&&!c){if(g=sb(r?{}:n),!L)return qc(g,n)}else return ka[C]?Ze(n,C,L):c?n:{}}b||(b=[]);f||(f=[]);for(c=b.length;c--;)if(b[c]==n)return f[c];b.push(n);f.push(g);(d?Ja:hb)(n,function(d,c){g[c]=gb(d,L,a,c,n,b,f)});return g}function Kc(n,L,a){if("function"!=typeof n)throw new Na("Expected a function");return sc(function(){n.apply(e,a)},L)}function zb(n,L){var a=n?n.length:0,d=[];if(!a)return d;var c=-1,e=Pb(),b=e==x,
f=b&&200<=L.length?oc&&ma?new Oa(L):null:null,g=L.length;f&&(e=Wb,b=!1,L=f);a:for(;++c<a;)if(f=n[c],b&&f===f){for(var C=g;C--;)if(L[C]===f)continue a;d.push(f)}else 0>e(L,f,0)&&d.push(f);return d}function tb(n,L){var a=!0;Ka(n,function(n,d,c){return a=!!L(n,d,c)});return a}function oe(n,L,a,d){var c=d,e=c;Ka(n,function(n,b,f){b=+L(n,b,f);if(a(b,c)||b===d&&b===e)c=b,e=n});return e}function te(n,L){var a=[];Ka(n,function(n,d,c){L(n,d,c)&&a.push(n)});return a}function ue(n,L,a,d){var c;a(n,function(n,
a,J){if(L(n,a,J))return c=d?a:n,!1});return c}function na(n,L,a,d){d||(d=[]);for(var c=-1,e=n.length;++c<e;){var b=n[c];q(b)&&ra(b)&&(a||R(b)||Pa(b))?L?na(b,L,a,d):Ba(d,b):a||(d[d.length]=b)}return d}function ub(n,a){return Lc(n,a,ib)}function hb(n,a){return Lc(n,a,va)}function Xb(n,a){return ud(n,a,va)}function Yb(n,a){for(var J=-1,d=a.length,c=-1,e=[];++J<d;){var b=a[J];jb(n[b])&&(e[++c]=b)}return e}function La(n,a,J){if(null!=n){J!==e&&J in ia(n)&&(a=[J]);J=0;for(var d=a.length;null!=n&&J<d;)n=
n[a[J++]];return J&&J==d?n:e}}function Qa(n,a,J,d,c,e){if(n===a)return!0;if(null==n||null==a||!Z(n)&&!q(a))return n!==n&&a!==a;a:{var b=Qa,f=R(n),g=R(a),C="[object Array]",r="[object Array]";f||(C=sa.call(n),"[object Arguments]"==C?C="[object Object]":"[object Object]"!=C&&(f=Qb(n)));g||(r=sa.call(a),"[object Arguments]"==r?r="[object Object]":"[object Object]"!=r&&Qb(a));var I="[object Object]"==C,g="[object Object]"==r,r=C==r;if(!r||f||I){if(!d&&(C=I&&da.call(n,"__wrapped__"),g=g&&da.call(a,"__wrapped__"),
C||g)){n=b(C?n.value():n,g?a.value():a,J,d,c,e);break a}if(r){c||(c=[]);e||(e=[]);for(C=c.length;C--;)if(c[C]==n){n=e[C]==a;break a}c.push(n);e.push(a);n=(f?ve:we)(n,a,b,J,d,c,e);c.pop();e.pop()}else n=!1}else n=xe(n,a,C)}return n}function cb(n,a,J){var d=a.length,c=d,b=!J;if(null==n)return!c;for(n=ia(n);d--;){var f=a[d];if(b&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++d<c;){var f=a[d],g=f[0],C=n[g],r=f[1];if(b&&f[2]){if(C===e&&!(g in n))return!1}else if(f=J?J(C,r,g):e,f===e?!Qa(r,C,J,!0):!f)return!1}return!0}
function kb(n,a){var J=-1,d=ra(n)?ga(n.length):[];Ka(n,function(n,c,e){d[++J]=a(n,c,e)});return d}function sd(n){var a=vd(n);if(1==a.length&&a[0][2]){var J=a[0][0],d=a[0][1];return function(n){return null==n?!1:n[J]===d&&(d!==e||J in ia(n))}}return function(n){return cb(n,a)}}function M(n,a){var J=R(n),d=lb(n)&&a===a&&!Z(a),c=n+"";n=Ra(n);return function(b){if(null==b)return!1;var f=c;b=ia(b);if(!(!J&&d||f in b)){b=1==n.length?b:La(b,Ea(n,0,-1));if(null==b)return!1;f=Zb(n);b=ia(b)}return b[f]===a?
a!==e||f in b:Qa(a,b[f],e,!0)}}function Hf(n,a,J,d,c){if(!Z(n))return n;var b=ra(a)&&(R(a)||Qb(a)),f=b?e:va(a);Ja(f||a,function(g,C){f&&(C=g,g=a[C]);if(q(g)){d||(d=[]);c||(c=[]);a:{for(var r=C,I=d,k=c,y=I.length,M=a[r];y--;)if(I[y]==M){n[r]=k[y];break a}var y=n[r],m=J?J(y,M,r,n,a):e,h=m===e;h&&(m=M,ra(M)&&(R(M)||Qb(M))?m=R(y)?y:ra(y)?za(y):[]:Mc(M)||Pa(M)?m=Pa(y)?Rb(y):Mc(y)?y:{}:h=!1);I.push(M);k.push(m);if(h)n[r]=Hf(m,M,J,I,k);else if(m===m?m!==y:y===y)n[r]=m}}else r=n[C],I=J?J(r,g,C,n,a):e,(k=
I===e)&&(I=g),I===e&&(!b||C in n)||!k&&(I===I?I===r:r!==r)||(n[C]=I)});return n}function af(n){return function(a){return null==a?e:a[n]}}function U(n){var a=n+"";n=Ra(n);return function(J){return La(J,n,a)}}function If(n,a){for(var J=n?a.length:0;J--;){var d=a[J];if(d!=c&&rb(d)){var c=d;wd.call(n,d,1)}}return n}function bf(n,a){return n+Sa($b()*(a-n+1))}function pg(n,a,J,d,c){c(n,function(n,c,b){J=d?(d=!1,n):a(J,n,c,b)});return J}function Ea(n,a,J){var d=-1,c=n.length;a=null==a?0:+a||0;0>a&&(a=-a>
c?0:c+a);J=J===e||J>c?c:+J||0;0>J&&(J+=c);c=a>J?0:J-a>>>0;a>>>=0;for(J=ga(c);++d<c;)J[d]=n[d+a];return J}function vb(n,a){var J;Ka(n,function(n,d,c){J=a(n,d,c);return!J});return!!J}function Jf(n,a){var J=n.length;for(n.sort(a);J--;)n[J]=n[J].value;return n}function Kf(n,a,J){var d=ea(),c=-1;a=Ma(a,function(n){return d(n)});n=kb(n,function(n){return{criteria:Ma(a,function(a){return a(n)}),index:++c,value:n}});return Jf(n,function(n,a){var L;a:{for(var d=-1,c=n.criteria,b=a.criteria,e=c.length,f=J.length;++d<
e;)if(L=F(c[d],b[d])){if(d>=f)break a;d=J[d];L*="asc"===d||!0===d?1:-1;break a}L=n.index-a.index}return L})}function qg(n,a){var J=0;Ka(n,function(n,d,c){J+=+a(n,d,c)||0});return J}function cf(n,a){var J=-1,d=Pb(),c=n.length,b=d==x,e=b&&200<=c,f=e?oc&&ma?new Oa(void 0):null:null,g=[];f?(d=Wb,b=!1):(e=!1,f=a?[]:g);a:for(;++J<c;){var C=n[J],r=a?a(C,J,n):C;if(b&&C===C){for(var I=f.length;I--;)if(f[I]===r)continue a;a&&f.push(r);g.push(C)}else 0>d(f,r,0)&&((a||e)&&f.push(r),g.push(C))}return g}function df(n,
a){for(var J=-1,d=a.length,c=ga(d);++J<d;)c[J]=n[a[J]];return c}function tc(n,a,J,d){for(var c=n.length,b=d?c:-1;(d?b--:++b<c)&&a(n[b],b,n););return J?Ea(n,d?0:b,d?b+1:c):Ea(n,d?b+1:0,d?c:b)}function uc(n,a){var J=n;J instanceof D&&(J=J.value());for(var d=-1,c=a.length;++d<c;)var b=a[d],J=b.func.apply(b.thisArg,Ba([J],b.args));return J}function ef(n,a,J){var d=0,c=n?n.length:d;if("number"==typeof a&&a===a&&2147483647>=c){for(;d<c;){var b=d+c>>>1,e=n[b];(J?e<=a:e<a)&&null!==e?d=b+1:c=b}return c}return Lf(n,
a,pa,J)}function Lf(n,a,d,c){a=d(a);for(var b=0,f=n?n.length:0,g=a!==a,C=null===a,r=a===e;b<f;){var I=Sa((b+f)/2),k=d(n[I]),y=k!==e,M=k===k;(g?M||c:C?M&&y&&(c||null!=k):r?M&&(c||y):null==k?0:c?k<=a:k<a)?b=I+1:f=I}return X(f,4294967294)}function Da(n,a,d){if("function"!=typeof n)return pa;if(a===e)return n;switch(d){case 1:return function(d){return n.call(a,d)};case 3:return function(d,J,c){return n.call(a,d,J,c)};case 4:return function(d,J,c,b){return n.call(a,d,J,c,b)};case 5:return function(d,J,
c,b,e){return n.call(a,d,J,c,b,e)}}return function(){return n.apply(a,arguments)}}function Nc(n){var a=new xd(n.byteLength);(new Oc(a)).set(new Oc(n));return a}function Ab(n,a,d){for(var c=d.length,b=-1,e=wa(n.length-c,0),f=-1,g=a.length,C=ga(g+e);++f<g;)C[f]=a[f];for(;++b<c;)C[d[b]]=n[b];for(;e--;)C[f++]=n[b++];return C}function Bb(n,a,d){for(var c=-1,b=d.length,e=-1,f=wa(n.length-b,0),g=-1,C=a.length,r=ga(f+C);++e<f;)r[e]=n[e];for(f=e;++g<C;)r[f+g]=a[g];for(;++c<b;)r[f+d[c]]=n[e++];return r}function wb(n,
a){return function(d,c,b){var e=a?a():{};c=ea(c,b,3);if(R(d)){b=-1;for(var f=d.length;++b<f;){var g=d[b];n(e,g,c(g,b,d),d)}}else Ka(d,function(a,L,d){n(e,a,c(a,L,d),d)});return e}}function Ta(n){return ba(function(a,d){var c=-1,b=null==a?0:d.length,f=2<b?d[b-2]:e,g=2<b?d[2]:e,C=1<b?d[b-1]:e;"function"==typeof f?(f=Da(f,C,5),b-=2):(f="function"==typeof C?C:e,b-=f?1:0);g&&Q(d[0],d[1],g)&&(f=3>b?e:f,b=1);for(;++c<b;)(g=d[c])&&n(a,g,f);return a})}function Mf(n,a){return function(d,c){var b=d?Fa(d):0;
if(!Ua(b))return n(d,c);for(var e=a?b:-1,f=ia(d);(a?e--:++e<b)&&!1!==c(f[e],e,f););return d}}function Sb(n){return function(a,d,c){var b=ia(a);c=c(a);for(var e=c.length,f=n?e:-1;n?f--:++f<e;){var g=c[f];if(!1===d(b[g],g,b))break}return a}}function ye(n,a){function d(){return(this&&this!==mb&&this instanceof d?c:n).apply(a,arguments)}var c=Pc(n);return d}function nb(n){return function(a){var d=-1;a=yd(zd(a));for(var c=a.length,b="";++d<c;)b=n(b,a[d],d);return b}}function Pc(n){return function(){var a=
arguments;switch(a.length){case 0:return new n;case 1:return new n(a[0]);case 2:return new n(a[0],a[1]);case 3:return new n(a[0],a[1],a[2]);case 4:return new n(a[0],a[1],a[2],a[3]);case 5:return new n(a[0],a[1],a[2],a[3],a[4]);case 6:return new n(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new n(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var d=ac(n.prototype),a=n.apply(d,a);return Z(a)?a:d}}function Ad(n){function a(d,c,b){b&&Q(d,c,b)&&(c=e);d=db(d,n,e,e,e,e,e,c);d.placeholder=a.placeholder;return d}return a}
function la(n,a){return ba(function(d){var c=d[0];if(null==c)return c;d.push(a);return n.apply(e,d)})}function ze(n,a){return function(d,c,b){b&&Q(d,c,b)&&(c=e);c=ea(c,b,3);if(1==c.length){b=d=R(d)?d:Qc(d);for(var f=c,g=-1,C=b.length,r=a,I=r;++g<C;){var k=b[g],y=+f(k);n(y,r)&&(r=y,I=k)}b=I;if(!d.length||b!==a)return b}return oe(d,c,n,a)}}function Va(n,a){return function(d,c,b){c=ea(c,b,3);return R(d)?(c=K(d,c,a),-1<c?d[c]:e):ue(d,c,n)}}function Rc(n){return function(a,d,c){if(!a||!a.length)return-1;
d=ea(d,c,3);return K(a,d,n)}}function vc(n){return function(a,d,c){d=ea(d,c,3);return ue(a,d,n,!0)}}function Sc(n){return function(){for(var a,d=arguments.length,c=n?d:-1,b=0,f=ga(d);n?c--:++c<d;){var g=f[b++]=arguments[c];if("function"!=typeof g)throw new Na("Expected a function");!a&&p.prototype.thru&&"wrapper"==Tc(g)&&(a=new p([],!0))}for(c=a?-1:d;++c<d;){var g=f[c],b=Tc(g),C="wrapper"==b?wc(g):e;a=C&&Uc(C[0])&&424==C[1]&&!C[4].length&&1==C[9]?a[Tc(C[0])].apply(a,C[3]):1==g.length&&Uc(g)?a[b]():
a.thru(g)}return function(){var n=arguments,c=n[0];if(a&&1==n.length&&R(c)&&200<=c.length)return a.plant(c).value();for(var b=0,n=d?f[b].apply(this,n):c;++b<d;)n=f[b].call(this,n);return n}}}function Vc(n,a){return function(d,c,b){return"function"==typeof c&&b===e&&R(d)?n(d,c):a(d,Da(c,b,3))}}function Ae(n){return function(a,d,c){if("function"!=typeof d||c!==e)d=Da(d,c,3);return n(a,d,ib)}}function Wc(n){return function(a,d,c){if("function"!=typeof d||c!==e)d=Da(d,c,3);return n(a,d)}}function Be(n){return function(a,
d,c){var b={};d=ea(d,c,3);hb(a,function(a,L,c){c=d(a,L,c);L=n?c:L;a=n?a:c;b[L]=a});return b}}function bc(n){return function(a,d,c){a=v(a);return(n?a:"")+Bd(a,d,c)+(n?"":a)}}function Cb(n){var a=ba(function(d,c){var b=B(c,a.placeholder);return db(d,n,e,c,b)});return a}function Xc(n,a){return function(d,c,b,f){var g=3>arguments.length;return"function"==typeof c&&f===e&&R(d)?n(d,c,b,g):pg(d,ea(c,f,4),b,g,a)}}function Yc(n,a,d,c,b,f,g,C,r,I){function k(){for(var H=arguments.length,l=H,w=ga(H);l--;)w[l]=
arguments[l];c&&(w=Ab(w,c,b));f&&(w=Bb(w,f,g));if(h||x){var l=k.placeholder,fb=B(w,l),H=H-fb.length;if(H<I){var xa=C?za(C):e,H=wa(I-H,0),ca=h?fb:e,fb=h?e:fb,q=h?w:e,w=h?e:w;a|=h?32:64;a&=~(h?64:32);G||(a&=-4);w=[n,a,d,q,ca,w,fb,xa,r,H];xa=Yc.apply(e,w);Uc(n)&&Zc(xa,w);xa.placeholder=l;return xa}}l=M?d:this;xa=m?l[n]:n;if(C)for(H=w.length,ca=X(C.length,H),fb=za(w);ca--;)q=C[ca],w[ca]=rb(q,H)?fb[q]:e;y&&r<w.length&&(w.length=r);this&&this!==mb&&this instanceof k&&(xa=od||Pc(n));return xa.apply(l,w)}
var y=a&128,M=a&1,m=a&2,h=a&8,G=a&4,x=a&16,od=m?e:Pc(n);return k}function Bd(n,a,d){n=n.length;a=+a;if(n>=a||!Db(a))return"";a-=n;d=null==d?" ":d+"";return Dd(d,ob(a/d.length)).slice(0,a)}function Ce(a,d,c,b){function e(){for(var d=-1,L=arguments.length,C=-1,r=b.length,I=ga(r+L);++C<r;)I[C]=b[C];for(;L--;)I[C++]=arguments[++d];return(this&&this!==mb&&this instanceof e?g:a).apply(f?c:this,I)}var f=d&1,g=Pc(a);return e}function $c(a){var d=Eb[a];return function(a,n){return(n=n===e?0:+n||0)?(n=xc(10,
n),d(a*n)/n):d(a)}}function Ed(a){return function(d,c,b,e){var f=ea(b);return null==b&&f===aa?ef(d,c,a):Lf(d,c,f(b,e,1),a)}}function db(a,d,c,b,f,g,C,r){var I=d&2;if(!I&&"function"!=typeof a)throw new Na("Expected a function");var k=b?b.length:0;k||(d&=-97,b=f=e);k-=f?f.length:0;if(d&64){var y=b,M=f;b=f=e}var m=I?e:wc(a);c=[a,d,c,b,f,y,M,g,C,r];if(m){b=c[1];d=m[1];r=b|d;f=128==d&&8==b||128==d&&256==b&&c[7].length<=m[8]||384==d&&8==b;if(128>r||f){d&1&&(c[2]=m[2],r|=b&1?0:4);if(b=m[3])f=c[3],c[3]=f?
Ab(f,b,m[4]):za(b),c[4]=f?B(c[3],"__lodash_placeholder__"):za(m[4]);if(b=m[5])f=c[5],c[5]=f?Bb(f,b,m[6]):za(b),c[6]=f?B(c[5],"__lodash_placeholder__"):za(m[6]);(b=m[7])&&(c[7]=za(b));d&128&&(c[8]=null==c[8]?m[8]:X(c[8],m[8]));null==c[9]&&(c[9]=m[9]);c[0]=m[0];c[1]=r}d=c[1];r=c[9]}c[9]=null==r?I?0:a.length:wa(r-k,0)||0;a=1==d?ye(c[0],c[2]):32!=d&&33!=d||c[4].length?Yc.apply(e,c):Ce.apply(e,c);return(m?Fd:Zc)(a,c)}function ve(a,d,c,b,f,g,C){var r=-1,I=a.length,k=d.length;if(I!=k&&!(f&&k>I))return!1;
for(;++r<I;){var y=a[r],k=d[r],m=b?b(f?k:y,f?y:k,r):e;if(m!==e){if(m)continue;return!1}if(f){if(!lc(d,function(a){return y===a||c(y,a,b,f,g,C)}))return!1}else if(y!==k&&!c(y,k,b,f,g,C))return!1}return!0}function xe(a,d,c){switch(c){case "[object Boolean]":case "[object Date]":return+a==+d;case "[object Error]":return a.name==d.name&&a.message==d.message;case "[object Number]":return a!=+a?d!=+d:a==+d;case "[object RegExp]":case "[object String]":return a==d+""}return!1}function we(a,d,c,b,f,g,C){var r=
va(a),I=r.length,k=va(d).length;if(I!=k&&!f)return!1;for(k=I;k--;){var y=r[k];if(!(f?y in d:da.call(d,y)))return!1}for(var m=f;++k<I;){var y=r[k],M=a[y],h=d[y],G=b?b(f?h:M,f?M:h,y):e;if(G===e?!c(M,h,b,f,g,C):!G)return!1;m||(m="constructor"==y)}return m||(c=a.constructor,b=d.constructor,!(c!=b&&"constructor"in a&&"constructor"in d)||"function"==typeof c&&c instanceof c&&"function"==typeof b&&b instanceof b)?!0:!1}function ea(a,d,c){var e=b.callback||yc,e=e===yc?aa:e;return c?e(a,d,c):e}function Tc(a){for(var d=
a.name,c=Ga[d],b=c?c.length:0;b--;){var e=c[b],f=e.func;if(null==f||f==a)return e.name}return d}function Pb(a,d,c){var e=b.indexOf||ad,e=e===ad?x:e;return a?e(a,d,c):e}function vd(a){a=Gd(a);for(var d=a.length;d--;){var c=a[d],b;b=a[d][1];b=b===b&&!Z(b);c[2]=b}return a}function Fb(a,d){var c=null==a?e:a[d];return Wa(c)?c:e}function td(a){var d=a.length,c=new a.constructor(d);d&&"string"==typeof a[0]&&da.call(a,"index")&&(c.index=a.index,c.input=a.input);return c}function sb(a){a=a.constructor;"function"==
typeof a&&a instanceof a||(a=Gb);return new a}function Ze(a,d,c){var b=a.constructor;switch(d){case "[object ArrayBuffer]":return Nc(a);case "[object Boolean]":case "[object Date]":return new b(+a);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return d=a.buffer,new b(c?Nc(d):d,a.byteOffset,a.length);
case "[object Number]":case "[object String]":return new b(a);case "[object RegExp]":var e=new b(a.source,cc.exec(a));e.lastIndex=a.lastIndex}return e}function dc(a,d,c){null==a||lb(d,a)||(d=Ra(d),a=1==d.length?a:La(a,Ea(d,0,-1)),d=Zb(d));d=null==a?a:a[d];return null==d?e:d.apply(a,c)}function ra(a){return null!=a&&Ua(Fa(a))}function rb(a,d){a="number"==typeof a||w.test(a)?+a:-1;return-1<a&&0==a%1&&a<(null==d?9007199254740991:d)}function Q(a,d,c){if(!Z(c))return!1;var b=typeof d;return("number"==
b?ra(c)&&rb(d,c.length):"string"==b&&d in c)?(d=c[d],a===a?a===d:d!==d):!1}function lb(a,d){var c=typeof a;return"string"==c&&I.test(a)||"number"==c?!0:R(a)?!1:!ca.test(a)||null!=d&&a in ia(d)}function Uc(a){var d=Tc(a);if(!(d in D.prototype))return!1;d=b[d];if(a===d)return!0;d=wc(d);return!!d&&a===d[0]}function Ua(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function Hd(a,d){return a===e?d:Id(a,d,Hd)}function De(a,d){a=ia(a);for(var c=-1,b=d.length,e={};++c<b;){var f=d[c];f in a&&
(e[f]=a[f])}return e}function Jd(a,d){var c={};ub(a,function(a,n,b){d(a,n,b)&&(c[n]=a)});return c}function Kd(a){for(var d=ib(a),c=d.length,b=c&&a.length,e=!!b&&Ua(b)&&(R(a)||Pa(a)),f=-1,g=[];++f<c;){var C=d[f];(e&&rb(C,b)||da.call(a,C))&&g.push(C)}return g}function Qc(a){return null==a?[]:ra(a)?Z(a)?a:Gb(a):Hb(a)}function ia(a){return Z(a)?a:Gb(a)}function Ra(a){if(R(a))return a;var d=[];v(a).replace(C,function(a,n,c,b){d.push(c?b.replace(Ib,"$1"):n||a)});return d}function Jc(a){return a instanceof
D?a.clone():new p(a.__wrapped__,a.__chain__,za(a.__actions__))}function Ld(a,d,c){if(!a||!a.length)return[];if(c?Q(a,d,c):null==d)d=1;return Ea(a,0>d?0:d)}function zc(a,d,c){var b=a?a.length:0;if(!b)return[];if(c?Q(a,d,c):null==d)d=1;d=b-(+d||0);return Ea(a,0,0>d?0:d)}function Tb(a){return a?a[0]:e}function ad(a,d,c){var b=a?a.length:0;if(!b)return-1;if("number"==typeof c)c=0>c?wa(b+c,0):c;else if(c)return c=ef(a,d),c<b&&(d===d?d===a[c]:a[c]!==a[c])?c:-1;return x(a,d,c||0)}function Zb(a){var d=a?
a.length:0;return d?a[d-1]:e}function Ee(a){return Ld(a,1)}function Md(a,d,c,b){if(!a||!a.length)return[];null!=d&&"boolean"!=typeof d&&(b=c,c=Q(a,d,b)?e:d,d=!1);var f=ea();if(null!=c||f!==aa)c=f(c,b,3);if(d&&Pb()==x){d=c;var g;c=-1;b=a.length;for(var f=-1,C=[];++c<b;){var r=a[c],I=d?d(r,c,a):r;c&&g===I||(g=I,C[++f]=r)}a=C}else a=cf(a,c);return a}function Jb(a){if(!a||!a.length)return[];var d=-1,c=0;a=mc(a,function(a){if(ra(a))return c=wa(a.length,c),!0});for(var b=ga(c);++d<c;)b[d]=Ma(a,af(d));return b}
function ec(a,d,c){if(!a||!a.length)return[];a=Jb(a);if(null==d)return a;d=Da(d,c,4);return Ma(a,function(a){return pc(a,d,e,!0)})}function Fe(a,d){var c=-1,b=a?a.length:0,e={};for(!b||d||R(a[0])||(d=[]);++c<b;){var f=a[c];d?e[f]=d[c]:f&&(e[f[0]]=f[1])}return e}function Nd(a){a=b(a);a.__chain__=!0;return a}function fc(a,d,c){return d.call(c,a)}function Od(a,d,c){var b=R(a)?Nb:tb;c&&Q(a,d,c)&&(d=e);if("function"!=typeof d||c!==e)d=ea(d,c,3);return b(a,d)}function Ac(a,d,c){var b=R(a)?mc:te;d=ea(d,
c,3);return b(a,d)}function gc(a,d,c,b){var e=a?Fa(a):0;Ua(e)||(a=Hb(a),e=a.length);c="number"!=typeof c||b&&Q(d,c,b)?0:0>c?wa(e+c,0):c||0;return"string"==typeof a||!R(a)&&Pd(a)?c<=e&&-1<a.indexOf(d,c):!!e&&-1<Pb(a,d,c)}function Qd(a,d,c){var b=R(a)?Ma:kb;d=ea(d,c,3);return b(a,d)}function Bc(a,d,c){if(c?Q(a,d,c):null==d){a=Qc(a);var b=a.length;return 0<b?a[bf(0,b-1)]:e}c=-1;a=pb(a);var b=a.length,f=b-1;for(d=X(0>d?0:+d||0,b);++c<d;){var b=bf(c,f),g=a[b];a[b]=a[c];a[c]=g}a.length=d;return a}function Rd(a,
d,c){var b=R(a)?lc:vb;c&&Q(a,d,c)&&(d=e);if("function"!=typeof d||c!==e)d=ea(d,c,3);return b(a,d)}function bd(a,d){var c;if("function"!=typeof d)if("function"==typeof a){var b=a;a=d;d=b}else throw new Na("Expected a function");return function(){0<--a&&(c=d.apply(this,arguments));1>=a&&(d=e);return c}}function qb(a,d,c){function b(d,c){c&&Ca(c);I=M=h=e;d&&(G=Cc(),k=a.apply(m,r),M||I||(r=m=e))}function f(){var a=d-(Cc()-y);0>=a||a>d?b(h,I):M=sc(f,a)}function g(){b(B,M)}function C(){r=arguments;y=Cc();
m=this;h=B&&(M||!H);if(!1===x)var c=H&&!M;else{I||H||(G=y);var b=x-(y-G),J=0>=b||b>x;J?(I&&(I=Ca(I)),G=y,k=a.apply(m,r)):I||(I=sc(g,b))}J&&M?M=Ca(M):M||d===x||(M=sc(f,d));c&&(J=!0,k=a.apply(m,r));!J||M||I||(r=m=e);return k}var r,I,k,y,m,M,h,G=0,x=!1,B=!0;if("function"!=typeof a)throw new Na("Expected a function");d=0>d?0:+d||0;if(!0===c)var H=!0,B=!1;else Z(c)&&(H=!!c.leading,x="maxWait"in c&&wa(+c.maxWait||0,d),B="trailing"in c?!!c.trailing:B);C.cancel=function(){M&&Ca(M);I&&Ca(I);G=0;I=M=h=e};return C}
function Sd(a,d){if("function"!=typeof a||d&&"function"!=typeof d)throw new Na("Expected a function");var c=function(){var b=arguments,e=d?d.apply(this,b):b[0],f=c.cache;if(f.has(e))return f.get(e);b=a.apply(this,b);c.cache=f.set(e,b);return b};c.cache=new Sd.Cache;return c}function ba(a,d){if("function"!=typeof a)throw new Na("Expected a function");d=wa(d===e?a.length-1:+d||0,0);return function(){for(var c=arguments,b=-1,e=wa(c.length-d,0),f=ga(e);++b<e;)f[b]=c[d+b];switch(d){case 0:return a.call(this,
f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}e=ga(d+1);for(b=-1;++b<d;)e[b]=c[b];e[d]=f;return a.apply(this,e)}}function Ge(a,d){return a>d}function Pa(a){return q(a)&&ra(a)&&da.call(a,"callee")&&!oa.call(a,"callee")}function P(a,d,c,b){b=(c="function"==typeof c?Da(c,b,3):e)?c(a,d):e;return b===e?Qa(a,d,c):!!b}function Dc(a){return q(a)&&"string"==typeof a.message&&"[object Error]"==sa.call(a)}function jb(a){return Z(a)&&"[object Function]"==sa.call(a)}function Z(a){var d=
typeof a;return!!a&&("object"==d||"function"==d)}function Wa(a){return null==a?!1:jb(a)?ta.test(O.call(a)):q(a)&&He.test(a)}function Td(a){return"number"==typeof a||q(a)&&"[object Number]"==sa.call(a)}function Mc(a){var d;if(!q(a)||"[object Object]"!=sa.call(a)||Pa(a)||!(da.call(a,"constructor")||(d=a.constructor,"function"!=typeof d||d instanceof d)))return!1;var c;ub(a,function(a,d){c=d});return c===e||da.call(a,c)}function Ie(a){return Z(a)&&"[object RegExp]"==sa.call(a)}function Pd(a){return"string"==
typeof a||q(a)&&"[object String]"==sa.call(a)}function Qb(a){return q(a)&&Ua(a.length)&&!!ja[sa.call(a)]}function eb(a,d){return a<d}function pb(a){var d=a?Fa(a):0;return Ua(d)?d?za(a):[]:Hb(a)}function Rb(a){return ha(a,ib(a))}function Ec(a){return Yb(a,ib(a))}function ib(a){if(null==a)return[];Z(a)||(a=Gb(a));for(var d=a.length,d=d&&Ua(d)&&(R(a)||Pa(a))&&d||0,c=a.constructor,b=-1,c="function"==typeof c&&c.prototype===a,e=ga(d),f=0<d;++b<d;)e[b]=b+"";for(var g in a)f&&rb(g,d)||"constructor"==g&&
(c||!da.call(a,g))||e.push(g);return e}function Gd(a){a=ia(a);for(var d=-1,c=va(a),b=c.length,e=ga(b);++d<b;){var f=c[d];e[d]=[f,a[f]]}return e}function Hb(a){return df(a,va(a))}function zd(a){return(a=v(a))&&a.replace(cd,c).replace(fb,"")}function Dd(a,d){var c="";a=v(a);d=+d;if(1>d||!a||!Db(d))return c;do d%2&&(c+=a),d=Sa(d/2),a+=a;while(d);return c}function Ud(a,d,c){var b=a;a=v(a);if(!a)return a;if(c?Q(b,d,c):null==d)return a.slice(g(a),r(a)+1);d+="";return a.slice(E(a,d),A(a,d)+1)}function yd(a,
d,c){c&&Q(a,d,c)&&(d=e);a=v(a);return a.match(d||gf)||[]}function yc(a,d,c){c&&Q(a,d,c)&&(d=e);return q(a)?Vd(a):aa(a,d)}function pa(a){return a}function Vd(a){return sd(gb(a,!0))}function Fc(a,d,c){if(null==c){var b=Z(d),f=b?va(d):e;((f=f&&f.length?Yb(d,f):e)?f.length:b)||(f=!1,c=d,d=a,a=this)}f||(f=Yb(d,va(d)));var g=!0,b=-1,C=jb(a),r=f.length;!1===c?g=!1:Z(c)&&"chain"in c&&(g=c.chain);for(;++b<r;){c=f[b];var I=d[c];a[c]=I;C&&(a.prototype[c]=function(d){return function(){var c=this.__chain__;if(g||
c){var b=a(this.__wrapped__);(b.__actions__=za(this.__actions__)).push({func:d,args:arguments,thisArg:a});b.__chain__=c;return b}return d.apply(a,Ba([this.value()],arguments))}}(I))}return a}function dd(){}function rc(a){return lb(a)?af(a):U(a)}a=a?Kb.defaults(mb.Object(),a,Kb.pick(mb,hf)):mb;var ga=a.Array,Gc=a.Date,jf=a.Error,Wd=a.Function,Eb=a.Math,Xd=a.Number,Gb=a.Object,ed=a.RegExp,Yd=a.String,Na=a.TypeError,Zd=ga.prototype,fd=Gb.prototype,$d=Yd.prototype,O=Wd.prototype.toString,da=fd.hasOwnProperty,
ae=0,sa=fd.toString,Xa=mb._,ta=ed("^"+O.call(da).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xd=a.ArrayBuffer,Ca=a.clearTimeout,Je=a.parseFloat,xc=Eb.pow,oa=fd.propertyIsEnumerable,ma=Fb(a,"Set"),sc=a.setTimeout,wd=Zd.splice,Oc=a.Uint8Array,be=Fb(a,"WeakMap"),ob=Eb.ceil,oc=Fb(Gb,"create"),Sa=Eb.floor,ce=Fb(ga,"isArray"),Db=a.isFinite,T=Fb(Gb,"keys"),wa=Eb.max,X=Eb.min,Ke=Fb(Gc,"now"),Y=a.parseInt,$b=Eb.random,Le=Xd.NEGATIVE_INFINITY,
nc=Xd.POSITIVE_INFINITY,ua=be&&new be,Ga={};b.support={};b.templateSettings={escape:Ya,evaluate:Ha,interpolate:N,variable:"",imports:{_:b}};var ac=function(){function a(){}return function(d){if(Z(d)){a.prototype=d;var c=new a;a.prototype=e}return c||{}}}(),Ka=Mf(hb),Hc=Mf(Xb,!0),Lc=Sb(),ud=Sb(!0),Fd=ua?function(a,d){ua.set(a,d);return a}:pa,wc=ua?function(a){return ua.get(a)}:dd,Fa=af("length"),Zc=function(){var a=0,d=0;return function(c,b){var e=Cc(),f=16-(e-d);d=e;if(0<f){if(150<=++a)return c}else a=
0;return Fd(c,b)}}(),de=ba(function(a,d){return q(a)&&ra(a)?zb(a,na(d,!1,!0)):[]}),ee=Rc(),Me=Rc(!0),Ne=ba(function(a){for(var d=a.length,c=d,b=ga(I),e=Pb(),f=e==x,g=[];c--;){var C=a[c]=ra(C=a[c])?C:[];b[c]=f&&120<=C.length?oc&&ma?new Oa(c&&C):null:null}var f=a[0],r=-1,I=f?f.length:0,k=b[0];a:for(;++r<I;)if(C=f[r],0>(k?Wb(k,C):e(g,C,0))){for(c=d;--c;){var y=b[c];if(0>(y?Wb(y,C):e(a[c],C,0)))continue a}k&&k.push(C);g.push(C)}return g}),kf=ba(function(a,d){d=na(d);var c=se(a,d);If(a,d.sort(F));return c}),
lf=Ed(),hc=Ed(!0),fe=ba(function(a){return cf(na(a,!1,!0))}),Za=ba(function(a,d){return ra(a)?zb(a,d):[]}),gd=ba(Jb),ic=ba(function(a){var d=a.length,c=2<d?a[d-2]:e,b=1<d?a[d-1]:e;2<d&&"function"==typeof c?d-=2:(c=1<d&&"function"==typeof b?(--d,b):e,b=e);a.length=d;return ec(a,c,b)}),Lb=ba(function(a){a=na(a);return this.thru(function(d){d=R(d)?d:[ia(d)];for(var c=a,b=-1,e=d.length,f=-1,g=c.length,C=ga(e+g);++b<e;)C[b]=d[b];for(;++f<g;)C[b++]=c[f];return C})}),qa=ba(function(a,d){return se(a,na(d))}),
mf=wb(function(a,d,c){da.call(a,c)?++a[c]:a[c]=1}),ge=Va(Ka),Ia=Va(Hc,!0),Oe=Vc(Ja,Ka),he=Vc(function(a,d){for(var c=a.length;c--&&!1!==d(a[c],c,a););return a},Hc),Pe=wb(function(a,d,c){da.call(a,c)?a[c].push(d):a[c]=[d]}),Qe=wb(function(a,d,c){a[c]=d}),xb=ba(function(a,d,c){var b=-1,f="function"==typeof d,g=lb(d),C=ra(a)?ga(a.length):[];Ka(a,function(a){var n=f?d:g&&null!=a?a[d]:e;C[++b]=n?n.apply(a,c):dc(a,d,c)});return C}),hd=wb(function(a,d,c){a[c?0:1].push(d)},function(){return[[],[]]}),Ub=Xc(pc,
Ka),ie=Xc(function(a,d,c,b){var e=a.length;for(b&&e&&(c=a[--e]);e--;)c=d(c,a[e],e,a);return c},Hc),id=ba(function(a,d){if(null==a)return[];var c=d[2];c&&Q(d[0],d[1],c)&&(d.length=1);return Kf(a,na(d),[])}),Cc=Ke||function(){return(new Gc).getTime()},Mb=ba(function(a,d,c){var b=1;if(c.length)var e=B(c,Mb.placeholder),b=b|32;return db(a,b,d,c,e)}),nf=ba(function(a,d){d=d.length?na(d):Ec(a);for(var c=-1,b=d.length;++c<b;){var e=d[c];a[e]=db(a[e],1,a)}return a}),je=ba(function(a,d,c){var b=3;if(c.length)var e=
B(c,je.placeholder),b=b|32;return db(d,b,a,c,e)}),jd=Ad(8),kd=Ad(16),ld=ba(function(a,d){return Kc(a,1,d)}),md=ba(function(a,d,c){return Kc(a,d,c)}),of=Sc(),ke=Sc(!0),pf=ba(function(a,d){d=na(d);if("function"!=typeof a||!Nb(d,u))throw new Na("Expected a function");var c=d.length;return ba(function(b){for(var e=X(b.length,c);e--;)b[e]=d[e](b[e]);return a.apply(this,b)})}),Aa=Cb(32),$a=Cb(64),qf=ba(function(a,d){return db(a,256,e,e,e,na(d))}),R=ce||function(a){return q(a)&&Ua(a.length)&&"[object Array]"==
sa.call(a)},Id=Ta(Hf),ab=Ta(function(a,d,c){return c?rd(a,d,c):qc(a,d)}),Vb=la(ab,function(a,d){return a===e?d:a}),jc=la(Id,Hd),kc=vc(hb),nd=vc(Xb),rf=Ae(Lc),sf=Ae(ud),tf=Wc(hb),Re=Wc(Xb),va=T?function(a){var d=null==a?e:a.constructor;return"function"==typeof d&&d.prototype===a||"function"!=typeof a&&ra(a)?Kd(a):Z(a)?T(a):[]}:Kd,uf=Be(!0),Ic=Be(),yb=ba(function(a,d){if(null==a)return{};if("function"!=typeof d[0])return d=Ma(na(d),Yd),De(a,zb(ib(a),d));var c=Da(d[0],d[1],3);return Jd(a,function(a,
d,b){return!c(a,d,b)})}),le=ba(function(a,d){return null==a?{}:"function"==typeof d[0]?Jd(a,Da(d[0],d[1],3)):De(a,na(d))}),me=nb(function(a,d,c){d=d.toLowerCase();return a+(c?d.charAt(0).toUpperCase()+d.slice(1):d)}),Se=nb(function(a,d,c){return a+(c?"-":"")+d.toLowerCase()}),Te=bc(),vf=bc(!0),ne=nb(function(a,d,c){return a+(c?"_":"")+d.toLowerCase()}),wf=nb(function(a,d,c){return a+(c?" ":"")+(d.charAt(0).toUpperCase()+d.slice(1))}),Ue=ba(function(a,d){try{return a.apply(e,d)}catch(c){return Dc(c)?
c:new jf(c)}}),Ve=ba(function(a,d){return function(c){return dc(c,a,d)}}),xf=ba(function(a,d){return function(c){return dc(a,c,d)}}),yf=$c("ceil"),zf=$c("floor"),Af=ze(Ge,Le),Bf=ze(eb,nc),Cf=$c("round");b.prototype=t.prototype;p.prototype=ac(t.prototype);p.prototype.constructor=p;D.prototype=ac(t.prototype);D.prototype.constructor=D;Ob.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};Ob.prototype.get=function(a){return"__proto__"==a?e:this.__data__[a]};Ob.prototype.has=
function(a){return"__proto__"!=a&&da.call(this.__data__,a)};Ob.prototype.set=function(a,d){"__proto__"!=a&&(this.__data__[a]=d);return this};Oa.prototype.push=function(a){var d=this.data;"string"==typeof a||Z(a)?d.set.add(a):d.hash[a]=!0};Sd.Cache=Ob;b.after=function(a,d){if("function"!=typeof d)if("function"==typeof a){var c=a;a=d;d=c}else throw new Na("Expected a function");a=Db(a=+a)?a:0;return function(){if(1>--a)return d.apply(this,arguments)}};b.ary=function(a,d,c){c&&Q(a,d,c)&&(d=e);d=a&&null==
d?a.length:wa(+d||0,0);return db(a,128,e,e,e,e,d)};b.assign=ab;b.at=qa;b.before=bd;b.bind=Mb;b.bindAll=nf;b.bindKey=je;b.callback=yc;b.chain=Nd;b.chunk=function(a,d,c){d=(c?Q(a,d,c):null==d)?1:wa(Sa(d)||1,1);c=0;for(var b=a?a.length:0,e=-1,f=ga(ob(b/d));c<b;)f[++e]=Ea(a,c,c+=d);return f};b.compact=function(a){for(var d=-1,c=a?a.length:0,b=-1,e=[];++d<c;){var f=a[d];f&&(e[++b]=f)}return e};b.constant=function(a){return function(){return a}};b.countBy=mf;b.create=function(a,d,c){var b=ac(a);c&&Q(a,
d,c)&&(d=e);return d?qc(b,d):b};b.curry=jd;b.curryRight=kd;b.debounce=qb;b.defaults=Vb;b.defaultsDeep=jc;b.defer=ld;b.delay=md;b.difference=de;b.drop=Ld;b.dropRight=zc;b.dropRightWhile=function(a,d,c){return a&&a.length?tc(a,ea(d,c,3),!0,!0):[]};b.dropWhile=function(a,d,c){return a&&a.length?tc(a,ea(d,c,3),!0):[]};b.fill=function(a,d,c,b){var f=a?a.length:0;if(!f)return[];c&&"number"!=typeof c&&Q(a,d,c)&&(c=0,b=f);f=a.length;c=null==c?0:+c||0;0>c&&(c=-c>f?0:f+c);b=b===e||b>f?f:+b||0;0>b&&(b+=f);f=
c>b?0:b>>>0;for(c>>>=0;c<f;)a[c++]=d;return a};b.filter=Ac;b.flatten=function(a,d,c){var b=a?a.length:0;c&&Q(a,d,c)&&(d=!1);return b?na(a,d):[]};b.flattenDeep=function(a){return a&&a.length?na(a,!0):[]};b.flow=of;b.flowRight=ke;b.forEach=Oe;b.forEachRight=he;b.forIn=rf;b.forInRight=sf;b.forOwn=tf;b.forOwnRight=Re;b.functions=Ec;b.groupBy=Pe;b.indexBy=Qe;b.initial=function(a){return zc(a,1)};b.intersection=Ne;b.invert=function(a,d,c){c&&Q(a,d,c)&&(d=e);c=-1;for(var b=va(a),f=b.length,g={};++c<f;){var C=
b[c],r=a[C];d?da.call(g,r)?g[r].push(C):g[r]=[C]:g[r]=C}return g};b.invoke=xb;b.keys=va;b.keysIn=ib;b.map=Qd;b.mapKeys=uf;b.mapValues=Ic;b.matches=Vd;b.matchesProperty=function(a,d){return M(a,gb(d,!0))};b.memoize=Sd;b.merge=Id;b.method=Ve;b.methodOf=xf;b.mixin=Fc;b.modArgs=pf;b.negate=function(a){if("function"!=typeof a)throw new Na("Expected a function");return function(){return!a.apply(this,arguments)}};b.omit=yb;b.once=function(a){return bd(2,a)};b.pairs=Gd;b.partial=Aa;b.partialRight=$a;b.partition=
hd;b.pick=le;b.pluck=function(a,d){return Qd(a,rc(d))};b.property=rc;b.propertyOf=function(a){return function(d){return La(a,Ra(d),d+"")}};b.pull=function(){var a=arguments,d=a[0];if(!d||!d.length)return d;for(var c=0,b=Pb(),e=a.length;++c<e;)for(var f=0,g=a[c];-1<(f=b(d,g,f));)wd.call(d,f,1);return d};b.pullAt=kf;b.range=function(a,d,c){c&&Q(a,d,c)&&(d=c=e);a=+a||0;c=null==c?1:+c||0;null==d?(d=a,a=0):d=+d||0;var b=-1;d=wa(ob((d-a)/(c||1)),0);for(var f=ga(d);++b<d;)f[b]=a,a+=c;return f};b.rearg=qf;
b.reject=function(a,d,c){var b=R(a)?mc:te;d=ea(d,c,3);return b(a,function(a,c,b){return!d(a,c,b)})};b.remove=function(a,d,c){var b=[];if(!a||!a.length)return b;var f=-1,e=[],g=a.length;for(d=ea(d,c,3);++f<g;)c=a[f],d(c,f,a)&&(b.push(c),e.push(f));If(a,e);return b};b.rest=Ee;b.restParam=ba;b.set=function(a,d,c){if(null==a)return a;var b=d+"";d=null!=a[b]||lb(d,a)?[b]:Ra(d);for(var b=-1,f=d.length,e=f-1,g=a;null!=g&&++b<f;){var C=d[b];Z(g)&&(b==e?g[C]=c:null==g[C]&&(g[C]=rb(d[b+1])?[]:{}));g=g[C]}return a};
b.shuffle=function(a){return Bc(a,nc)};b.slice=function(a,d,c){var b=a?a.length:0;if(!b)return[];c&&"number"!=typeof c&&Q(a,d,c)&&(d=0,c=b);return Ea(a,d,c)};b.sortBy=function(a,d,c){if(null==a)return[];c&&Q(a,d,c)&&(d=e);var b=-1;d=ea(d,c,3);a=kb(a,function(a,c,f){return{criteria:d(a,c,f),index:++b,value:a}});return Jf(a,z)};b.sortByAll=id;b.sortByOrder=function(a,d,c,b){if(null==a)return[];b&&Q(d,c,b)&&(c=e);R(d)||(d=null==d?[]:[d]);R(c)||(c=null==c?[]:[c]);return Kf(a,d,c)};b.spread=function(a){if("function"!=
typeof a)throw new Na("Expected a function");return function(d){return a.apply(this,d)}};b.take=function(a,d,c){if(!a||!a.length)return[];if(c?Q(a,d,c):null==d)d=1;return Ea(a,0,0>d?0:d)};b.takeRight=function(a,d,c){var b=a?a.length:0;if(!b)return[];if(c?Q(a,d,c):null==d)d=1;d=b-(+d||0);return Ea(a,0>d?0:d)};b.takeRightWhile=function(a,d,c){return a&&a.length?tc(a,ea(d,c,3),!1,!0):[]};b.takeWhile=function(a,d,c){return a&&a.length?tc(a,ea(d,c,3)):[]};b.tap=function(a,d,c){d.call(c,a);return a};b.throttle=
function(a,d,c){var b=!0,f=!0;if("function"!=typeof a)throw new Na("Expected a function");!1===c?b=!1:Z(c)&&(b="leading"in c?!!c.leading:b,f="trailing"in c?!!c.trailing:f);return qb(a,d,{leading:b,maxWait:+d,trailing:f})};b.thru=fc;b.times=function(a,d,c){a=Sa(a);if(1>a||!Db(a))return[];var b=-1,f=ga(X(a,4294967295));for(d=Da(d,c,1);++b<a;)4294967295>b?f[b]=d(b):d(b);return f};b.toArray=pb;b.toPlainObject=Rb;b.transform=function(a,d,c,b){var f=R(a)||Qb(a);d=ea(d,b,4);null==c&&(f||Z(a)?(b=a.constructor,
c=f?R(a)?new b:[]:ac(jb(b)?b.prototype:e)):c={});(f?Ja:hb)(a,function(a,b,f){return d(c,a,b,f)});return c};b.union=fe;b.uniq=Md;b.unzip=Jb;b.unzipWith=ec;b.values=Hb;b.valuesIn=function(a){return df(a,ib(a))};b.where=function(a,d){return Ac(a,sd(d))};b.without=Za;b.wrap=function(a,d){d=null==d?pa:d;return db(d,32,e,[a],[])};b.xor=function(){for(var a=-1,d=arguments.length;++a<d;){var c=arguments[a];if(ra(c))var b=b?Ba(zb(b,c),zb(c,b)):c}return b?cf(b):[]};b.zip=gd;b.zipObject=Fe;b.zipWith=ic;b.backflow=
ke;b.collect=Qd;b.compose=ke;b.each=Oe;b.eachRight=he;b.extend=ab;b.iteratee=yc;b.methods=Ec;b.object=Fe;b.select=Ac;b.tail=Ee;b.unique=Md;Fc(b,b);b.add=function(a,d){return(+a||0)+(+d||0)};b.attempt=Ue;b.camelCase=me;b.capitalize=function(a){return(a=v(a))&&a.charAt(0).toUpperCase()+a.slice(1)};b.ceil=yf;b.clone=function(a,d,c,b){d&&"boolean"!=typeof d&&Q(a,d,c)?d=!1:"function"==typeof d&&(b=c,c=d,d=!1);return"function"==typeof c?gb(a,d,Da(c,b,1)):gb(a,d)};b.cloneDeep=function(a,d,c){return"function"==
typeof d?gb(a,!0,Da(d,c,1)):gb(a,!0)};b.deburr=zd;b.endsWith=function(a,d,c){a=v(a);d+="";var b=a.length;c=c===e?b:X(0>c?0:+c||0,b);c-=d.length;return 0<=c&&a.indexOf(d,c)==c};b.escape=function(a){return(a=v(a))&&fa.test(a)?a.replace(W,m):a};b.escapeRegExp=function(a){return(a=v(a))&&od.test(a)?a.replace(xa,h):a||"(?:)"};b.every=Od;b.find=ge;b.findIndex=ee;b.findKey=kc;b.findLast=Ia;b.findLastIndex=Me;b.findLastKey=nd;b.findWhere=function(a,d){return ge(a,sd(d))};b.first=Tb;b.floor=zf;b.get=function(a,
d,c){a=null==a?e:La(a,Ra(d),d+"");return a===e?c:a};b.gt=Ge;b.gte=function(a,d){return a>=d};b.has=function(a,d){if(null==a)return!1;var c=da.call(a,d);if(!c&&!lb(d)){d=Ra(d);a=1==d.length?a:La(a,Ea(d,0,-1));if(null==a)return!1;d=Zb(d);c=da.call(a,d)}return c||Ua(a.length)&&rb(d,a.length)&&(R(a)||Pa(a))};b.identity=pa;b.includes=gc;b.indexOf=ad;b.inRange=function(a,d,c){d=+d||0;c===e?(c=d,d=0):c=+c||0;return a>=X(d,c)&&a<wa(d,c)};b.isArguments=Pa;b.isArray=R;b.isBoolean=function(a){return!0===a||
!1===a||q(a)&&"[object Boolean]"==sa.call(a)};b.isDate=function(a){return q(a)&&"[object Date]"==sa.call(a)};b.isElement=function(a){return!!a&&1===a.nodeType&&q(a)&&!Mc(a)};b.isEmpty=function(a){return null==a?!0:ra(a)&&(R(a)||Pd(a)||Pa(a)||q(a)&&jb(a.splice))?!a.length:!va(a).length};b.isEqual=P;b.isError=Dc;b.isFinite=function(a){return"number"==typeof a&&Db(a)};b.isFunction=jb;b.isMatch=function(a,d,c,b){c="function"==typeof c?Da(c,b,3):e;return cb(a,vd(d),c)};b.isNaN=function(a){return Td(a)&&
a!=+a};b.isNative=Wa;b.isNull=function(a){return null===a};b.isNumber=Td;b.isObject=Z;b.isPlainObject=Mc;b.isRegExp=Ie;b.isString=Pd;b.isTypedArray=Qb;b.isUndefined=function(a){return a===e};b.kebabCase=Se;b.last=Zb;b.lastIndexOf=function(a,d,c){var b=a?a.length:0;if(!b)return-1;var f=b;if("number"==typeof c)f=(0>c?wa(b+c,0):X(c||0,b-1))+1;else if(c)return f=ef(a,d,!0)-1,a=a[f],(d===d?d===a:a!==a)?f:-1;if(d!==d)return k(a,f,!0);for(;f--;)if(a[f]===d)return f;return-1};b.lt=eb;b.lte=function(a,d){return a<=
d};b.max=Af;b.min=Bf;b.noConflict=function(){mb._=Xa;return this};b.noop=dd;b.now=Cc;b.pad=function(a,d,c){a=v(a);d=+d;var b=a.length;if(b>=d||!Db(d))return a;b=(d-b)/2;d=Sa(b);b=ob(b);c=Bd("",b,c);return c.slice(0,d)+a+c};b.padLeft=Te;b.padRight=vf;b.parseInt=function(a,d,c){(c?Q(a,d,c):null==d)?d=0:d&&(d=+d);a=Ud(a);return Y(a,d||(Df.test(a)?16:10))};b.random=function(a,d,c){c&&Q(a,d,c)&&(d=c=e);var b=null==a,f=null==d;null==c&&(f&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof d&&(c=d,f=!0));
b&&f&&(d=1,f=!1);a=+a||0;f?(d=a,a=0):d=+d||0;return c||a%1||d%1?(c=$b(),X(a+c*(d-a+Je("1e-"+((c+"").length-1))),d)):bf(a,d)};b.reduce=Ub;b.reduceRight=ie;b.repeat=Dd;b.result=function(a,d,c){var b=null==a?e:a[d];b===e&&(null==a||lb(d,a)||(d=Ra(d),a=1==d.length?a:La(a,Ea(d,0,-1)),b=null==a?e:a[Zb(d)]),b=b===e?c:b);return jb(b)?b.call(a):b};b.round=Cf;b.runInContext=f;b.size=function(a){var d=a?Fa(a):0;return Ua(d)?d:va(a).length};b.snakeCase=ne;b.some=Rd;b.sortedIndex=lf;b.sortedLastIndex=hc;b.startCase=
wf;b.startsWith=function(a,d,c){a=v(a);c=null==c?0:X(0>c?0:+c||0,a.length);return a.lastIndexOf(d,c)==c};b.sum=function(a,d,c){c&&Q(a,d,c)&&(d=e);d=ea(d,c,3);if(1==d.length){a=R(a)?a:Qc(a);c=a.length;for(var b=0;c--;)b+=+d(a[c])||0;a=b}else a=qg(a,d);return a};b.template=function(a,d,c){var f=b.templateSettings;c&&Q(a,d,c)&&(d=c=e);a=v(a);d=rd(qc({},c||d),f,re);c=rd(qc({},d.imports),f.imports,re);var g=va(c),C=df(c,g),r,I,k=0;c=d.interpolate||pd;var M="__p += '";c=ed((d.escape||pd).source+"|"+c.source+
"|"+(c===N?qd:pd).source+"|"+(d.evaluate||pd).source+"|$","g");var m="//# sourceURL="+("sourceURL"in d?d.sourceURL:"lodash.templateSources["+ ++We+"]")+"\n";a.replace(c,function(d,c,b,f,e,g){b||(b=f);M+=a.slice(k,g).replace(Ef,l);c&&(r=!0,M+="' +\n__e("+c+") +\n'");e&&(I=!0,M+="';\n"+e+";\n__p += '");b&&(M+="' +\n((__t = ("+b+")) == null ? '' : __t) +\n'");k=g+d.length;return d});M+="';\n";(d=d.variable)||(M="with (obj) {\n"+M+"\n}\n");M=(I?M.replace(H,""):M).replace(y,"$1").replace(G,"$1;");M="function("+
(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(I?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+M+"return __p\n}";d=Ue(function(){return Wd(g,m+"return "+M).apply(e,C)});d.source=M;if(Dc(d))throw d;return d};b.trim=Ud;b.trimLeft=function(a,d,c){var b=a;return(a=v(a))?(c?Q(b,d,c):null==d)?a.slice(g(a)):a.slice(E(a,d+"")):a};b.trimRight=function(a,d,c){var b=a;return(a=v(a))?(c?Q(b,d,c):null==d)?a.slice(0,
r(a)+1):a.slice(0,A(a,d+"")+1):a};b.trunc=function(a,d,c){c&&Q(a,d,c)&&(d=e);var b=30;c="...";if(null!=d)if(Z(d)){var f="separator"in d?d.separator:f,b="length"in d?+d.length||0:b;c="omission"in d?v(d.omission):c}else b=+d||0;a=v(a);if(b>=a.length)return a;b-=c.length;if(1>b)return c;d=a.slice(0,b);if(null==f)return d+c;if(Ie(f)){if(a.slice(b).search(f)){var g,C=a.slice(0,b);f.global||(f=ed(f.source,(cc.exec(f)||"")+"g"));for(f.lastIndex=0;a=f.exec(C);)g=a.index;d=d.slice(0,null==g?b:g)}}else a.indexOf(f,
b)!=b&&(f=d.lastIndexOf(f),-1<f&&(d=d.slice(0,f)));return d+c};b.unescape=function(a){return(a=v(a))&&S.test(a)?a.replace(bb,d):a};b.uniqueId=function(a){var d=++ae;return v(a)+d};b.words=yd;b.all=Od;b.any=Rd;b.contains=gc;b.eq=P;b.detect=ge;b.foldl=Ub;b.foldr=ie;b.head=Tb;b.include=gc;b.inject=Ub;Fc(b,function(){var a={};hb(b,function(d,c){b.prototype[c]||(a[c]=d)});return a}(),!1);b.sample=Bc;b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(d){return Bc(d,a)}):Bc(this.value())};
b.VERSION="3.10.1";Ja("bind bindKey curry curryRight partial partialRight".split(" "),function(a){b[a].placeholder=b});Ja(["drop","take"],function(a,d){D.prototype[a]=function(c){var b=this.__filtered__;if(b&&!d)return new D(this);c=null==c?1:wa(Sa(c)||0,0);var f=this.clone();b?f.__takeCount__=X(f.__takeCount__,c):f.__views__.push({size:c,type:a+(0>f.__dir__?"Right":"")});return f};D.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}});Ja(["filter","map","takeWhile"],function(a,
d){var c=d+1,b=2!=c;D.prototype[a]=function(a,d){var f=this.clone();f.__iteratees__.push({iteratee:ea(a,d,1),type:c});f.__filtered__=f.__filtered__||b;return f}});Ja(["first","last"],function(a,d){var c="take"+(d?"Right":"");D.prototype[a]=function(){return this[c](1).value()[0]}});Ja(["initial","rest"],function(a,d){var c="drop"+(d?"":"Right");D.prototype[a]=function(){return this.__filtered__?new D(this):this[c](1)}});Ja(["pluck","where"],function(a,d){var c=d?"filter":"map",b=d?sd:rc;D.prototype[a]=
function(a){return this[c](b(a))}});D.prototype.compact=function(){return this.filter(pa)};D.prototype.reject=function(a,d){a=ea(a,d,1);return this.filter(function(d){return!a(d)})};D.prototype.slice=function(a,d){a=null==a?0:+a||0;var c=this;if(c.__filtered__&&(0<a||0>d))return new D(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));d!==e&&(d=+d||0,c=0>d?c.dropRight(-d):c.take(d-a));return c};D.prototype.takeRightWhile=function(a,d){return this.reverse().takeWhile(a,d).reverse()};D.prototype.toArray=function(){return this.take(nc)};
hb(D.prototype,function(a,d){var c=/^(?:filter|map|reject)|While$/.test(d),f=/^(?:first|last)$/.test(d),g=b[f?"take"+("last"==d?"Right":""):d];g&&(b.prototype[d]=function(){var d=f?[1]:arguments,b=this.__chain__,C=this.__wrapped__,r=!!this.__actions__.length,I=C instanceof D,k=d[0],M=I||R(C);M&&c&&"function"==typeof k&&1!=k.length&&(I=M=!1);var y=function(a){return f&&b?g(a,1)[0]:g.apply(e,Ba([a],d))},k={func:fc,args:[y],thisArg:e},r=I&&!r;return f&&!b?r?(C=C.clone(),C.__actions__.push(k),a.call(C)):
g.call(e,this.value())[0]:!f&&M?(C=r?C:new D(this),C=a.apply(C,d),C.__actions__.push(k),new p(C,b)):this.thru(y)})});Ja("join pop push replace shift sort splice split unshift".split(" "),function(a){var d=(/^(?:replace|split)$/.test(a)?$d:Zd)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",f=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return f&&!this.__chain__?d.apply(this.value(),a):this[c](function(c){return d.apply(c,a)})}});hb(D.prototype,function(a,d){var c=
b[d];if(c){var f=c.name;(Ga[f]||(Ga[f]=[])).push({name:d,func:c})}});Ga[Yc(e,2).name]=[{name:"wrapper",func:e}];D.prototype.clone=function(){var a=new D(this.__wrapped__);a.__actions__=za(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=za(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=za(this.__views__);return a};D.prototype.reverse=function(){if(this.__filtered__){var a=new D(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=
-1;return a};D.prototype.value=function(){var a,d=this.__wrapped__.value(),c=this.__dir__,b=R(d),f=0>c,e=b?d.length:0;a=0;for(var g=e,C=this.__views__,r=-1,I=C.length;++r<I;){var k=C[r],M=k.size;switch(k.type){case "drop":a+=M;break;case "dropRight":g-=M;break;case "take":g=X(g,a+M);break;case "takeRight":a=wa(a,g-M)}}C=g;g=C-a;a=f?C:a-1;C=this.__iteratees__;r=C.length;I=0;k=X(g,this.__takeCount__);if(!b||200>e||e==g&&k==g)return uc(f&&b?d.reverse():d,this.__actions__);b=[];a:for(;g--&&I<k;){a+=c;
f=-1;for(e=d[a];++f<r;){var y=C[f],M=y.iteratee,y=y.type,M=M(e);if(2==y)e=M;else if(!M)if(1==y)continue a;else break a}b[I++]=e}return b};b.prototype.chain=function(){return Nd(this)};b.prototype.commit=function(){return new p(this.value(),this.__chain__)};b.prototype.concat=Lb;b.prototype.plant=function(a){for(var d,c=this;c instanceof t;){var b=Jc(c);d?f.__wrapped__=b:d=b;var f=b,c=c.__wrapped__}f.__wrapped__=a;return d};b.prototype.reverse=function(){var a=this.__wrapped__,d=function(a){return c&&
0>c.__dir__?a:a.reverse()};if(a instanceof D){var c=a;this.__actions__.length&&(c=new D(this));c=c.reverse();c.__actions__.push({func:fc,args:[d],thisArg:e});return new p(c,this.__chain__)}return this.thru(d)};b.prototype.toString=function(){return this.value()+""};b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=function(){return uc(this.__wrapped__,this.__actions__)};b.prototype.collect=b.prototype.map;b.prototype.head=b.prototype.first;b.prototype.select=b.prototype.filter;
b.prototype.tail=b.prototype.rest;return b}var e,H=/\b__p \+= '';/g,y=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bb=/&(?:amp|lt|gt|quot|#39|#96);/g,W=/[&<>"'`]/g,S=RegExp(bb.source),fa=RegExp(W.source),Ya=/<%-([\s\S]+?)%>/g,Ha=/<%([\s\S]+?)%>/g,N=/<%=([\s\S]+?)%>/g,ca=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,I=/^\w*$/,C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xa=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,od=RegExp(xa.source),
fb=/[\u0300-\u036f\ufe20-\ufe23]/g,Ib=/\\(\\)?/g,qd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cc=/\w*$/,Df=/^0[xX]/,He=/^\[object .+?Constructor\]$/,w=/^\d+$/,cd=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,pd=/($^)/,Ef=/['\n\r\u2028\u2029\\]/g,gf=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),hf="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),
We=-1,ja={};ja["[object Float32Array]"]=ja["[object Float64Array]"]=ja["[object Int8Array]"]=ja["[object Int16Array]"]=ja["[object Int32Array]"]=ja["[object Uint8Array]"]=ja["[object Uint8ClampedArray]"]=ja["[object Uint16Array]"]=ja["[object Uint32Array]"]=!0;ja["[object Arguments]"]=ja["[object Array]"]=ja["[object ArrayBuffer]"]=ja["[object Boolean]"]=ja["[object Date]"]=ja["[object Error]"]=ja["[object Function]"]=ja["[object Map]"]=ja["[object Number]"]=ja["[object Object]"]=ja["[object RegExp]"]=
ja["[object Set]"]=ja["[object String]"]=ja["[object WeakMap]"]=!1;var ka={};ka["[object Arguments]"]=ka["[object Array]"]=ka["[object ArrayBuffer]"]=ka["[object Boolean]"]=ka["[object Date]"]=ka["[object Float32Array]"]=ka["[object Float64Array]"]=ka["[object Int8Array]"]=ka["[object Int16Array]"]=ka["[object Int32Array]"]=ka["[object Number]"]=ka["[object Object]"]=ka["[object RegExp]"]=ka["[object String]"]=ka["[object Uint8Array]"]=ka["[object Uint8ClampedArray]"]=ka["[object Uint16Array]"]=ka["[object Uint32Array]"]=
!0;ka["[object Error]"]=ka["[object Function]"]=ka["[object Map]"]=ka["[object Set]"]=ka["[object WeakMap]"]=!1;var Ob={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i",
"\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Wb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},mc=
{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Oa={"function":!0,object:!0},za={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ja={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nb=Oa[typeof b]&&b&&!b.nodeType&&b,Ma=Oa[typeof D]&&D&&!D.nodeType&&D,oe=Oa[typeof self]&&self&&
self.Object&&self,Oa=Oa[typeof window]&&window&&window.Object&&window,lc=Ma&&Ma.exports===Nb&&Nb,mb=Nb&&Ma&&"object"==typeof a&&a&&a.Object&&a||Oa!==(this&&this.window)&&Oa||oe||this,Kb=f();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(mb._=Kb,define(function(){return Kb})):Nb&&Ma?lc?(Ma.exports=Kb)._=Kb:Nb._=Kb:mb._=Kb}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],10:[function(a,D,b){var p,
F,K,x,u,v,E,A,z,c,m,h,l,k,q,t,B,g,r,d,f,e,H=[].indexOf||function(a){for(var d=0,c=this.length;d<c;d++)if(d in this&&this[d]===a)return d;return-1};p=a("lodash");e=a("./util");m=a("./match");f=a("./substitute");h=function(a){a=e.cloneExpression(a);a=f.doSubRecursive(a,f.subsForPNF.replace_arrow);a=f.doSubRecursive(a,f.subsForPNF.replace_double_arrow);a=t(a);return a=e.exhaust(a,function(a){var d,c,b;c=f.subsForPNF;for(d in c)b=c[d],"replace_arrow"!==d&&"replace_double_arrow"!==d&&(a=f.doSubRecursive(a,
b));return a})};b.prenexNormalForm=h;b.isPNF=function(a){var d,c,b,f,e,g,r,m;a=k(a);d=z(a,"and");a=[];b=0;for(f=d.length;b<f;b++)c=d[b],a.push(z(c,"or"));c=0;for(f=a.length;c<f;c++)for(m=a[c],b=0,e=m.length;b<e;b++)if(d=m[b],"not"!==(g=d.type)&&"sentence_letter"!==g&&"predicate"!==g||"not"===d.type&&"sentence_letter"!==(r=d.left.type)&&"predicate"!==r)return!1;return!0};t=function(a,d){var c,b,f,g,r,k;null==d&&(d="x");g=("\u03b1"===(r=d[0])||"\u03b2"===r||"\u03b3"===r||"\u03c4"===r?"term_metavariable":
void 0)||"variable";c=0;b={};f=function(a){var f;null==b[a.name]&&(c+=1,f=""+d+c,b[a.name]=f);return b[a.name]};k=function(a){if(null!=b[a.name])return delete b[a.name]};return e.walkMutate(a,function(a){if(null===a||null==(null!=a?a.boundVariable:void 0)&&(null==(null!=a?a.type:void 0)||"variable"!==a.type))return a;null!=a.boundVariable&&k(a.boundVariable);null!=(null!=a?a.type:void 0)&&"variable"===a.type&&(a.name=f(a),a.type=g);return a},{topDown:!0})};b.renameVariables=t;b.convertToPNFsimplifyAndSort=
function(a){a=h(a);a=v(a);a=d(a);B(a);return a};b.areExpressionsEquivalent=function(a,d){a=h(a);d=h(d);return K(a,d)};K=function(a,c){var b,f,e;a=v(a);a=d(a);B(a);c=v(c);c=d(c);B(c);f=t(a,"\u03c4");b=k(f);e=k(c);b=m.find(e,b);if(!1===b)return!1;f=m.apply(f,b);return x(f,c)};b.arePNFExpressionsEquivalent=K;d=function(a){var d,c,b,f,e;e=E(a);a=k(a);d=z(a,"and");a=[];b=0;for(f=d.length;b<f;b++)c=d[b],a.push(z(c,"or"));c=0;for(b=a.length;c<b;c++)d=a[c],g(d);r(a);f=[];c=0;for(b=a.length;c<b;c++)d=a[c],
f.push(l(d,"or"));a=l(f,"and");return u(a,e)};b.sortPNFExpression=d;k=function(a){return null!=a.boundVariable?k(a.left):a};b.removeQuantifiers=k;z=function(a,d){var c;if(null!=a.type&&a.type!==d)return[a];if(null!=a.type&&a.type===d)return c=[],c.push.apply(c,z(a.left,d)),c.push.apply(c,z(a.right,d)),c;throw Error("listJuncts called with type = "+d+" and unrecognized expression = "+JSON.stringify(a,null,4));};b.listJuncts=z;g=function(a){return a.sort(e.atomicExpressionComparator)};b.sortJuncts=
g;r=function(a){return a.sort(e.listOfAtomicExpressionsComparator)};b.sortListOfJuncts=r;l=function(a,d){var c,b;if(!a||null==a.length||0===a.length)throw Error("rebuildExpression called with listOfJuncts = "+a);if(1===a.length)return a[0];c=a.shift();b=l(a,d);return{type:d,left:c,right:b}};b.rebuildExpression=l;c=function(a,d){var b;if(null!=a.type&&a.type!==d)return{quantifiedExpression:a};if(null!=a.type&&a.type===d)return b=c(a.left,d),null==b.boundVariables&&(b.boundVariables=[]),b.boundVariables.push(a.boundVariable),
b;throw Error("listQuants called with type = "+d+" and unrecognized expression = "+JSON.stringify(a,null,4));};b.listQuants=c;E=function(a){var d;return null!=a.boundVariable?(d=E(a.left),{type:a.type,symbol:a.symbol,location:a.location,boundVariable:a.boundVariable,left:d,right:null}):null};b.getPrefixedQuantifiers=E;u=function(a,d){if(null===d)return a;null!==d.left?u(a,d.left):d.left=a;return d};b.attachExpressionToQuantifiers=u;x=function(a,d,c){var b;null==c&&(c={quantifierType:null,leftBoundVariables:[],
rightBoundVariables:[]});b=(null!=a?a.type:void 0)||null;if(c.quantifierType!==b){c.leftBoundVariables.sort();c.rightBoundVariables.sort();if(!p.isEqual(c.leftBoundVariables,c.rightBoundVariables))return!1;c.leftBoundVariables=[];c.rightBoundVariables=[];c.quantifierType=b}if(null===a||null==a.boundVariable)return null===d||null==d.boundVariable?!0:!1;if(null===d||null==d.type||d.type!==b)return!1;c.leftBoundVariables.push(a.boundVariable.name);c.rightBoundVariables.push(d.boundVariable.name);return x(a.left,
d.left,c)};b.arePrefixedQuantifiersEquivalent=x;B=function(a,d){var c,b,f,g;void 0===d&&(d=F(a));if(null==(null!=a?a.type:void 0))return a;if("identity"!==a.type)return null!=a.left&&B(a.left,d),null!=a.right&&B(a.right,d),a;c=a.termlist[0];f=a.termlist[1];1===e.termComparator(c,f)&&(b=[f,c],c=b[0],f=b[1]);"variable"===c.type&&"variable"===f.type&&(b=d.indexOf(c.name),g=d.indexOf(f.name),b>g&&(b=[f,c],c=b[0],f=b[1]));a.termlist=[c,f];return a};b.sortIdentityStatements=B;F=function(a,d){var c,b;null==
d&&(d={quantifierType:null,thisTypeBoundVariables:[],allBoundVariables:[]});c=(null!=a?a.type:void 0)||null;d.quantifierType!==c&&(d.thisTypeBoundVariables.sort(),(b=d.allBoundVariables).push.apply(b,d.thisTypeBoundVariables),d.thisTypeBoundVariables=[],d.quantifierType=c);if(null===c||null==a.boundVariable)return d.allBoundVariables;d.thisTypeBoundVariables.push(a.boundVariable.name);return F(a.left,d)};b._getVariableOrder=F;v=function(a){a=e.exhaust(a,function(a){var c,b,e;b=f.subs_eliminate_redundancy;
for(c in b)e=b[c],a=f.doSubRecursive(a,e);return d(a)});return a=q(a)};b.eliminateRedundancyInPNF=v;A=function(a,d){var c;if(null!=d.termlist){var b,f,e,g;e=d.termlist;g=[];b=0;for(f=e.length;b<f;b++)c=e[b],g.push(c.name);if(0<=H.call(g,a))return!0}return null!=d.boundVariable&&d.boundVariable.name===a?!1:null!=d.left&&A(a,d.left)||null!=d.right&&A(a,d.right)?!0:!1};b.isVariableFree=A;q=function(a){a=e.cloneExpression(a);return e.walkMutate(a,function(a){return null==(null!=a?a.boundVariable:void 0)||
A(a.boundVariable.name,a.left)?a:a.left})};b.removeQuantifiersThatBindNothing=q},{"./match":8,"./substitute":31,"./util":33,lodash:9}],11:[function(a,D,b){var p;a("lodash");p=a("./dialect_manager/dialectManager").getParser("awFOL");b.negate=function(a){var b;b=p.parse("not A");b.left=a;return b};b.conjoin=function(a,b){var x;x=p.parse("A and B");x.left=a;x.right=b;return x}},{"./dialect_manager/dialectManager":5,lodash:9}],12:[function(a,D,b){(function(p){var F=function(){function a(){this.yy={}}
var b=function(a,d,c,b){c=c||{};for(b=a.length;b--;c[a[b]]=d);return c},u=[1,4],v=[1,5],E=[1,6],A=[1,7],z=[1,8],c=[1,9],m=[1,11],h=[1,14],l=[1,15],k=[1,18],q=[1,19],t=[1,16],B=[1,21],g=[1,22],r=[1,23],d=[1,24],f=[1,25],e=[1,26],H=[1,27],y=[1,32],G=[5,10,13,14,15,16,17,18,27,29,34,37],p=[1,40],W=[5,10,13,14,15,16,17,18,26,27,29,34,37],S=[2,32],F=[5,7,9,10,11,13,14,15,16,17,18,19,20,21,23,26,27,29,30,31,32,33,34,35,37],Ya=[7,9,10,11,19,20,21,23,30,31,32,33,35],D=[5,10,13,14,15,16,17,18,29,34,37],N=
[5,10,29,34,37],ca=[29,34],b={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,"(":9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,"[":27,substitution_list:28,"]":29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,",":34,name:35,
substitution:36,substitution_symbol:37,"null":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"(",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",29:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",34:",",35:"name",37:"substitution_symbol",38:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,5],[4,3],[4,5],[4,4],
[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,4],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[8,1],[8,3],[24,1],[24,3],[25,1],[25,1],[28,1],[28,3],[36,3],[36,3],[36,3],[36,3],[6,3]],performAction:function(a,d,c,b,f,e,g){a=e.length-1;switch(f){case 1:case 2:return e[a-1];case 3:return e[a-1].box=e[a-2],e[a-1];case 4:this.$={type:"existential_quantifier",symbol:e[a-2],location:g[a-2],boundVariable:e[a-1],left:e[a],right:null};break;case 5:this.$={type:"existential_quantifier",symbol:e[a-
3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:e[a-2],location:g[a-2],boundVariable:e[a-1],left:e[a],right:null};break;case 7:this.$={type:"universal_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 8:this.$={type:"universal_quantifier",symbol:"",location:g[a-2],boundVariable:e[a-2],left:e[a],right:null};break;case 9:this.$={type:"and",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};
break;case 10:this.$={type:"or",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 11:this.$={type:"nand",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 12:this.$={type:"nor",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 13:this.$={type:"arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 14:this.$={type:"double_arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 15:this.$={type:"not",symbol:e[a-1],location:g[a-
1],left:e[a],right:null};break;case 16:this.$={type:"value",symbol:e[a],location:g[a],value:!0,left:null,right:null};break;case 17:this.$={type:"value",symbol:e[a],location:g[a],value:!1,left:null,right:null};break;case 18:case 27:case 32:this.$=e[a];break;case 19:this.$={type:"predicate",name:e[a-3],location:g[a-3],termlist:e[a-1]};break;case 20:this.$={type:"identity",symbol:e[a-1],termlist:[e[a-2],e[a]]};break;case 21:case 28:this.$=e[a-1];break;case 22:e[a-3].substitutions=e[a-3].substitutions&&
e[a-3].substitutions.length?e[a-3].substitutions.concat(e[a-1]):e[a-1];this.$=e[a-3];break;case 23:this.$={type:"expression_variable",location:g[a],letter:e[a],left:null,right:null};break;case 24:this.$={type:"sentence_letter",location:g[a],letter:e[a],left:null,right:null};break;case 25:this.$={type:"variable",name:e[a],location:g[a]};break;case 26:this.$={type:"term_metavariable",name:e[a],location:g[a]};break;case 29:case 33:this.$=[e[a]];break;case 30:case 34:this.$=[e[a-2]].concat(e[a]);break;
case 31:this.$={type:"name",name:e[a],location:g[a]};break;case 35:case 37:this.$={type:"substitution",from:e[a-2],to:e[a],symbol:e[a-1]};break;case 36:case 38:this.$={type:"substitution",from:e[a-2],to:null,symbol:e[a-1]};break;case 39:this.$={type:"box",term:e[a-1]}}},table:[{3:1,4:2,6:3,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,27:[1,13],30:h,31:l,32:k,33:q,35:t},{1:[3]},{5:[1,20],13:B,14:g,15:r,16:d,17:f,18:e,27:H},{4:29,5:[1,28],7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,
31:l,32:k,33:q,35:t},{8:30,9:y,12:31,32:k,33:q},{4:36,7:[1,33],9:v,11:[1,34],12:35,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{8:37,9:y,12:31,32:k,33:q},{4:38,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},b(G,[2,16]),b(G,[2,17]),b(G,[2,18]),{9:[1,39]},{26:p},{12:17,25:41,32:k,33:q,35:t},b(G,[2,23]),b(G,[2,24]),b(W,[2,31]),b(W,S),b(F,[2,25]),b(F,[2,26]),{1:[2,1]},{4:42,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:43,7:u,
9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:44,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:45,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:46,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:47,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:51,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:50,28:48,30:h,31:l,32:k,33:q,35:t,36:49},{1:[2,
2]},{5:[1,52],13:B,14:g,15:r,16:d,17:f,18:e,27:H},{4:53,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},b(Ya,[2,27]),{12:54,32:k,33:q},{8:55,9:y,12:31,32:k,33:q},{8:56,9:y,12:31,32:k,33:q},{10:[1,57],26:S},{10:[1,58],13:B,14:g,15:r,16:d,17:f,18:e,27:H},{4:59,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},b(D,[2,15],{27:H}),{12:17,24:60,25:61,32:k,33:q,35:t},{12:17,25:62,32:k,33:q,35:t},{29:[1,63]},b(D,[2,9],{27:H}),b(D,[2,10],{27:H}),b(D,
[2,11],{27:H}),b(D,[2,12],{27:H}),b(N,[2,13],{13:B,14:g,15:r,16:d,27:H}),b(N,[2,14],{13:B,14:g,15:r,16:d,27:H}),{29:[1,64]},{29:[2,33],34:[1,65]},{26:p,37:[1,66]},{13:B,14:g,15:r,16:d,17:f,18:e,27:H,37:[1,67]},{1:[2,3]},b(D,[2,4],{27:H}),{10:[1,68]},{4:53,7:u,9:v,10:[1,69],11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:59,7:u,9:v,10:[1,70],11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:71,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,
32:k,33:q,35:t},b(G,[2,21]),b(D,[2,6],{27:H}),{10:[1,72]},{10:[2,29],34:[1,73]},b(G,[2,20]),b([5,7,9,11,19,20,21,23,30,31,32,33,35],[2,39]),b(G,[2,22]),{4:51,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:50,28:74,30:h,31:l,32:k,33:q,35:t,36:49},{12:17,25:75,32:k,33:q,35:t,38:[1,76]},{4:77,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t,38:[1,78]},b(Ya,[2,28]),{4:79,7:u,9:v,11:E,12:17,19:A,20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},{4:80,7:u,9:v,11:E,12:17,19:A,
20:z,21:c,22:10,23:m,25:12,30:h,31:l,32:k,33:q,35:t},b(D,[2,8],{27:H}),b(G,[2,19]),{12:17,24:81,25:61,32:k,33:q,35:t},{29:[2,34]},b(ca,[2,35]),b(ca,[2,36]),b(ca,[2,37],{13:B,14:g,15:r,16:d,17:f,18:e,27:H}),b(ca,[2,38]),b(D,[2,5],{27:H}),b(D,[2,7],{27:H}),{10:[2,30]}],defaultActions:{20:[2,1],28:[2,2],52:[2,3],74:[2,34],81:[2,30]},parseError:function(a,d){if(d.recoverable)this.trace(a);else{var c=function(a,d){this.message=a;this.hash=d};c.prototype=Error;throw new c(a,d);}},parse:function(a){var d=
[0],c=[null],b=[],f=this.table,e="",g=0,r=0,k=0,m=b.slice.call(arguments,1),h=Object.create(this.lexer),B={},H;for(H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(B[H]=this.yy[H]);h.setInput(a,B);B.lexer=h;B.parser=this;"undefined"==typeof h.yylloc&&(h.yylloc={});H=h.yylloc;b.push(H);var l=h.options&&h.options.ranges;this.parseError="function"===typeof B.parseError?B.parseError:Object.getPrototypeOf(this).parseError;for(var x,y,ca,q,G={},t,N;;){ca=d[d.length-1];if(this.defaultActions[ca])q=
this.defaultActions[ca];else{if(null===x||"undefined"==typeof x)x=void 0,x=h.lex()||1,"number"!==typeof x&&(x=this.symbols_[x]||x);q=f[ca]&&f[ca][x]}if("undefined"===typeof q||!q.length||!q[0]){var S="";N=[];for(t in f[ca])this.terminals_[t]&&2<t&&N.push("'"+this.terminals_[t]+"'");S=h.showPosition?"Parse error on line "+(g+1)+":\n"+h.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==x?"end of input":"'"+(this.terminals_[x]||
x)+"'");this.parseError(S,{text:h.match,token:this.terminals_[x]||x,line:h.yylineno,loc:H,expected:N})}if(q[0]instanceof Array&&1<q.length)throw Error("Parse Error: multiple actions possible at state: "+ca+", token: "+x);switch(q[0]){case 1:d.push(x);c.push(h.yytext);b.push(h.yylloc);d.push(q[1]);x=null;y?(x=y,y=null):(r=h.yyleng,e=h.yytext,g=h.yylineno,H=h.yylloc,0<k&&k--);break;case 2:N=this.productions_[q[1]][1];G.$=c[c.length-N];G._$={first_line:b[b.length-(N||1)].first_line,last_line:b[b.length-
1].last_line,first_column:b[b.length-(N||1)].first_column,last_column:b[b.length-1].last_column};l&&(G._$.range=[b[b.length-(N||1)].range[0],b[b.length-1].range[1]]);ca=this.performAction.apply(G,[e,r,g,B,q[1],c,b].concat(m));if("undefined"!==typeof ca)return ca;N&&(d=d.slice(0,-2*N),c=c.slice(0,-1*N),b=b.slice(0,-1*N));d.push(this.productions_[q[1]][0]);c.push(G.$);b.push(G._$);q=f[d[d.length-2]][d[d.length-1]];d.push(q);break;case 3:return!0}}}},u=function(){return{EOF:1,parseError:function(a,d){if(this.yy.parser)this.yy.parser.parseError(a,
d);else throw Error(a);},setInput:function(a,d){this.yy=d||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?
(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var d=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var b=
this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+
(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),d=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+d+"^"},test_match:function(a,d){var c,b;this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,
yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=
a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var f in b)this[f]=b[f];return!1},next:function(){if(this.done)return this.EOF;this._input||
(this.done=!0);var a,d,c;this._more||(this.match=this.yytext="");for(var b=this._currentRules(),f=0;f<b.length;f++)if((d=this._input.match(this.rules[b[f]]))&&(!a||d[0].length>a[0].length))if(a=d,c=f,this.options.backtrack_lexer){a=this.test_match(d,b[f]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,b[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,d,c,b){switch(c){case 1:return this.popState(),9;case 2:return 9;case 3:return 10;case 4:return 27;case 5:return 29;case 6:return 34;case 7:return this.begin("expectLeftBracket"),23;case 8:return 37;case 9:return 20;case 10:return 21;case 11:return 26;case 12:return 13;case 13:return 17;
case 14:return 18;case 15:return 14;case 16:return 19;case 17:return 16;case 18:return 15;case 19:return 11;case 20:return 7;case 21:return 31;case 22:return 35;case 23:return 32;case 24:return 30;case 25:return 33;case 26:return 38;case 27:return 5;case 28:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][A-Za-z0-9]*(?=(\()))/,/^(?:--\x3e)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE]|\u22a5|_\|_|[cC][oO][nN][tT][rR][aA][dD][iI][cC][tT][iI][oO][nN]|[cC][oO][nN][tT][rR][aA])/,
/^(?:=)/,/^(?:[aA][nN][dD]|&|\u2227|\u2022)/,/^(?:[aA][rR][rR][oO][wW]|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:[oO][rR]|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:[nN][oO][tT]|\u00ac|~|\u02dc|!)/,/^(?:[nN][oO][rR]|\u2193)/,/^(?:[nN][aA][nN][dD]|\u2191)/,/^(?:[aA][lL][lL]|\u2200|[eE][vV][eE][rR][yY])/,/^(?:[sS][oO][mM][eE]|[eE][xX][iI][sS][tT][sS]|\u2203)/,/^(?:[A-Zpqrs][0-9]*)/,/^(?:[a-d][0-9]*)/,/^(?:[etxyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,
/^(?:[nN][uU][lL][lL])/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[1],inclusive:!1},INITIAL:{rules:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}}}();b.lexer=u;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof b&&(b.parser=F,b.Parser=F.Parser,b.parse=function(){return F.parse.apply(F,arguments)},b.main=function(K){K[1]||(console.log("Usage: "+K[0]+" FILE"),p.exit(1));K=a("fs").readFileSync(a("path").normalize(K[1]),
"utf8");return b.parser.parse(K)},"undefined"!==typeof D&&a.main===D&&b.main(p.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],13:[function(a,D,b){(function(p){var F=function(){function a(){this.yy={}}var b=function(a,d,c,b){c=c||{};for(b=a.length;b--;c[a[b]]=d);return c},u=[1,4],v=[1,5],E=[1,6],A=[1,7],z=[1,9],c=[1,12],m=[1,13],h=[1,18],l=[1,19],k=[1,14],q=[1,15],t=[1,17],B=[1,21],g=[1,22],r=[1,23],d=[1,24],f=[1,25],e=[1,26],H=[1,27],y=[1,30],G=[5,10,13,14,15,16,17,18,27,28,
38],p=[1,38],W=[5,10,13,14,15,16,17,18,27,28,38,39],S=[5,10,13,14,15,16,17,18,26,27,28,32,33,34,35,36,38,39],D=[2,31],F=[5,10,13,14,15,16,17,18,28,38],Ha=[5,10,28,38],N=[28,38],b={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,
termlist:24,term:25,identity:26,"[":27,"]":28,substitution_list:29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",28:"]",30:"expression_variable",
31:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[9,1],[24,1],[24,2],[25,1],[25,1],[25,1],[25,1],[29,1],[29,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,d,c,b,f,e,g){a=e.length-1;switch(f){case 1:case 2:return e[a-
1];case 3:return e[a-1].box=e[a-2],e[a-1];case 4:this.$={type:"existential_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:"",location:g[a-2],boundVariable:e[a-2],left:e[a],right:null};break;case 7:this.$={type:"and",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 8:this.$=
{type:"or",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 9:this.$={type:"nand",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 10:this.$={type:"nor",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 11:this.$={type:"arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 12:this.$={type:"double_arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 13:this.$={type:"not",symbol:e[a-1],location:g[a-1],left:e[a],right:null};
break;case 14:this.$={type:"value",symbol:e[a],location:g[a],value:!0,left:null,right:null};break;case 15:this.$={type:"value",symbol:e[a],location:g[a],value:!1,left:null,right:null};break;case 16:case 26:case 31:this.$=e[a];break;case 17:this.$={type:"predicate",name:e[a-1],location:g[a-1],termlist:e[a]};break;case 18:this.$={type:"identity",symbol:e[a-1],termlist:[e[a-2],e[a]]};break;case 19:case 20:this.$=e[a-1];break;case 21:e[a-3].substitutions=e[a-3].substitutions&&e[a-3].substitutions.length?
e[a-3].substitutions.concat(e[a-1]):e[a-1];this.$=e[a-3];break;case 22:this.$={type:"expression_variable",location:g[a],letter:e[a],left:null,right:null};break;case 23:this.$={type:"sentence_letter",location:g[a],letter:e[a],left:null,right:null};break;case 24:this.$={type:"variable",name:e[a],location:g[a]};break;case 25:this.$={type:"term_metavariable",name:e[a],location:g[a]};break;case 27:case 33:this.$=[e[a]];break;case 28:this.$=[e[a-1]].concat(e[a]);break;case 29:this.$={type:"name",name:e[a],
location:g[a]};break;case 30:this.$={type:"name_hat",name:e[a],location:g[a]};break;case 32:this.$={type:"term_metavariable_hat",name:e[a],location:g[a]};break;case 34:this.$=[e[a-2]].concat(e[a]);break;case 35:case 37:this.$={type:"substitution",from:e[a-2],to:e[a],symbol:e[a-1]};break;case 36:case 38:this.$={type:"substitution",from:e[a-2],to:null,symbol:e[a-1]};break;case 39:this.$={type:"box",term:e[a-1]}}},table:[{3:1,4:2,6:3,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:[1,11],30:c,31:m,32:h,
33:l,34:k,35:q,36:t},{1:[3]},{5:[1,20],13:B,14:g,15:r,16:d,17:f,18:e,27:H},{4:29,5:[1,28],7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{4:34,7:u,8:[1,31],11:[1,32],12:33,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{4:35,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},b(G,[2,14]),b(G,[2,15]),b(G,[2,16]),{12:16,24:36,25:37,32:h,33:l,34:k,35:q,36:t},{26:p},{4:39,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:40,
27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},b(W,[2,22]),b(W,[2,23]),b(S,[2,29]),b(S,[2,30]),b(S,D),b(S,[2,32]),b(S,[2,24]),b(S,[2,25]),{1:[2,1]},{4:41,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{4:42,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{4:43,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{4:44,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{4:45,7:u,
12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{4:46,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{12:16,22:50,25:49,29:47,30:c,31:m,32:h,33:l,34:k,35:q,36:t,37:48},{1:[2,2]},{5:[1,51],13:B,14:g,15:r,16:d,17:f,18:e,27:H},{4:39,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{9:52,12:53,32:h,33:l},{9:54,12:53,32:h,33:l},{10:[1,55],26:D},{10:[1,56],13:B,14:g,15:r,16:d,17:f,18:e,27:H},b(F,[2,13],{27:H}),
b(G,[2,17]),b(G,[2,27],{12:16,25:37,24:57,32:h,33:l,34:k,35:q,36:t}),{12:16,25:58,32:h,33:l,34:k,35:q,36:t},{13:B,14:g,15:r,16:d,17:f,18:e,27:H,28:[1,59]},{26:p,28:[1,60]},b(F,[2,7],{27:H}),b(F,[2,8],{27:H}),b(F,[2,9],{27:H}),b(F,[2,10],{27:H}),b(Ha,[2,11],{13:B,14:g,15:r,16:d,27:H}),b(Ha,[2,12],{13:B,14:g,15:r,16:d,27:H}),{28:[1,61]},{28:[2,33],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},{10:[1,65]},{10:[2,26]},{10:[1,66]},{4:67,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,
34:k,35:q,36:t},b(G,[2,19]),b(G,[2,28]),b(G,[2,18]),b(G,[2,20]),b([5,7,19,20,21,23,27,30,31,32,33,34,35,36],[2,39]),b(G,[2,21]),{12:16,22:50,25:49,29:68,30:c,31:m,32:h,33:l,34:k,35:q,36:t,37:48},{12:16,25:69,32:h,33:l,34:k,35:q,36:t,40:[1,70]},{4:71,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t,40:[1,72]},{4:73,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,34:k,35:q,36:t},{4:74,7:u,12:16,19:v,20:E,21:A,22:8,23:z,25:10,27:y,30:c,31:m,32:h,33:l,
34:k,35:q,36:t},b(F,[2,6],{27:H}),{28:[2,34]},b(N,[2,35]),b(N,[2,36]),b(N,[2,37],{13:B,14:g,15:r,16:d,17:f,18:e,27:H}),b(N,[2,38]),b(F,[2,4],{27:H}),b(F,[2,5],{27:H})],defaultActions:{20:[2,1],28:[2,2],51:[2,3],53:[2,26],68:[2,34]},parseError:function(a,d){if(d.recoverable)this.trace(a);else{var c=function(a,d){this.message=a;this.hash=d};c.prototype=Error;throw new c(a,d);}},parse:function(a){var d=[0],c=[null],b=[],e=this.table,f="",g=0,r=0,k=0,m=b.slice.call(arguments,1),h=Object.create(this.lexer),
B={},H;for(H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(B[H]=this.yy[H]);h.setInput(a,B);B.lexer=h;B.parser=this;"undefined"==typeof h.yylloc&&(h.yylloc={});H=h.yylloc;b.push(H);var l=h.options&&h.options.ranges;this.parseError="function"===typeof B.parseError?B.parseError:Object.getPrototypeOf(this).parseError;for(var y,x,q,G,t={},N,S;;){q=d[d.length-1];if(this.defaultActions[q])G=this.defaultActions[q];else{if(null===y||"undefined"==typeof y)y=void 0,y=h.lex()||1,"number"!==typeof y&&
(y=this.symbols_[y]||y);G=e[q]&&e[q][y]}if("undefined"===typeof G||!G.length||!G[0]){var u="";S=[];for(N in e[q])this.terminals_[N]&&2<N&&S.push("'"+this.terminals_[N]+"'");u=h.showPosition?"Parse error on line "+(g+1)+":\n"+h.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'");this.parseError(u,{text:h.match,token:this.terminals_[y]||y,line:h.yylineno,loc:H,expected:S})}if(G[0]instanceof
Array&&1<G.length)throw Error("Parse Error: multiple actions possible at state: "+q+", token: "+y);switch(G[0]){case 1:d.push(y);c.push(h.yytext);b.push(h.yylloc);d.push(G[1]);y=null;x?(y=x,x=null):(r=h.yyleng,f=h.yytext,g=h.yylineno,H=h.yylloc,0<k&&k--);break;case 2:S=this.productions_[G[1]][1];t.$=c[c.length-S];t._$={first_line:b[b.length-(S||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(S||1)].first_column,last_column:b[b.length-1].last_column};l&&(t._$.range=[b[b.length-
(S||1)].range[0],b[b.length-1].range[1]]);q=this.performAction.apply(t,[f,r,g,B,G[1],c,b].concat(m));if("undefined"!==typeof q)return q;S&&(d=d.slice(0,-2*S),c=c.slice(0,-1*S),b=b.slice(0,-1*S));d.push(this.productions_[G[1]][0]);c.push(t.$);b.push(t._$);G=e[d[d.length-2]][d[d.length-1]];d.push(G);break;case 3:return!0}}}},u=function(){return{EOF:1,parseError:function(a,d){if(this.yy.parser)this.yy.parser.parseError(a,d);else throw Error(a);},setInput:function(a,d){this.yy=d||this.yy||{};this._input=
a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&
this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var d=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var b=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+
1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),d=Array(a.length+1).join("-");
return a+this.upcomingInput()+"\n"+d+"^"},test_match:function(a,d){var c,b;this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&
(b.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=
this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var e in b)this[e]=b[e];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,d,c;this._more||(this.match=this.yytext="");for(var b=this._currentRules(),e=0;e<b.length;e++)if((d=this._input.match(this.rules[b[e]]))&&(!a||
d[0].length>a[0].length))if(a=d,c=e,this.options.backtrack_lexer){a=this.test_match(d,b[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,b[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,d,c,b){switch(c){case 1:return 7;case 2:return 10;case 3:return 27;case 4:return 28;case 5:return 38;case 6:return 23;case 7:return 39;case 8:return 20;case 9:return 21;case 10:return 26;case 11:return 13;case 12:return 17;case 13:return 18;case 14:return 14;case 15:return 19;case 16:return 16;case 17:return 15;case 18:return 11;case 19:return 8;case 20:return 31;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 30;case 26:return 36;
case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,
/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();b.lexer=u;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&
"undefined"!==typeof b&&(b.parser=F,b.Parser=F.Parser,b.parse=function(){return F.parse.apply(F,arguments)},b.main=function(K){K[1]||(console.log("Usage: "+K[0]+" FILE"),p.exit(1));K=a("fs").readFileSync(a("path").normalize(K[1]),"utf8");return b.parser.parse(K)},"undefined"!==typeof D&&a.main===D&&b.main(p.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],14:[function(a,D,b){(function(p){var F=function(){function a(){this.yy={}}var b=function(a,d,c,b){c=c||{};for(b=a.length;b--;c[a[b]]=
d);return c},u=[1,4],v=[1,5],E=[1,6],A=[1,7],z=[1,8],c=[1,10],m=[1,12],h=[1,14],l=[1,15],k=[1,20],q=[1,21],t=[1,16],B=[1,17],g=[1,19],r=[1,23],d=[1,24],f=[1,25],e=[1,26],H=[1,27],y=[1,28],G=[1,29],p=[1,32],W=[5,10,11,12,13,14,15,25,26,27,38],S=[1,39],D=[5,10,11,12,13,14,15,25,26,27,38,39],F=[5,10,11,12,13,14,15,23,25,26,27,32,33,34,35,36,38,39],Ha=[5,7,9,10,11,12,13,14,15,16,17,18,20,23,24,25,26,27,29,30,32,33,34,35,36,38,39],N=[5,10,11,12,13,14,15,25,27,38],ca=[5,25,27,38],I=[27,38],b={trace:function(){},
yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,universal_quantifier:9,and:10,or:11,nand:12,nor:13,arrow:14,double_arrow:15,not:16,"true":17,"false":18,sentence_letter_or_expression_variable:19,predicate:20,termlist:21,term:22,identity:23,"(":24,")":25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,
",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"universal_quantifier",10:"and",11:"or",12:"nand",13:"nor",14:"arrow",15:"double_arrow",16:"not",17:"true",18:"false",20:"predicate",23:"identity",24:"(",25:")",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],
[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[19,1],[19,1],[31,1],[31,1],[8,1],[21,1],[21,2],[22,1],[22,1],[22,1],[22,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,d,c,b,e,f,g){a=f.length-1;switch(e){case 1:case 2:return f[a-1];case 3:return f[a-1].box=f[a-2],f[a-1];case 4:this.$={type:"existential_quantifier",symbol:f[a-2],location:g[a-2],boundVariable:f[a-1],left:f[a],right:null};break;case 5:this.$={type:"universal_quantifier",
symbol:f[a-2],location:g[a-2],boundVariable:f[a-1],left:f[a],right:null};break;case 6:this.$={type:"and",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 7:this.$={type:"or",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 8:this.$={type:"nand",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 9:this.$={type:"nor",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 10:this.$={type:"arrow",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};
break;case 11:this.$={type:"double_arrow",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 12:this.$={type:"not",symbol:f[a-1],location:g[a-1],left:f[a],right:null};break;case 13:this.$={type:"value",symbol:f[a],location:g[a],value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:f[a],location:g[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=f[a];break;case 16:this.$={type:"predicate",name:f[a-1],location:g[a-1],termlist:f[a]};break;case 17:this.$=
{type:"identity",symbol:f[a-1],termlist:[f[a-2],f[a]]};break;case 18:case 19:this.$=f[a-1];break;case 20:f[a-3].substitutions=f[a-3].substitutions&&f[a-3].substitutions.length?f[a-3].substitutions.concat(f[a-1]):f[a-1];this.$=f[a-3];break;case 21:this.$={type:"expression_variable",location:g[a],letter:f[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:g[a],letter:f[a],left:null,right:null};break;case 23:this.$={type:"variable",name:f[a],location:g[a]};break;case 24:this.$=
{type:"term_metavariable",name:f[a],location:g[a]};break;case 26:case 32:this.$=[f[a]];break;case 27:this.$=[f[a-1]].concat(f[a]);break;case 28:this.$={type:"name",name:f[a],location:g[a]};break;case 29:this.$={type:"name_hat",name:f[a],location:g[a]};break;case 31:this.$={type:"term_metavariable_hat",name:f[a],location:g[a]};break;case 33:this.$=[f[a-2]].concat(f[a]);break;case 34:case 36:this.$={type:"substitution",from:f[a-2],to:f[a],symbol:f[a-1]};break;case 35:case 37:this.$={type:"substitution",
from:f[a-2],to:null,symbol:f[a-1]};break;case 38:this.$={type:"box",term:f[a-1]}}},table:[{3:1,4:2,6:3,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:[1,13],29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{1:[3]},{5:[1,22],10:r,11:d,12:f,13:e,14:H,15:y,26:G},{4:31,5:[1,30],7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{8:33,31:34,32:k,33:q},{8:35,31:34,32:k,33:q},{4:36,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},
b(W,[2,13]),b(W,[2,14]),b(W,[2,15]),{21:37,22:38,31:18,32:k,33:q,34:t,35:B,36:g},{23:S},{4:40,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{4:41,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:42,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},b(D,[2,21]),b(D,[2,22]),b(F,[2,28]),b(F,[2,29]),b(F,[2,30]),b(F,[2,31]),b(Ha,[2,23]),b(Ha,[2,24]),{1:[2,1]},{4:43,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{4:44,7:u,9:v,
16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{4:45,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{4:46,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{4:47,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{4:48,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{19:52,22:51,28:49,29:h,30:l,31:18,
32:k,33:q,34:t,35:B,36:g,37:50},{1:[2,2]},{5:[1,53],10:r,11:d,12:f,13:e,14:H,15:y,26:G},{4:41,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},{4:54,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},b([7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,25]),{4:55,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g},b(N,[2,12],{26:G}),b(W,[2,16]),b(W,[2,26],{31:18,22:38,21:56,32:k,33:q,
34:t,35:B,36:g}),{22:57,31:18,32:k,33:q,34:t,35:B,36:g},{10:r,11:d,12:f,13:e,14:H,15:y,25:[1,58],26:G},{10:r,11:d,12:f,13:e,14:H,15:y,26:G,27:[1,59]},{23:S,27:[1,60]},b(N,[2,6],{26:G}),b(N,[2,7],{26:G}),b(N,[2,8],{26:G}),b(N,[2,9],{26:G}),b(ca,[2,10],{10:r,11:d,12:f,13:e,26:G}),b(ca,[2,11],{10:r,11:d,12:f,13:e,26:G}),{27:[1,61]},{27:[2,32],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},b(N,[2,4],{26:G}),b(N,[2,5],{26:G}),b(W,[2,27]),b(W,[2,17]),b(W,[2,18]),b(W,[2,19]),b([5,7,9,16,17,18,20,24,26,29,
30,32,33,34,35,36],[2,38]),b(W,[2,20]),{19:52,22:51,28:65,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g,37:50},{22:66,31:18,32:k,33:q,34:t,35:B,36:g,40:[1,67]},{4:68,7:u,9:v,16:E,17:A,18:z,19:9,20:c,22:11,24:m,26:p,29:h,30:l,31:18,32:k,33:q,34:t,35:B,36:g,40:[1,69]},{27:[2,33]},b(I,[2,34]),b(I,[2,35]),b(I,[2,36],{10:r,11:d,12:f,13:e,14:H,15:y,26:G}),b(I,[2,37])],defaultActions:{22:[2,1],30:[2,2],53:[2,3],65:[2,33]},parseError:function(a,d){if(d.recoverable)this.trace(a);else{var c=function(a,d){this.message=
a;this.hash=d};c.prototype=Error;throw new c(a,d);}},parse:function(a){var d=[0],c=[null],b=[],f=this.table,e="",g=0,r=0,k=0,m=b.slice.call(arguments,1),h=Object.create(this.lexer),B={},H;for(H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(B[H]=this.yy[H]);h.setInput(a,B);B.lexer=h;B.parser=this;"undefined"==typeof h.yylloc&&(h.yylloc={});H=h.yylloc;b.push(H);var y=h.options&&h.options.ranges;this.parseError="function"===typeof B.parseError?B.parseError:Object.getPrototypeOf(this).parseError;
for(var l,I,q,G,x={},t,N;;){q=d[d.length-1];if(this.defaultActions[q])G=this.defaultActions[q];else{if(null===l||"undefined"==typeof l)l=void 0,l=h.lex()||1,"number"!==typeof l&&(l=this.symbols_[l]||l);G=f[q]&&f[q][l]}if("undefined"===typeof G||!G.length||!G[0]){var S="";N=[];for(t in f[q])this.terminals_[t]&&2<t&&N.push("'"+this.terminals_[t]+"'");S=h.showPosition?"Parse error on line "+(g+1)+":\n"+h.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[l]||l)+"'":"Parse error on line "+
(g+1)+": Unexpected "+(1==l?"end of input":"'"+(this.terminals_[l]||l)+"'");this.parseError(S,{text:h.match,token:this.terminals_[l]||l,line:h.yylineno,loc:H,expected:N})}if(G[0]instanceof Array&&1<G.length)throw Error("Parse Error: multiple actions possible at state: "+q+", token: "+l);switch(G[0]){case 1:d.push(l);c.push(h.yytext);b.push(h.yylloc);d.push(G[1]);l=null;I?(l=I,I=null):(r=h.yyleng,e=h.yytext,g=h.yylineno,H=h.yylloc,0<k&&k--);break;case 2:N=this.productions_[G[1]][1];x.$=c[c.length-
N];x._$={first_line:b[b.length-(N||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(N||1)].first_column,last_column:b[b.length-1].last_column};y&&(x._$.range=[b[b.length-(N||1)].range[0],b[b.length-1].range[1]]);q=this.performAction.apply(x,[e,r,g,B,G[1],c,b].concat(m));if("undefined"!==typeof q)return q;N&&(d=d.slice(0,-2*N),c=c.slice(0,-1*N),b=b.slice(0,-1*N));d.push(this.productions_[G[1]][0]);c.push(x.$);b.push(x._$);G=f[d[d.length-2]][d[d.length-1]];d.push(G);break;case 3:return!0}}}},
u=function(){return{EOF:1,parseError:function(a,d){if(this.yy.parser)this.yy.parser.parseError(a,d);else throw Error(a);},setInput:function(a,d){this.yy=d||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];
this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var d=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=
this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var b=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},
reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?
"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),d=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+d+"^"},test_match:function(a,d){var c,b;this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,
last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?
c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;
if(this._backtrack)for(var f in b)this[f]=b[f];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,d,c;this._more||(this.match=this.yytext="");for(var b=this._currentRules(),f=0;f<b.length;f++)if((d=this._input.match(this.rules[b[f]]))&&(!a||d[0].length>a[0].length))if(a=d,c=f,this.options.backtrack_lexer){a=this.test_match(d,b[f]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,b[c]),!1!==
a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?
this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,d,c,b){switch(c){case 1:return 24;case 2:return 25;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 20;case 7:return 39;case 8:return 17;
case 9:return 18;case 10:return 23;case 11:return 10;case 12:return 14;case 13:return 15;case 14:return 11;case 15:return 16;case 16:return 13;case 17:return 12;case 18:return 9;case 19:return 7;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,
/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-w][0-9]*\^)/,/^(?:[a-w][0-9]*)/,/^(?:[xyz][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,
/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();b.lexer=u;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof b&&(b.parser=F,b.Parser=F.Parser,b.parse=function(){return F.parse.apply(F,arguments)},b.main=function(K){K[1]||(console.log("Usage: "+K[0]+" FILE"),p.exit(1));K=a("fs").readFileSync(a("path").normalize(K[1]),
"utf8");return b.parser.parse(K)},"undefined"!==typeof D&&a.main===D&&b.main(p.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],15:[function(a,D,b){(function(p){var F=function(){function a(){this.yy={}}var b=function(a,d,c,b){c=c||{};for(b=a.length;b--;c[a[b]]=d);return c},u=[1,3],v=[1,4],E=[1,5],p=[1,6],z=[1,8],c=[1,10],m=[1,11],h=[1,14],l=[1,15],k=[1,12],q=[1,17],t=[1,18],B=[1,19],g=[1,20],r=[1,21],d=[1,22],f=[1,23],e=[5,9,11,12,13,14,15,16,25,27,35,36],H=[1,30],y=[5,9,11,12,
13,14,15,16,24,25,27,31,32,33,35,36],G=[5,9,11,12,13,14,15,16,27,35,36],F=[5,9,27,35,36],W=[27,35],b={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"(":6,existential_quantifier:7,quantifier_variable:8,")":9,universal_quantifier:10,and:11,or:12,nand:13,nor:14,arrow:15,double_arrow:16,not:17,"true":18,"false":19,sentence_letter_or_expression_variable:20,predicate:21,termlist:22,term:23,identity:24,"[":25,substitution_list:26,"]":27,expression_variable:28,sentence_letter:29,variable_or_metavariable:30,
variable:31,term_metavariable:32,name:33,substitution:34,",":35,substitution_symbol:36,"null":37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"(",7:"existential_quantifier",9:")",10:"universal_quantifier",11:"and",12:"or",13:"nand",14:"nor",15:"arrow",16:"double_arrow",17:"not",18:"true",19:"false",21:"predicate",24:"identity",25:"[",27:"]",28:"expression_variable",29:"sentence_letter",31:"variable",32:"term_metavariable",33:"name",35:",",36:"substitution_symbol",37:"null"},productions_:[0,[3,
2],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,4],[20,1],[20,1],[30,1],[30,1],[8,1],[22,1],[22,2],[23,1],[23,1],[26,1],[26,3],[34,3],[34,3],[34,3],[34,3]],performAction:function(a,d,c,b,f,e,g){a=e.length-1;switch(f){case 1:return e[a-1];case 2:this.$={type:"existential_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-2],left:e[a],right:null};break;case 3:this.$={type:"universal_quantifier",symbol:e[a-3],location:g[a-3],boundVariable:e[a-
2],left:e[a],right:null};break;case 4:this.$={type:"and",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 5:this.$={type:"or",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 6:this.$={type:"nand",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 7:this.$={type:"nor",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 8:this.$={type:"arrow",symbol:e[a-1],location:g[a-1],left:e[a-2],right:e[a]};break;case 9:this.$={type:"double_arrow",symbol:e[a-
1],location:g[a-1],left:e[a-2],right:e[a]};break;case 10:this.$={type:"not",symbol:e[a-1],location:g[a-1],left:e[a],right:null};break;case 11:this.$={type:"value",symbol:e[a],location:g[a],value:!0,left:null,right:null};break;case 12:this.$={type:"value",symbol:e[a],location:g[a],value:!1,left:null,right:null};break;case 13:case 22:case 26:this.$=e[a];break;case 14:this.$={type:"predicate",name:e[a-1],location:g[a-1],termlist:e[a]};break;case 15:this.$={type:"identity",symbol:e[a-1],termlist:[e[a-
2],e[a]]};break;case 16:this.$=e[a-1];break;case 17:e[a-3].substitutions=e[a-3].substitutions&&e[a-3].substitutions.length?e[a-3].substitutions.concat(e[a-1]):e[a-1];this.$=e[a-3];break;case 18:this.$={type:"expression_variable",location:g[a],letter:e[a],left:null,right:null};break;case 19:this.$={type:"sentence_letter",location:g[a],letter:e[a],left:null,right:null};break;case 20:this.$={type:"variable",name:e[a],location:g[a]};break;case 21:this.$={type:"term_metavariable",name:e[a],location:g[a]};
break;case 23:case 27:this.$=[e[a]];break;case 24:this.$=[e[a-1]].concat(e[a]);break;case 25:this.$={type:"name",name:e[a],location:g[a]};break;case 28:this.$=[e[a-2]].concat(e[a]);break;case 29:case 31:this.$={type:"substitution",from:e[a-2],to:e[a],symbol:e[a-1]};break;case 30:case 32:this.$={type:"substitution",from:e[a-2],to:null,symbol:e[a-1]}}},table:[{3:1,4:2,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{1:[3]},{5:[1,16],11:q,12:t,13:B,14:g,15:r,16:d,25:f},{4:26,6:u,7:[1,
24],10:[1,25],17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{4:27,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},b(e,[2,11]),b(e,[2,12]),b(e,[2,13]),{22:28,23:29,30:13,31:h,32:l,33:k},{24:H},b(e,[2,18]),b(e,[2,19]),b(y,[2,25]),b(y,[2,26]),b(y,[2,20]),b(y,[2,21]),{1:[2,1]},{4:31,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{4:32,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{4:33,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,
30:13,31:h,32:l,33:k},{4:34,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{4:35,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{4:36,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{4:40,6:u,17:v,18:E,19:p,20:7,21:z,23:39,26:37,28:c,29:m,30:13,31:h,32:l,33:k,34:38},{8:41,30:42,31:h,32:l},{8:43,30:42,31:h,32:l},{9:[1,44],11:q,12:t,13:B,14:g,15:r,16:d,25:f},b(G,[2,10],{25:f}),b(e,[2,14]),b(e,[2,23],{30:13,23:29,22:45,31:h,32:l,33:k}),{23:46,30:13,
31:h,32:l,33:k},b(G,[2,4],{25:f}),b(G,[2,5],{25:f}),b(G,[2,6],{25:f}),b(G,[2,7],{25:f}),b(F,[2,8],{11:q,12:t,13:B,14:g,25:f}),b(F,[2,9],{11:q,12:t,13:B,14:g,25:f}),{27:[1,47]},{27:[2,27],35:[1,48]},{24:H,36:[1,49]},{11:q,12:t,13:B,14:g,15:r,16:d,25:f,36:[1,50]},{9:[1,51]},{9:[2,22]},{9:[1,52]},b(e,[2,16]),b(e,[2,24]),b(e,[2,15]),b(e,[2,17]),{4:40,6:u,17:v,18:E,19:p,20:7,21:z,23:39,26:53,28:c,29:m,30:13,31:h,32:l,33:k,34:38},{23:54,30:13,31:h,32:l,33:k,37:[1,55]},{4:56,6:u,17:v,18:E,19:p,20:7,21:z,
23:9,28:c,29:m,30:13,31:h,32:l,33:k,37:[1,57]},{4:58,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{4:59,6:u,17:v,18:E,19:p,20:7,21:z,23:9,28:c,29:m,30:13,31:h,32:l,33:k},{27:[2,28]},b(W,[2,29]),b(W,[2,30]),b(W,[2,31],{11:q,12:t,13:B,14:g,15:r,16:d,25:f}),b(W,[2,32]),b(G,[2,2],{25:f}),b(G,[2,3],{25:f})],defaultActions:{16:[2,1],42:[2,22],53:[2,28]},parseError:function(a,d){if(d.recoverable)this.trace(a);else{var c=function(a,d){this.message=a;this.hash=d};c.prototype=Error;throw new c(a,
d);}},parse:function(a){var d=[0],c=[null],b=[],e=this.table,f="",g=0,r=0,k=0,h=b.slice.call(arguments,1),m=Object.create(this.lexer),B={},H;for(H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(B[H]=this.yy[H]);m.setInput(a,B);B.lexer=m;B.parser=this;"undefined"==typeof m.yylloc&&(m.yylloc={});H=m.yylloc;b.push(H);var l=m.options&&m.options.ranges;this.parseError="function"===typeof B.parseError?B.parseError:Object.getPrototypeOf(this).parseError;for(var y,q,w,G,t={},x,u;;){w=d[d.length-
1];if(this.defaultActions[w])G=this.defaultActions[w];else{if(null===y||"undefined"==typeof y)y=void 0,y=m.lex()||1,"number"!==typeof y&&(y=this.symbols_[y]||y);G=e[w]&&e[w][y]}if("undefined"===typeof G||!G.length||!G[0]){var v="";u=[];for(x in e[w])this.terminals_[x]&&2<x&&u.push("'"+this.terminals_[x]+"'");v=m.showPosition?"Parse error on line "+(g+1)+":\n"+m.showPosition()+"\nExpecting "+u.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==y?"end of input":
"'"+(this.terminals_[y]||y)+"'");this.parseError(v,{text:m.match,token:this.terminals_[y]||y,line:m.yylineno,loc:H,expected:u})}if(G[0]instanceof Array&&1<G.length)throw Error("Parse Error: multiple actions possible at state: "+w+", token: "+y);switch(G[0]){case 1:d.push(y);c.push(m.yytext);b.push(m.yylloc);d.push(G[1]);y=null;q?(y=q,q=null):(r=m.yyleng,f=m.yytext,g=m.yylineno,H=m.yylloc,0<k&&k--);break;case 2:u=this.productions_[G[1]][1];t.$=c[c.length-u];t._$={first_line:b[b.length-(u||1)].first_line,
last_line:b[b.length-1].last_line,first_column:b[b.length-(u||1)].first_column,last_column:b[b.length-1].last_column};l&&(t._$.range=[b[b.length-(u||1)].range[0],b[b.length-1].range[1]]);w=this.performAction.apply(t,[f,r,g,B,G[1],c,b].concat(h));if("undefined"!==typeof w)return w;u&&(d=d.slice(0,-2*u),c=c.slice(0,-1*u),b=b.slice(0,-1*u));d.push(this.productions_[G[1]][0]);c.push(t.$);b.push(t._$);G=e[d[d.length-2]][d[d.length-1]];d.push(G);break;case 3:return!0}}}},u=function(){return{EOF:1,parseError:function(a,
d){if(this.yy.parser)this.yy.parser.parseError(a,d);else throw Error(a);},setInput:function(a,d){this.yy=d||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=
a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var d=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);
c.length-1&&(this.yylineno-=c.length-1);var b=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=
!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=
this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),d=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+d+"^"},test_match:function(a,d){var c,b;this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,
matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var e in b)this[e]=b[e];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var a,d,c;this._more||(this.match=this.yytext="");for(var b=this._currentRules(),e=0;e<b.length;e++)if((d=this._input.match(this.rules[b[e]]))&&(!a||d[0].length>a[0].length))if(a=d,c=e,this.options.backtrack_lexer){a=this.test_match(d,b[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,b[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,d,c,b){switch(c){case 1:return 6;case 2:return 9;case 3:return 25;case 4:return 27;case 5:return 35;case 6:return 21;case 7:return 36;case 8:return 18;case 9:return 19;case 10:return 24;case 11:return 11;case 12:return 15;case 13:return 16;case 14:return 12;case 15:return 17;case 16:return 14;
case 17:return 13;case 18:return 10;case 19:return 7;case 20:return 29;case 21:return 37;case 22:return 33;case 23:return 31;case 24:return 28;case 25:return 32;case 26:return 5;case 27:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,
/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],inclusive:!0}}}}();b.lexer=
u;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof b&&(b.parser=F,b.Parser=F.Parser,b.parse=function(){return F.parse.apply(F,arguments)},b.main=function(F){F[1]||(console.log("Usage: "+F[0]+" FILE"),p.exit(1));F=a("fs").readFileSync(a("path").normalize(F[1]),"utf8");return b.parser.parse(F)},"undefined"!==typeof D&&a.main===D&&b.main(p.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],16:[function(a,D,b){(function(p){var F=function(){function a(){this.yy=
{}}var b=function(a,d,c,b){c=c||{};for(b=a.length;b--;c[a[b]]=d);return c},u=[1,4],v=[1,5],p=[1,6],A=[1,7],z=[1,9],c=[1,12],m=[1,13],h=[1,18],l=[1,19],k=[1,14],q=[1,15],t=[1,17],B=[1,21],g=[1,22],r=[1,23],d=[1,24],f=[1,25],e=[1,26],H=[1,27],y=[1,30],G=[5,10,12,13,14,15,16,17,26,27,38],F=[1,37],W=[5,10,12,13,14,15,16,17,26,27,38,39],D=[5,10,12,13,14,15,16,17,25,26,27,32,33,34,35,36,38,39],fa=[5,10,12,13,14,15,16,17,27,38],Ya=[5,10,27,38],Ha=[27,38],b={trace:function(){},yy:{},symbols_:{error:2,expressions:3,
e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,and:12,or:13,nand:14,nor:15,arrow:16,double_arrow:17,not:18,"true":19,"false":20,sentence_letter_or_expression_variable:21,predicate:22,termlist:23,term:24,identity:25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,
$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",12:"and",13:"or",14:"nand",15:"nor",16:"arrow",17:"double_arrow",18:"not",19:"true",20:"false",22:"predicate",25:"identity",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,
3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[21,1],[21,1],[31,1],[31,1],[9,1],[23,1],[23,2],[24,1],[24,1],[24,1],[24,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,d,c,b,e,f,g){a=f.length-1;switch(e){case 1:case 2:return f[a-1];case 3:return f[a-1].box=f[a-2],f[a-1];case 4:this.$={type:"existential_quantifier",symbol:f[a-3],location:g[a-3],boundVariable:f[a-2],left:f[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:f[a-3],location:g[a-
3],boundVariable:f[a-2],left:f[a],right:null};break;case 6:this.$={type:"and",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 7:this.$={type:"or",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 8:this.$={type:"nand",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 9:this.$={type:"nor",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 10:this.$={type:"arrow",symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 11:this.$={type:"double_arrow",
symbol:f[a-1],location:g[a-1],left:f[a-2],right:f[a]};break;case 12:this.$={type:"not",symbol:f[a-1],location:g[a-1],left:f[a],right:null};break;case 13:this.$={type:"value",symbol:f[a],location:g[a],value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:f[a],location:g[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=f[a];break;case 16:this.$={type:"predicate",name:f[a-1],location:g[a-1],termlist:f[a]};break;case 17:this.$={type:"identity",symbol:f[a-1],termlist:[f[a-
2],f[a]]};break;case 18:case 19:this.$=f[a-1];break;case 20:f[a-3].substitutions=f[a-3].substitutions&&f[a-3].substitutions.length?f[a-3].substitutions.concat(f[a-1]):f[a-1];this.$=f[a-3];break;case 21:this.$={type:"expression_variable",location:g[a],letter:f[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:g[a],letter:f[a],left:null,right:null};break;case 23:this.$={type:"variable",name:f[a],location:g[a]};break;case 24:this.$={type:"term_metavariable",name:f[a],location:g[a]};
break;case 26:case 32:this.$=[f[a]];break;case 27:this.$=[f[a-1]].concat(f[a]);break;case 28:this.$={type:"name",name:f[a],location:g[a]};break;case 29:this.$={type:"name_hat",name:f[a],location:g[a]};break;case 31:this.$={type:"term_metavariable_hat",name:f[a],location:g[a]};break;case 33:this.$=[f[a-2]].concat(f[a]);break;case 34:case 36:this.$={type:"substitution",from:f[a-2],to:f[a],symbol:f[a-1]};break;case 35:case 37:this.$={type:"substitution",from:f[a-2],to:null,symbol:f[a-1]};break;case 38:this.$=
{type:"box",term:f[a-1]}}},table:[{3:1,4:2,6:3,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:[1,11],29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{1:[3]},{5:[1,20],12:B,13:g,14:r,15:d,16:f,17:e,26:H},{4:29,5:[1,28],7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{4:33,7:u,8:[1,31],11:[1,32],18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{4:34,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},b(G,[2,13]),b(G,[2,14]),
b(G,[2,15]),{23:35,24:36,31:16,32:h,33:l,34:k,35:q,36:t},{25:F},{4:38,7:u,18:v,19:p,20:A,21:8,22:z,24:39,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},b(W,[2,21]),b(W,[2,22]),b(D,[2,28]),b(D,[2,29]),b(D,[2,30]),b(D,[2,31]),b(D,[2,23]),b(D,[2,24]),{1:[2,1]},{4:40,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{4:41,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{4:42,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,
33:l,34:k,35:q,36:t},{4:43,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{4:44,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{4:45,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{21:49,24:48,28:46,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t,37:47},{1:[2,2]},{5:[1,50],12:B,13:g,14:r,15:d,16:f,17:e,26:H},{4:38,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{9:51,
31:52,32:h,33:l},{9:53,31:52,32:h,33:l},{10:[1,54],12:B,13:g,14:r,15:d,16:f,17:e,26:H},b(fa,[2,12],{26:H}),b(G,[2,16]),b(G,[2,26],{31:16,24:36,23:55,32:h,33:l,34:k,35:q,36:t}),{24:56,31:16,32:h,33:l,34:k,35:q,36:t},{12:B,13:g,14:r,15:d,16:f,17:e,26:H,27:[1,57]},{25:F,27:[1,58]},b(fa,[2,6],{26:H}),b(fa,[2,7],{26:H}),b(fa,[2,8],{26:H}),b(fa,[2,9],{26:H}),b(Ya,[2,10],{12:B,13:g,14:r,15:d,26:H}),b(Ya,[2,11],{12:B,13:g,14:r,15:d,26:H}),{27:[1,59]},{27:[2,32],38:[1,60]},{39:[1,61]},{39:[1,62]},{1:[2,3]},
{10:[1,63]},{10:[2,25]},{10:[1,64]},b(G,[2,18]),b(G,[2,27]),b(G,[2,17]),b(G,[2,19]),b([5,7,18,19,20,22,26,29,30,32,33,34,35,36],[2,38]),b(G,[2,20]),{21:49,24:48,28:65,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t,37:47},{24:66,31:16,32:h,33:l,34:k,35:q,36:t,40:[1,67]},{4:68,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t,40:[1,69]},{4:70,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,30:m,31:16,32:h,33:l,34:k,35:q,36:t},{4:71,7:u,18:v,19:p,20:A,21:8,22:z,24:10,26:y,29:c,
30:m,31:16,32:h,33:l,34:k,35:q,36:t},{27:[2,33]},b(Ha,[2,34]),b(Ha,[2,35]),b(Ha,[2,36],{12:B,13:g,14:r,15:d,16:f,17:e,26:H}),b(Ha,[2,37]),b(fa,[2,4],{26:H}),b(fa,[2,5],{26:H})],defaultActions:{20:[2,1],28:[2,2],50:[2,3],52:[2,25],65:[2,33]},parseError:function(a,d){if(d.recoverable)this.trace(a);else{var c=function(a,d){this.message=a;this.hash=d};c.prototype=Error;throw new c(a,d);}},parse:function(a){var d=[0],c=[null],b=[],f=this.table,e="",g=0,r=0,k=0,m=b.slice.call(arguments,1),h=Object.create(this.lexer),
B={},H;for(H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(B[H]=this.yy[H]);h.setInput(a,B);B.lexer=h;B.parser=this;"undefined"==typeof h.yylloc&&(h.yylloc={});H=h.yylloc;b.push(H);var y=h.options&&h.options.ranges;this.parseError="function"===typeof B.parseError?B.parseError:Object.getPrototypeOf(this).parseError;for(var l,G,q,t,u={},x,p;;){q=d[d.length-1];if(this.defaultActions[q])t=this.defaultActions[q];else{if(null===l||"undefined"==typeof l)l=void 0,l=h.lex()||1,"number"!==typeof l&&
(l=this.symbols_[l]||l);t=f[q]&&f[q][l]}if("undefined"===typeof t||!t.length||!t[0]){var v="";p=[];for(x in f[q])this.terminals_[x]&&2<x&&p.push("'"+this.terminals_[x]+"'");v=h.showPosition?"Parse error on line "+(g+1)+":\n"+h.showPosition()+"\nExpecting "+p.join(", ")+", got '"+(this.terminals_[l]||l)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==l?"end of input":"'"+(this.terminals_[l]||l)+"'");this.parseError(v,{text:h.match,token:this.terminals_[l]||l,line:h.yylineno,loc:H,expected:p})}if(t[0]instanceof
Array&&1<t.length)throw Error("Parse Error: multiple actions possible at state: "+q+", token: "+l);switch(t[0]){case 1:d.push(l);c.push(h.yytext);b.push(h.yylloc);d.push(t[1]);l=null;G?(l=G,G=null):(r=h.yyleng,e=h.yytext,g=h.yylineno,H=h.yylloc,0<k&&k--);break;case 2:p=this.productions_[t[1]][1];u.$=c[c.length-p];u._$={first_line:b[b.length-(p||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(p||1)].first_column,last_column:b[b.length-1].last_column};y&&(u._$.range=[b[b.length-
(p||1)].range[0],b[b.length-1].range[1]]);q=this.performAction.apply(u,[e,r,g,B,t[1],c,b].concat(m));if("undefined"!==typeof q)return q;p&&(d=d.slice(0,-2*p),c=c.slice(0,-1*p),b=b.slice(0,-1*p));d.push(this.productions_[t[1]][0]);c.push(u.$);b.push(u._$);t=f[d[d.length-2]][d[d.length-1]];d.push(t);break;case 3:return!0}}}},u=function(){return{EOF:1,parseError:function(a,d){if(this.yy.parser)this.yy.parser.parseError(a,d);else throw Error(a);},setInput:function(a,d){this.yy=d||this.yy||{};this._input=
a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&
this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var d=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var b=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+
1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),d=Array(a.length+1).join("-");
return a+this.upcomingInput()+"\n"+d+"^"},test_match:function(a,d){var c,b;this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&
(b.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=
this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var f in b)this[f]=b[f];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,d,c;this._more||(this.match=this.yytext="");for(var b=this._currentRules(),f=0;f<b.length;f++)if((d=this._input.match(this.rules[b[f]]))&&(!a||
d[0].length>a[0].length))if(a=d,c=f,this.options.backtrack_lexer){a=this.test_match(d,b[f]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,b[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,d,c,b){switch(c){case 1:return 7;case 2:return 10;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 22;case 7:return 39;case 8:return 19;case 9:return 20;case 10:return 25;case 11:return 12;case 12:return 16;case 13:return 17;case 14:return 13;case 15:return 18;case 16:return 15;case 17:return 14;case 18:return 11;case 19:return 8;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;
case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,
/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();b.lexer=u;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&
"undefined"!==typeof b&&(b.parser=F,b.Parser=F.Parser,b.parse=function(){return F.parse.apply(F,arguments)},b.main=function(F){F[1]||(console.log("Usage: "+F[0]+" FILE"),p.exit(1));F=a("fs").readFileSync(a("path").normalize(F[1]),"utf8");return b.parser.parse(F)},"undefined"!==typeof D&&a.main===D&&b.main(p.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],17:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c,m,h,l,k,q,t,B,g,r=[].indexOf||function(a){for(var c=0,b=this.length;c<b;c++)if(c in
this&&this[c]===a)return c;return-1};x=a("lodash");B=a("./justification_parser");z=a("../dialect_manager/dialectManager");A=a("./add_line_numbers").cleanNumber;K=B.parse("premise");p=B.parse("close branch");F=B.parse("open branch");b.to=function(a){var b;b={visit:function(a){var d,b,f;"line"!==(b=a.type)&&"close_branch"!==b&&"open_branch"!==b||null!=a.justification||null!=a.justificationErrors||("close_branch"===a.type&&(a.justification=p),"open_branch"===a.type&&(a.justification=F),"line"===a.type&&
(b=g(a.content),a.justification=b.justification,a.content=b.rest,a.justificationErrors=b.justificationErrors,a.justificationText=b.justificationText),null!=(null!=(f=a.justification)?f.numbers:void 0)&&(a.justification.numbers=function(){var c,b,f,g;f=a.justification.numbers;g=[];c=0;for(b=f.length;c<b;c++)d=f[c],g.push(A(d));return g}()),a.getRuleName=t,a.findLine=m,a.findBlock=c,a.findLineOrBlock=h,a.getCitedLines=k,a.getLinesThatCiteMe=q,a.getCitedBlocks=l,a.isPremise=function(){return a.justification.rule.connective===
K.rule.connective})}};a.walk(b);b={visit:function(a){"line"===a.type&&null==a.justification&&null==a.justificationErrors&&E(a)&&(a.justification=K)}};a.walk(b);b={visit:function(a){"block"===a.type&&(a.getConclusion=function(){var d;d=x.last(a.content);return"line"===d.type&&null!=d.sentence?d.sentence:!1},a.getPremises=function(){var d,c;d=x.filter(a.content,function(a){var d,c;return"line"!==a.type||null==a.sentence||"premise"!==(null!=(d=a.justification)?null!=(c=d.rule)?c.connective:void 0:void 0)?
!1:!0});return function(){var a,b,f;f=[];a=0;for(b=d.length;a<b;a++)c=d[a],f.push(c.sentence);return f}()},a.isClosedBranch=function(){var d,c,b,f,g;f=a.content;g=[];c=0;for(b=f.length;c<b;c++)d=f[c],g.push(d.type);return 0<=r.call(g,"close_branch")},a.isOpenBranch=function(){var d,c,b,f,g;f=a.content;g=[];c=0;for(b=f.length;c<b;c++)d=f[c],g.push(d.type);return 0<=r.call(g,"open_branch")})}};a.walk(b);return a};u=/((\s)*\/\/)|(\\)|(--)/;v=/(\S+)(\s\s\s)(?=\s*\S+)/;g=function(a){var c,b,g,r;b=a.match(u);
if(null!=b)r=a.slice(0,b.index),g=b[0].length,a=a.slice(b.index+g);else if(b=a.match(v),null!=b)r=b[1],r=a.slice(0,b.index+r.length),g=b[0].length,a=a.slice(b.index+g);else return{justification:null,rest:a,justificationErrors:null};try{c=B.parse(a)}catch(k){return{justification:null,rest:r,justificationErrors:k.message,justificationText:a}}return{justification:c,rest:r,justificationErrors:null}};E=function(a){var c,b,g,r,k,h;c=a.parent;if(a===c.content[0])return!0;if(null!=c.parent)return!1;k=c.content;
h=r=!1;b=0;for(g=k.length;b<g;b++){c=k[b];if("divider"===c.type){h=!0;break}c===a&&(r=!0)}return r&&h?!0:!1};b._isPremise=E;t=function(){var a,c,b,g;if(null==(null!=(a=this.justification)?a.rule:void 0))return"";g=z.getSymbols();a=g[this.justification.rule.connective]||this.justification.rule.connective;b=(1!==(null!=a?a.length:void 0)?" ":void 0)||"";c=this.justification.rule.variant.intronation||"";c=g[c]||c;return(""+a+b+c+" "+(this.justification.rule.variant.side||"")).trim()};m=function(a){return this.findAbove(function(c){if("line"===
c.type&&c.number===a)return!0})};c=function(a){return this.findAbove(function(c){if("block"===c.type&&c.number===a)return!0})};h=function(a){return this.findAbove(function(c){if(("block"===c.type||"line"===c.type)&&c.number===a)return!0})};k=function(){var a,c,b,g,r;if(null==(null!=(a=this.justification)?a.numbers:void 0))return[];a=[];g=this.justification.numbers;c=0;for(b=g.length;c<b;c++)r=g[c],r=this.findLine(r),!1!==r&&a.push(r);return a};q=function(){var a,c;c=this;a=[];this.parent.walk({visit:function(b){null!=
b.getCitedLines&&0<=r.call(b.getCitedLines(),c)&&a.push(b)}});return a};l=function(){var a,c,b,g,r;if(!this.justification.numbers)return[];a=[];g=this.justification.numbers;c=0;for(b=g.length;c<b;c++)r=g[c],r=this.findBlock(r),!1!==r&&a.push(r);return a}},{"../dialect_manager/dialectManager":5,"./add_line_numbers":18,"./justification_parser":25,lodash:9}],18:[function(a,D,b){var p,F,K,x,u,v=[].indexOf||function(a){for(var b=0,u=this.length;b<u;b++)if(b in this&&this[b]===a)return b;return-1};p=a("lodash");
K=/^([|\s])*\(?([0-9]\S*)([|\s]*)([\s\S]*)/;F=/\.*\)?$/;x=function(a){return a.replace(F,"")};b.cleanNumber=x;u=function(a){var b;return(b=a.content.match(K))?(a=b[2],a=x(a),{lineNumber:a,rest:b[4]}):{lineNumber:null,rest:a.content}};b.to=function(a,b){a.walk({usedLineNumbers:[],lineCounter:0,userNumberedLines:!1,visit:function(a){var c,m;if("block"!==a.type){this.lineCounter+=1;m=u(a);c=m.lineNumber;m=m.rest;if(c||0===c)this.userNumberedLines=!0;null===c&&(c="line"===a.type?""+this.lineCounter:this.lineCounter+
"x");if((null==b||!b.treeProof)&&0<=v.call(this.usedLineNumbers,c))throw Error("Duplicate line number '"+c+"' used for the second time at line "+this.lineCounter+".  Line numbers must be unique.");this.usedLineNumbers.push(c);a.number=c;a.content=m}}});a.walk({visit:function(b){var c;if("block"===b.type&&(a=b,0!==a.content.length)){b=a.content[0];for(c=p.last(a.content);"block"===c.type;)c=p.last(c.content);null!=b.number&&null!=c.number&&(a.number=b.number+"-"+c.number)}}});return a}},{lodash:9}],
19:[function(a,D,b){var p;p=a("../fol");a("../substitute");a("../util");b.to=function(a){a.walk({visit:function(a){if("line"===a.type&&null==a.sentence&&null==a.sentenceErrors){a.sentenceText=a.content;try{a.sentence=p.parse(a.sentenceText)}catch(b){a.sentenceErrors=b.message}a.canBeDecomposed=function(){var b;b=a.sentence;return null==b||null==b.left||"not"===b.type&&null==b.left.left?!1:!0}}}});return a}},{"../fol":7,"../substitute":31,"../util":33}],20:[function(a,D,b){var p,F,K;F=a("lodash");
a("../fol");a("../substitute");K=a("../util");b.to=function(a){a.walk({visit:function(a){null!=(null!=a?a.type:void 0)&&"block"!==a.type&&(a.status=new p(a),a.getErrorMessage=function(){return a.status.getMessage()})}});return a};p=function(){function a(b){var p;this.line=b;this.messages=[];this.verificationAttempted=this.verified=!1;this.sentenceParsed=null!=this.line.sentence;this.justificationParsed=null!=this.line.justification;null!=this.line.sentenceErrors&&(b=K.getLanguageNames(),this.addMessage("the sentence you wrote (\u2018"+
this.line.sentenceText.trim()+"\u2019) is not a sentence or well-formed formula of "+b.join(" or ")+"."));null!=this.line.justificationErrors&&this.addMessage("the justification you supplied ("+(null!=(p=this.line.justificationText)?p.trim():void 0)+") either mentions a rule you can't use here or doesn't make sense.");"line"===this.line.type&&null==this.line.justification&&null==this.line.justificationErrors&&this.addMessage("you supplied no justification for this line.")}a.prototype.addMessage=function(a){return this.messages.push(a)};
a.prototype.addMessageIfNoneAlready=function(a){if(0===this.messages.length)return this.messages.push(a)};a.prototype.clearMessages=function(){return this.messages=[]};a.prototype.popMessage=function(){return 0<this.messages.length?this.messages.pop():""};a.prototype.addAlthoughMessage=function(a){if(null!=this._addedAlthough)return this.addMessage("and although "+a);this.addMessage("although "+a);return this._addedAlthough=!0};a.prototype.getMessage=function(){var a,b,p,x,z;if(0===this.messages.length)return"";
this.messages=F.uniq(this.messages);p="This line is "+((this.verified?void 0:"not correct because")||"correct but")+" "+this.messages[0];1<this.messages.length&&(p+=" And also "+this.messages[1]);2<this.messages.length&&(p+=" Further, "+this.messages[2]);3<this.messages.length&&(p+=" And, for another thing, "+this.messages[3]);if(4<this.messages.length)for(x=this.messages.splice(4),a=0,b=x.length;a<b;a++)z=x[a],p+=" And "+z;return p};return a}()},{"../fol":7,"../substitute":31,"../util":33,lodash:9}],
21:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c,m,h,l,k,q,t,B,g=[].indexOf||function(a){for(var d=0,c=this.length;d<c;d++)if(d in this&&this[d]===a)return d;return-1};p=a("lodash");t=a("../util");z=a("./block_parser");u=a("./add_line_numbers");x=a("./add_justification");v=a("./add_sentences");E=a("./add_status");a("./fitch_rules");a("./teller_rules");a("./forallx_rules");a("./logicbook_rules");a("./logicbook_tree_rules");q=a("../dialect_manager/dialectManager");K=function(a){a=z.parse(a);u.to(a);x.to(a);
v.to(a);E.to(a);return a};b.to=function(a){a.walk({visit:function(d){null!=(null!=d?d.type:void 0)&&("block"===d.type?d.verify=function(a){var c;null==a&&(a=q.getCurrentRules());c=!0;d.walk({visit:function(d){var b;if("line"===(b=d.type)||"close_branch"===b||"open_branch"===b)d=d.verify(a),c=c&&d}});return c}:(d.verify=function(c){null==c&&(c=q.getCurrentRules());return B(d,a,c)},d.verifyTree=function(c){null==c&&(c=q.getTreeRules());return B(d,a,c)},d.canLineBeTicked=function(){return c(d)}))}});
return a.verifyTree=function(d){null==d&&(d=q.getTreeRules());return!1===a.verify(d)||A(a)||!1===m(a)||!1===k(a)?!1:!0}};A=function(a){var d,c,b,g,k;c=a.getChildren();if(!(0<(null!=c?c.length:void 0)))return!1;b=0;for(g=c.length;b<g;b++)if(d=c[b],A(d))return!0;d=!1;g=a.content;c=0;for(b=g.length;c<b;c++)if(a=g[c],"block"===a.type&&(d=!0),d&&"block"!==(k=a.type)&&"blank_line"!==k)return!0;return!1};k=function(a){return!1===a.walk({visit:function(a){var b;if(null!=a&&null!=(b=a.justification)&&b.ticked&&
!1===c(a))return!1}})?!1:!0};m=function(a){var d,c,b,k,h,B,l,q,t,p,u;a=a.getChildren();if(!(0<(null!=a?a.length:void 0)))return!0;c=0;for(h=a.length;c<h;c++)if(d=a[c],d=m(d),!1===d)return!1;c=null!=(p=a[0].getFirstLine())?null!=(k=p.rulesChecked)?null!=(B=k[0])?B.rule.ruleSet:void 0:void 0:void 0;if(null==c)throw Error("Could not get ruleSet at line "+(null!=(b=a[0].getFirstLine())?b.number:void 0)+".");p=[];k=0;for(B=a.length;k<B;k++){d=a[k];q=d.getFirstLine();u=null!=q?null!=(t=q.rulesChecked)?
t[0].rule:void 0:void 0;if(null==u)return q.status.addMessage("you do not seem to be using a branching rule correctly on this line"),q.status.verified=!1;if(0<=g.call(p,u)&&1<c.length){b=!1;h=0;for(l=c.length;h<l;h++)d=c[h],0>g.call(p,d)&&d.check(q)&&(b=!0,p.push(d));if(!b)return q.status.addMessage("you cannot use the same rule twice in branching"),q.status.verified=!1}if(u.ruleSet!==c)return q.status.verified=!1,q.status.addMessage("you cannot combine different rules from in branching"),!1;p.push(u)}if(p.length<
c.length&&1<c.length){k=[];t=0;for(a=c.length;t<a;t++)d=c[t],d.isBranchingRule&&k.push(d);t=k.length;if(p.length<t)return!1}return!0};b.lineNeedsToBeTicked=function(a){return null==a.sentence?!1:"identity"===sentence.type?!0:null==sentence.left||"not"===sentence.type&&null==sentence.left.left?!1:!0};c=function(a){return q.getTreeRules().getTickChecker(a.sentence).checkIsDecomposedInEveryNonClosedBranch(a)};b.canLineBeTicked=c;B=function(a,d,c){var b,g;null==c&&(c=q.getCurrentRules());p.isString(d)&&
(d=K(d));b=d;if(null!=a.type)b=a;else if(b=b.getLine(a),!b)throw Error("Could not find line "+a+" in "+d);b.status.verificationAttempted=!0;if("line"!==(g=b.type)&&"close_branch"!==g&&"open_branch"!==g)return b.status.verified=!0,b.status.addMessage("(This is a "+b.type.replace(/_/g," ")+")"),!0;if(null!=b.sentenceErrors||null!=b.justificationErrors||null==b.justification)return b.status.verified=!1;a=F(b);return!0!==a?(b.status.addMessage(a),b.status.verified=!1):h(b,c)};b._line=B;F=function(a){var d,
c,b,k,h,m,B,l;m=a.justification.numbers;if(!m)return!0;b=0;for(k=m.length;b<k;b++){h=m[b];c=a.findLineOrBlock(h);if(!c)return"something you cited, "+h+", cannot be cited here (either it does not exist, or it is below this line, or else it occurs above but in a closed subproof).";d=[];for(B=a.parent;B;)d.push(B),B=B.parent;if(0<=g.call(d,c))return"you cannot cite a subproof ("+h+") from within that subproof (you must close it, then cite it).";if("line"!==(l=c.type)&&"block"!==l)return"you cannot cite line "+
h+" because it is a "+c.type.replace(/_/g," ")+".";if("line"===c.type&&!0!==c.status.sentenceParsed)return a=t.getLanguageNames(),"you cannot cite line "+h+" yet because it does not contain a correct sentence of "+a.join(" or ")+".";if("block"===c.type){d=c.getFirstLine();c=c.getLastLine();if("block"===c.type)return"you cannot cite "+h+" because it finishes with an unclosed (sub)subproof (you must close it, then cite it)";if(null==d||null==c||!d.status.sentenceParsed||!c.status.sentenceParsed)return a=
t.getLanguageNames(),"you cannot cite subproof "+h+" yet because it contains lines that are not correct sentence of "+a.join(" or ")+"."}}return!0};b._linesCitedAreOk=F;l=function(a,d){var c,b,g,k,h,m;b=[];g=0;for(k=d.length;g<k;g++){c=d[g];c=c.check(a);if(!0===c)return a.status.verified=!0;c=a.status.popMessage();null!=c&&b.push(c)}a.status.verified=!1;1===b.length&&a.status.addMessage(b[0]);if(1<b.length){c="This rule has multiple forms and none of them matched.  ";g=k=0;for(h=b.length;k<h;g=++k)m=
b[g],c+="("+g+") "+m+"  ";a.status.addMessage(c)}return!1};h=function(a,d){var c,b,g,k,h,m,B;c=a.justification.rule.connective;b=null!=(k=a.justification.rule.variant)?k.intronation:void 0;k=null!=(h=a.justification.rule.variant)?h.side:void 0;h=d[c];if(null==h)return a.status.addMessage(("the rule you specified, `"+c+" "+(b||"")+" "+(k||"")+"` does not exist (or, if it does, you are not allowed to use it in this proof).").replace(/\s\s+/g,"")),a.status.verified=!1;if(!b){if("rule"===h.type)return l(a,
[h]);if(p.isArray(h))return l(a,h);a.status.addMessage("you only partially specified the rule: `"+c+"` needs something extra (intro? elim?).");return a.status.verified=!1}h=h[b];if(null==h)return a.status.addMessage("you specified the rule "+c+" *"+b+"* but there is no \u2018"+b+"\u2019 version of the rule for "+c+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;if(!k){if("rule"===h.type)return l(a,[h]);if(p.isArray(h))return l(a,h);c=[];"rule"===(null!=(m=
h.left)?m.type:void 0)&&c.push(h.left);if(p.isArray(h.left))for(B=h.left,b=0,k=B.length;b<k;b++)m=B[b],c.push(m);"rule"===(null!=(g=h.right)?g.type:void 0)&&c.push(h.right);if(p.isArray(h.right))for(b=h.right,g=0,h=b.length;g<h;g++)m=b[g],c.push(m);return l(a,c)}if(null==h[k])return a.status.addMessage("you specified the rule "+c+" "+b+" *"+k+"* but there is no \u2018"+k+"\u2019 version of  "+c+" "+b+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;c=h[k];p.isArray(c)||
(c=[c]);return l(a,c)}},{"../dialect_manager/dialectManager":5,"../util":33,"./add_justification":17,"./add_line_numbers":18,"./add_sentences":19,"./add_status":20,"./block_parser":22,"./fitch_rules":23,"./forallx_rules":24,"./logicbook_rules":26,"./logicbook_tree_rules":27,"./teller_rules":30,lodash:9}],22:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c,m,h,l,k,q,t,B=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1};F=a("lodash");t=a("../util");b.parse=
function(a){var c,d,b,e,k,h,m,l,q;F.isString(a)&&(a=a.split("\n"));if(0===a.length)return new p("");E(a);a=A(a);c=a[0];q=!1;b=0;for(d=a.length;b<d;b++)k=a[b],0<=B.call(k.indentation,"|")&&(q=!0);for(d=b=new p(c.indentation);0<a.length;)if(k=a.shift(),"line"===k.type||q&&"blank_line"===k.type){for(k.indentation.length>d.indentation.length&&(d=d.newBlock(k.indentation));d&&k.indentation.length<d.indentation.length;)d=d.close();if(!d||k.indentation.length!==d.indentation.length)throw Error("Bad indentation at line "+
k.idx+" ("+k.originalText+"). (It is indented to a level to which no earlier line is indented.)");d.newLine(k)}else if("divider"===(l=k.type)||"close_branch"===l||"open_branch"===l)d.newLine(k);else if("blank_line"===k.type&&!q){for(c=[k];0<a.length&&"blank_line"===a[0].type;)c.push(a.shift());if(d===b)for(e=0,h=c.length;e<h;e++)k=c[e],d.newLine(k);else if(e=a[0].indentation,e.length===d.indentation.length){e=d;m=d.close();h=0;for(d=c.length;h<d;h++)k=c[h],m.newLine(k);d=m.newBlock(e.indentation)}else if(e.length>
d.indentation.length){m=0;for(h=c.length;m<h;m++)k=c[m],d.newLine(k);d=d.newBlock(e)}else{for(;d&&e.length<d.indentation.length;)d=d.close();if(!d||e.length!==d.indentation.length)throw Error("Bad indentation at line "+k.idx+" ("+k.originalText+"). (It is indented to a level to which no earlier line is indented.)");h=0;for(e=c.length;h<e;h++)k=c[h],d.newLine(k)}}for(;d!==b;)d=d.close();return d};E=function(a){};A=function(a){var b,d,f,e,k,l,t,p,u;e=v(a);p=[];f=k=0;for(l=a.length;k<l;f=++k)t=a[f],
b=q(t,e),d=b.indentation,b=b.content,u="line",z(b)&&(u="blank_line"),m(b)&&(u="divider"),c(b)&&(u="close_branch"),h(b)&&(u="open_branch"),p.push({indentation:d,content:b,idx:f+1,type:u,originalText:t});a=!1;f=[];k=0;for(e=p.length;k<e;k++)d=p[k],f.push(d.indentation);e=0;for(k=f.length;e<k;e++)if(d=f[e],0<=B.call(d,"|")){a=!0;break}if(a)for(f=0,a=p.length;f<a;f++)d=p[f],d.indentation=d.indentation.replace(/\s+/g,"");return p};K=/^([|\s]+)/;v=function(a){var c,d,b,e,k;if(!a||0===a.length)return!0;
d=null!=(b=a[0].match(K))?b[1]:void 0;b=0;for(e=a.length;b<e;b++)if(c=a[b],""!==c.replace(/[|-\s]/g,"")&&(k=c.match(K),c=null!=k?k[1]:void 0,null!==k&&c!==d))return!0;return!1};b.areLinesFormattedIndentationFirst=v;x=/^([|\s]*)([\s\S]*)/;u=/^([|\s]*)(\(?[0-9]+[^|\s]*)?([|\s]*)([\s\S]*)/;q=function(a,c){var d,b,e,k;if(c)return d=a.match(x),{indentation:d[1],content:d[2]};d=a.match(u);k=d[1]||"";b=d[2];e=d[3]||"";d=d[4]||"";return b?{indentation:e,content:b+" "+d}:{indentation:k,content:""+d}};b.split=
q;k=function(a){return a.replace(/[0-9]\S*/,"")};l=function(a){return a.replace(/\|/g,"")};m=function(a){a=k(a);a=l(a);return null!==a.match(/^\s*(--)/)?!0:!1};b._isDivider=m;z=function(a){a=k(a);a=l(a);return""===a.trim()};b._isBlank=z;c=function(a){var c;a=k(a);a=l(a);return"X"===("function"===typeof a.trim?"function"===typeof(c=a.trim()).toUpperCase?c.toUpperCase():void 0:void 0)};h=function(a){var c;a=k(a);a=l(a);return"O"===("function"===typeof a.trim?"function"===typeof(c=a.trim()).toUpperCase?
c.toUpperCase():void 0:void 0)};p=function(){function a(c,d,b){this.indentation=c;this.parent=d;this.prev=b;this.type="block";this.content=[];null!=this.prev&&(this.prev.next=this);this._depth=null==this.parent?1:this.parent._depth+1}a.prototype.getFirstLine=function(){return 0<this.content.length?this.content[0]:null};a.prototype.getLastLine=function(){return 0<this.content.length?F.last(this.content):null};a.prototype.getChildren=function(){var a,d,c,b,g;g=[];b=this.content;d=0;for(c=b.length;d<
c;d++)a=b[d],"block"===a.type&&g.push(a);return g};a.prototype.removeBlankAndDividerLines=function(){this.content=this.content.filter(function(a){var d;return!("blank_line"===(d=a.type)||"divider"===d)});return this};a.prototype.newLine=function(a){var d;a.parent=this;d=this.getLastLine();a.prev=d;null!=d&&(d.next=a);a.lineNumberInSource=a.idx;a.findAbove=function(a){var d;for(d=this.prev||this.parent;null!=d&&null!=d.parent;){if(a(d))return d;d=null==d.prev&&null!=d.parent?d.parent:d.prev}return!1};
a.findAllAbove=function(a){var d,c;c=[];for(d=this.findAbove(a);d;)c.push(d),d=d.findAbove(a);return c};this.content.push(a);return a};a.prototype.newBlock=function(c){c=new a(c,this,this.getLastLine());this.content.push(c);return c};a.prototype.close=function(){return this.parent};a.prototype.walk=function(a){var d,c,b,g;d=a.visit(this);if(null!=d)return d;g=this.content;c=0;for(b=g.length;c<b;c++)if(d=g[c],d="block"===d.type?d.walk(a):a.visit(d),null!=d)return d};a.prototype.getLine=function(a){var d;
d=this.walk({onLine:0,visit:function(d){if("block"!==d.type&&(this.onLine+=1,this.onLine===a))return d}});if(null==d)throw Error("Could not get line number "+a);return d};a.prototype.getLeaves=function(){var a;a=[];this.walk({visit:function(d){"block"!==d.type||0<d.getChildren().length||(d=d.getLastLine(),a.push(d))}});return a};a.prototype.areAllBranchesClosed=function(){var a,d,c;c=this.getLeaves();d=F.uniq(function(){var d,b,g;g=[];d=0;for(b=c.length;d<b;d++)a=c[d],g.push(a.type);return g}());
return 1!==d.length?!1:0<=B.call(d,"close_branch")};a.prototype.areAllBranchesClosedOrOpen=function(){var a,d,c;c=this.getLeaves();d=F.uniq(function(){var d,b,g;g=[];d=0;for(b=c.length;d<b;d++)a=c[d],g.push(a.type);return g}());return 0===F.difference(d,["close_branch","open_branch"]).length};a.prototype.hasOpenBranch=function(){var a,d,c;c=this.getLeaves();d=F.uniq(function(){var d,b,g;g=[];d=0;for(b=c.length;d<b;d++)a=c[d],g.push(a.type);return g}());return 0<=B.call(d,"open_branch")};a.prototype.toString=
function(){return JSON.stringify(this,function(a,d){return!d||"prev"!==a&&"parent"!==a?"sentence"===a?t.expressionToString(d):F.isFunction(d)?void 0:d:"[circular reference to "+(null!=d?d.type:void 0)+", depth "+(null!=d?d._depth:void 0)+"]"},4)};return a}();b.Block=p},{"../util":33,lodash:9}],23:[function(a,D,b){D=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(D.getParser("awFOL"));a={_description:"Rules of proof for classical first-order logic.  The rules assume that\nthere is no possible situation with an empty domain.",
premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),
intro:a.from(a.subproof("\u03c6","contradiction")).to("not \u03c6")},contradiction:{elim:a.from("contradiction").to("\u03c6"),intro:a.from("not \u03c6").and("\u03c6").to("contradiction")},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6",
"\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),
intro:{left:a.from(a.subproof("[\u03b1]","\u03c6[\u03c4--\x3e\u03b1]")).to("all \u03c4 \u03c6"),right:a.from(a.subproof("[\u03b1]\u03c6","\u03c8")).to("all \u03c4 (\u03c6 arrow \u03c8)[\u03b1--\x3e\u03c4]")}}};b.rules=a;D.registerRuleSet("fitch",a)},{"../dialect_manager/dialectManager":5,"./rule":29}],24:[function(a,D,b){D=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(D.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.from().to(a.premise()),
reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),right:a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),
intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},
identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),
intro:a.from(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},dilemma:a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),commutivity:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),
a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 <-> \u03c7",to:"\u03c7 <-> \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 <-> \u03c7",from:"\u03c7 <-> \u03c8"}))],DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",
to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",from:"not \u03c8 or not \u03c7"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",
from:"\u03c8"}))],"material-conditional":[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"not \u03c8 arrow \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"not \u03c8 arrow \u03c7"}))],"biconditional-exchange":[a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",
to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"}))],"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (exists x) \u03c8",to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",
from:"(all x) not \u03c8"}))]};b.rules=a;D.registerRuleSet("forallx",a)},{"../dialect_manager/dialectManager":5,"./rule":29}],25:[function(a,D,b){(function(p){var F=function(){function a(){this.yy={}}var b=function(a,c,b,g){b=b||{};for(g=a.length;g--;b[a[g]]=c);return b},p=[1,7],v=[1,12],E=[1,13],A=[1,14],z=[1,15],c=[1,16],m=[1,17],h=[1,11],l=[1,18],k=[1,19],q=[5,7],t=[5,7,22],B=[5,7,10,16,17,18,19,20,21,23,24],g=[5,7,10,20,21,22],r=[5,7,10,16,17,18,19,22],b={trace:function(){},yy:{},symbols_:{error:2,
justification:3,j:4,EOF:5,j2:6,tick:7,rule_name:8,numberlist:9,connective:10,intronation:11,rule_name_option0:12,rule_name_option1:13,side:14,rule_name_group0:15,elim:16,intro:17,decomposition:18,decomposition2:19,left:20,right:21,number:22,reit:23,premise:24,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"tick",10:"connective",16:"elim",17:"intro",18:"decomposition",19:"decomposition2",20:"left",21:"right",22:"number",23:"reit",24:"premise"},productions_:[0,[3,2],[4,1],[4,2],[4,2],[6,1],[6,2],
[6,2],[8,3],[8,3],[8,3],[8,3],[8,3],[8,3],[8,1],[8,1],[11,1],[11,1],[11,1],[11,1],[14,1],[14,1],[9,1],[9,2],[12,0],[12,1],[13,0],[13,1],[15,1],[15,1]],performAction:function(a,c,b,g,k,h,m){a=h.length-1;switch(k){case 1:return h[a-1];case 2:this.$=h[a];break;case 3:h[a].ticked=!0;this.$=h[a];break;case 4:h[a-1].ticked=!0;this.$=h[a-1];break;case 5:this.$={type:"justification",rule:h[a],location:m[a]};break;case 6:this.$={type:"justification",rule:h[a-1],location:m[a-1],numbers:h[a]};break;case 7:this.$=
{type:"justification",rule:h[a],location:m[a],numbers:h[a-1]};break;case 8:this.$={type:"rule",connective:h[a-2],variant:{type:"variant",intronation:h[a-1],side:h[a]}};break;case 9:this.$={type:"rule",connective:h[a-1],variant:{type:"variant",intronation:h[a-2],side:h[a]}};break;case 10:this.$={type:"rule",connective:h[a-1],variant:{type:"variant",intronation:h[a],side:h[a-2]}};break;case 11:this.$={type:"rule",connective:h[a-2],variant:{type:"variant",intronation:h[a],side:h[a-1]}};break;case 12:this.$=
{type:"rule",connective:h[a],variant:{type:"variant",intronation:h[a-1],side:h[a-2]}};break;case 13:this.$={type:"rule",connective:h[a],variant:{type:"variant",intronation:h[a-2],side:h[a-1]}};break;case 14:case 15:this.$={type:"rule",connective:h[a],variant:{type:"variant",intronation:null,side:null}};break;case 16:this.$="elim";break;case 17:this.$="intro";break;case 18:this.$="decomposition";break;case 19:this.$="decomposition2";break;case 20:this.$="left";break;case 21:this.$="right";break;case 22:this.$=
[h[a]];break;case 23:this.$=[h[a-1]].concat(h[a])}},table:[{3:1,4:2,6:3,7:[1,4],8:5,9:6,10:p,11:8,14:9,15:10,16:v,17:E,18:A,19:z,20:c,21:m,22:h,23:l,24:k},{1:[3]},{5:[1,20]},{5:[2,2],7:[1,21]},{6:22,8:5,9:6,10:p,11:8,14:9,15:10,16:v,17:E,18:A,19:z,20:c,21:m,22:h,23:l,24:k},b(q,[2,5],{9:23,22:h}),{8:24,10:p,11:8,14:9,15:10,16:v,17:E,18:A,19:z,20:c,21:m,23:l,24:k},b(t,[2,14],{11:25,14:26,16:v,17:E,18:A,19:z,20:c,21:m}),{10:[1,27],14:28,20:c,21:m},{10:[1,29],11:30,16:v,17:E,18:A,19:z},b(t,[2,15]),b(B,
[2,22],{9:31,22:h}),b(g,[2,16]),b(g,[2,17]),b(g,[2,18]),b(g,[2,19]),b(r,[2,20]),b(r,[2,21]),b(t,[2,28]),b(t,[2,29]),{1:[2,1]},{5:[2,4]},{5:[2,3]},b(q,[2,6]),b(q,[2,7]),b(t,[2,24],{12:32,14:33,20:c,21:m}),{11:34,16:v,17:E,18:A,19:z},b(t,[2,26],{13:35,14:36,20:c,21:m}),{10:[1,37]},{11:38,16:v,17:E,18:A,19:z},{10:[1,39]},b(B,[2,23]),b(t,[2,8]),b(t,[2,25]),b(t,[2,11]),b(t,[2,9]),b(t,[2,27]),b(t,[2,13]),b(t,[2,10]),b(t,[2,12])],defaultActions:{20:[2,1],21:[2,4],22:[2,3]},parseError:function(a,c){if(c.recoverable)this.trace(a);
else{var b=function(a,c){this.message=a;this.hash=c};b.prototype=Error;throw new b(a,c);}},parse:function(a){var c=[0],b=[null],g=[],k=this.table,h="",m=0,r=0,B=0,l=g.slice.call(arguments,1),q=Object.create(this.lexer),t={},p;for(p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(t[p]=this.yy[p]);q.setInput(a,t);t.lexer=q;t.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});p=q.yylloc;g.push(p);var u=q.options&&q.options.ranges;this.parseError="function"===typeof t.parseError?t.parseError:
Object.getPrototypeOf(this).parseError;for(var I,C,v,x,z={},E,A;;){v=c[c.length-1];if(this.defaultActions[v])x=this.defaultActions[v];else{if(null===I||"undefined"==typeof I)I=void 0,I=q.lex()||1,"number"!==typeof I&&(I=this.symbols_[I]||I);x=k[v]&&k[v][I]}if("undefined"===typeof x||!x.length||!x[0]){var F="";A=[];for(E in k[v])this.terminals_[E]&&2<E&&A.push("'"+this.terminals_[E]+"'");F=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[I]||
I)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==I?"end of input":"'"+(this.terminals_[I]||I)+"'");this.parseError(F,{text:q.match,token:this.terminals_[I]||I,line:q.yylineno,loc:p,expected:A})}if(x[0]instanceof Array&&1<x.length)throw Error("Parse Error: multiple actions possible at state: "+v+", token: "+I);switch(x[0]){case 1:c.push(I);b.push(q.yytext);g.push(q.yylloc);c.push(x[1]);I=null;C?(I=C,C=null):(r=q.yyleng,h=q.yytext,m=q.yylineno,p=q.yylloc,0<B&&B--);break;case 2:A=this.productions_[x[1]][1];
z.$=b[b.length-A];z._$={first_line:g[g.length-(A||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(A||1)].first_column,last_column:g[g.length-1].last_column};u&&(z._$.range=[g[g.length-(A||1)].range[0],g[g.length-1].range[1]]);v=this.performAction.apply(z,[h,r,m,t,x[1],b,g].concat(l));if("undefined"!==typeof v)return v;A&&(c=c.slice(0,-2*A),b=b.slice(0,-1*A),g=g.slice(0,-1*A));c.push(this.productions_[x[1]][0]);b.push(z.$);g.push(z._$);x=k[c[c.length-2]][c[c.length-1]];c.push(x);
break;case 3:return!0}}}},p=function(){return{EOF:1,parseError:function(a,c){if(this.yy.parser)this.yy.parser.parseError(a,c);else throw Error(a);},setInput:function(a,c){this.yy=c||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=
this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var c=a.length,b=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-c);this.offset-=c;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-
1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var g=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===a.length?this.yylloc.first_column:0)+a[a.length-b.length].length-b[0].length:this.yylloc.first_column-c};this.options.ranges&&(this.yylloc.range=[g[0],g[0]+this.yyleng-c]);this.yyleng=this.yytext.length;return this},more:function(){this._more=
!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<
a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),c=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+c+"^"},test_match:function(a,c){var b,g;this.options.backtrack_lexer&&(g={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,
last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(g.yylloc.range=this.yylloc.range.slice(0)));if(b=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=b.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?
b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];b=this.performAction.call(this,this.yy,this,c,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;
if(this._backtrack)for(var k in g)this[k]=g[k];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,c,b;this._more||(this.match=this.yytext="");for(var g=this._currentRules(),k=0;k<g.length;k++)if((c=this._input.match(this.rules[g[k]]))&&(!a||c[0].length>a[0].length))if(a=c,b=k,this.options.backtrack_lexer){a=this.test_match(c,g[k]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,g[b]),!1!==
a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?
this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,c,b,g){switch(b){case 0:return c.yytext=a.lexer.matches[1],22;case 1:return c.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],
22;case 2:return c.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],22;case 3:return c.yytext=a.lexer.matches[1],22;case 4:return 16;case 5:return 17;case 6:return 19;case 7:return 18;case 8:return 7;case 9:return c.yytext="contradiction",10;case 10:return c.yytext="or",10;case 11:return c.yytext="identity",10;case 12:return c.yytext="and",10;case 13:return c.yytext="double_arrow",10;case 14:return c.yytext="arrow",10;case 15:return c.yytext="not",10;case 16:return c.yytext="reit",23;case 17:return c.yytext=
"premise",24;case 18:return c.yytext="weakening",10;case 19:return c.yytext="cases",10;case 20:return c.yytext="DC",10;case 21:return c.yytext="reductio",10;case 22:return c.yytext="DM",10;case 23:return c.yytext="contraposition",10;case 24:return c.yytext="C",10;case 25:return c.yytext="contradiction",10;case 26:return c.yytext="not-all",10;case 27:return c.yytext="all-not",10;case 28:return c.yytext="exists-not",10;case 29:return c.yytext="not-exists",10;case 30:return c.yytext="dilemma",10;case 31:return c.yytext=
"modus-tollens",10;case 32:return c.yytext="hypothetical-syllogism",10;case 33:return c.yytext="disjunctive-syllogism",10;case 34:return c.yytext="commutivity",10;case 35:return c.yytext="double-negation",10;case 36:return c.yytext="material-conditional",10;case 37:return c.yytext="biconditional-exchange",10;case 38:return c.yytext="quantifier-negation",10;case 39:return c.yytext="implication",10;case 40:return c.yytext="transposition",10;case 41:return c.yytext="distribution",10;case 42:return c.yytext=
"association",10;case 43:return c.yytext="idempotence",10;case 44:return c.yytext="exportation",10;case 45:return c.yytext="equivalence",10;case 46:return c.yytext="not_double_arrow",10;case 47:return c.yytext="not_and",10;case 48:return c.yytext="not_or",10;case 49:return c.yytext="not_arrow",10;case 50:return c.yytext="universal",10;case 51:return c.yytext="existential",10;case 52:return 20;case 53:return 21;case 54:return c.yytext="close-branch",10;case 55:return c.yytext="open-branch",10;case 57:return 5;
case 60:console.log(c.yytext)}},rules:[/^(?:([0-9][^,\s]*)(\s+and\s+)(?=[0-9]))/i,/^(?:([0-9][^,\s]*)\s+to\s+([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*?)\s*(?:-+)\s*([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*)(?:(\s*,)*))/i,/^(?:elimination|eliminate|elim|e)/i,/^(?:introduction|introduce|intro|i)/i,/^(?:decomposition-2|decomposition2|d-2|d2)/i,/^(?:decomposition|d)/i,/^(?:\u2713|tick)/i,/^(?:\u22a5|_\|_|contradiction|contra|false)/i,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/i,/^(?:=|identity)/i,/^(?:and|conjunction|\u2227|\u2022|&)/i,
/^(?:double_arrow|\u2194|\u2261|\u21d4|<->)/i,/^(?:arrow|->|\u21d2|\u2192|\u2283)/i,/^(?:not|\u00ac|\u02dc|~|!|negation)/i,/^(?:reit|reiteration|r)/i,/^(?:premise|assumption|set member|sm|p)/i,/^(?:weakening|w)/i,/^(?:argument by cases|cases|ac)/i,/^(?:denying the consequent|dc)/i,/^(?:reductio|rd|reductio ad absurdum)/i,/^(?:dm|deMorgan|dem|de morgan)/i,/^(?:contraposition|cp)/i,/^(?:conditional|c)/i,/^(?:cd)/i,/^(?:(negated|not_|not-|not|~|\u00ac|!)(\s)?(all|\u2200|every|universal))/i,/^(?:all not|all-not|\u2200~)/i,
/^(?:exists not|exists-not|\u2203~)/i,/^(?:(negated|not_|not-|not|~|\u00ac|!)(\s)?(some|exists|\u2203|existential))/i,/^(?:dilemma|dil)/i,/^(?:mt|modus tollens|modus-tollens)/i,/^(?:hs|hypothetical syllogism|hypothetical-syllogism)/i,/^(?:ds|disjunctive syllogism|disjunctive-syllogism)/i,/^(?:commutivity|comm|com)/i,/^(?:dn|double-negation|double negation|negated negation|negated-negation|~~|~ ~|\u00ac\u00ac|\u00ac \u00ac|not not)/i,/^(?:mc|material-conditional|material conditional)/i,/^(?:bex|\u2194ex|biconditional-exchange|biconditional exchange)/i,
/^(?:qn|quantifier-negation|quantifier negation)/i,/^(?:implication|impl)/i,/^(?:transposition|trans)/i,/^(?:distribution|dist)/i,/^(?:association|assoc)/i,/^(?:idempotence|idem)/i,/^(?:exportation|exp)/i,/^(?:equivalence|equiv)/i,/^(?:not_double_arrow|negated biconditional|negated-biconditional|not <->|~ <->|~<->|not<->|~\u2194|~\u2261|~ \u2194|~ \u2261|\u00ac\u2194|\u00ac\u2261|\u00ac \u2194|\u00ac \u2261)/i,/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(and|conjunction|\u2227|\u2022|&))/i,/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(disjunction|or|\u2228|\|))/i,
/^(?:(negated|not_|not|~|\u00ac|!)(\s)?(conditional|arrow|->|\u21d2|\u2192|\u2283))/i,/^(?:all|\u2200|every|universal)/i,/^(?:some|exists|\u2203|existential)/i,/^(?:left)/i,/^(?:right)/i,/^(?:close branch|close-branch)/i,/^(?:open branch|open-branch)/i,/^(?:[\s,]+)/i,/^(?:$)/i,/^(?:\w+)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,
58,59,60],inclusive:!0}}}}();b.lexer=p;a.prototype=b;b.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof b&&(b.parser=F,b.Parser=F.Parser,b.parse=function(){return F.parse.apply(F,arguments)},b.main=function(F){F[1]||(console.log("Usage: "+F[0]+" FILE"),p.exit(1));F=a("fs").readFileSync(a("path").normalize(F[1]),"utf8");return b.parser.parse(F)},"undefined"!==typeof D&&a.main===D&&b.main(p.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],26:[function(a,D,b){D=
a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(D.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6",
"\u03c8")).to("\u03c6 arrow \u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),
right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),"disjunctive-syllogism":[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")],commutivity:[a.from("\u03c6").to(a.replace("\u03c6",
{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"}))],implication:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"}))],
DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",from:"not \u03c8 or not \u03c7"}))],transposition:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",
to:"not \u03c7 arrow not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c7 arrow not \u03c8"}))],distribution:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 or \u03c83)",to:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 or \u03c83)",from:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 and \u03c83)",
to:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 and \u03c83)",from:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"}))],association:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 and \u03c83)",to:"(\u03c81 and \u03c82) and \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 and \u03c83)",from:"(\u03c81 and \u03c82) and \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 or \u03c83)",
to:"(\u03c81 or \u03c82) or \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 or \u03c83)",from:"(\u03c81 or \u03c82) or \u03c83"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",from:"\u03c8"}))],idempotence:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 and \u03c8"})),
a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 or \u03c8"}))],exportation:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 -> (\u03c82 -> \u03c83)",to:"(\u03c81 and \u03c82) -> \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 -> (\u03c82 -> \u03c83)",from:"(\u03c81 and \u03c82) -> \u03c83"}))],equivalence:[a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",
to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",from:"\u03c8 <-> \u03c7"}))],universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},
existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (exists x) \u03c8",
to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",from:"(all x) not \u03c8"}))],identity:{intro:a.to("all \u03c4 \u03c4=\u03c4"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}}};b.rules=a;D.registerRuleSet("logicbook",a)},{"../dialect_manager/dialectManager":5,"./rule":29}],27:[function(a,D,b){var p;D=a("../dialect_manager/dialectManager");a("lodash");
a=a("./rule");a.setParser(D.getParser("awFOL"));p={_description:"Rules of proof for tree proofs as presented in Bergman et al, \u2018The Logic Book\u2019 (2014).  ",premise:a.from().to(a.premiseInTreeProof()),"close-branch":a.from().to(a.closeBranch()),"double-negation":{decomposition:a.from("not not \u03c6").to(a.matches("\u03c6").and.doesntBranch())},and:{decomposition:[a.from("\u03c6 and \u03c8").to(a.matches("\u03c6").and.doesntBranch()),a.from("\u03c6 and \u03c8").to(a.matches("\u03c8").and.doesntBranch())]},
or:{decomposition:[a.from("\u03c6 or \u03c8").to(a.matches("\u03c6").and.branches()),a.from("\u03c6 or \u03c8").to(a.matches("\u03c8").and.branches())]},arrow:{decomposition:[a.from("\u03c6 arrow \u03c8").to(a.matches("not \u03c6").and.branches()),a.from("\u03c6 arrow \u03c8").to(a.matches("\u03c8").and.branches())]},double_arrow:{decomposition:[a.from("\u03c6 <-> \u03c8").to(a.matches("\u03c6").and.branches()),a.from("\u03c6 <-> \u03c8").to(a.matches("\u03c8").and.doesntBranch()).where(a.previousLineMatches("\u03c6")).andAlso.where(a.previousLineCitesSameLines()),
a.from("\u03c6 <-> \u03c8").to(a.matches("not \u03c6").and.branches()),a.from("\u03c6 <-> \u03c8").to(a.matches("not \u03c8").and.doesntBranch()).where(a.previousLineMatches("not \u03c6")).andAlso.where(a.previousLineCitesSameLines())]},not_and:{decomposition:[a.from("not (\u03c6 and \u03c8)").to(a.matches("not \u03c6").and.branches()),a.from("not (\u03c6 and \u03c8)").to(a.matches("not \u03c8").and.branches()),a.from("\u03c6").to(a.matches("\u03c8"))]},not_or:{decomposition:[a.from("not (\u03c6 or \u03c8)").to(a.matches("not \u03c6").and.doesntBranch()),
a.from("not (\u03c6 or \u03c8)").to(a.matches("not \u03c8").and.doesntBranch())]},not_arrow:{decomposition:[a.from("not (\u03c6 arrow \u03c8)").to(a.matches("\u03c6").and.doesntBranch()),a.from("not (\u03c6 arrow \u03c8)").to(a.matches("not \u03c8").and.doesntBranch())]},not_double_arrow:{decomposition:[a.from("not (\u03c6 <-> \u03c8)").to(a.matches("\u03c6").and.branches()),a.from("not (\u03c6 <-> \u03c8)").to(a.matches("not \u03c8").and.doesntBranch()).where(a.previousLineMatches("\u03c6")).andAlso.where(a.previousLineCitesSameLines()),
a.from("not (\u03c6 <-> \u03c8)").to(a.matches("not \u03c6").and.branches()),a.from("not (\u03c6 <-> \u03c8)").to(a.matches("\u03c8").and.doesntBranch()).where(a.previousLineMatches("not \u03c6")).andAlso.where(a.previousLineCitesSameLines())]},universal:{decomposition:a.from("all \u03c4 \u03c6").to(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.doesntBranch())},existential:{decomposition:a.from("exists \u03c4 \u03c6").to(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1").and.doesntBranch()),
decomposition2:a.from("exists \u03c4 \u03c6").to(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.branches()).where(a.ruleIsAppliedToEveryExistingConstantAndANewConstant("\u03b1"))},"not-all":{decomposition:a.from("not all \u03c4 \u03c6").to(a.matches("exists \u03c4 not \u03c6").and.doesntBranch())},"not-exists":{decomposition:a.from("not exists \u03c4 \u03c6").to(a.matches("all \u03c4 not \u03c6").and.doesntBranch())},identity:{decomposition:[a.from("\u03b1=\u03b2").and("\u03c6").to(a.matches("\u03c6[\u03b1--\x3e\u03b2]").and.doesntBranch()),
a.from("\u03b2=\u03b1").and("\u03c6").to(a.matches("\u03c6[\u03b1--\x3e\u03b2]").and.doesntBranch())]}};p["open-branch"]=a.from().to(a.openBranch(p));a.makeTickCheckers(p,{and:a.tickIf.allRulesAppliedInEveryBranch(p.and.decomposition),or:a.tickIf.someRuleAppliedInEveryBranch(p.or.decomposition),arrow:a.tickIf.someRuleAppliedInEveryBranch(p.arrow.decomposition),double_arrow:a.tickIf.someRuleAppliedInEveryBranch([p.double_arrow.decomposition[1],p.double_arrow.decomposition[3]]),universal_quantifier:a.tickIf.ruleAppliedAtLeastOnceAndAppliedToEveryExistingConstant(p.universal.decomposition),
existential_quantifier:a.tickIf.someRuleAppliedInEveryBranch([p.existential.decomposition2]),not:{not:a.tickIf.allRulesAppliedInEveryBranch([p["double-negation"].decomposition]),and:a.tickIf.someRuleAppliedInEveryBranch(p.not_and.decomposition),or:a.tickIf.allRulesAppliedInEveryBranch(p.not_or.decomposition),arrow:a.tickIf.allRulesAppliedInEveryBranch(p.not_arrow.decomposition),double_arrow:a.tickIf.someRuleAppliedInEveryBranch([p.not_double_arrow.decomposition[1],p.not_double_arrow.decomposition[3]]),
universal_quantifier:a.tickIf.allRulesAppliedInEveryBranch(p["not-all"].decomposition),existential_quantifier:a.tickIf.allRulesAppliedInEveryBranch(p["not-exists"].decomposition)}});b.rules=p;D.registerRuleSet("logicbook_tree",p)},{"../dialect_manager/dialectManager":5,"./rule":29,lodash:9}],28:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c,m,h=[].indexOf||function(a){for(var c=0,b=this.length;c<b;c++)if(c in this&&this[c]===a)return c;return-1};p=a("lodash");A=a("./block_parser");x=a("./add_line_numbers");
K=a("./add_justification");u=a("./add_sentences");v=a("./add_status");E=a("./add_verification");z=a("../dialect_manager/dialectManager");c=function(a,c){p.isString(a)||(a=""+a);return a.length>=c?a:a+Array(c-a.length+1).join(" ")};F=function(a){a.clone=function(c){return m(a.toString(),c)};a.detachChildren=function(){var c,b;b=a.clone({treeProof:!0});c=b.getChildren();b.content=b.content.filter(function(a){return!(0<=h.call(c,a))});return{children:c,childlessProof:b}};return a.toString=function(b){var h,
m,B,g,r,d,f,e,u,y,v;null==b&&(b={});y={result:[],lineNumber:0,addLineNumbers:!0,needLineNumbers:!1,lookBackTwo:[],getAndIncLineNumber:function(a){var d,b;y.lineNumber+=1;return null!=a.number||!1===y.addLineNumbers?(b=parseInt(("function"===typeof(d=a.number).replace?d.replace("x",""):void 0)||a.number),b!==y.lineNumber&&(y.needLineNumbers=!0),y.addLineNumbers=!1,c(a.number,3)):c(y.lineNumber,3)},visit:function(a){var d,g,e,f,h,m;"divider"===a.type||b.treeProof||"block"!==(null!=(d=y.lookBackTwo[0])?
d.type:void 0)||"line"!==(null!=(g=y.lookBackTwo[1])?g.type:void 0)||(d=y.lookBackTwo[0],null!=d.parent&&(d=y.lookBackTwo[1],d.parent===a.parent&&y.result.push({number:c(y.getAndIncLineNumber(d).trim()+"y",3),indentation:d.indentation.trim()+"---",sentence:"",justification:""})));y.lookBackTwo.push(a);2<y.lookBackTwo.length&&y.lookBackTwo.shift();"blank_line"===a.type&&(d=a,y.result.push({number:""+y.getAndIncLineNumber(d),indentation:""+d.indentation.trim(),sentence:"",justification:""}));"divider"===
a.type&&(d=a,y.result.push({number:""+y.getAndIncLineNumber(d),indentation:d.indentation.trim()+"---",sentence:"",justification:""}));"close_branch"===a.type&&(d=a,y.result.push({number:""+y.getAndIncLineNumber(d),indentation:""+d.indentation.trim(),sentence:"X",justification:""}));"open_branch"===a.type&&(d=a,y.result.push({number:""+y.getAndIncLineNumber(d),indentation:""+d.indentation.trim(),sentence:"O",justification:""}));"line"===a.type&&(d=a,a="premise"===d.getRuleName()?"":null!=d.justification?
d.getRuleName()+" "+((null!=(e=d.justification)?null!=(f=e.numbers)?f.join(", "):void 0:void 0)||""):(null!=(h=d.justificationText)?h.trim():void 0)||"",y.result.push({number:""+y.getAndIncLineNumber(d),indentation:""+d.indentation,sentence:""+(d.sentence||d.sentenceText),justification:a,ticked:null!=(m=d.justification)?m.ticked:void 0}))}};a.walk(y);u="";r=p.max(function(){var a,c,d,b,g,e;d=y.result;e=[];a=0;for(c=d.length;a<c;a++)v=d[a],e.push((null!=(b=v.sentence)?b.length:void 0)+(null!=(g=v.indentation)?
g.length:void 0));return e}());e=z.getSymbols().tick||"\u2713";e+=" ";d=y.result;h=0;for(B=d.length;h<B;h++)g=d[h],f=(g.ticked?e:void 0)||"",m=c(((b.treeProof?void 0:g.indentation)||"")+" "+g.sentence,r+1),(y.needLineNumbers||!0===b.numberLines)&&!1!==b.numberLines&&(u+=g.number+" "),u+=m+"   "+f+g.justification+"\n";return u.trim()}};m=function(a,c){var b,h;try{b=A.parse(a,c),x.to(b,c),K.to(b,c),u.to(b,c),v.to(b,c),E.to(b,c)}catch(m){return m.message}h=b;h.listErrorMessages=function(){var a;a=[];
h.walk({visit:function(c){var b;"line"!==(b=null!=c?c.type:void 0)&&"blank_line"!==b&&"close_branch"!==b&&"open_branch"!==b||!1!==c.status.verified||(b=c.number,c=c.status.getMessage(),null!=c&&""!==c&&a.push(b+": "+c))}});return a.join("\n")};h.walk({visit:function(a){"block"===a.type&&F(a)}});return h};b.parse=m},{"../dialect_manager/dialectManager":5,"./add_justification":17,"./add_line_numbers":18,"./add_sentences":19,"./add_status":20,"./add_verification":21,"./block_parser":22,lodash:9}],29:[function(a,
D,b){var p,F,K,x,u,v,E,A,z,c,m,h,l,k,q,t,B,g,r,d,f,e,H,y,G,bb,W,S,fa,Ya,Ha,N=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1},ca=[].slice;p=a("lodash");a("../util");Ha=a("../substitute");r=a("../fol");W=void 0;b.setParser=function(a){return W=a};x=function(a){var c,d,b,g,e,f;e=[];for(d in a)if("rule"===a[d].type)f=a[d],null==f.ruleSet&&(f.ruleSet=[f]);else{if(p.isArray(a[d]))for(g=a[d],c=0,b=g.length;c<b;c++)f=g[c],f.ruleSet=g;p.isObject(a[d])?
e.push(x(a[d])):e.push(void 0)}return e};b.makeTickCheckers=function(a,c){var d;x(a);d={checkIsDecomposedInEveryNonClosedBranch:function(){return!0},checkIsDecomposedInTheseLines:function(){return!0}};return a.getTickChecker=function(a){var b;b=c[a.type];if(null==b)return d;if(p.isFunction(b.checkIsDecomposedInEveryNonClosedBranch))return b;a=a.left;if(null==a)return d;b=b[a.type];return null==b?d:b}};fa=function(a,c,d){var b,g,e;if(a.isClosedBranch())return!0;d=c(a.content,d);b=d.success;d=d._progress;
if(b)return!0;a=a.getChildren();if(!(0<(null!=a?a.length:void 0)))return!1;g=0;for(e=a.length;g<e;g++)b=a[g],b=fa(b,c,d);return b?!0:!1};a={};b.tickIf=a;a.someRuleAppliedInEveryBranch=function(a){var c;c=function(c){var d;d=c.getLinesThatCiteMe();return function(c){var b,g,e,f,h,k;b=0;for(e=c.length;b<e;b++)if(g=c[b],0<=N.call(d,g)){null==g.rulesChecked&&g.verifyTree();if(null==g.rulesChecked)break;k=g.rulesChecked;f=0;for(g=k.length;f<g;f++)if(h=k[f],h=h.rule,0<=N.call(a,h))return{success:!0}}return{success:!1}}};
return{checkIsDecomposedInEveryNonClosedBranch:function(a){var d;d=c(a);return fa(a.parent,d)},checkIsDecomposedInTheseLines:function(a,d){return c(a)(d).success}}};a.allRulesAppliedInEveryBranch=function(a){var c;c=function(c){var d;d=c.getLinesThatCiteMe();return function(c,b){var g,e,f,h,k,m;null==b&&(b=[]);b=p.clone(b);g=0;for(f=c.length;g<f;g++)if(e=c[g],0<=N.call(d,e)){null==e.rulesChecked&&e.verifyTree();if(null==e.rulesChecked)return{success:!1};m=e.rulesChecked;k=0;for(h=m.length;k<h;k++)e=
m[k],e=e.rule,b.push(e)}h=[];f=0;for(g=a.length;f<g;f++)e=a[f],0>N.call(b,e)&&h.push(e);return 0===h.length?{success:!0}:{success:!1,_progress:b}}};return{checkIsDecomposedInEveryNonClosedBranch:function(a){var d;d=c(a);return fa(a.parent,d)},checkIsDecomposedInTheseLines:function(a,d){return c(a)(d).success}}};a.ruleAppliedAtLeastOnceAndAppliedToEveryExistingConstant=function(a){var c,d,b,e,f,h;c=a._requirements.from[0].pattern;h=a._requirements.to.pattern;a=c.listMetaVariableNamesAsList();f=h.listMetaVariableNamesAsList();
a=p.difference(f,a);if(1!==a.length)throw Error("ruleAppliedAtLeastOnceAndAppliedToEveryExistingConstant contract broken, "+a);e=a[0];b=function(a){var d;d=a.sentence.findMatches(c);return function(a){return g(a,h,d)[e].name}};d=function(a){var c;c=a.getLinesThatCiteMe();return function(d){var g,e,f,h,k,m,r;m=[];e=0;for(g=d.length;e<g;e++)if(f=d[e],0>N.call(c,f)&&null!=f.sentence)for(r=f.sentence.getNames(),h=0,f=r.length;h<f;h++)k=r[h],0>N.call(m,k)&&m.push(k);console.log("namesUsed "+m.join(", "));
e=[];g=b(a);k=0;for(h=d.length;k<h;k++)f=d[k],0<=N.call(c,f)&&e.push(g(f));d=p.difference(m,e);if(0!==d.length)return{success:!1,errorMessage:"this rule was not applied to constants occurring in the branch ("+d.join(", ")+")"};p.difference(e,m);return 0<e.length?{success:!0}:{success:!1,errorMessage:"this rule was not applied to at least one constant in the branch"}}};return{checkIsDecomposedInEveryNonClosedBranch:function(a){var c,b,g,e;e=d(a);b=a.parent.getLeaves();a=0;for(g=b.length;a<g;a++)if(c=
b[a],c=c.findAllAbove(function(a){return"line"===a.type}),c=e(c),c=c.success,!c)return!1;return!0},checkIsDecomposedInTheseLines:function(a,c){var b,g;b=d(a)(c);g=b.success;b=b.errorMessage;g||(console.log(g),console.log(b));return g}}};F=function(){function a(c){c=k(c);this._requirements={from:(null!=c?[c]:void 0)||[],to:void 0};this.whereReqs=[];this.andAlso=this}a.prototype.type="rule";a.prototype.and=function(a){a=k(a);this._requirements.from.push(a);return this};a.prototype.to=function(a){if(null!=
this._requirements.to)throw Error("You cannot specify `.to` more than once in a single rule.");a=k(a);this._requirements.to=a;a.isBranchingRule&&(this.isBranchingRule=!0);return this};a.prototype.where=function(a){this.whereReqs.push(a);return this};a.prototype.check=function(a){var c,d,b,g,e;c=l(a,this._requirements);if(!1===c)return!1;g=this.whereReqs;d=0;for(b=g.length;d<b;d++)if(e=g[d],c=e.check(a,c,this),!1===c)return!1;null==a.rulesChecked&&(a.rulesChecked=[]);a.rulesChecked.push({rule:this,
matches:c});return!0};return a}();d=function(a){return new F(a)};b.from=d;b.to=function(a){return d().to(a)};b.previousLineMatches=function(a){p.isString(a)&&(a=r.parse(a));return{check:function(c,d,b){for(c=c.prev;null==c.sentence&&null!=c.prev;)c=c.prev;return null==(null!=c?c.sentence:void 0)?!1:g(c,a,d)}}};b.previousLineCitesSameLines=function(){return{check:function(a,c,d){for(c=a.prev;null==c.sentence&&null!=c.prev;)c=c.prev;return a.getCitedLines().length!==c.getCitedLines().length?!1:p.intersection(a.getCitedLines(),
c.getCitedLines()).length===a.getCitedLines().length}}};b.ruleIsAppliedToEveryExistingConstantAndANewConstant=function(a){return{check:function(c,d,b){var g,e,f,h,k,m,r,B,l,q,t,y;t=c.parent.parent.getChildren();h=function(){var a,c,d;d=[];a=0;for(c=t.length;a<c;a++)y=t[a],d.push(y.getFirstLine());return d}();g=0;for(e=h.length;g<e;g++)if(q=h[g],q!==c){if(!(0<(null!=(f=q.rulesChecked)?f.length:void 0)))return d;k=function(){var a,c,d,b;d=q.rulesChecked;b=[];c=0;for(a=d.length;c<a;c++)y=d[c],b.push(y.rule);
return b}();if(0>N.call(k,b))return d}r=[];c.findAbove(function(a){null!=a.sentence&&r.push(a.sentence.getNames())});r=p.uniq(p.flatten(r));g=[];k=0;for(e=h.length;k<e;k++)for(q=h[k],l=q.rulesChecked||[{rule:b,matches:d}],B=0,f=l.length;B<f;B++)m=l[B],m.rule===b&&(m=m.matches,m=m[a],g.push(m.name));e=0;for(h=r.length;e<h;e++)if(b=r[e],0>N.call(g,b))return c.status.addMessage("you don\u2019t have a branch for the name \u2018"+b+"\u2019"),!1;e=0;for(h=g.length;e<h;e++)if(b=g[e],!(0<=N.call(r,b)))return d;
c.status.addMessage("you don\u2019t branch for a new name");return!1}}};b.branch=function(a){return e(a).isFirstLineOfASubproof()};e=function(a){var c,d;d=bb(a);c=[function(a,c){return g(a,d,c)}];a={pattern:d,check:function(a,d){var b,g,e,f;b=d;e=0;for(f=c.length;e<f;e++)if(g=c[e],b=g(a,b),!1===b)return!1;return b},toString:function(){return d.toString()},isNewName:function(a){var d;d=u(a);c.push(function(a,c){var b;b=d.clone();b=b.applyMatches(c).applySubstitutions();return t(b.name,a)?!1:c});return this},
isNotInAnyUndischargedPremise:function(a){var d;d=u(a);c.push(function(a,c){var b;b=d.clone();b=b.applyMatches(c).applySubstitutions();return B(b.name,a)?!1:c});return this},branches:function(){this.isBranchingRule=!0;c.push(function(a,c){var d;d=a.parent;return null==d.parent||d.getFirstLine()!==a?(a.status.addMessage("to use this rule you must branch"),!1):c});return this},doesntBranch:function(){c.push(function(a,c){var d;d=a.parent;return(null!=d?d.getFirstLine():void 0)===a?(a.status.addMessage("you cannot use this rule to branch"),
!1):c});return this}};return a.and=a};b.matches=e;b.replace=function(a,c){var d,b;b=bb(a);c.from=bb(c.from);c.to=bb(c.to);d=[function(a,d){var g,e,f,h;f=b.listMetaVariableNames().inExpression;g=0;for(e=f.length;g<e;g++)if(h=f[g],!(h in d))return!1;e=b.clone().applyMatches(d);g=a.sentence;null==e.box&&null!=g.box&&(g=g.clone(),delete g.box);return Ha.isOneASubstitutionInstanceOfTheOther(g,e,c)}];return{check:function(a,c){var b,g,e,f;b=c;e=0;for(f=d.length;e<f;e++)if(g=d[e],b=g(a,b),!1===b)return!1;
return b},toString:function(){return b.toString()+"["+c.from.toString()+"--\x3e"+c.to.toString()+"]"}}};g=function(a,c,d){var b,g,e,f;if("line"!==a.type)return!1;e=c.listMetaVariableNames().inSub.left;b=0;for(g=e.length;b<g;b++)if(f=e[b],!(f in d))return!1;c=c.clone().applyMatches(d);if(null===c.applySubstitutions())return!1;b=a.sentence;if(null==b)return!1;null==c.box&&null!=b.box&&(b=b.clone(),delete b.box);d=b.findMatches(c,d);if(!1===d)return!1;if(null!=c.box||"box"===c.type)if(c=("box"===c.type?
c:void 0)||(null!=c.box?c.box:void 0),c=c.applyMatches(d).applySubstitutions(),c=c.term.name,a=t(c,a),!1!==a)return!1;return d};t=function(a,c){return c.findAbove(function(c){return"line"!==c.type?!1:0<=N.call(c.sentence.getNames(),a)?!0:!1})};B=function(a,c){return c.isPremise()&&0<=N.call(c.sentence.getNames(),a)?!0:c.findAbove(function(c){return"line"===c.type&&c.isPremise()?0<=N.call(c.sentence.getNames(),a)?!0:!1:!1})};k=function(a){return p.isString(a)?e(a):a};b.subproof=function(a,c){var d,
b,g,e;g=k(a);b=k(c);d=[function(a,c){var d,e,f;e=a.getFirstLine();d=a.getLastLine();f=g.check(e,c);if(!1!==f&&(f=b.check(d,f),!1!==f))return f;d=b.check(d,c);if(!1===d)return!1;e=g.check(e,d);return!1===e?!1:e}];e=[function(){return g.toString()+" \u22a2 "+b.toString()}];return{type:"subproof",check:function(a,c){var b,g,e,f;b=c;e=0;for(f=d.length;e<f;e++)if(g=d[e],b=g(a,b),!1===b)return!1;return b},contains:function(){var a,c;a=1<=arguments.length?ca.call(arguments,0):[];a=function(){var d,b,g;g=
[];d=0;for(b=a.length;d<b;d++)c=a[d],g.push(bb(c));return g}();d.push(function(c,d){var b,g,e,h,k;h=[];k=c.content;g=0;for(e=k.length;g<e;g++)b=k[g],"line"===b.type&&(b.isPremise()||h.push(b));return f(h,a,d)});e.push(function(){var d,b,g;g=[];d=0;for(b=a.length;d<b;d++)c=a[d],g.push(c.toString());return", where this subproof contains "+g.join(" and ")});return this},toString:function(){var a,c,d,b;b="";c=0;for(d=e.length;c<d;c++)a=e[c],b+=a();return b}}};f=function(a,c,d){var b,g,e,h;if(0===c.length)return d;
c=p.clone(c);g=c.pop();d=A(a,g,d);if(0===d.length)return!1;g=0;for(e=d.length;g<e;g++)if(b=d[g],b=b.matches,b=h=f(a,c,b),!1!==h)return b;return!1};b.linesContainPatterns=f;A=function(a,c,d){var b,g,e,f,h;f=[];b=0;for(g=a.length;b<g;b++)e=a[b],h=e.sentence,h=null!=h?h.findMatches(c,d):void 0,!1!==h&&f.push({line:e,matches:h});return f};l=function(a,d){var b,g,e,f,k,m,r,B;if(!h(a,d))return!1;f=[];m=a.getCitedLines();g=0;for(k=m.length;g<k;g++)e=m[g],0<=N.call(f,e)?f.push(p.clone(e)):f.push(e);g=a.getCitedBlocks();
f=v(f);g=v(g);r=0;for(k=f.length;r<k;r++)for(e=f[r],B=0,m=g.length;B<m;B++)if(b=g[B],b=c(d,a,e,b),!1!==b)return f=b;r=a.getRuleName();g=[];null!=d.to&&g.push("on a line with the form "+d.to);m=d.from;e=0;for(f=m.length;e<f;e++)k=m[e],"subproof"===k.type?g.push(" citing a subproof of the form "+k):g.push(" citing a line of the form "+k);a.status.addMessageIfNoneAlready("you can only use "+r+" "+g.join("; ")+".");return!1};c=function(a,c,d,b){var g,e,f;g=[];null!=a.to&&g.push({req:a.to,linesOrBlocks:[c]});
f=a.from;c=0;for(e=f.length;c<e;c++)a=f[c],g.push({req:a,linesOrBlocks:("subproof"===a.type?b:void 0)||d});d=v(g);g=0;for(b=d.length;g<b;g++)if(a=d[g],a=z(a),!1!==a)return d=a;return!1};h=function(a,c){var d,b,g,e,f,h,k,m;g=a.getCitedLines().length;d=a.getCitedBlocks().length;e=b=0;m=c.from;h=0;for(f=m.length;h<f;h++)k=m[h],"subproof"===k.type?e+=1:b+=1;if(!0===(b===g&&e===d))return!0;h=G(b,"line");f=G(e,"subproof");e=(h&&f?"and ":void 0)||(h||f?void 0:"nothing")||"";g=G(g,"line");b=G(d,"subproof");
d=(g&&b?"and ":void 0)||(g||b?void 0:"nothing")||"";k=a.getRuleName();a.status.addMessage(("you must cite "+h+" "+e+f+" when using the rule "+k+" (you cited "+g+" "+d+b+").").replace(/\s\s+/g," "));return!1};z=function(a){var c,d,b,g,e,f,h,k,m,r;k=[];b={};g=0;for(e=a.length;g<e;g++){c=a[g];r=c.req;d=[];m=c.linesOrBlocks;h=0;for(f=m.length;h<f;h++)c=m[h],0>N.call(k,c)&&d.push(c);d=q(r,d,b);if(!1===d)return!1;b=d.newMatches;d=d.matchedLineOrBlock;k.push(d)}return b};q=function(a,c,d){var b,g,e,f;b=
0;for(g=c.length;b<g;b++)if(e=c[b],f=a.check(e,d),!1!==f)return{newMatches:f,matchedLineOrBlock:e};return!1};b.premise=function(){return{check:K}};K=function(a,c){return a.prev?null!=a.parent.parent?(a.status.addMessage("only the first line of a subproof may be a premise."),!1):a.findAbove(function(a){var c,d;if("line"===a.type){if(d="premise"===(null!=(c=a.justification)?c.rule.connective:void 0))return!1;if(!d)return!0}return"block"===a.type?!0:!1})?(a.status.addMessage("premises may not occur after non-premises."),
!1):c:c};b.premiseInTreeProof=function(){return{check:function(a,c){return null!=a.parent.parent?(a.status.addMessage("you cannot have a premise (aka \u2018assumption\u2019, \u2018set member\u2019) in a branch"),!1):K(a,c)}}};S=r.parse("\u03c6");y=r.parse("not \u03c6");H=r.parse("not \u03b1=\u03b1");m=function(a){a=a.findAllAbove(function(a){return"line"===a.type});return!1!==f(a,[y,S],{})||!1!==f(a,[H],{})?!0:!1};b.closeBranch=function(){return{check:function(a,c){if(null!=a.next)return a.status.addMessage("You can only close on the final line of a branch."),
!1;if(m(a))return c;a.status.addMessage("you can only close a branch if it contains either a sentence like \u2018\u00ac\u03b1=\u03b1\u2019, or two sentences like \u2018\u03c6\u2019 and \u2018\u00ac\u03c6\u2019.");return!1}}};E=r.parse("\u03b1=\u03b1");Ya=function(a){return null!=a&&!1!==a.findMatches(E)};b.openBranch=function(a){return{check:function(c,d){var b,g,e,f,h,k,B,l,q,t,p,y,u,v,G,x,H,z,A;if(null!=c.next)return c.status.addMessage("You can only put a \u2018branch open\u2019 marker on the final line of a branch."),
!1;if(m(c))return c.status.addMessage("You can only mark a branch open if it contains neither a sentence like \u2018\u00ac\u03b1=\u03b1\u2019, nor two sentences like \u2018\u03c6\u2019 and \u00ac\u2018\u03c6\u2019."),!1;G=c.findAllAbove(function(a){return"line"===a.type});q=0;for(u=G.length;q<u;q++)if(e=G[q],x=a.getTickChecker(e.sentence),!x.checkIsDecomposedInTheseLines(e,G))return c.status.addMessage("You can only mark a branch open if you have exhaustively decomposed every sentence on it, but line "+
e.number+" has not been exhaustively decomposed."),!1;q=function(){var a,c,d,b;b=[];c=0;for(a=G.length;c<a;c++)t=G[c],"identity"===(null!=(d=t.sentence)?d.type:void 0)&&!1===Ya(t.sentence)&&b.push(t);return b}();A=function(){var a,c,d;d=[];c=0;for(a=G.length;c<a;c++)t=G[c],!1===t.canBeDecomposed()&&d.push(t);return d}();x=0;for(u=q.length;x<u;x++){e=q[x];l=e.sentence.getNames();h=l[0];l=l[1];b=[];g=[];y=0;for(v=A.length;y<v;y++)z=A[y],z===e||Ya(z.sentence)||((k=0<=N.call(z.sentence.getNames(),h))&&
b.push(z),(k=0<=N.call(z.sentence.getNames(),l))&&g.push(z));H=function(){var a,c,d;d=[];c=0;for(a=G.length;c<a;c++)p=G[c],null!=p.sentence&&d.push(p.sentence.toString({replaceSymbols:!0}));return d}();v=r.parse("\u03c6["+h+"--\x3e"+l+"]").substitutions;l=r.parse("\u03c6["+l+"--\x3e"+h+"]").substitutions;B=function(a,c){var d;d=a.clone();d.substitutions=c;return d.getAllSubstitutionInstances()};f=function(a){var c,d,b,g;d=0;for(c=a.length;d<c;d++)if(g=a[d],b=g.toString({replaceSymbols:!0}),0>N.call(H,
b))return!1;return!0};h=function(a,c){var d,b,g;b=0;for(d=a.length;b<d;b++)if(g=a[b],!f(B(g,c)))return!1;return!0};y=function(){var a,c,d,g;d=b;g=[];c=0;for(a=d.length;c<a;c++)z=d[c],g.push(z.sentence);return g}();if(!h(y,v))return c.status.addMessage("You can only mark a branch open if you have exhaustively applied every identity statement in it, but you have not done so for the identity statement on line "+e.number+" ."),!1;v=function(){var a,c,d,b;d=g;b=[];c=0;for(a=d.length;c<a;c++)z=d[c],b.push(z.sentence);
return b}();if(!h(v,l))return c.status.addMessage("You can only mark a branch open if you have exhaustively applied every identity statement in it, but you have not done so for the identity statement on line "+e.number+" ."),!1}return d}}};b._notImplementedYet=function(a){throw Error("the rule `"+a.justification.rule.connective+"` (or some part of it) is not implemented yet!");};bb=function(a){p.isString(a)&&(a=r.parse(a,W));return a};u=function(a){return p.isString(a)?bb("F("+a+")").termlist[0]:
a};v=function(a){var c,d,b,g,e,f,h,k;if(0===a.length)return[[]];k=[];d=g=0;for(e=a.length-1;0<=e?g<=e:g>=e;d=0<=e?++g:--g)for(c=p.clone(a),d=c.splice(d,1),h=v(c),b=c=0,f=h.length-1;0<=f?c<=f:c>=f;b=0<=f?++c:--c)b=d.concat(h[b]),k.push(b);return k};b._permutations=v;G=function(a,c){if(0===a)return"";if(1===a)return"1 "+c;if(1<a)return a+" "+c+"s"}},{"../fol":7,"../substitute":31,"../util":33,lodash:9}],30:[function(a,D,b){D=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(D.getParser("teller"));
a={_description:"Rules of proof for classical first-order logic as presented in Paul Teller,\nA Modern Formal Logic Primer (1998).",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),a.from("not \u03c6 or \u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6"),
a.from("\u03c6 or not \u03c8").and("\u03c8").to("\u03c6")]},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:[a.from(a.subproof("\u03c6","\u03c8 and not \u03c8")).to("not \u03c6"),a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")]},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},
double_arrow:{elim:{left:[a.from("\u03c6\u2194\u03c8").to("\u03c6 arrow \u03c8"),a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6\u2194\u03c8").to("\u03c8 arrow \u03c6"),a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")]},intro:a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c6").to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},
existential:{elim:a.from("(exists \u03c4) \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("(exists \u03c4) \u03c6")},universal:{elim:a.from("(all \u03c4) \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1^]").to("(all \u03c4) \u03c6")},weakening:a.from("\u03c6").to("\u03c8 arrow \u03c6"),cases:[a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),
a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7")],DC:[a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),a.from("\u03c6 arrow not \u03c8").and("\u03c8").to("not \u03c6"),a.from("not \u03c6 arrow \u03c8").and("not \u03c8").to("\u03c6")],reductio:[a.from(a.subproof("not \u03c6","\u03c8 and not \u03c8")).to("\u03c6"),a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6")],DM:[a.from("not (\u03c6 or \u03c8)").to("not \u03c6 and not \u03c8"),
a.from("not \u03c6 and not \u03c8").to("not (\u03c6 or \u03c8)"),a.from("not (\u03c6 and \u03c8)").to("not \u03c6 or not \u03c8"),a.from("not \u03c6 or not \u03c8").to("not (\u03c6 and \u03c8)")],contraposition:[a.from("\u03c6 arrow \u03c8").to("not \u03c8 arrow not \u03c6"),a.from("not \u03c8 arrow not \u03c6").to("\u03c6 arrow \u03c8"),a.from("not \u03c6 arrow \u03c8").to("not \u03c8 arrow \u03c6"),a.from("not \u03c8 arrow \u03c6").to("not \u03c6 arrow \u03c8"),a.from("\u03c6 arrow not \u03c8").to("\u03c8 arrow not \u03c6"),
a.from("\u03c8 arrow not \u03c6").to("\u03c6 arrow not \u03c8")],C:[a.from("\u03c6 arrow \u03c8").to("not \u03c6 or \u03c8"),a.from("not \u03c6 or \u03c8").to("\u03c6 arrow \u03c8"),a.from("not (\u03c6 arrow \u03c8)").to("\u03c6 and not \u03c8"),a.from("\u03c6 and not \u03c8").to("not (\u03c6 arrow \u03c8)")],CD:a.from("\u03c6").and("not \u03c6").to("\u03c8"),"not-all":a.from("not (all \u03c4) \u03c6").to("(exists \u03c4) not \u03c6"),"all-not":a.from("(all \u03c4) not  \u03c6").to("not (exists \u03c4) \u03c6"),
"not-exists":a.from("not (exists \u03c4) \u03c6").to("(all \u03c4) not \u03c6"),"exists-not":a.from("(exists \u03c4) not \u03c6").to("not (all \u03c4) \u03c6")};b.rules=a;D.registerRuleSet("teller",a)},{"../dialect_manager/dialectManager":5,"./rule":29}],31:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c;p=a("lodash");c=a("./util");D=a("./dialect_manager/dialectManager").getParser("awFOL");v=a("./match");K={replace_arrow:{from:"\u03c6 arrow \u03c8",to:"(not \u03c6) or \u03c8"},replace_double_arrow:{from:"\u03c6 \u2194 \u03c8",
to:"(\u03c6 or (not \u03c8)) and ((not \u03c6) or \u03c8)"},demorgan1:{from:"not (\u03c6 and \u03c8)",to:"((not \u03c6) or (not \u03c8))"},demorgan2:{from:"not (\u03c6 or \u03c8)",to:"((not \u03c6) and (not \u03c8))"},dbl_neg:{from:"not not \u03c6",to:"\u03c6"},not_all:{from:"not ((all \u03c4) \u03c6)",to:"(exists \u03c4) (not \u03c6)"},not_exists:{from:"not ((exists \u03c4) \u03c6)",to:"(all \u03c4) (not \u03c6)"},cnf_left:{from:"\u03c61 or (\u03c62 and \u03c63)",to:"(\u03c61 or \u03c62) and (\u03c61 or \u03c63)"},
cnf_right:{from:"(\u03c62 and \u03c63) or \u03c61",to:"(\u03c62 or \u03c61) and (\u03c63 or \u03c61)"},all_and_left:{from:"\u03c6 and ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 and \u03c8)"},all_and_right:{from:"((all \u03c4) \u03c8) and \u03c6",to:"(all \u03c4) (\u03c8 and \u03c6)"},all_or_left:{from:"\u03c6 or ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 or \u03c8)"},all_or_right:{from:"((all \u03c4) \u03c8) or \u03c6",to:"(all \u03c4) (\u03c8 or \u03c6)"},exists_and_left:{from:"\u03c6 and ((exists \u03c4) \u03c8)",
to:"(exists \u03c4) (\u03c6 and \u03c8)"},exists_and_right:{from:"((exists \u03c4) \u03c8) and \u03c6",to:"(exists \u03c4) (\u03c8 and \u03c6)"},exists_or_left:{from:"\u03c6 or ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 or \u03c8)"},exists_or_right:{from:"((exists \u03c4) \u03c8) or \u03c6",to:"(exists \u03c4) (\u03c8 or \u03c6)"}};A={};for(u in K)z=K[u],a=D.parse(z.from),c.delExtraneousProperties(a),z=D.parse(z.to),c.delExtraneousProperties(z),a={from:a,to:z},A[u]=a;b.subsForPNF=A;K={identity:{from:"\u03c4=\u03c4",
to:"true"},not_true:{from:"not true",to:"false"},not_false:{from:"not false",to:"true"},or_duplicate:{from:"\u03c6 or \u03c6",to:"\u03c6"},or_duplicate_left:{from:"\u03c6 or (\u03c6 or \u03c8)",to:"\u03c6 or \u03c8"},or_duplicate_right:{from:"(\u03c8 or \u03c6) or \u03c6",to:"\u03c8 or \u03c6"},and_duplicate:{from:"\u03c6 and \u03c6",to:"\u03c6"},and_duplicate_left:{from:"\u03c6 and (\u03c6 and \u03c8)",to:"\u03c6 and \u03c8"},and_duplicate_right:{from:"(\u03c8 and \u03c6) and \u03c6",to:"\u03c8 and \u03c6"},
false_or:{from:"false or \u03c6",to:"\u03c6"},true_or:{from:"true or \u03c6",to:"true"},false_and:{from:"false and \u03c6",to:"false"},true_and:{from:"true and \u03c6",to:"\u03c6"},contradiction_and:{from:"\u03c6 and not \u03c6",to:"false"},contradiction_and_left:{from:"\u03c6 and (not \u03c6 and \u03c8)",to:"false"},contradiction_and_right:{from:"(\u03c8 and \u03c6) and not \u03c6",to:"false"},taut_or:{from:"\u03c6 or not \u03c6",to:"true"},taut_and_left:{from:"\u03c6 or (not \u03c6 or \u03c8)",
to:"true"},taut_and_right:{from:"(\u03c8 or \u03c6) or not \u03c6",to:"true"}};A={};for(u in K)z=K[u],a=D.parse(z.from),c.delExtraneousProperties(a),z=D.parse(z.to),c.delExtraneousProperties(z),a={from:a,to:z},A[u]=a;b.subs_eliminate_redundancy=A;x=function(a,c){var b;return(b=v.findWithoutApplyingSubs(a,c.from))?v.apply(c.to,b):a};b.doSub=x;b.doSubRecursive=function(a,b,l){null==l&&(l={});return c.walkMutate(a,function(a){return null===a||p.isArray(a)||null!=a.type&&"box"===a.type?a:x(a,b)})};E=
function(a,b,l){var k,q,t;null==l&&(l={});k=b.from;q=b.to;t=function(a){if(null===a||p.isArray(a)||t._inSub)return a;if(c.areIdenticalExpressions(a,k)){if(null===q)throw Error("_internal: replace to null");return c.cloneExpression(q)}return a};a=l.noClone?a:c.cloneExpression(a);return c.walkMutate(a,t)};b.replace=E;b.applySubstitutions=function(a){var b;b=function(a){var c,b,h,m;if(null==(null!=a?a.substitutions:void 0))return a;m=p.cloneDeep(a.substitutions);delete a.substitutions;c=0;for(b=m.length;c<
b;c++)h=m[c],h={from:h.from,to:h.to},a=E(a,h);return a};a=p.cloneDeep(a);try{return c.walkMutate(a,b)}catch(l){a=l;if("_internal: replace to null"===a.message)return null;throw a;}};F=function(a,b,l){var k;if(c.areIdenticalExpressions(a,b))return!0;k=function(a,c){var b,g,h,d;d="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");g=0;for(h=d.length;g<h;g++)if(b=d[g],null!=a[b]||null!=c[b]){if(null==a[b]||null==c[b])return!1;if(p.isString(a[b])){if(a[b]!==
c[b])return!1}else if(!F(a[b],c[b],l))return!1}return!0};if(k(a,b))return!0;a=x(c.cloneExpression(a),l);return k(a,b)?!0:!1};b.isOneASubstitutionInstanceOfTheOther=function(a,b,l){a=c.delExtraneousProperties(c.cloneExpression(a));b=c.delExtraneousProperties(c.cloneExpression(b));return F(a,b,l)};b.isThereAWayOfApplyingTheSubstitutionToMakeTheFunctionReturnTrue=function(a,b,l){a=c.cloneExpression(a);b=x(a,b);if(l(b))return!0}},{"./dialect_manager/dialectManager":5,"./match":8,"./util":33,lodash:9}],
32:[function(a,D,b){a("lodash");D.exports={"default":{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",propLanguageName:"FOL",predLanguageName:"FOL",elim:" Elim",intro:" Intro",decomposition:"D",decomposition2:"D2",premise:"Premise"},copi:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",
and:"\u2022",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"",universal:"all",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0},teller:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",
quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,"not-all":"~\u2200","all-not":"\u2200~","exists-not":"\u2203~","not-exists":"~\u2203",propLanguageName:"sentence logic",predLanguageName:"predicate logic"},forallx:{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!1,
predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",predLanguageName:"QL"},logicbook:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",predLanguageName:"PL",association:"Assoc",
premise:"Assumption",DM:"DeM",decomposition:"D",decomposition2:"D2",tick:"\u2713","double-negation":"~ ~",not_double_arrow:"~ \u2261",not_and:"~ &",not_or:"~ \u2228",not_arrow:"~ \u2283"}}},{lodash:9}],33:[function(a,D,b){var p,F,K,x,u,v,E,A,z,c,m,h,l,k,q,t={}.hasOwnProperty;p=a("lodash");E=a("./dialect_manager/dialectManager");q=function(a,c,b){var d;if(p.isArray(a)){var f,e,h;h=[];f=0;for(e=a.length;f<e;f++)d=a[f],h.push(q(d,c,b));return h}if(null===a)return c(a);null!=(null!=b?b.topDown:void 0)&&
b.topDown&&(d=c(a));c._trace&&console.log("walkMutate got "+util.expressionToString(a));null!=a.box&&(c._inBox=!0,a.box=q(a.box,c,b),c._inBox=void 0);null!=a.substitutions&&(null==c._inSubCount&&(c._inSubCount=0),c._inSubCount+=1,c._inSub=!0,a.substitutions=q(a.substitutions,c,b),--c._inSubCount,0===c._inSubCount&&(c._inSub=void 0));"substitution"===a.type&&(c._inSubLeft=!0,a.from=q(a.from,c,b),c._inSubLeft=void 0,a.to=q(a.to,c,b));null!=a.boundVariable&&(c._inBoundVariable=!0,a.boundVariable=q(a.boundVariable,
c,b),c._inBoundVariable=void 0);null!=a.termlist&&(a.termlist=q(a.termlist,c,b));null!=a.term&&(a.term=q(a.term,c,b));null!=a.left&&(a.left=q(a.left,c,b));null!=a.right&&(a.right=q(a.right,c,b));return null!=(null!=b?b.topDown:void 0)&&b.topDown?d:c(a)};b.walkMutate=q;l=function(a,c,b){var d;d=function(a){var b,h;for(b in d)t.call(d,b)&&(h=d[b],c[b]=h);c(a);return a};return q(a,d,b)};b.walk=l;k=function(a,c,b,d){var f,e,h;if(null!=b&&(d=b(a,c),void 0!==d))return d;if(null===a||null===c)return a===
c;e=[p.isBoolean,p.isNumber,p.isString];d=0;for(f=e.length;d<f;d++)if(h=e[d],h(a)||h(c))return a===c;if(p.isArray(a)||p.isArray(c)){if(!p.isArray(a)||!p.isArray(c)||a.length!==c.length)return!1;f=e=0;for(h=a.length;e<h;f=++e)if(d=a[f],!k(d,c[f],b))return!1;return!0}h="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");e=0;for(f=h.length;e<f;e++)if(d=h[e],(d in a||d in c)&&!(d in a&&d in c&&k(a[d],c[d],b)))return!1;return!0};b.walkCompare=k;x=function(a,
c,b){return k(a,c,void 0,b)};b.areIdenticalExpressions=x;z=function(a,c){var b,d,f,e;b=c(a);if(void 0!==b)return b;if(null!==a){f=[p.isBoolean,p.isNumber,p.isString];b=0;for(d=f.length;b<d;b++)if(e=f[b],e(a))return;if(p.isArray(a))for(d=0,f=a.length;d<f;d++){if(b=a[d],b=z(b,c),void 0!==b)return b}else for(e="substitutions from to box term boundVariable termlist left right type name letter value".split(" "),f=0,d=e.length;f<d;f++)if(b=e[f],b in a&&(b=z(a[b],c),void 0!==b))return b}};b.find=z;b.walkMutateFindOne=
function(a,c,b){var d,f;d=void 0;f=function(a){var b,h;if(void 0!==d)return a;for(b in f)t.call(f,b)&&(h=f[b],c[b]=h);h=c(a)||{};b=h.newExpression;d=h.aResult;return void 0!==b?b:a};a=q(a,f,b);return{theResult:d,mutatedExpression:a}};F=function(a){var c,b,d,f;if(null===a)return a;f=["location","symbol","parent"];b=0;for(d=f.length;b<d;b++)c=f[b],c in a&&delete a[c];for(c in a)t.call(a,c)&&(b=a[c],p.isFunction(b)&&delete a[c]);return a};b.delExtraneousProperties=function(a){return null==(null!=a?a.type:
void 0)?a:l(a,F)};v=function(a){var c,b,d,f,e;if(null===a)return null;d=[p.isBoolean,p.isNumber,p.isString];c=0;for(b=d.length;c<b;c++)if(f=d[c],f(a))return a;if(p.isArray(a)){f=[];b=0;for(d=a.length;b<d;b++)c=a[b],f.push(v(c));return f}c={};e="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");d=0;for(f=e.length;d<f;d++)b=e[d],b in a&&(c[b]=v(a[b]));return c};b.cloneExpression=v;A=function(a,c){var b,d,f,e,h,k;null==c&&(c={});null!=c.symbols?c.replaceSymbols=
!0:c.symbols=E.getSymbols();e=[p.isBoolean,p.isNumber,p.isString,p.isArray];b=0;for(d=e.length;b<d;b++)if(k=e[b],k(a))return""+a;h=0;b=c.replaceSymbols?v(a):p.cloneDeep(a);d=q(b,function(a){var d,b,e,f,m,l,r,q;if(null===a)return"null";h+=1;l=[p.isBoolean,p.isNumber,p.isString];b=0;for(f=l.length;b<f;b++)if(k=l[b],k(a))return""+a;if(p.isArray(a))return!1===c.symbols.predicationBracketsAndCommas?a.join(""):a.join(",");if(null==(null!=a?a.type:void 0)&&void 0===a)return"[undefined]";if("variable"===
(r=a.type)||"name"===r||"name_hat"===r||"term_metavariable"===r||"term_metavariable_hat"===r)return a.substitutions?"{"+a.name+"["+a.substitutions+"]}":a.name;if("box"===a.type)return"["+a.term+"]";if("termlist"===a.type){e=[];m=0;for(q=a.length;m<q;m++)d=a[m],e.push(d.name);return e}if("substitution"===a.type)return a.from+"--\x3e"+a.to;null!=a.box&&(d=a.box);a.substitutions&&(q="["+a.substitutions+"]");null!=a.termlist&&(b=a.name||a.symbol||c.symbols[a.type]||a.type,!0===c.symbols.singleLetterPredicates&&
"predicate"===a.type&&""!==b.replace(/[A-Z][0-9]*/,"")&&(b=b[0]),m=!1===c.symbols.predicationBracketsAndCommas?""+b+a.termlist.join(""):b+"("+a.termlist.join(",")+")");"identity"===a.type&&(b=a.symbol||"=",f=a.termlist,m=f[0],f=f[1],m=""+m+b+f);if("sentence_letter"===(e=a.type)||"expression_variable"===e)m=a.letter;"value"===a.type&&(m=""+((null!=a.symbol?a.symbol:void 0)||("false"===a.value||!1===a.value?c.symbols["false"]:void 0)||a.value));b=null!=a.right;f=e="";b&&(e="(",f=")");b=a.symbol||c.symbols[a.type]||
"";c.wrapWithDivs&&(b="<span class='_symbolWrap' data-symbolNum='"+h+"'>"+b+"</span>");null!=a.boundVariable&&(m=a.boundVariable,m=""===c.symbols.universal_quantifier||!0===c.symbols.quantifiersInBrackets?"("+b+m+")"+e+a.left+(a.right||"")+f:""+b+m+" "+e+a.left+(a.right||"")+f);null!=a.left&&null==a.boundVariable&&(m=null==a.right?""+e+b+(a.left||"")+f:""+e+(a.left||"")+" "+b+" "+(a.right||"")+f);c.wrapWithDivs&&(m="<span class='_expressionWrap'>"+m+"</span>");return""+(d||"")+m+(q||"")});b={remove_extra_whitespace:{from:/\s+/g,
to:" "},remove_space_between_quantifiers:{from:/([\u2200\u2203].)\s+([\u2200\u2203].)/,to:"$1$2"},remove_space_between_quantifier_and_brackets:{from:/([\u2200\u2203].)\s+(\()/,to:"$1$2"},remove_outer_brackets:{from:/(^\s*\()([\s\S]*)(\)\s*$)/,to:"$2"}};if(""!==c.symbols.universal_quantifier&&!0!==c.symbols.quantifiersInBrackets||null==a.boundVariable)for(f in b)e=b[f],d=d.replace(e.from,e.to);return d.trim()};b.expressionToString=A;b.matchesToString=function(a){var c,b,d;if(!1===a)return"false";if(!a)return"[no]";
c="";for(b in a)t.call(a,b)&&(d=a[b],null!=(null!=d?d.type:void 0)&&(c=c+"\n\t"+b+" : "+A(d)));return c};b.exhaust=function(a,c,b){var d;null==b&&(b=x);for(d=null;!b(d,a);)d=a,a=c(v(d));return a};b.listOfAtomicExpressionsComparator=function(a,c){var b,d,f,e;if(a.length<c.length)return-1;if(a.length>c.length)return 1;b=d=0;for(e=a.length;d<e;b=++d)if(f=a[b],b=u(f,c[b]),0!==b)return b;return 0};u=function(a,c){var b,d;b=K(a.type,c.type);if(0!==b)return b;if("not"===a.type&&"not"!==c.type)return b=u(a.left,
c),0===b?1:b;if("not"!==a.type&&"not"===c.type)return b=u(a,c.left),0===b?-1:b;if("not"===a.type&&"not"===c.type)return u(a.left,c.left);if(null!=a.value)return a.value<c.value?-1:a.value>c.value?1:0;if(null!=a.letter)return a.letter<c.letter?-1:a.letter>c.letter?1:0;if(null!=a.name)return a.name<c.name?-1:a.name>c.name?1:0;if(null!=a.termlist)return b=m(a.termlist[0],a.termlist[1],h),d=m(c.termlist[0],c.termlist[1],h),h(b,d);throw Error("Could not do a comparison for "+JSON.stringify(a,null,4));
};b.atomicExpressionComparator=u;m=function(a,c,b){return 0<b(a,c)?c:a};h=function(a,c){var b;b=K(a.type,c.type);return 0!==b?b:a.name<c.name?-1:a.name>c.name?1:0};b.termComparator=h;K=function(a,c){var b;if("not"===a||"not"===c)return 0;b={value:5,sentence_letter:10,predicate:20,identity:30,name:50,variable:60};return b[a]<b[c]?-1:b[a]>b[c]?1:0};b.listTerms=function(a){var c;c=[];l(a,function(a){var b;if("variable"===(b=a.type)||"name"===b||"term_metavariable"===b)return c.push(a)});return c};c=
function(a){var c,b;c={inExpression:[],inBox:[],inSub:{left:[],right:[]}};b=function(a){var f;if(null==(null!=a?a.type:void 0)||"term_metavariable"!==a.type&&"expression_variable"!==a.type)return a;f=(null!=(null!=a?a.letter:void 0)?a.letter:void 0)||a.name;null!=b._inSub?null!=b._inSubLeft?c.inSub.left.push(f):c.inSub.right.push(f):null!=b._inBox?c.inBox.push(f):c.inExpression.push(f);return a};l(a,b);return c};b.listMetaVariableNames=c;b.listMetaVariableNamesAsList=function(a){a=c(a);return[].concat(a.inExpression).concat(a.inBox).concat(a.inSub.left).concat(a.inSub.right)};
b.expressionTypes="existential_quantifier universal_quantifier and or nand nor arrow double_arrow not value predicate identity expression_variable sentence_letter".split(" ");b.termTypes=["name","variable","term_metavariable"];b.atomicSentenceTypes=["sentence_letter","expression_variable","identity","predicate"];b.expressionContainsSubstitutions=function(a){return!0===z(a,function(a){if(null!=(null!=a?a.substitutions:void 0))return!0})?!0:!1};b.expressionHasSub=function(a,c){var b,d,f,e;if(null==
(null!=a?a.substitutions:void 0))return!1;e=a.substitutions;d=0;for(f=e.length;d<f;d++)if(b=e[d],x(b.from,c.from)&&x(b.to,c.to))return!0;return!1};b.getLanguageNames=function(){var a,c,b;c=null!=(a=E.getSymbols())?a.propLanguageName:void 0;a=(null!=(b=E.getSymbols())?b.predLanguageName:void 0)||"quantificational logic";b=[a];null!=c&&c!==a&&b.unshift(c);return b};b.getPredLanguageName=function(){var a;return(null!=(a=E.getSymbols())?a.predLanguageName:void 0)||"quantificational logic"}},{"./dialect_manager/dialectManager":5,
lodash:9}],34:[function(a,D,b){(function(a){var b={inheritAttrs:function(a,b){for(var h in b)"function"!==typeof b[h]&&(a[h]instanceof Object&&b[h]instanceof Object?this.inheritAttrs(a[h],b[h]):a[h]=b[h])},createMerge:function(a,b){var h={};a&&this.inheritAttrs(h,this.cloneObj(a));b&&this.inheritAttrs(h,b);return h},cloneObj:function(a){if(Object(a)!==a)return a;var b=new a.constructor,h;for(h in a)a.hasOwnProperty(h)&&(b[h]=this.cloneObj(a[h]));return b},addEvent:function(a,b,h){a.addEventListener?
a.addEventListener(b,h,!1):a.attachEvent?a.attachEvent("on"+b,h):a["on"+b]=h},hasClass:function(a,b){return-1<(" "+a.className+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}},D=function(){this.loading=[]};D.prototype={processNode:function(a){for(var b=a.nodeDOM.getElementsByTagName("img"),h=b.length;h--;)this.create(a,b[h])},removeAll:function(a){for(var b=this.loading.length;b--;)this.loading[b]===a&&this.loading.splice(b,1)},create:function(a,m){function h(){l.removeAll(k);a.width=a.nodeDOM.offsetWidth;
a.height=a.nodeDOM.offsetHeight}var l=this,k=m.src;this.loading.push(k);if(m.complete)return h();b.addEvent(m,"load",h);b.addEvent(m,"error",h);m.src+="?"+(new Date).getTime()},isNotLoading:function(){return 0===this.loading.length}};var x={store:[],createTree:function(a){this.store.push(new u(a,this.store.length));return this.store[this.store.length-1]},get:function(a){return this.store[a]},destroy:function(a){var b=this.get(a);if(b){b._R.remove();for(b=b.drawArea;b.firstChild;)b.removeChild(b.firstChild);
for(var h=b.className.split(" "),l=[],k=0;k<h.length;k++){var q=h[k];"Treant"!=q&&"Treant-loaded"!=q&&l.push(q)}b.style.overflowY="";b.style.overflowX="";b.className=l.join(" ");this.store[a]=null}}},u=function(a,m){this.id=m;this.imageLoader=new D;this.CONFIG=b.createMerge(u.CONFIG,a.chart);this.drawArea=document.getElementById(this.CONFIG.container.substring(1));this.drawArea.className+=" Treant";this.nodeDB=new v(a.nodeStructure,this);this.connectionStore={}};u.prototype={positionTree:function(a){var b=
this;if(this.imageLoader.isNotLoading()){var h=this.root();this.resetLevelData();this.firstWalk(h,0);this.secondWalk(h,0,0,0);this.positionNodes();this.CONFIG.animateOnInit&&setTimeout(function(){h.toggleCollapse()},this.CONFIG.animateOnInitDelay);this.loaded||(this.drawArea.className+=" Treant-loaded","[object Function]"===Object.prototype.toString.call(a)&&a(b),this.loaded=!0)}else setTimeout(function(){b.positionTree(a)},10)},firstWalk:function(a,b){a.prelim=null;a.modifier=null;this.setNeighbors(a,
b);this.calcLevelDim(a,b);var h=a.leftSibling();if(0===a.childrenCount()||b==this.CONFIG.maxDepth)a.prelim=h?h.prelim+h.size()+this.CONFIG.siblingSeparation:0;else{for(var l=0,k=a.childrenCount();l<k;l++)this.firstWalk(a.childAt(l),b+1);l=a.childrenCenter()-a.size()/2;h?(a.prelim=h.prelim+h.size()+this.CONFIG.siblingSeparation,a.modifier=a.prelim-l,this.apportion(a,b)):a.prelim=l;a.stackParent?a.modifier+=this.nodeDB.get(a.stackChildren[0]).size()/2+a.connStyle.stackIndent:a.stackParentId&&(a.prelim=
0)}},apportion:function(a,b){for(var h=a.firstChild(),l=h.leftNeighbor(),k=1,q=this.CONFIG.maxDepth-b;h&&l&&k<=q;){for(var t=0,p=0,g=l,r=h,d=0;d<k;d++)g=g.parent(),r=r.parent(),p+=g.modifier,t+=r.modifier,void 0!==r.stackParent&&(t+=r.size()/2);t=l.prelim+p+l.size()+this.CONFIG.subTeeSeparation-(h.prelim+t);if(0<t){r=a;for(p=0;r&&r.id!=g.id;)r=r.leftSibling(),p++;if(r)for(r=a,p=t/p;r.id!=g.id;)r.prelim+=t,r.modifier+=t,t-=p,r=r.leftSibling()}k++;(h=0===h.childrenCount()?a.leftMost(0,k):h.firstChild())&&
(l=h.leftNeighbor())}},secondWalk:function(a,b,h,l){if(b<=this.CONFIG.maxDepth){var k=a.prelim+h,q=this.CONFIG.nodeAlign,t=this.CONFIG.rootOrientation,p,g;if("NORTH"==t||"SOUTH"==t)p=this.levelMaxDim[b].height,g=a.height,a.pseudo&&(a.height=p);else if("WEST"==t||"EAST"==t)p=this.levelMaxDim[b].width,g=a.width,a.pseudo&&(a.width=p);a.X=k;if(a.pseudo)if("NORTH"==t||"WEST"==t)a.Y=l;else{if("SOUTH"==t||"EAST"==t)a.Y=l+(p-g)}else a.Y="CENTER"==q?l+(p-g)/2:"TOP"==q?l+(p-g):l;if("WEST"==t||"EAST"==t)k=a.X,
a.X=a.Y,a.Y=k;"SOUTH"==t?a.Y=-a.Y-g:"EAST"==t&&(a.X=-a.X-g);0!==a.childrenCount()&&(0===a.id&&this.CONFIG.hideRootNode?this.secondWalk(a.firstChild(),b+1,h+a.modifier,l):this.secondWalk(a.firstChild(),b+1,h+a.modifier,l+p+this.CONFIG.levelSeparation));a.rightSibling()&&this.secondWalk(a.rightSibling(),b,h,l)}},positionNodes:function(){var a=this.nodeDB.getMinMaxCoord("X",null,null),b=this.nodeDB.getMinMaxCoord("Y",null,null),h=a.max-a.min,l=b.max-b.min,k=this.drawArea.clientWidth/2-(a.max-h/2),q=
this.drawArea.clientHeight/2-(b.max-l/2),a=0>=a.min+k?Math.abs(a.min):0,b=0>=b.min+q?Math.abs(b.min):0,t,p,g;this.handleOverflow(h,l);t=0;for(p=this.nodeDB.db.length;t<p;t++)if(g=this.nodeDB.get(t),0!==g.id||!this.CONFIG.hideRootNode){g.X+=a+(h<this.drawArea.clientWidth?k:this.CONFIG.padding);g.Y+=b+(l<this.drawArea.clientHeight?q:this.CONFIG.padding);var r=g.collapsedParent(),d=null;r?(d=r.connectorPoint(!0),g.hide(d)):g.positioned?g.show():(g.nodeDOM.style.left=g.X+"px",g.nodeDOM.style.top=g.Y+
"px",g.positioned=!0);0===g.id||0===g.parent().id&&this.CONFIG.hideRootNode?!this.CONFIG.hideRootNode&&g.drawLineThrough&&g.drawLineThroughMe():this.setConnectionToParent(g,d)}},handleOverflow:function(a,b){var h=a<this.drawArea.clientWidth?this.drawArea.clientWidth:a+2*this.CONFIG.padding,l=b<this.drawArea.clientHeight?this.drawArea.clientHeight:b+2*this.CONFIG.padding;this._R?this._R.setSize(h,l):this._R=Raphael(this.drawArea,h,l);if("native"==this.CONFIG.scrollbar)this.drawArea.clientWidth<a&&
(this.drawArea.style.overflowX="auto"),this.drawArea.clientHeight<b&&(this.drawArea.style.overflowY="auto");else if("fancy"==this.CONFIG.scrollbar){var k=$(this.drawArea);k.hasClass("ps-container")?(k.find(".Treant").css({width:h,height:l}),k.perfectScrollbar("update")):(k=k.wrapInner('<div class="Treant"/>'),k.find(".Treant").css({width:h,height:l}),k.perfectScrollbar())}},setConnectionToParent:function(a,b){var h=a.stackParentId,l=h?this.nodeDB.get(h):a.parent(),k=b?this.getPointPathString(b):this.getPathString(l,
a,h);this.connectionStore[a.id]?(h=this.connectionStore[a.id],this.animatePath(h,k)):(h=this._R.path(k),this.connectionStore[a.id]=h,a.pseudo&&delete l.connStyle.style["arrow-end"],l.pseudo&&delete l.connStyle.style["arrow-start"],h.attr(l.connStyle.style),(a.drawLineThrough||a.pseudo)&&a.drawLineThroughMe(b))},getPointPathString:function(a){return["_M",a.x,",",a.y,"L",a.x,",",a.y,a.x,",",a.y].join(" ")},animatePath:function(a,b){a.hidden&&"_"!==b.charAt(0)&&(a.show(),a.hidden=!1);a.animate({path:"_"===
b.charAt(0)?b.substring(1):b},this.CONFIG.animation.connectorsSpeed,this.CONFIG.animation.connectorsAnimation,function(){"_"===b.charAt(0)&&(a.hide(),a.hidden=!0)})},getPathString:function(a,b,h){var l=a.connectorPoint(!0);b=b.connectorPoint(!1);var k=this.CONFIG.rootOrientation,q=a.connStyle.type,t,p,g,r;if("NORTH"==k||"SOUTH"==k)t=g=(l.y+b.y)/2,p=l.x,r=b.x;else if("EAST"==k||"WEST"==k)p=r=(l.x+b.x)/2,t=l.y,g=b.y;var d=l.x+","+l.y,f=p+","+t,e=r+","+g,u=b.x+","+b.y;t=(p+r)/2+","+(t+g)/2;var y;if(h)if(h=
"EAST"==k||"WEST"==k?b.x+","+l.y:l.x+","+b.y,"step"==q||"straight"==q)y=["M",d,"L",h,"L",u];else{if("curve"==q||"bCurve"==q){var v;a=a.connStyle.stackIndent;"NORTH"==k?v=b.x-a+","+(b.y-a):"SOUTH"==k?v=b.x-a+","+(b.y+a):"EAST"==k?v=b.x+a+","+l.y:"WEST"==k&&(v=b.x-a+","+l.y);y=["M",d,"L",v,"S",h,u]}}else"step"==q?y=["M",d,"L",f,"L",e,"L",u]:"curve"==q?y=["M",d,"C",f,e,u]:"bCurve"==q?y=["M",d,"Q",f,t,"T",u]:"straight"==q&&(y=["M",d,"L",d,u]);return y.join(" ")},setNeighbors:function(a,b){a.leftNeighborId=
this.lastNodeOnLevel[b];a.leftNeighborId&&(a.leftNeighbor().rightNeighborId=a.id);this.lastNodeOnLevel[b]=a.id},calcLevelDim:function(a,b){this.levelMaxDim[b]?(this.levelMaxDim[b].width<a.width&&(this.levelMaxDim[b].width=a.width),this.levelMaxDim[b].height<a.height&&(this.levelMaxDim[b].height=a.height)):this.levelMaxDim[b]={width:a.width,height:a.height}},resetLevelData:function(){this.lastNodeOnLevel=[];this.levelMaxDim=[]},root:function(){return this.nodeDB.get(0)}};var v=function(a,m){function h(a,
c){var t=l.createNode(a,c,m,null);if(a.children){t.children=[];if(a.childrenDropLevel&&0<a.childrenDropLevel)for(;a.childrenDropLevel--;){var p=b.cloneObj(t.connStyle),t=l.createNode("pseudo",t.id,m,null);t.connStyle=p;t.children=[]}p=a.stackChildren&&!l.hasGrandChildren(a)?t.id:null;null!==p&&(t.stackChildren=[]);for(var g=0,r=a.children.length;g<r;g++)null!==p?(t=l.createNode(a.children[g],t.id,m,p),g+1<r&&(t.children=[])):h(a.children[g],t.id)}}this.db=[];var l=this;m.CONFIG.animateOnInit&&(a.collapsed=
!0);h(a,-1);this.createGeometries(m)};v.prototype={createGeometries:function(a){for(var b=this.db.length;b--;)this.get(b).createGeometry(a)},get:function(a){return this.db[a]},createNode:function(a,b,h,l){a=new E(a,this.db.length,b,h,l);this.db.push(a);0<=b&&this.get(b).children.push(a.id);l&&(this.get(l).stackParent=!0,this.get(l).stackChildren.push(a.id));return a},getMinMaxCoord:function(a,b,h){b=b||this.get(0);var l=b.childrenCount();for(h=h||{min:b[a],max:b[a]+("X"==a?b.width:b.height)};l--;){var k=
b.childAt(l),q=k[a]+("X"==a?k.width:k.height),p=k[a];q>h.max&&(h.max=q);p<h.min&&(h.min=p);this.getMinMaxCoord(a,k,h)}return h},hasGrandChildren:function(a){for(var b=a.children.length;b--;)if(a.children[b].children)return!0}};var E=function(a,m,h,l,k){this.id=m;this.parentId=h;this.treeId=l.id;this.modifier=this.prelim=0;this.stackParentId=k;this.pseudo="pseudo"===a||a.pseudo;this.image=a.image;this.link=b.createMerge(l.CONFIG.node.link,a.link);this.connStyle=b.createMerge(l.CONFIG.connectors,a.connectors);
this.drawLineThrough=!1===a.drawLineThrough?!1:a.drawLineThrough||l.CONFIG.node.drawLineThrough;this.collapsable=!1===a.collapsable?!1:a.collapsable||l.CONFIG.node.collapsable;this.collapsed=a.collapsed;this.text=a.text;this.nodeInnerHTML=a.innerHTML;this.nodeHTMLclass=(l.CONFIG.node.HTMLclass?l.CONFIG.node.HTMLclass:"")+(a.HTMLclass?" "+a.HTMLclass:"");this.nodeHTMLid=a.HTMLid};E.prototype={Tree:function(){return x.get(this.treeId)},dbGet:function(a){return this.Tree().nodeDB.get(a)},size:function(){var a=
this.Tree().CONFIG.rootOrientation;if(this.pseudo)return-this.Tree().CONFIG.subTeeSeparation;if("NORTH"==a||"SOUTH"==a)return this.width;if("WEST"==a||"EAST"==a)return this.height},childrenCount:function(){return this.collapsed||!this.children?0:this.children.length},childAt:function(a){return this.dbGet(this.children[a])},firstChild:function(){return this.childAt(0)},lastChild:function(){return this.childAt(this.children.length-1)},parent:function(){return this.dbGet(this.parentId)},leftNeighbor:function(){if(this.leftNeighborId)return this.dbGet(this.leftNeighborId)},
rightNeighbor:function(){if(this.rightNeighborId)return this.dbGet(this.rightNeighborId)},leftSibling:function(){var a=this.leftNeighbor();if(a&&a.parentId==this.parentId)return a},rightSibling:function(){var a=this.rightNeighbor();if(a&&a.parentId==this.parentId)return a},childrenCenter:function(a){a=this.firstChild();var b=this.lastChild();return a.prelim+(b.prelim-a.prelim+b.size())/2},collapsedParent:function(){var a=this.parent();return a?a.collapsed?a:a.collapsedParent():!1},leftMost:function(a,
b){if(a>=b)return this;if(0!==this.childrenCount())for(var h=0,l=this.childrenCount();h<l;h++){var k=this.childAt(h).leftMost(a+1,b);if(k)return k}},connectorPoint:function(a){var b=this.Tree().CONFIG.rootOrientation,h={};if(this.stackParentId)if("NORTH"==b||"SOUTH"==b)b="WEST";else if("EAST"==b||"WEST"==b)b="NORTH";"NORTH"==b?(h.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,h.y=a?this.Y+this.height:this.Y):"SOUTH"==b?(h.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/
2:this.X+this.width/2,h.y=a?this.Y:this.Y+this.height):"EAST"==b?(h.x=a?this.X:this.X+this.width,h.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2):"WEST"==b&&(h.x=a?this.X+this.width:this.X,h.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2);return h},pathStringThrough:function(){var a=this.connectorPoint(!0),b=this.connectorPoint(!1);return["M",a.x+","+a.y,"L",b.x+","+b.y].join(" ")},drawLineThroughMe:function(a){var m=a?this.Tree().getPointPathString(a):
this.pathStringThrough();this.lineThroughMe=this.lineThroughMe||this.Tree()._R.path(m);m=b.cloneObj(this.connStyle.style);delete m["arrow-start"];delete m["arrow-end"];this.lineThroughMe.attr(m);a&&(this.lineThroughMe.hide(),this.lineThroughMe.hidden=!0)},addSwitchEvent:function(a){var m=this;b.addEvent(a,"click",function(a){a.preventDefault();m.toggleCollapse()})},toggleCollapse:function(){var a=this.Tree();a.inAnimation||(a.inAnimation=!0,(this.collapsed=!this.collapsed)?$(this.nodeDOM).addClass("collapsed"):
$(this.nodeDOM).removeClass("collapsed"),a.positionTree(),setTimeout(function(){a.inAnimation=!1},a.CONFIG.animation.nodeSpeed>a.CONFIG.animation.connectorsSpeed?a.CONFIG.animation.nodeSpeed:a.CONFIG.animation.connectorsSpeed))},hide:function(a){this.nodeDOM.style.overflow="hidden";var b=$(this.nodeDOM),h=this.Tree(),l=h.CONFIG,k={left:a.x,top:a.y};this.hidden||(k.width=k.height=0);this.startW&&this.startH||(this.startW=b.outerWidth(),this.startH=b.outerHeight());!this.positioned||this.hidden?(this.nodeDOM.style.visibility=
"hidden",b.css(k),this.positioned=!0):b.animate(k,l.animation.nodeSpeed,l.animation.nodeAnimation,function(){this.style.visibility="hidden"});this.lineThroughMe&&(b=h.getPointPathString(a),this.hidden?this.lineThroughMe.attr({path:b}):h.animatePath(this.lineThroughMe,h.getPointPathString(a)));this.hidden=!0},show:function(){this.nodeDOM.style.visibility="visible";var a={left:this.X,top:this.Y},b=this.Tree(),h=b.CONFIG;this.hidden&&(a.width=this.startW,a.height=this.startH);$(this.nodeDOM).animate(a,
h.animation.nodeSpeed,h.animation.nodeAnimation,function(){this.style.overflow=""});this.lineThroughMe&&b.animatePath(this.lineThroughMe,this.pathStringThrough());this.hidden=!1}};E.prototype.createGeometry=function(a){if(0===this.id&&a.CONFIG.hideRootNode)this.height=this.width=0;else{var b=a.drawArea,h,l=this.link.href?document.createElement("a"):document.createElement("div");l.className=this.pseudo?"pseudo":E.CONFIG.nodeHTMLclass;this.nodeHTMLclass&&!this.pseudo&&(l.className+=" "+this.nodeHTMLclass);
this.nodeHTMLid&&(l.id=this.nodeHTMLid);this.link.href&&(l.href=this.link.href,l.target=this.link.target);if(!this.pseudo){if(this.nodeInnerHTML)if("#"===this.nodeInnerHTML.charAt(0)){var k=document.getElementById(this.nodeInnerHTML.substring(1));k?(l=k.cloneNode(!0),l.id+="-clone",l.className+=" node"):l.innerHTML="<b> Wrong ID selector </b>"}else l.innerHTML=this.nodeInnerHTML;else if(this.image&&(h=document.createElement("img"),h.src=this.image,l.appendChild(h)),this.text)for(k in this.text)E.CONFIG.textClass[k]&&
(h=document.createElement(this.text[k].href?"a":"p"),this.text[k].href&&(h.href=this.text[k].href,this.text[k].target&&(h.target=this.text[k].target)),h.className=E.CONFIG.textClass[k],h.appendChild(document.createTextNode(this.text[k].val?this.text[k].val:this.text[k]instanceof Object?"'val' param missing!":this.text[k])),l.appendChild(h));if(this.collapsed||this.collapsable&&this.childrenCount()&&!this.stackParentId)k=document.createElement("a"),k.className="collapse-switch",l.appendChild(k),this.addSwitchEvent(k),
this.collapsed&&(l.className+=" collapsed")}b.appendChild(l);this.width=l.offsetWidth;this.height=l.offsetHeight;this.nodeDOM=l;a.imageLoader.processNode(this)}};u.CONFIG={maxDepth:100,rootOrientation:"NORTH",nodeAlign:"CENTER",levelSeparation:30,siblingSeparation:30,subTeeSeparation:30,hideRootNode:!1,animateOnInit:!1,animateOnInitDelay:500,padding:15,scrollbar:"native",connectors:{type:"curve",style:{stroke:"black"},stackIndent:15},node:{link:{target:"_self"}},animation:{nodeSpeed:450,nodeAnimation:"linear",
connectorsSpeed:450,connectorsAnimation:"linear"}};E.CONFIG={nodeHTMLclass:"node",textClass:{name:"node-name",title:"node-title",desc:"node-desc",contact:"node-contact"}};var A={make:function(a){var b=a.length,h;for(this.jsonStructure={chart:null,nodeStructure:null};b--;)h=a[b],h.hasOwnProperty("container")?this.jsonStructure.chart=h:h.hasOwnProperty("parent")||h.hasOwnProperty("container")||(this.jsonStructure.nodeStructure=h,h.myID=this.getID());this.findChildren(a);return this.jsonStructure},findChildren:function(a){for(var b=
[0];b.length;){for(var h=b.pop(),l=this.findNode(this.jsonStructure.nodeStructure,h),k=0,q=a.length,p=[];k<q;k++){var u=a[k];u.parent&&u.parent.myID==h&&(u.myID=this.getID(),delete u.parent,p.push(u),b.push(u.myID))}p.length&&(l.children=p)}},findNode:function(a,b){var h,l;if(a.myID===b)return a;if(a.children)for(h=a.children.length;h--;)if(l=this.findNode(a.children[h],b))return l},getID:function(){var a=0;return function(){return a++}}()},z=function(a,b){a instanceof Array&&(a=A.make(a));var h=
x.createTree(a);h.positionTree(b);this.tree_id=h.id};z.prototype.destroy=function(){x.destroy(this.tree_id)};a.Treant=z})(b)},{}],35:[function(a,D,b){(function(p){var F,D,x,u,v,E,A,z,c,m,h,l;D=a("lodash");F=a("./Treant").Treant;l=a("../../love-logic_new_project/proofs/proof");v=function(a,b){var h,m,g,p;null!=b?(a.id=b.id+".c"+b.children.indexOf(a),a.parent=b):a.id="r";a.addChild=function(b){b=c(b,a);b.id=this.id+".c"+this.children.length;b.depth=this.depth+1;b.parent=this;this.children.push(b);return b};
a.addSib=function(a){return this.parent.addChild(a)};a.getSibs=function(){return null==this.parent?[this]:this.parent.children};a.clear=function(){this.children=[];this.proofText="";this.displayEditable();return this};a.setProofText=function(a){this.proofText=a;this.displayEditable();return this};a.remove=function(){var a;a=this.parent.children.indexOf(this);this.parent.children.splice(a,1);return this.parent};a.walk=function(a){var b,c,g,h;h=this.children;c=0;for(g=h.length;c<g;c++)b=h[c],b.walk(a);
return a(this)};a.setInnerHTML=function(a){this.walk(function(b){return b.innerHTML=a(b)});return this};a.getNodeLocator=function(){var a;a={};this.walk(function(b){return a[b.id]=b});return a};a._getLinesAndNumbers=function(){var a,b,c,g,h,k,l,m,q;a=this.getFirstLineNumber();q=[];h=this.proofText.split("\n");c=b=0;for(g=h.length;b<g;c=++b)l=h[c],q.push({indentation:"|",number:a+c,text:l.trim()});g=this.children;b=[];l=0;for(c=g.length;l<c;l++)a=g[l],b.push(a._getLinesAndNumbers());c=0;for(h=b.length;c<
h;c++)if(a=b[c],0<a.length){l=a[0];m=l.indentation;g=0;for(k=a.length;g<k;g++)l=a[g],l.indentation+="|",q.push(l);q.push({indentation:m,number:" ",text:""})}return q};a.toSequent=function(){var a,b,c,g,h;g=this._getLinesAndNumbers();h="";a=0;for(c=g.length;a<c;a++)b=g[a],h+=b.number+" "+b.indentation+" "+b.text+"\n";return h.trim()};a.toProofObject=function(){var a;a=this.toSequent();return l.parse(a,{treeProof:!0})};a.getLastLineNumber=function(){var b,c;b=a.proofText.split("\n").length;if(null==
a.parent)return b;var e,g,h,l;h=a.parent.getSibs();l=[];e=0;for(g=h.length;e<g;e++)c=h[e],l.push(c.getLastLineNumber());return D.max(l)+b};a.getFirstLineNumber=function(){var b;if(null==a.parent)return 1;var c,e,g,h;g=a.parent.getSibs();h=[];c=0;for(e=g.length;c<e;c++)b=g[c],h.push(b.getLastLineNumber());return D.max(h)+1};a.toBareTreeProof=function(){var a,b=this.proofText,c=this.id,g=this.depth,h,k,l,m;l=this.children;m=[];h=0;for(k=l.length;h<k;h++)a=l[h],m.push(a.toBareTreeProof());return{proofText:b,
id:c,depth:g,children:m}};a.verify=function(){var a,b;a=this.toProofObject();b=a.verifyTree();a=a.listErrorMessages();return{isCorrect:b,errorMessages:a}};a.convertToSymbols=function(){var a;a=this.toSequent();a=l.parse(a,{treeProof:!0});if(D.isString(a))return a;a=u(a);a.container=this.container;a.onChange=this.onChange;return v(a)};a.displayEditable=function(b,c,e){var g,h,l;null==this.container&&(this.container=b);null==this.onChange&&(this.onChange=c);g=$(window).scrollLeft();h=$(window).scrollTop();
this.resizeContainer(50,50);l=this;A(a,this.container,this.onChange,function(a){l.resizeContainer();$(window).scrollLeft(g);$(window).scrollTop(h);return"function"===typeof e?e(a):void 0});return a};a.displayStatic=function(b){null==this.container&&(this.container=b);this.resizeContainer(50,50);z(a,b);this.resizeContainer();return a};a.resizeContainer=function(a,b){var c;c=$("svg",this.container);null==a&&(a=c.width()+150);null==b&&(b=c.height()+50);c=$(this.container);c.height(b);return c.width(a)};
a.areAllBranchesClosed=function(){return this.toProofObject().areAllBranchesClosed()};a.areAllBranchesClosedOrOpen=function(){return this.toProofObject().areAllBranchesClosedOrOpen()};a.hasOpenBranch=function(){return this.toProofObject().hasOpenBranch()};a.getPremises=function(){return this.toProofObject().getPremises()};p=a.children;m=0;for(g=p.length;m<g;m++)h=p[m],v(h,a);return a};b.decorateTreeProof=v;c=function(a,b){var c;c={proofText:a.trim(),depth:0,children:[]};return v(c,b)};b.makeTreeProof=
c;E=function(a,b,c,h){$(b).html("");a=a.setInnerHTML(c);b=new F({chart:{container:b,nodeAlign:"BOTTOM",connectors:{type:"straight"}},nodeStructure:a},h);return p.theTreant=b};b.display=E;z=function(a,b){return E(a,b,m)};b.displayStatic=z;A=function(a,b,c,l){return E(a,b,h,function(){var g,h,d,f,e,m,p,u,v;p={theme:"blackboardTree",smartIndent:!0,lineNumbers:!0,autofocus:!0,mode:"fol",matchBrackets:!0,tabSize:4,extraKeys:{Tab:function(a){return a.replaceSelection("    ")}}};m=a.getNodeLocator();h={};
v=$(b+" textarea");d=0;for(f=v.length;d<f;d++)g=v[d],u=$(g).attr("data-proofId"),e=m[u],p.firstLineNumber=e.getFirstLineNumber(),g=CodeMirror.fromTextArea(g,p),h[u]=g,g.on("change",function(a){return function(b){b=b.getValue();a.proofText=b;return"function"===typeof c?c(a):void 0}}(e)),g.on("keyHandled",function(a,b,c){return function(b,c,d){if("Enter"===c)return $("#treeAddChild"+a.id.replace(".","-")).parent().animate({marginTop:"+=1.5em"})}}(e,a,b));$(".treeAddChild").click(function(a,b,d){return function(f){var g;
e=x($(f.target),d);g=e.addChild("");g.addSib("");a.displayEditable(b,void 0,function(a){return a[g.id].focus()});return"function"===typeof c?c(e):void 0}}(a,b,m));$(".treeAddSib").click(function(a,b,d){return function(f){e=x($(f.target),d);e.addSib("");a.displayEditable(b);return"function"===typeof c?c(e):void 0}}(a,b,m));$(".treeRemoveNode").click(function(a,b,d){return function(f){e=x($(f.target),d);e.remove();a.displayEditable(b);return"function"===typeof c?c(e):void 0}}(a,b,m));return"function"===
typeof l?l(h):void 0})};b.displayEditable=A;x=function(a,b){var c;c=a.attr("data-proofId");null==c&&(c=a.parent().attr("data-proofId"));return b[c]};m=function(a){var b,c,h,g,l,d;b=a.proofText;a=a.getFirstLineNumber();l=[];d=b.split("\n");c=b=0;for(h=d.length;b<h;c=++b)g=d[c],l.push(a+c+".  "+g.trim());return"<div style='white-space:pre;margin-left:3em;'>"+l.join("<br>")};h=function(a){var b,c,h,g;h=a.proofText;b=null==a.children||0===a.children.length;g=null!=(c=a.parent)?c.children:void 0;c=a===
(null!=g?g[(null!=g?g.length:NaN)-1]:void 0);h="<div style='white-space:pre;margin-left:3em;width:325px;height:"+23*h.split("\n").length+"px;'><textarea data-proofId='"+a.id+"'>"+h+"</textarea></div>";b&&(h+="<div class='center' style='margin-left:3em;margin-top:2em;'><a id='treeAddChild"+a.id.replace(".","-")+"' class='treeAddChild hint--bottom' data-hint='branch' data-proofId='"+a.id+"'><i class='material-icons branch'>add_circle_outline</i></a></div>",c&&(b="<a class='treeRemoveNode hint--bottom' data-hint='remove rightmost node' data-proofId='"+
a.id+"' ><i class='material-icons'>remove_circle_outline</i></a>",a="<a class='treeAddSib hint--bottom' data-hint='add a node' data-proofId='"+a.id+"' ><i class='material-icons'>add_circle_outline</i></a>",h="<div style='width:300px;'><div style='float:right;'>"+b+a+"</div>"+h+"</div>"));return h};b.areDistinctProofs=function(a,b){if(a===b)return!1;if(null==a||null==b)return!0;a=v(D.clone(a));b=v(D.clone(b));return a.toSequent()!==b.toSequent()};u=function(a){var b,c,h,g,l;g=a.detachChildren();a=
g.childlessProof;c=g.children;h=a.removeBlankAndDividerLines().toString({treeProof:!0,numberLines:!1});h=function(){var a,b,c,g;c=h.split("\n");g=[];a=0;for(b=c.length;a<b;a++)l=c[a],g.push(l.trim());return g}().join("\n");a={proofText:h,children:function(){var a,f,e;e=[];a=0;for(f=c.length;a<f;a++)b=c[a],e.push(u(b));return e}()};return v(a)};b.convertProofToTreeProof=u;b.fromSequent=function(a){return v(u(l.parse(a,{treeProof:!0})))}}).call(this,"undefined"!==typeof global?global:"undefined"!==
typeof self?self:"undefined"!==typeof window?window:{})},{"../../love-logic_new_project/proofs/proof":28,"./Treant":34,lodash:36}],36:[function(a,D,b){(function(a){(function(){function F(a,b){a.set(b[0],b[1]);return a}function K(a,b){a.add(b);return a}function x(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function u(a,b,c,d){for(var e=-1,f=a.length;++e<f;){var g=a[e];b(d,g,
c(g),a)}return d}function v(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}function E(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function A(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function z(a,b){return!!a.length&&-1<r(a,b,0)}function c(a,b,c){for(var d=-1,e=a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function m(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function h(a,b){for(var c=
-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function l(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function k(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function q(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function t(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===w?g===g:c(g,h)))var h=g,k=f}return k}function B(a,b,c,d){var e;c(a,function(a,c,f){if(b(a,c,f))return e=
d?c:a,!1});return e}function g(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function r(a,b,c){if(b!==b)return I(a,c);--c;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}function d(a,b,c,d,e){e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)});return c}function f(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function e(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==w&&(c=c===w?f:c+f)}return c}function H(a,b){for(var c=-1,d=Array(a);++c<
a;)d[c]=b(c);return d}function y(a,b){return m(b,function(b){return[b,a[b]]})}function G(a){return function(b){return a(b)}}function bb(a,b){return m(b,function(b){return a[b]})}function W(a,b){for(var c=-1,d=a.length;++c<d&&-1<r(b,a[c],0););return c}function S(a,b){for(var c=a.length;c--&&-1<r(b,a[c],0););return c}function fa(a){return a&&a.Object===Object?a:null}function Ya(a,b){if(a!==b){var c=null===a,d=a===w,e=a===a,f=null===b,g=b===w,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(a<b&&!c||
!h||f&&!d&&e||g&&e)return-1}return 0}function Ha(a){return gb[a]}function N(a){return Kc[a]}function ca(a){return"\\"+$e[a]}function I(a,b,c){var d=a.length;for(b+=c?0:-1;c?b--:++b<d;){var e=a[b];if(e!==e)return b}return-1}function C(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}function xa(a,b){a="number"==typeof a||Ye.test(a)?+a:-1;return-1<a&&0==a%1&&a<(null==b?9007199254740991:b)}function od(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}
function fb(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}function Ib(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];if(g===b||"__lodash_placeholder__"===g)a[c]="__lodash_placeholder__",f[++e]=c}return f}function qd(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function cc(a){if(!a||!pc.test(a))return a.length;for(var b=Ba.lastIndex=0;Ba.test(a);)b++;return b}function Df(a){return zb[a]}function He(a){function b(a){if(ma(a)&&!V(a)&&
!(a instanceof U)){if(a instanceof D)return a;if(qa.call(a,"__wrapped__"))return Dd(a)}return new D(a)}function p(){}function D(a,b){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!b;this.__index__=0;this.__values__=w}function U(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function na(){}function fa(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function La(a){var b=
-1,c=a?a.length:0;for(this.__data__=new fa;++b<c;)this.push(a[b])}function Ea(a,b){var c=a.__data__;return Rb(b)?(c=c.__data__,"__lodash_hash_undefined__"===("string"==typeof b?c.string:c.hash)[b]):c.has(b)}function vb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function gb(a,b){var c=Qa(a,b);if(0>c)return!1;c==a.length-1?a.pop():kd.call(a,c,1);return!0}function ub(a,b){var c=Qa(a,b);return 0>c?w:a[c][1]}function Qa(a,b){for(var c=a.length;c--;)if(da(a[c][0],
b))return c;return-1}function zb(a,b,c){var d=Qa(a,b);0>d?a.push([b,c]):a[d][1]=c}function tb(a,b,c,d){return a===w||da(a,ic[c])&&!qa.call(d,c)?b:a}function tc(a,b,c){if(c!==w&&!da(a[b],c)||"number"==typeof b&&c===w&&!(b in a))a[b]=c}function uc(a,b,c){var d=a[b];qa.call(a,b)&&da(d,c)&&(c!==w||b in a)||(a[b]=c)}function Yb(a,b,c,d){yb(a,function(a,ya,e){b(d,a,c(a),e)});return d}function Xb(a,b){return a&&Ra(b,ua(b),a)}function Da(a,b){for(var c=-1,d=null==a,e=b.length,f=Array(e);++c<e;)f[c]=d?w:$b(a,
b[c]);return f}function Nc(a){return ta(a)?a:[]}function Ab(a){return"function"==typeof a?a:Fa}function Bb(a){return V(a)?a:zd(a)}function wb(a,b,c){a===a&&(c!==w&&(a=a<=c?a:c),b!==w&&(a=a>=b?a:b));return a}function Ta(a,b,c,d,e,f){var g;c&&(g=e?c(a,d,e,f):c(a));if(g!==w)return g;if(!oa(a))return a;if(d=V(a)){if(g=Mc(a),!b)return ia(a,g)}else{var h=Wa(a),k="[object Function]"==h||"[object GeneratorFunction]"==h;if(Of(a))return De(a,b);if("[object Object]"==h||"[object Arguments]"==h||k&&!e){if(C(a))return e?
a:{};g=Ie(k?{}:a);if(!b)return Ld(a,Xb(g,a))}else{if(!aa[h])return e?a:{};g=Pd(a,h,b)}}f||(f=new vb);if(e=f.get(a))return e;f.set(a,g);(d?v:Va)(a,function(d,e){uc(g,e,Ta(d,b,c,e,a,f))});return d?g:Ld(a,g)}function Kc(a){var b=ua(a),c=b.length;return function(d){if(null==d)return!c;for(var e=c;e--;){var f=b[e],g=a[f],h=d[f];if(h===w&&!(f in Object(d))||!g(h))return!1}return!0}}function Sb(a){return oa(a)?nf(a):{}}function ye(a,b,c){if("function"!=typeof a)throw new Za("Expected a function");return jd(function(){a.apply(w,
c)},b)}function nb(a,b,d,e){var f=-1,g=z,h=!0,k=a.length,l=[],n=b.length;if(!k)return l;d&&(b=m(b,G(d)));e?(g=c,h=!1):200<=b.length&&(g=Ea,h=!1,b=new La(b));a:for(;++f<k;){var p=a[f],q=d?d(p):p;if(h&&q===q){for(var r=n;r--;)if(b[r]===q)continue a;l.push(p)}else g(b,q,e)||l.push(p)}return l}function Pc(a,b){var c=!0;yb(a,function(a,d,ya){return c=!!b(a,d,ya)});return c}function Ad(a,b){var c=[];yb(a,function(a,d,ya){b(a,d,ya)&&c.push(a)});return c}function la(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<
f;){var g=a[e];0<b&&ta(g)&&(c||V(g)||sa(g))?1<b?la(g,b-1,c,d):h(d,g):c||(d[d.length]=g)}return d}function ze(a,b){return null==a?a:me(a,b,Ga)}function Va(a,b){return a&&me(a,b,ua)}function Rc(a,b){return a&&Se(a,b,ua)}function vc(a,b){return A(b,function(b){return Ca(a[b])})}function Sc(a,b){b=pb(b,a)?[b+""]:Bb(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[b[c++]];return c&&c==d?a:w}function Vc(a,b){return qa.call(a,b)||"object"==typeof a&&b in a&&null===id(a)}function Ae(a,b){return b in Object(a)}
function Wc(a,b,d){for(var e=d?c:z,f=a.length,g=f,h=Array(f),k=[];g--;){var l=a[g];g&&b&&(l=m(l,G(b)));h[g]=!d&&(b||120<=l.length)?new La(g&&l):w}var l=a[0],n=-1,p=l.length,q=h[0];a:for(;++n<p;){var r=l[n],t=b?b(r):r;if(q?!Ea(q,t):!e(k,t,d)){for(g=f;--g;){var u=h[g];if(u?!Ea(u,t):!e(a[g],t,d))continue a}q&&q.push(t);k.push(r)}}return k}function Be(a,b,c,d){Va(a,function(a,ya,e){b(d,c(a),ya,e)});return d}function bc(a,b,c){pb(b,a)||(b=Bb(b),a=Hb(a,b),b=pa(b));b=null==a?a:a[b];return null==b?w:x(b,
a,c)}function Cb(a,b,c,d,e){if(a===b)return!0;if(null==a||null==b||!oa(a)&&!ma(b))return a!==a&&b!==b;a:{var g=V(a),f=V(b),h="[object Array]",k="[object Array]";g||(h=Wa(a),"[object Arguments]"==h?h="[object Object]":"[object Object]"!=h&&(g=Sa(a)));f||(k=Wa(b),"[object Arguments]"==k?k="[object Object]":"[object Object]"!=k&&Sa(b));var l="[object Object]"==h&&!C(a),f="[object Object]"==k&&!C(b),k=h==k;if(!k||g||l){if(!(d&2)&&(h=l&&qa.call(a,"__wrapped__"),f=f&&qa.call(b,"__wrapped__"),h||f)){a=Cb(h?
a.value():a,f?b.value():b,c,d,e);break a}k?(e||(e=new vb),a=(g?Sd:Ge)(a,b,Cb,c,d,e)):a=!1}else a=ba(a,b,h,Cb,c,d)}return a}function Xc(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){var h=c[e],k=h[0],l=a[k],m=h[1];if(g&&h[2]){if(l===w&&!(k in a))return!1}else if(h=new vb,k=d?d(l,m,k,a,b,h):w,k===w?!Cb(m,l,d,3,h):!k)return!1}return!0}function Yc(a){var b=typeof a;return"function"==b?a:null==a?Fa:"object"==
b?V(a)?Ed(a[0],a[1]):$c(a):Me(a)}function Bd(a){a=null==a?a:Object(a);var b=[],c;for(c in a)b.push(c);return b}function Ce(a,b){var c=-1,d=Xa(a)?Array(a.length):[];yb(a,function(a,ya,e){d[++c]=b(a,ya,e)});return d}function $c(a){var b=Dc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==w||c in Object(a))}}return function(c){return c===a||Xc(c,a,b)}}function Ed(a,b){return function(c){var d=$b(c,a);return d===w&&d===b?nc(c,a):Cb(b,d,w,3)}}function db(a,
b,c,d,e){if(a!==b){var f=V(b)||Sa(b)?w:Ga(b);v(f||b,function(g,h){f&&(h=g,g=b[h]);if(oa(g)){e||(e=new vb);var k=h,l=e,m=a[k],n=b[k],p=l.get(n);if(!p){var p=d?d(m,n,k+"",a,b,l):w,q=p===w;q&&(p=n,V(n)||Sa(n)?V(m)?p=m:ta(m)?p=ia(m):(q=!1,p=Ta(n,!0)):Oc(n)||sa(n)?sa(m)?p=Ke(m):!oa(m)||c&&Ca(m)?(q=!1,p=Ta(n,!0)):p=m:q=!1);l.set(n,p);q&&db(p,n,c,d,l)}tc(a,k,p)}else k=d?d(a[h],g,h+"",a,b,e):w,k===w&&(k=g),tc(a,h,k)})}}function ve(a,b,c){var d=-1,e=P();b=m(b.length?b:Array(1),function(a){return e(a)});a=
Ce(a,function(a,c,ya){return{criteria:m(b,function(b){return b(a)}),index:++d,value:a}});return f(a,function(a,b){var d;a:{d=-1;for(var ya=a.criteria,Xe=b.criteria,e=ya.length,g=c.length;++d<e;){var f=Ya(ya[d],Xe[d]);if(f){if(d>=g){d=f;break a}d=f*("desc"==c[d]?-1:1);break a}}d=a.index-b.index}return d})}function xe(a,b){a=Object(a);return l(b,function(b,c){c in a&&(b[c]=a[c]);return b},{})}function we(a,b){var c={};ze(a,function(a,d){b(a,d)&&(c[d]=a)});return c}function ea(a){return function(b){return null==
b?w:b[a]}}function Tc(a){return function(b){return Sc(b,a)}}function Pb(a,b,c){var d=-1,e=b.length,g=a;for(c&&(g=m(a,function(a){return c(a)}));++d<e;)for(var f=0,h=b[d],h=c?c(h):h;-1<(f=r(g,h,f));)g!==a&&kd.call(g,f,1),kd.call(a,f,1);return a}function vd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(d==c||e!=g){var g=e;if(xa(e))kd.call(a,e,1);else if(pb(e,a))delete a[e];else{var e=Bb(e),f=Hb(a,e);null!=f&&delete f[pa(e)]}}}return a}function Fb(a,b){return a+md(R()*(b-a+1))}function td(a,
b,c,d){b=pb(b,a)?[b+""]:Bb(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var k=b[e];if(oa(h)){var l=c;if(e!=g){var m=h[k],l=d?d(m,k,h):w;l===w&&(l=null==m?xa(b[e+1])?[]:{}:m)}uc(h,k,l)}h=h[k]}return a}function sb(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b);c=c>e?e:c;0>c&&(c+=e);e=b>c?0:c-b>>>0;b>>>=0;for(c=Array(e);++d<e;)c[d]=a[d+b];return c}function Ze(a,b){var c;yb(a,function(a,d,ya){c=b(a,d,ya);return!c});return!!c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===
b&&2147483647>=e){for(;d<e;){var f=d+e>>>1,g=a[f];(c?g<=b:g<b)&&null!==g?d=f+1:e=f}return e}return ra(a,b,Fa,c)}function ra(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,k=b===w;e<f;){var l=md((e+f)/2),m=c(a[l]),n=m!==w,p=m===m;(g?p||d:h?p&&n&&(d||null!=m):k?p&&(d||n):null==m?0:d?m<=b:m<b)?e=l+1:f=l}return $a(f,4294967294)}function rb(a,b){for(var c=0,d=a.length,e=a[0],f=b?b(e):e,g=f,h=0,k=[e];++c<d;)e=a[c],f=b?b(e):e,da(f,g)||(g=f,k[++h]=e);return k}function Q(a,b,d){var e=-1,f=z,
g=a.length,h=!0,k=[],l=k;if(d)h=!1,f=c;else if(200<=g){if(f=b?null:vf(a))return qd(f);h=!1;f=Ea;l=new La}else l=b?[]:k;a:for(;++e<g;){var m=a[e],n=b?b(m):m;if(h&&n===n){for(var p=l.length;p--;)if(l[p]===n)continue a;b&&l.push(n);k.push(m)}else f(l,n,d)||(l!==k&&l.push(n),k.push(m))}return k}function lb(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?sb(a,d?0:f,d?f+1:e):sb(a,d?f+1:0,d?e:f)}function Uc(a,b){var c=a;c instanceof U&&(c=c.value());return l(b,function(a,b){return b.func.apply(b.thisArg,
h([a],b.args))},c)}function Ua(a,b,c){for(var d=-1,e=a.length;++d<e;)var f=f?h(nb(f,a[d],b,c),nb(a[d],f,b,c)):a[d];return f&&f.length?Q(f,b,c):[]}function Hd(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;)c(g,a[d],d<f?b[d]:w);return g}function De(a,b){if(b)return a.slice();var c=new a.constructor(a.length);a.copy(c);return c}function Jd(a){var b=new a.constructor(a.byteLength);(new hd(b)).set(new hd(a));return b}function Kd(a,b,c,d){var e=-1,f=a.length,g=c.length,h=-1,k=b.length,l=Aa(f-g,0),
m=Array(k+l);for(d=!d;++h<k;)m[h]=b[h];for(;++e<g;)if(d||e<f)m[c[e]]=a[e];for(;l--;)m[h++]=a[e++];return m}function Qc(a,b,c,d){var e=-1,f=a.length,g=-1,h=c.length,k=-1,l=b.length,m=Aa(f-h,0),n=Array(m+l);for(d=!d;++e<m;)n[e]=a[e];for(m=e;++k<l;)n[m+k]=b[k];for(;++g<h;)if(d||e<f)n[m+c[g]]=a[e++];return n}function ia(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function Ra(a,b,c){return Jc(a,b,c)}function Jc(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=
d?d(c[g],a[g],g,c,a):a[g];uc(c,g,h)}return c}function Ld(a,b){return Ra(a,Ue(a),b)}function zc(a,b){return function(c,d){var e=V(c)?u:Yb,f=b?b():{};return e(c,a,P(d),f)}}function Tb(a){return O(function(b,c){var d=-1,e=c.length,f=1<e?c[e-1]:w,g=2<e?c[2]:w,f="function"==typeof f?(e--,f):w;g&&eb(c[0],c[1],g)&&(f=3>e?w:f,e=1);for(b=Object(b);++d<e;)(g=c[d])&&a(b,g,d,f);return b})}function ad(a,b){return function(c,d){if(null==c)return c;if(!Xa(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?
f--:++f<e)&&!1!==d(g[f],f,g););return c}}function Zb(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var g=d.length;g--;){var h=d[a?g:++e];if(!1===c(f[h],h,f))break}return b}}function Ee(a,b,c){function d(){return(this&&this!==cb&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=b&1,f=ec(a);return d}function Md(a){return function(b){b=Y(b);var c=pc.test(b)?b.match(Ba):w,d=c?c[0]:b.charAt(0);b=c?c.slice(1).join(""):b.slice(1);return d[a]()+b}}function Jb(a){return function(b){return l(Fd(Lc(b)),
a,"")}}function ec(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Sb(a.prototype),b=a.apply(c,b);return oa(b)?b:c}}function Fe(a,b,c){function d(){for(var f=arguments.length,g=Array(f),
h=f,k=Z(d);h--;)g[h]=arguments[h];h=3>f&&g[0]!==k&&g[f-1]!==k?[]:Ib(g,k);f-=h.length;return f<c?Rd(a,b,fc,d.placeholder,w,g,h,w,w,c-f):x(this&&this!==cb&&this instanceof d?e:a,this,g)}var e=ec(a);return d}function Nd(a){return O(function(b){b=la(b,1);var c=b.length,d=c,e=D.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new Za("Expected a function");if(e&&!g&&"wrapper"==Pa(f))var g=new D([],!0)}for(d=g?d:c;++d<c;)var f=b[d],e=Pa(f),h="wrapper"==e?ne(f):w,g=h&&Ec(h[0])&&
424==h[1]&&!h[4].length&&1==h[9]?g[Pa(h[0])].apply(g,h[3]):1==f.length&&Ec(f)?g[e]():g.thru(f);return function(){var a=arguments,d=a[0];if(g&&1==a.length&&V(d)&&200<=d.length)return g.plant(d).value();for(var ya=0,a=c?b[ya].apply(this,a):d;++ya<c;)a=b[ya].call(this,a);return a}})}function fc(a,b,c,d,e,f,g,h,k,l){function m(){for(var v=arguments.length,y=v,x=Array(v);y--;)x[y]=arguments[y];if(r){var z=Z(m),A,y=x.length;for(A=0;y--;)x[y]===z&&A++}d&&(x=Kd(x,d,e,r));f&&(x=Qc(x,f,g,r));v-=A;if(r&&v<l)return z=
Ib(x,z),Rd(a,b,fc,m.placeholder,c,x,z,h,k,l-v);z=p?c:this;y=q?z[a]:a;v=x.length;if(h){A=x.length;for(var B=$a(h.length,A),C=ia(x);B--;){var D=h[B];x[B]=xa(D,A)?C[D]:w}}else t&&1<v&&x.reverse();n&&k<v&&(x.length=k);this&&this!==cb&&this instanceof m&&(y=u||ec(y));return y.apply(z,x)}var n=b&128,p=b&1,q=b&2,r=b&24,t=b&512,u=q?w:ec(a);return m}function Od(a,b){return function(c,d){return Be(c,a,b(d),{})}}function Ac(a){return O(function(b){b=m(la(b,1),P());return O(function(c){var d=this;return a(b,
function(a){return x(a,d,c)})})})}function gc(a,b,c){b=T(b);a=cc(a);if(!b||a>=b)return"";b-=a;c=c===w?" ":c+"";a=ud(c,ld(b/cc(c)));return pc.test(c)?a.match(Ba).slice(0,b).join(""):a.slice(0,b)}function Qd(a,b,c,d){function e(){for(var b=-1,Xe=arguments.length,h=-1,k=d.length,l=Array(k+Xe),m=this&&this!==cb&&this instanceof e?g:a;++h<k;)l[h]=d[h];for(;Xe--;)l[h++]=arguments[++b];return x(m,f?c:this,l)}var f=b&1,g=ec(a);return e}function Bc(a){return function(b,c,d){d&&"number"!=typeof d&&eb(b,c,d)&&
(c=d=w);b=X(b);b=b===b?b:0;c===w?(c=b,b=0):c=X(c)||0;d=d===w?b<c?1:-1:X(d)||0;var e=-1;c=Aa(ld((c-b)/(d||1)),0);for(var f=Array(c);c--;)f[a?c:++e]=b,b+=d;return f}}function Rd(a,b,c,d,e,f,g,h,k,l){var m=b&8;h=h?ia(h):w;var n=m?g:w;g=m?w:g;var p=m?f:w;f=m?w:f;b=(b|(m?32:64))&~(m?64:32);b&4||(b&=-4);b=[a,b,e,p,n,f,g,h,k,l];c=c.apply(w,b);Ec(a)&&Ve(c,b);c.placeholder=d;return c}function bd(a){var b=hc[a];return function(a,c){a=X(a);if(c=T(c)){var d=(Y(a)+"e").split("e"),d=b(d[0]+"e"+(+d[1]+c)),d=(Y(d)+
"e").split("e");return+(d[0]+"e"+(+d[1]-c))}return b(a)}}function qb(a,b,c,d,e,f,g,h){var k=b&2;if(!k&&"function"!=typeof a)throw new Za("Expected a function");var l=d?d.length:0;l||(b&=-97,d=e=w);g=g===w?g:Aa(T(g),0);h=h===w?h:T(h);l-=e?e.length:0;if(b&64){var m=d,n=e;d=e=w}var p=k?w:ne(a);f=[a,b,c,d,e,m,n,f,g,h];if(p&&(c=f[1],a=p[1],b=c|a,d=128==a&&8==c||128==a&&256==c&&f[7].length<=p[8]||384==a&&p[7].length<=p[8]&&8==c,131>b||d)){a&1&&(f[2]=p[2],b|=c&1?0:4);if(c=p[3])d=f[3],f[3]=d?Kd(d,c,p[4]):
ia(c),f[4]=d?Ib(f[3],"__lodash_placeholder__"):ia(p[4]);if(c=p[5])d=f[5],f[5]=d?Qc(d,c,p[6]):ia(c),f[6]=d?Ib(f[5],"__lodash_placeholder__"):ia(p[6]);(c=p[7])&&(f[7]=ia(c));a&128&&(f[8]=null==f[8]?p[8]:$a(f[8],p[8]));null==f[9]&&(f[9]=p[9]);f[0]=p[0];f[1]=b}a=f[0];b=f[1];c=f[2];d=f[3];e=f[4];h=f[9]=null==f[9]?k?0:a.length:Aa(f[9]-l,0);!h&&b&24&&(b&=-25);k=b&&1!=b?8==b||16==b?Fe(a,b,h):32!=b&&33!=b||e.length?fc.apply(w,f):Qd(a,b,c,d):Ee(a,b,c);return(p?Te:Ve)(k,f)}function Sd(a,b,c,d,e,f){var g=-1,
h=e&2,k=e&1,l=a.length,m=b.length;if(l!=m&&!(h&&m>l))return!1;if(m=f.get(a))return m==b;m=!0;for(f.set(a,b);++g<l;){var n=a[g],p=b[g];if(d)var r=h?d(p,n,g,b,a,f):d(n,p,g,a,b,f);if(r!==w){if(r)continue;m=!1;break}if(k){if(!q(b,function(a){return n===a||c(n,a,d,e,f)})){m=!1;break}}else if(n!==p&&!c(n,p,d,e,f)){m=!1;break}}f["delete"](a);return m}function ba(a,b,c,d,e,f){switch(c){case "[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!d(new hd(a),new hd(b)))break;return!0;case "[object Boolean]":case "[object Date]":return+a==
+b;case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object Number]":return a!=+a?b!=+b:a==+b;case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var g=fb;case "[object Set]":return g||(g=qd),(f&2||a.size==b.size)&&d(g(a),g(b),e,f|1);case "[object Symbol]":return!!xb&&va.call(a)==va.call(b)}return!1}function Ge(a,b,c,d,e,f){var g=e&2,h=ua(a),k=h.length,l=ua(b).length;if(k!=l&&!g)return!1;for(var m=k;m--;){var n=h[m];if(!(g?n in b:Vc(b,n)))return!1}if(l=
f.get(a))return l==b;l=!0;f.set(a,b);for(var p=g;++m<k;){var n=h[m],q=a[n],r=b[n];if(d)var t=g?d(r,q,n,b,a,f):d(q,r,n,a,b,f);if(t===w?q!==r&&!c(q,r,d,e,f):!t){l=!1;break}p||(p="constructor"==n)}l&&!p&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(l=!1));f["delete"](a);return l}function Pa(a){for(var b=a.name+"",c=Ic[b],d=qa.call(Ic,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}
function P(){var a=b.iteratee||Zc,a=a===Zc?Yc:a;return arguments.length?a(arguments[0],arguments[1]):a}function Dc(a){a=ac(a);for(var b=a.length;b--;){var c=a[b],d;d=a[b][1];d=d===d&&!oa(d);c[2]=d}return a}function jb(a,b){var c=null==a?w:a[b];return sc(c)?c:w}function Z(a){return(qa.call(b,"placeholder")?b:a).placeholder}function Wa(a){return Ia.call(a)}function Td(a,b,c){if(null==a)return!1;var d=c(a,b);d||pb(b)||(b=Bb(b),a=Hb(a,b),null!=a&&(b=pa(b),d=c(a,b)));c=a?a.length:w;return d||!!c&&xc(c)&&
xa(b,c)&&(V(a)||ob(a)||sa(a))}function Mc(a){var b=a.length,c=a.constructor(b);b&&"string"==typeof a[0]&&qa.call(a,"index")&&(c.index=a.index,c.input=a.input);return c}function Ie(a){return Ca(a.constructor)&&!ib(a)?Sb(id(a)):{}}function Pd(a,b,c){var d=a.constructor;switch(b){case "[object ArrayBuffer]":return Jd(a);case "[object Boolean]":case "[object Date]":return new d(+a);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return b=
a.buffer,c=c?Jd(b):b,new a.constructor(c,a.byteOffset,a.length);case "[object Map]":return c=a.constructor,l(fb(a),F,new c);case "[object Number]":case "[object String]":return new d(a);case "[object RegExp]":return c=new a.constructor(a.source,Gf.exec(a)),c.lastIndex=a.lastIndex,c;case "[object Set]":return c=a.constructor,l(qd(a),K,new c);case "[object Symbol]":return xb?Object(va.call(a)):{}}}function Qb(a){var b=a?a.length:w;return xc(b)&&(V(a)||ob(a)||sa(a))?H(b,String):null}function eb(a,b,
c){if(!oa(c))return!1;var d=typeof b;return("number"==d?Xa(c)&&xa(b,c.length):"string"==d&&b in c)?da(c[b],a):!1}function pb(a,b){return"number"==typeof a?!0:!V(a)&&(Ja.test(a)||!za.test(a)||null!=b&&a in Object(b))}function Rb(a){var b=typeof a;return"number"==b||"boolean"==b||"string"==b&&"__proto__"!=a||null==a}function Ec(a){var c=Pa(a),d=b[c];if("function"!=typeof d||!(c in U.prototype))return!1;if(a===d)return!0;c=ne(d);return!!c&&a===c[0]}function ib(a){var b=a&&a.constructor,b=Ca(b)&&b.prototype||
ic;return a===b}function Gd(a,b,c,d,e,f){oa(a)&&oa(b)&&(f.set(b,a),db(a,b,w,Gd,f));return a}function Hb(a,b){return 1==b.length?a:$b(a,sb(b,0,-1))}function zd(a){var b=[];Y(a).replace(Nb,function(a,c,d,ya){b.push(d?ya.replace(Uf,"$1"):c||a)});return b}function Dd(a){if(a instanceof U)return a.clone();var b=new D(a.__wrapped__,a.__chain__);b.__actions__=ia(a.__actions__);b.__index__=a.__index__;b.__values__=a.__values__;return b}function Ud(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===w?1:T(b);
return sb(a,0>b?0:b,d)}function yd(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===w?1:T(b);b=d-b;return sb(a,0,0>b?0:b)}function yc(a){return a?a[0]:w}function pa(a){var b=a?a.length:0;return b?a[b-1]:w}function Vd(a,b){return a&&a.length&&b&&b.length?Pb(a,b):a}function Fc(a){return a?Id.call(a):a}function dd(a){if(!a||!a.length)return[];var b=0;a=A(a,function(a){if(ta(a))return b=Aa(a.length,b),!0});return H(b,function(b){return m(a,ea(b))})}function rc(a,b){if(!a||!a.length)return[];var c=dd(a);
return null==b?c:m(c,function(a){return x(b,w,a)})}function ga(a){a=b(a);a.__chain__=!0;return a}function Gc(a,b){return b(a)}function jf(){return this}function Wd(a,b){return"function"==typeof b&&V(a)?v(a,b):yb(a,Ab(b))}function Eb(a,b){var c;if("function"==typeof b&&V(a)){for(c=a.length;c--&&!1!==b(a[c],c,a););c=a}else c=le(a,Ab(b));return c}function Xd(a,b){return(V(a)?m:Ce)(a,P(b,3))}function Gb(a,b){var c=-1,d=Db(a),e=d.length,f=e-1;for(b=wb(T(b),0,e);++c<b;){var e=Fb(c,f),g=d[e];d[e]=d[c];d[c]=
g}d.length=b;return d}function ed(a,b,c){b=c?w:b;b=a&&null==b?a.length:b;return qb(a,128,w,w,w,w,b)}function Yd(a,b){var c;if("function"!=typeof b)throw new Za("Expected a function");a=T(a);return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=w);return c}}function Na(a,b,c){b=c?w:b;a=qb(a,8,w,w,w,w,w,b);a.placeholder=Na.placeholder;return a}function Zd(a,b,c){b=c?w:b;a=qb(a,16,w,w,w,w,w,b);a.placeholder=Zd.placeholder;return a}function fd(a,b,c){function d(){q&&Ub(q);l&&Ub(l);t=0;k=l=p=q=
r=w}function e(b,c){c&&Ub(c);l=q=r=w;b&&(t=Cd(),m=a.apply(p,k),q||l||(k=p=w))}function f(){var a=b-(Cd()-n);0>=a||a>b?e(r,l):q=jd(f,a)}function g(){e(x,q)}function h(){k=arguments;n=Cd();p=this;r=x&&(q||!u);if(!1===v)var c=u&&!q;else{t||l||u||(t=n);var d=v-(n-t),e=(0>=d||d>v)&&(u||l);e?(l&&(l=Ub(l)),t=n,m=a.apply(p,k)):l||(l=jd(g,d))}e&&q?q=Ub(q):q||b===v||(q=jd(f,b));c&&(e=!0,m=a.apply(p,k));!e||q||l||(k=p=w);return m}var k,l,m,n,p,q,r,t=0,u=!1,v=!1,x=!0;if("function"!=typeof a)throw new Za("Expected a function");
b=X(b)||0;oa(c)&&(u=!!c.leading,v="maxWait"in c&&Aa(X(c.maxWait)||0,b),x="trailing"in c?!!c.trailing:x);h.cancel=d;h.flush=function(){if(q&&r||l&&x)m=a.apply(p,k);d();return m};return h}function $d(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Za("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);c.cache=f.set(e,d);return d};c.cache=new $d.Cache;return c}function O(a,b){if("function"!=typeof a)throw new Za("Expected a function");
b=Aa(b===w?a.length-1:T(b),0);return function(){for(var c=arguments,d=-1,e=Aa(c.length-b,0),f=Array(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}e=Array(b+1);for(d=-1;++d<b;)e[d]=c[d];e[b]=f;return x(a,this,e)}}function da(a,b){return a===b||a!==a&&b!==b}function ae(a,b){return a>b}function sa(a){return ta(a)&&qa.call(a,"callee")&&(!je.call(a,"callee")||"[object Arguments]"==Ia.call(a))}function Xa(a){return null!=
a&&!("function"==typeof a&&Ca(a))&&xc(wf(a))}function ta(a){return ma(a)&&Xa(a)}function xd(a){return ma(a)?"[object Error]"==Ia.call(a)||"string"==typeof a.message&&"string"==typeof a.name:!1}function Ca(a){a=oa(a)?Ia.call(a):"";return"[object Function]"==a||"[object GeneratorFunction]"==a}function Je(a){return"number"==typeof a&&a==T(a)}function xc(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function oa(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function ma(a){return!!a&&
"object"==typeof a}function sc(a){return null==a?!1:Ca(a)?he.test(Lb.call(a)):ma(a)&&(C(a)?he:Zf).test(a)}function wd(a){return"number"==typeof a||ma(a)&&"[object Number]"==Ia.call(a)}function Oc(a){if(!ma(a)||"[object Object]"!=Ia.call(a)||C(a))return!1;a=id(a);if(null===a)return!0;a=a.constructor;return"function"==typeof a&&a instanceof a&&Lb.call(a)==ge}function be(a){return oa(a)&&"[object RegExp]"==Ia.call(a)}function ob(a){return"string"==typeof a||!V(a)&&ma(a)&&"[object String]"==Ia.call(a)}
function oc(a){return"symbol"==typeof a||ma(a)&&"[object Symbol]"==Ia.call(a)}function Sa(a){return ma(a)&&xc(a.length)&&!!ha[Ia.call(a)]}function ce(a,b){return a<b}function Db(a){if(!a)return[];if(Xa(a))return ob(a)?a.match(Ba):ia(a);if(Mb&&a[Mb])return od(a[Mb]());var b=Wa(a);return("[object Map]"==b?fb:"[object Set]"==b?qd:Ka)(a)}function T(a){if(!a)return 0===a?a:0;a=X(a);if(a===cd||a===-cd)return 1.7976931348623157E308*(0>a?-1:1);var b=a%1;return a===a?b?a-b:a:0}function wa(a){return a?wb(T(a),
0,4294967295):0}function X(a){oa(a)&&(a=Ca(a.valueOf)?a.valueOf():a,a=oa(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(lc,"");var b=Yf.test(a);return b||$f.test(a)?ue(a.slice(2),b?2:8):Xf.test(a)?pd:+a}function Ke(a){return Ra(a,Ga(a))}function Y(a){if("string"==typeof a)return a;if(null==a)return"";if(oc(a))return xb?uf.call(a):"";var b=a+"";return"0"==b&&1/a==-cd?"-0":b}function $b(a,b,c){a=null==a?w:Sc(a,b);return a===w?c:a}function Le(a,b){return Td(a,b,Vc)}function nc(a,b){return Td(a,
b,Ae)}function ua(a){var b=ib(a);if(!b&&!Xa(a))return pf(Object(a));var c=Qb(a),d=!!c,c=c||[],e=c.length,f;for(f in a)!Vc(a,f)||d&&("length"==f||xa(f,e))||b&&"constructor"==f||c.push(f);return c}function Ga(a){for(var b=-1,c=ib(a),d=Bd(a),e=d.length,f=Qb(a),g=!!f,f=f||[],h=f.length;++b<e;){var k=d[b];g&&("length"==k||xa(k,h))||"constructor"==k&&(c||!qa.call(a,k))||f.push(k)}return f}function ac(a){return y(a,ua(a))}function Ka(a){return a?bb(a,ua(a)):[]}function Hc(a){return Pf(Y(a).toLowerCase())}
function Lc(a){return(a=Y(a))&&a.replace(ag,Ha).replace(eg,"")}function ud(a,b){a=Y(a);b=T(b);var c="";if(!a||1>b||9007199254740991<b)return c;do b%2&&(c+=a),b=md(b/2),a+=a;while(b);return c}function Fd(a,b,c){a=Y(a);b=c?w:b;b===w&&(b=rd.test(a)?re:fg);return a.match(b)||[]}function wc(a){return function(){return a}}function Fa(a){return a}function Zc(a){return Yc("function"==typeof a?a:Ta(a,!0))}function de(a,b,c){var d=ua(b),e=vc(b,d);null!=c||oa(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=vc(b,
ua(b)));var f=oa(c)&&"chain"in c?c.chain:!0,g=Ca(a);v(e,function(c){var d=b[c];a[c]=d;g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);(c.__actions__=ia(this.__actions__)).push({func:d,args:arguments,thisArg:a});c.__chain__=b;return c}return d.apply(a,h([this.value()],arguments))})});return a}function ee(){}function Me(a){return pb(a)?ea(a):Tc(a)}function Ne(a){return a&&a.length?e(a,Fa):0}a=a?kb.defaults({},a,kb.pick(cb,qc)):cb;var kf=a.Date,lf=a.Error,hc=a.Math,
fe=a.RegExp,Za=a.TypeError,gd=a.Array.prototype,ic=a.Object.prototype,Lb=a.Function.prototype.toString,qa=ic.hasOwnProperty,mf=0,ge=Lb.call(Object),Ia=ic.toString,Oe=cb._,he=fe("^"+Lb.call(qa).replace(Ma,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=hb?a.Buffer:w,Qe=a.Reflect,xb=a.Symbol,hd=a.Uint8Array,Ub=a.clearTimeout,ie=Qe?Qe.enumerate:w,id=Object.getPrototypeOf,Cc=Object.getOwnPropertySymbols,Mb="symbol"==typeof(Mb=xb&&xb.iterator)?Mb:w,nf=Object.create,
je=ic.propertyIsEnumerable,jd=a.setTimeout,kd=gd.splice,ld=hc.ceil,md=hc.floor,of=a.isFinite,ke=gd.join,pf=Object.keys,Aa=hc.max,$a=hc.min,qf=a.parseInt,R=hc.random,Id=gd.reverse,ab=jb(a,"Map"),Vb=jb(a,"Set"),jc=jb(a,"WeakMap"),kc=jb(Object,"create"),nd=jc&&new jc,rf=ab?Lb.call(ab):"",sf=Vb?Lb.call(Vb):"",tf=jc?Lb.call(jc):"",Re=xb?xb.prototype:w,va=xb?Re.valueOf:w,uf=xb?Re.toString:w,Ic={};b.templateSettings={escape:Wb,evaluate:mc,interpolate:Oa,variable:"",imports:{_:b}};var yb=ad(Va),le=ad(Rc,
!0),me=Zb(),Se=Zb(!0);ie&&!je.call({valueOf:1},"valueOf")&&(Bd=function(a){return od(ie(a))});var Te=nd?function(a,b){nd.set(a,b);return a}:Fa,vf=Vb&&2===(new Vb([1,2])).size?function(a){return new Vb(a)}:ee,ne=nd?function(a){return nd.get(a)}:ee,wf=ea("length"),Ue=Cc||function(){return[]};if(ab&&"[object Map]"!=Wa(new ab)||Vb&&"[object Set]"!=Wa(new Vb)||jc&&"[object WeakMap]"!=Wa(new jc))Wa=function(a){var b=Ia.call(a);a="[object Object]"==b?a.constructor:null;if(a="function"==typeof a?Lb.call(a):
"")switch(a){case rf:return"[object Map]";case sf:return"[object Set]";case tf:return"[object WeakMap]"}return b};var Ve=function(){var a=0,b=0;return function(c,d){var e=Cd(),f=16-(e-b);b=e;if(0<f){if(150<=++a)return c}else a=0;return Te(c,d)}}(),xf=O(function(a,b){V(a)||(a=null==a?[]:[Object(a)]);b=la(b,1);for(var c=a,d=b,e=-1,f=c.length,g=-1,h=d.length,k=Array(f+h);++e<f;)k[e]=c[e];for(;++g<h;)k[e++]=d[g];return k}),yf=O(function(a,b){return ta(a)?nb(a,la(b,1,!0)):[]}),zf=O(function(a,b){var c=
pa(b);ta(c)&&(c=w);return ta(a)?nb(a,la(b,1,!0),P(c)):[]}),Af=O(function(a,b){var c=pa(b);ta(c)&&(c=w);return ta(a)?nb(a,la(b,1,!0),w,c):[]}),Bf=O(function(a){var b=m(a,Nc);return b.length&&b[0]===a[0]?Wc(b):[]}),Cf=O(function(a){var b=pa(a),c=m(a,Nc);b===pa(c)?b=w:c.pop();return c.length&&c[0]===a[0]?Wc(c,P(b)):[]}),n=O(function(a){var b=pa(a),c=m(a,Nc);b===pa(c)?b=w:c.pop();return c.length&&c[0]===a[0]?Wc(c,w,b):[]}),L=O(Vd),J=O(function(a,b){b=m(la(b,1),String);var c=Da(a,b);vd(a,b.sort(Ya));return c}),
Ye=O(function(a){return Q(la(a,1,!0))}),$e=O(function(a){var b=pa(a);ta(b)&&(b=w);return Q(la(a,1,!0),P(b))}),cg=O(function(a){var b=pa(a);ta(b)&&(b=w);return Q(la(a,1,!0),w,b)}),dg=O(function(a,b){return ta(a)?nb(a,b):[]}),gg=O(function(a){return Ua(A(a,ta))}),hg=O(function(a){var b=pa(a);ta(b)&&(b=w);return Ua(A(a,ta),P(b))}),ig=O(function(a){var b=pa(a);ta(b)&&(b=w);return Ua(A(a,ta),w,b)}),jg=O(dd),kg=O(function(a){var b=a.length,b=1<b?a[b-1]:w,b="function"==typeof b?(a.pop(),b):w;return rc(a,
b)}),lg=O(function(a){a=la(a,1);var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return Da(b,a)};if(1<b||this.__actions__.length||!(d instanceof U)||!xa(c))return this.thru(e);d=d.slice(c,+c+(b?1:0));d.__actions__.push({func:Gc,args:[e],thisArg:w});return(new D(d,this.__chain__)).thru(function(a){b&&!a.length&&a.push(w);return a})}),mg=zc(function(a,b,c){qa.call(a,c)?++a[c]:a[c]=1}),ng=zc(function(a,b,c){qa.call(a,c)?a[c].push(b):a[c]=[b]}),og=O(function(a,b,c){var d=-1,e="function"==typeof b,
f=pb(b),g=Xa(a)?Array(a.length):[];yb(a,function(a){var h=e?b:f&&null!=a?a[b]:w;g[++d]=h?x(h,a,c):bc(a,b,c)});return g}),sg=zc(function(a,b,c){a[c]=b}),wg=zc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),rg=O(function(a,b){if(null==a)return[];var c=b.length;1<c&&eb(a,b[0],b[1])?b=[]:2<c&&eb(b[0],b[1],b[2])&&(b.length=1);return ve(a,la(b,1),[])}),Cd=kf.now,ff=O(function(a,b,c){var d=1;if(c.length)var e=Ib(c,Z(ff)),d=d|32;return qb(a,d,b,c,e)}),Nf=O(function(a,b,c){var d=3;if(c.length)var e=
Ib(c,Z(Nf)),d=d|32;return qb(b,d,a,c,e)}),tg=O(function(a,b){return ye(a,1,b)}),ug=O(function(a,b,c){return ye(a,X(b)||0,c)}),vg=O(function(a,b){b=m(la(b,1),P());var c=b.length;return O(function(d){for(var e=-1,f=$a(d.length,c);++e<f;)d[e]=b[e].call(this,d[e]);return x(a,this,d)})}),Ff=O(function(a,b){var c=Ib(b,Z(Ff));return qb(a,32,w,b,c)}),Qf=O(function(a,b){var c=Ib(b,Z(Qf));return qb(a,64,w,b,c)}),xg=O(function(a,b){return qb(a,256,w,w,w,la(b,1))}),V=Array.isArray,Of=Pe?function(a){return a instanceof
Pe}:wc(!1),yg=Tb(function(a,b){Ra(b,ua(b),a)}),Rf=Tb(function(a,b){Ra(b,Ga(b),a)}),pe=Tb(function(a,b,c,d){Jc(b,Ga(b),a,d)}),zg=Tb(function(a,b,c,d){Jc(b,ua(b),a,d)}),Ag=O(function(a,b){return Da(a,la(b,1))}),Bg=O(function(a){a.push(w,tb);return x(pe,w,a)}),Cg=O(function(a){a.push(w,Gd);return x(Sf,w,a)}),Dg=Od(function(a,b,c){a[b]=c},wc(Fa)),Eg=Od(function(a,b,c){qa.call(a,b)?a[b].push(c):a[b]=[c]},P),Fg=O(bc),Gg=Tb(function(a,b,c){db(a,b,c)}),Sf=Tb(function(a,b,c,d){db(a,b,c,d)}),Hg=O(function(a,
b){if(null==a)return{};b=m(la(b,1),String);return xe(a,nb(Ga(a),b))}),Ig=O(function(a,b){return null==a?{}:xe(a,la(b,1))}),Jg=Jb(function(a,b,c){b=b.toLowerCase();return a+(c?Hc(b):b)}),Kg=Jb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Lg=Jb(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),Mg=Md("toLowerCase"),Pf=Md("toUpperCase"),Ng=Jb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Og=Jb(function(a,b,c){return a+(c?" ":"")+Hc(b)}),Pg=Jb(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),
Tf=O(function(a,b){try{return x(a,w,b)}catch(c){return xd(c)?c:new lf(c)}}),Qg=O(function(a,b){v(la(b,1),function(b){a[b]=ff(a[b],a)});return a}),Rg=Nd(),Sg=Nd(!0),Tg=O(function(a,b){return function(c){return bc(c,a,b)}}),Ug=O(function(a,b){return function(c){return bc(a,c,b)}}),Vg=Ac(m),Wg=Ac(E),Xg=Ac(q),Yg=Bc(),Zg=Bc(!0),$g=bd("ceil"),ah=bd("floor"),bh=bd("round");b.prototype=p.prototype;D.prototype=Sb(p.prototype);D.prototype.constructor=D;U.prototype=Sb(p.prototype);U.prototype.constructor=U;
na.prototype=kc?kc(null):ic;fa.prototype.clear=function(){this.__data__={hash:new na,map:ab?new ab:[],string:new na}};fa.prototype["delete"]=function(a){var b=this.__data__;return Rb(a)?(b="string"==typeof a?b.string:b.hash,(kc?b[a]!==w:qa.call(b,a))&&delete b[a]):ab?b.map["delete"](a):gb(b.map,a)};fa.prototype.get=function(a){var b=this.__data__;return Rb(a)?(b="string"==typeof a?b.string:b.hash,kc?(a=b[a],a="__lodash_hash_undefined__"===a?w:a):a=qa.call(b,a)?b[a]:w,a):ab?b.map.get(a):ub(b.map,a)};
fa.prototype.has=function(a){var b=this.__data__;Rb(a)?(b="string"==typeof a?b.string:b.hash,a=kc?b[a]!==w:qa.call(b,a)):a=ab?b.map.has(a):-1<Qa(b.map,a);return a};fa.prototype.set=function(a,b){var c=this.__data__;Rb(a)?("string"==typeof a?c.string:c.hash)[a]=kc&&b===w?"__lodash_hash_undefined__":b:ab?c.map.set(a,b):zb(c.map,a,b);return this};La.prototype.push=function(a){var b=this.__data__;Rb(a)?(b=b.__data__,("string"==typeof a?b.string:b.hash)[a]="__lodash_hash_undefined__"):b.set(a,"__lodash_hash_undefined__")};
vb.prototype.clear=function(){this.__data__={array:[],map:null}};vb.prototype["delete"]=function(a){var b=this.__data__,c=b.array;return c?gb(c,a):b.map["delete"](a)};vb.prototype.get=function(a){var b=this.__data__,c=b.array;return c?ub(c,a):b.map.get(a)};vb.prototype.has=function(a){var b=this.__data__,c=b.array;return c?-1<Qa(c,a):b.map.has(a)};vb.prototype.set=function(a,b){var c=this.__data__,d=c.array;d&&(199>d.length?zb(d,a,b):(c.array=null,c.map=new fa(d)));(c=c.map)&&c.set(a,b);return this};
$d.Cache=fa;b.after=function(a,b){if("function"!=typeof b)throw new Za("Expected a function");a=T(a);return function(){if(1>--a)return b.apply(this,arguments)}};b.ary=ed;b.assign=yg;b.assignIn=Rf;b.assignInWith=pe;b.assignWith=zg;b.at=Ag;b.before=Yd;b.bind=ff;b.bindAll=Qg;b.bindKey=Nf;b.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return V(a)?a:[a]};b.chain=ga;b.chunk=function(a,b){b=Aa(T(b),0);var c=a?a.length:0;if(!c||1>b)return[];for(var d=0,e=-1,f=Array(ld(c/b));d<c;)f[++e]=
sb(a,d,d+=b);return f};b.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e};b.concat=xf;b.cond=function(a){var b=a?a.length:0,c=P();a=b?m(a,function(a){if("function"!=typeof a[1])throw new Za("Expected a function");return[c(a[0]),a[1]]}):[];return O(function(c){for(var d=-1;++d<b;){var e=a[d];if(x(e[0],this,c))return x(e[1],this,c)}})};b.conforms=function(a){return Kc(Ta(a,!0))};b.constant=wc;b.countBy=mg;b.create=function(a,b){var c=Sb(a);return b?
Xb(c,b):c};b.curry=Na;b.curryRight=Zd;b.debounce=fd;b.defaults=Bg;b.defaultsDeep=Cg;b.defer=tg;b.delay=ug;b.difference=yf;b.differenceBy=zf;b.differenceWith=Af;b.drop=Ud;b.dropRight=yd;b.dropRightWhile=function(a,b){return a&&a.length?lb(a,P(b,3),!0,!0):[]};b.dropWhile=function(a,b){return a&&a.length?lb(a,P(b,3),!0):[]};b.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];c&&"number"!=typeof c&&eb(a,b,c)&&(c=0,d=e);e=a.length;c=T(c);0>c&&(c=-c>e?0:e+c);d=d===w||d>e?e:T(d);0>d&&(d+=e);for(d=
c>d?0:wa(d);c<d;)a[c++]=b;return a};b.filter=function(a,b){return(V(a)?A:Ad)(a,P(b,3))};b.flatMap=function(a,b){return la(Xd(a,b),1)};b.flatten=function(a){return a&&a.length?la(a,1):[]};b.flattenDeep=function(a){return a&&a.length?la(a,cd):[]};b.flattenDepth=function(a,b){if(!a||!a.length)return[];b=b===w?1:T(b);return la(a,b)};b.flip=function(a){return qb(a,512)};b.flow=Rg;b.flowRight=Sg;b.fromPairs=function(a){for(var b=-1,c=a?a.length:0,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d};b.functions=
function(a){return null==a?[]:vc(a,ua(a))};b.functionsIn=function(a){return null==a?[]:vc(a,Ga(a))};b.groupBy=ng;b.initial=function(a){return yd(a,1)};b.intersection=Bf;b.intersectionBy=Cf;b.intersectionWith=n;b.invert=Dg;b.invertBy=Eg;b.invokeMap=og;b.iteratee=Zc;b.keyBy=sg;b.keys=ua;b.keysIn=Ga;b.map=Xd;b.mapKeys=function(a,b){var c={};b=P(b,3);Va(a,function(a,d,e){c[b(a,d,e)]=a});return c};b.mapValues=function(a,b){var c={};b=P(b,3);Va(a,function(a,d,e){c[d]=b(a,d,e)});return c};b.matches=function(a){return $c(Ta(a,
!0))};b.matchesProperty=function(a,b){return Ed(a,Ta(b,!0))};b.memoize=$d;b.merge=Gg;b.mergeWith=Sf;b.method=Tg;b.methodOf=Ug;b.mixin=de;b.negate=function(a){if("function"!=typeof a)throw new Za("Expected a function");return function(){return!a.apply(this,arguments)}};b.nthArg=function(a){a=T(a);return function(){return arguments[a]}};b.omit=Hg;b.omitBy=function(a,b){b=P(b);return we(a,function(a,c){return!b(a,c)})};b.once=function(a){return Yd(2,a)};b.orderBy=function(a,b,c,d){if(null==a)return[];
V(b)||(b=null==b?[]:[b]);c=d?w:c;V(c)||(c=null==c?[]:[c]);return ve(a,b,c)};b.over=Vg;b.overArgs=vg;b.overEvery=Wg;b.overSome=Xg;b.partial=Ff;b.partialRight=Qf;b.partition=wg;b.pick=Ig;b.pickBy=function(a,b){return null==a?{}:we(a,P(b))};b.property=Me;b.propertyOf=function(a){return function(b){return null==a?w:Sc(a,b)}};b.pull=L;b.pullAll=Vd;b.pullAllBy=function(a,b,c){return a&&a.length&&b&&b.length?Pb(a,b,P(c)):a};b.pullAt=J;b.range=Yg;b.rangeRight=Zg;b.rearg=xg;b.reject=function(a,b){var c=V(a)?
A:Ad;b=P(b,3);return c(a,function(a,c,d){return!b(a,c,d)})};b.remove=function(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=P(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}vd(a,e);return c};b.rest=O;b.reverse=Fc;b.sampleSize=Gb;b.set=function(a,b,c){return null==a?a:td(a,b,c)};b.setWith=function(a,b,c,d){d="function"==typeof d?d:w;return null==a?a:td(a,b,c,d)};b.shuffle=function(a){return Gb(a,4294967295)};b.slice=function(a,b,c){var d=a?a.length:0;if(!d)return[];
c&&"number"!=typeof c&&eb(a,b,c)?(b=0,c=d):(b=null==b?0:T(b),c=c===w?d:T(c));return sb(a,b,c)};b.sortBy=rg;b.sortedUniq=function(a){return a&&a.length?rb(a):[]};b.sortedUniqBy=function(a,b){return a&&a.length?rb(a,P(b)):[]};b.split=function(a,b,c){return Y(a).split(b,c)};b.spread=function(a,b){if("function"!=typeof a)throw new Za("Expected a function");b=b===w?0:Aa(T(b),0);return O(function(c){var d=c[b];c=c.slice(0,b);d&&h(c,d);return x(a,this,c)})};b.tail=function(a){return Ud(a,1)};b.take=function(a,
b,c){if(!a||!a.length)return[];b=c||b===w?1:T(b);return sb(a,0,0>b?0:b)};b.takeRight=function(a,b,c){var d=a?a.length:0;if(!d)return[];b=c||b===w?1:T(b);b=d-b;return sb(a,0>b?0:b,d)};b.takeRightWhile=function(a,b){return a&&a.length?lb(a,P(b,3),!1,!0):[]};b.takeWhile=function(a,b){return a&&a.length?lb(a,P(b,3)):[]};b.tap=function(a,b){b(a);return a};b.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Za("Expected a function");oa(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in
c?!!c.trailing:e);return fd(a,b,{leading:d,maxWait:b,trailing:e})};b.thru=Gc;b.toArray=Db;b.toPairs=ac;b.toPairsIn=function(a){return y(a,Ga(a))};b.toPath=function(a){return V(a)?m(a,String):zd(a)};b.toPlainObject=Ke;b.transform=function(a,b,c){var d=V(a)||Sa(a);b=P(b,4);if(null==c)if(d||oa(a)){var e=a.constructor;c=d?V(a)?new e:[]:Ca(e)?Sb(id(a)):{}}else c={};(d?v:Va)(a,function(a,d,e){return b(c,a,d,e)});return c};b.unary=function(a){return ed(a,1)};b.union=Ye;b.unionBy=$e;b.unionWith=cg;b.uniq=
function(a){return a&&a.length?Q(a):[]};b.uniqBy=function(a,b){return a&&a.length?Q(a,P(b)):[]};b.uniqWith=function(a,b){return a&&a.length?Q(a,w,b):[]};b.unset=function(a,b){var c;if(null==a)c=!0;else{c=a;var d=b,d=pb(d,c)?[d+""]:Bb(d);c=Hb(c,d);d=pa(d);c=null!=c&&Le(c,d)?delete c[d]:!0}return c};b.unzip=dd;b.unzipWith=rc;b.values=Ka;b.valuesIn=function(a){return null==a?[]:bb(a,Ga(a))};b.without=dg;b.words=Fd;b.wrap=function(a,b){b=null==b?Fa:b;return Ff(b,a)};b.xor=gg;b.xorBy=hg;b.xorWith=ig;b.zip=
jg;b.zipObject=function(a,b){return Hd(a||[],b||[],uc)};b.zipObjectDeep=function(a,b){return Hd(a||[],b||[],td)};b.zipWith=kg;b.extend=Rf;b.extendWith=pe;de(b,b);b.add=function(a,b){var c;if(a===w&&b===w)return 0;a!==w&&(c=a);b!==w&&(c=c===w?b:c+b);return c};b.attempt=Tf;b.camelCase=Jg;b.capitalize=Hc;b.ceil=$g;b.clamp=function(a,b,c){c===w&&(c=b,b=w);c!==w&&(c=X(c),c=c===c?c:0);b!==w&&(b=X(b),b=b===b?b:0);return wb(X(a),b,c)};b.clone=function(a){return Ta(a)};b.cloneDeep=function(a){return Ta(a,
!0)};b.cloneDeepWith=function(a,b){return Ta(a,!0,b)};b.cloneWith=function(a,b){return Ta(a,!1,b)};b.deburr=Lc;b.endsWith=function(a,b,c){a=Y(a);b="string"==typeof b?b:b+"";var d=a.length;c=c===w?d:wb(T(c),0,d);c-=b.length;return 0<=c&&a.indexOf(b,c)==c};b.eq=da;b.escape=function(a){return(a=Y(a))&&Ob.test(a)?a.replace(ja,N):a};b.escapeRegExp=function(a){return(a=Y(a))&&oe.test(a)?a.replace(Ma,"\\$&"):a};b.every=function(a,b,c){var d=V(a)?E:Pc;c&&eb(a,b,c)&&(b=w);return d(a,P(b,3))};b.find=function(a,
b){b=P(b,3);if(V(a)){var c=g(a,b);return-1<c?a[c]:w}return B(a,b,yb)};b.findIndex=function(a,b){return a&&a.length?g(a,P(b,3)):-1};b.findKey=function(a,b){return B(a,P(b,3),Va,!0)};b.findLast=function(a,b){b=P(b,3);if(V(a)){var c=g(a,b,!0);return-1<c?a[c]:w}return B(a,b,le)};b.findLastIndex=function(a,b){return a&&a.length?g(a,P(b,3),!0):-1};b.findLastKey=function(a,b){return B(a,P(b,3),Rc,!0)};b.floor=ah;b.forEach=Wd;b.forEachRight=Eb;b.forIn=function(a,b){return null==a?a:me(a,Ab(b),Ga)};b.forInRight=
function(a,b){return null==a?a:Se(a,Ab(b),Ga)};b.forOwn=function(a,b){return a&&Va(a,Ab(b))};b.forOwnRight=function(a,b){return a&&Rc(a,Ab(b))};b.get=$b;b.gt=ae;b.gte=function(a,b){return a>=b};b.has=Le;b.hasIn=nc;b.head=yc;b.identity=Fa;b.includes=function(a,b,c,d){a=Xa(a)?a:Ka(a);c=c&&!d?T(c):0;d=a.length;0>c&&(c=Aa(d+c,0));return ob(a)?c<=d&&-1<a.indexOf(b,c):!!d&&-1<r(a,b,c)};b.indexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;c=T(c);0>c&&(c=Aa(d+c,0));return r(a,b,c)};b.inRange=function(a,
b,c){b=X(b)||0;c===w?(c=b,b=0):c=X(c)||0;a=X(a);return a>=$a(b,c)&&a<Aa(b,c)};b.invoke=Fg;b.isArguments=sa;b.isArray=V;b.isArrayBuffer=function(a){return ma(a)&&"[object ArrayBuffer]"==Ia.call(a)};b.isArrayLike=Xa;b.isArrayLikeObject=ta;b.isBoolean=function(a){return!0===a||!1===a||ma(a)&&"[object Boolean]"==Ia.call(a)};b.isBuffer=Of;b.isDate=function(a){return ma(a)&&"[object Date]"==Ia.call(a)};b.isElement=function(a){return!!a&&1===a.nodeType&&ma(a)&&!Oc(a)};b.isEmpty=function(a){if(Xa(a)&&(V(a)||
ob(a)||Ca(a.splice)||sa(a)))return!a.length;for(var b in a)if(qa.call(a,b))return!1;return!0};b.isEqual=function(a,b){return Cb(a,b)};b.isEqualWith=function(a,b,c){var d=(c="function"==typeof c?c:w)?c(a,b):w;return d===w?Cb(a,b,c):!!d};b.isError=xd;b.isFinite=function(a){return"number"==typeof a&&of(a)};b.isFunction=Ca;b.isInteger=Je;b.isLength=xc;b.isMap=function(a){return ma(a)&&"[object Map]"==Wa(a)};b.isMatch=function(a,b){return a===b||Xc(a,b,Dc(b))};b.isMatchWith=function(a,b,c){c="function"==
typeof c?c:w;return Xc(a,b,Dc(b),c)};b.isNaN=function(a){return wd(a)&&a!=+a};b.isNative=sc;b.isNil=function(a){return null==a};b.isNull=function(a){return null===a};b.isNumber=wd;b.isObject=oa;b.isObjectLike=ma;b.isPlainObject=Oc;b.isRegExp=be;b.isSafeInteger=function(a){return Je(a)&&-9007199254740991<=a&&9007199254740991>=a};b.isSet=function(a){return ma(a)&&"[object Set]"==Wa(a)};b.isString=ob;b.isSymbol=oc;b.isTypedArray=Sa;b.isUndefined=function(a){return a===w};b.isWeakMap=function(a){return ma(a)&&
"[object WeakMap]"==Wa(a)};b.isWeakSet=function(a){return ma(a)&&"[object WeakSet]"==Ia.call(a)};b.join=function(a,b){return a?ke.call(a,b):""};b.kebabCase=Kg;b.last=pa;b.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;c!==w&&(e=T(c),e=(0>e?Aa(d+e,0):$a(e,d-1))+1);if(b!==b)return I(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1};b.lowerCase=Lg;b.lowerFirst=Mg;b.lt=ce;b.lte=function(a,b){return a<=b};b.max=function(a){return a&&a.length?t(a,Fa,ae):w};b.maxBy=function(a,b){return a&&
a.length?t(a,P(b),ae):w};b.mean=function(a){return Ne(a)/(a?a.length:0)};b.min=function(a){return a&&a.length?t(a,Fa,ce):w};b.minBy=function(a,b){return a&&a.length?t(a,P(b),ce):w};b.noConflict=function(){cb._===this&&(cb._=Oe);return this};b.noop=ee;b.now=Cd;b.pad=function(a,b,c){a=Y(a);b=T(b);var d=cc(a);if(!b||d>=b)return a;d=(b-d)/2;b=md(d);d=ld(d);return gc("",b,c)+a+gc("",d,c)};b.padEnd=function(a,b,c){a=Y(a);return a+gc(a,b,c)};b.padStart=function(a,b,c){a=Y(a);return gc(a,b,c)+a};b.parseInt=
function(a,b,c){c||null==b?b=0:b&&(b=+b);a=Y(a).replace(lc,"");return qf(a,b||(Wf.test(a)?16:10))};b.random=function(a,b,c){c&&"boolean"!=typeof c&&eb(a,b,c)&&(b=c=w);c===w&&("boolean"==typeof b?(c=b,b=w):"boolean"==typeof a&&(c=a,a=w));a===w&&b===w?(a=0,b=1):(a=X(a)||0,b===w?(b=a,a=0):b=X(b)||0);if(a>b){var d=a;a=b;b=d}return c||a%1||b%1?(c=R(),$a(a+c*(b-a+te("1e-"+((c+"").length-1))),b)):Fb(a,b)};b.reduce=function(a,b,c){var e=V(a)?l:d,f=3>arguments.length;return e(a,P(b,4),c,f,yb)};b.reduceRight=
function(a,b,c){var e=V(a)?k:d,f=3>arguments.length;return e(a,P(b,4),c,f,le)};b.repeat=ud;b.replace=function(){var a=arguments,b=Y(a[0]);return 3>a.length?b:b.replace(a[1],a[2])};b.result=function(a,b,c){if(pb(b,a))d=null==a?w:a[b];else{b=Bb(b);var d=$b(a,b);a=Hb(a,b)}d===w&&(d=c);return Ca(d)?d.call(a):d};b.round=bh;b.runInContext=He;b.sample=function(a){a=Xa(a)?a:Ka(a);var b=a.length;return 0<b?a[Fb(0,b-1)]:w};b.size=function(a){if(null==a)return 0;if(Xa(a)){var b=a.length;return b&&ob(a)?cc(a):
b}return ua(a).length};b.snakeCase=Ng;b.some=function(a,b,c){var d=V(a)?q:Ze;c&&eb(a,b,c)&&(b=w);return d(a,P(b,3))};b.sortedIndex=function(a,b){return dc(a,b)};b.sortedIndexBy=function(a,b,c){return ra(a,b,P(c))};b.sortedIndexOf=function(a,b){var c=a?a.length:0;if(c){var d=dc(a,b);if(d<c&&da(a[d],b))return d}return-1};b.sortedLastIndex=function(a,b){return dc(a,b,!0)};b.sortedLastIndexBy=function(a,b,c){return ra(a,b,P(c),!0)};b.sortedLastIndexOf=function(a,b){if(a&&a.length){var c=dc(a,b,!0)-1;
if(da(a[c],b))return c}return-1};b.startCase=Og;b.startsWith=function(a,b,c){a=Y(a);c=wb(T(c),0,a.length);return a.lastIndexOf(b,c)==c};b.subtract=function(a,b){var c;if(a===w&&b===w)return 0;a!==w&&(c=a);b!==w&&(c=c===w?b:c-b);return c};b.sum=Ne;b.sumBy=function(a,b){return a&&a.length?e(a,P(b)):0};b.template=function(a,c,d){var e=b.templateSettings;d&&eb(a,c,d)&&(c=w);a=Y(a);c=pe({},c,e,tb);d=pe({},c.imports,e.imports,tb);var f=ua(d),g=bb(d,f),h,k,l=0;d=c.interpolate||qe;var m="__p += '";d=fe((c.escape||
qe).source+"|"+d.source+"|"+(d===Oa?Vf:qe).source+"|"+(c.evaluate||qe).source+"|$","g");var n="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++se+"]")+"\n";a.replace(d,function(b,c,d,e,f,g){d||(d=e);m+=a.slice(l,g).replace(bg,ca);c&&(h=!0,m+="' +\n__e("+c+") +\n'");f&&(k=!0,m+="';\n"+f+";\n__p += '");d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");l=g+b.length;return b});m+="';\n";(c=c.variable)||(m="with (obj) {\n"+m+"\n}\n");m=(k?m.replace(Ef,""):m).replace(gf,
"$1").replace(hf,"$1;");m="function("+(c||"obj")+") {\n"+(c?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(h?", __e = _.escape":"")+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";c=Tf(function(){return Function(f,n+"return "+m).apply(w,g)});c.source=m;if(xd(c))throw c;return c};b.times=function(a,b){a=T(a);if(1>a||9007199254740991<a)return[];var c=4294967295,d=$a(a,4294967295);b=Ab(b);a-=4294967295;for(d=H(d,b);++c<a;)b(c);return d};
b.toInteger=T;b.toLength=wa;b.toLower=function(a){return Y(a).toLowerCase()};b.toNumber=X;b.toSafeInteger=function(a){return wb(T(a),-9007199254740991,9007199254740991)};b.toString=Y;b.toUpper=function(a){return Y(a).toUpperCase()};b.trim=function(a,b,c){a=Y(a);if(!a)return a;if(c||b===w)return a.replace(lc,"");b+="";if(!b)return a;a=a.match(Ba);b=b.match(Ba);return a.slice(W(a,b),S(a,b)+1).join("")};b.trimEnd=function(a,b,c){a=Y(a);if(!a)return a;if(c||b===w)return a.replace(Kb,"");b+="";if(!b)return a;
a=a.match(Ba);return a.slice(0,S(a,b.match(Ba))+1).join("")};b.trimStart=function(a,b,c){a=Y(a);if(!a)return a;if(c||b===w)return a.replace(mb,"");b+="";if(!b)return a;a=a.match(Ba);return a.slice(W(a,b.match(Ba))).join("")};b.truncate=function(a,b){var c=30,d="...";if(oa(b))var e="separator"in b?b.separator:e,c="length"in b?T(b.length):c,d="omission"in b?Y(b.omission):d;a=Y(a);var f=a.length;if(pc.test(a))var g=a.match(Ba),f=g.length;if(c>=f)return a;f=c-cc(d);if(1>f)return d;c=g?g.slice(0,f).join(""):
a.slice(0,f);if(e===w)return c+d;g&&(f+=c.length-f);if(be(e)){if(a.slice(f).search(e)){var h=c;e.global||(e=fe(e.source,Y(Gf.exec(e))+"g"));for(e.lastIndex=0;g=e.exec(h);)var k=g.index;c=c.slice(0,k===w?f:k)}}else a.indexOf(e,f)!=f&&(e=c.lastIndexOf(e),-1<e&&(c=c.slice(0,e)));return c+d};b.unescape=function(a){return(a=Y(a))&&ka.test(a)?a.replace(We,Df):a};b.uniqueId=function(a){var b=++mf;return Y(a)+b};b.upperCase=Pg;b.upperFirst=Pf;b.each=Wd;b.eachRight=Eb;b.first=yc;de(b,function(){var a={};Va(b,
function(c,d){qa.call(b.prototype,d)||(a[d]=c)});return a}(),{chain:!1});b.VERSION="4.5.1";v("bind bindKey curry curryRight partial partialRight".split(" "),function(a){b[a].placeholder=b});v(["drop","take"],function(a,b){U.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new U(this);c=c===w?1:Aa(T(c),0);var e=this.clone();d?e.__takeCount__=$a(c,e.__takeCount__):e.__views__.push({size:$a(c,4294967295),type:a+(0>e.__dir__?"Right":"")});return e};U.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});
v(["filter","map","takeWhile"],function(a,b){var c=b+1,d=1==c||3==c;U.prototype[a]=function(a){var b=this.clone();b.__iteratees__.push({iteratee:P(a,3),type:c});b.__filtered__=b.__filtered__||d;return b}});v(["head","last"],function(a,b){var c="take"+(b?"Right":"");U.prototype[a]=function(){return this[c](1).value()[0]}});v(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");U.prototype[a]=function(){return this.__filtered__?new U(this):this[c](1)}});U.prototype.compact=function(){return this.filter(Fa)};
U.prototype.find=function(a){return this.filter(a).head()};U.prototype.findLast=function(a){return this.reverse().find(a)};U.prototype.invokeMap=O(function(a,b){return"function"==typeof a?new U(this):this.map(function(c){return bc(c,a,b)})});U.prototype.reject=function(a){a=P(a,3);return this.filter(function(b){return!a(b)})};U.prototype.slice=function(a,b){a=T(a);var c=this;if(c.__filtered__&&(0<a||0>b))return new U(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==w&&(b=T(b),c=0>b?c.dropRight(-b):c.take(b-
a));return c};U.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()};U.prototype.toArray=function(){return this.take(4294967295)};Va(U.prototype,function(a,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),e=/^(?:head|last)$/.test(c),f=b[e?"take"+("last"==c?"Right":""):c],g=e||/^find/.test(c);f&&(b.prototype[c]=function(){var c=this.__wrapped__,k=e?[1]:arguments,l=c instanceof U,m=k[0],n=l||V(c),p=function(a){a=f.apply(b,h([a],k));return e&&q?a[0]:a};n&&d&&"function"==
typeof m&&1!=m.length&&(l=n=!1);var q=this.__chain__,r=!!this.__actions__.length,m=g&&!q,l=l&&!r;if(!g&&n)return c=l?c:new U(this),c=a.apply(c,k),c.__actions__.push({func:Gc,args:[p],thisArg:w}),new D(c,q);if(m&&l)return a.apply(this,k);c=this.thru(p);return m?e?c.value()[0]:c.value():c})});v("pop push shift sort splice unshift".split(" "),function(a){var c=gd[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:pop|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?
c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}});Va(U.prototype,function(a,c){var d=b[c];if(d){var e=d.name+"";(Ic[e]||(Ic[e]=[])).push({name:c,func:d})}});Ic[fc(w,2).name]=[{name:"wrapper",func:w}];U.prototype.clone=function(){var a=new U(this.__wrapped__);a.__actions__=ia(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=ia(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=ia(this.__views__);return a};U.prototype.reverse=
function(){if(this.__filtered__){var a=new U(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};U.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=V(b),e=0>c,f=d?b.length:0;a=0;for(var g=f,h=this.__views__,k=-1,l=h.length;++k<l;){var m=h[k],n=m.size;switch(m.type){case "drop":a+=n;break;case "dropRight":g-=n;break;case "take":g=$a(g,a+n);break;case "takeRight":a=Aa(a,g-n)}}h=g;g=h-a;e=e?h:a-1;a=this.__iteratees__;h=a.length;k=0;l=$a(g,this.__takeCount__);
if(!d||200>f||f==g&&l==g)return Uc(b,this.__actions__);d=[];a:for(;g--&&k<l;){e+=c;f=-1;for(m=b[e];++f<h;){var p=a[f],n=p.iteratee,p=p.type,n=n(m);if(2==p)m=n;else if(!n)if(1==p)continue a;else break a}d[k++]=m}return d};b.prototype.at=lg;b.prototype.chain=function(){return ga(this)};b.prototype.commit=function(){return new D(this.value(),this.__chain__)};b.prototype.flatMap=function(a){return this.map(a).flatten()};b.prototype.next=function(){this.__values__===w&&(this.__values__=Db(this.value()));
var a=this.__index__>=this.__values__.length,b=a?w:this.__values__[this.__index__++];return{done:a,value:b}};b.prototype.plant=function(a){for(var b,c=this;c instanceof p;){var d=Dd(c);d.__index__=0;d.__values__=w;b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}e.__wrapped__=a;return b};b.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof U?(this.__actions__.length&&(a=new U(this)),a=a.reverse(),a.__actions__.push({func:Gc,args:[Fc],thisArg:w}),new D(a,this.__chain__)):this.thru(Fc)};
b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=function(){return Uc(this.__wrapped__,this.__actions__)};Mb&&(b.prototype[Mb]=jf);return b}var w,cd=1/0,pd=0/0,Ef=/\b__p \+= '';/g,gf=/\b(__p \+=) '' \+/g,hf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,We=/&(?:amp|lt|gt|quot|#39|#96);/g,ja=/[&<>"'`]/g,ka=RegExp(We.source),Ob=RegExp(ja.source),Wb=/<%-([\s\S]+?)%>/g,mc=/<%([\s\S]+?)%>/g,Oa=/<%=([\s\S]+?)%>/g,za=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ja=/^\w*$/,Nb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,
Ma=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(Ma.source),lc=/^\s+|\s+$/g,mb=/^\s+/,Kb=/\s+$/,Uf=/\\(\\)?/g,Vf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gf=/\w*$/,Wf=/^0x/i,Xf=/^[-+]0x[0-9a-f]+$/i,Yf=/^0b[01]+$/i,Zf=/^\[object .+?Constructor\]$/,$f=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,ag=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,qe=/($^)/,bg=/['\n\r\u2028\u2029\\]/g,eg=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),Ba=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",
"g"),pc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),fg=/[a-zA-Z0-9]+/g,re=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|\\d+|(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",
"g"),rd=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qc="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),se=-1,ha={};ha["[object Float32Array]"]=ha["[object Float64Array]"]=ha["[object Int8Array]"]=ha["[object Int16Array]"]=ha["[object Int32Array]"]=ha["[object Uint8Array]"]=
ha["[object Uint8ClampedArray]"]=ha["[object Uint16Array]"]=ha["[object Uint32Array]"]=!0;ha["[object Arguments]"]=ha["[object Array]"]=ha["[object ArrayBuffer]"]=ha["[object Boolean]"]=ha["[object Date]"]=ha["[object Error]"]=ha["[object Function]"]=ha["[object Map]"]=ha["[object Number]"]=ha["[object Object]"]=ha["[object RegExp]"]=ha["[object Set]"]=ha["[object String]"]=ha["[object WeakMap]"]=!1;var aa={};aa["[object Arguments]"]=aa["[object Array]"]=aa["[object ArrayBuffer]"]=aa["[object Boolean]"]=
aa["[object Date]"]=aa["[object Float32Array]"]=aa["[object Float64Array]"]=aa["[object Int8Array]"]=aa["[object Int16Array]"]=aa["[object Int32Array]"]=aa["[object Map]"]=aa["[object Number]"]=aa["[object Object]"]=aa["[object RegExp]"]=aa["[object Set]"]=aa["[object String]"]=aa["[object Symbol]"]=aa["[object Uint8Array]"]=aa["[object Uint8ClampedArray]"]=aa["[object Uint16Array]"]=aa["[object Uint32Array]"]=!0;aa["[object Error]"]=aa["[object Function]"]=aa["[object WeakMap]"]=!1;var gb={"\u00c0":"A",
"\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O",
"\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Kc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},tb={"function":!0,object:!0},$e={"\\":"\\","'":"'","\n":"n",
"\r":"r","\u2028":"u2028","\u2029":"u2029"},te=parseFloat,ue=parseInt,na=tb[typeof b]&&b&&!b.nodeType?b:w,ub=tb[typeof D]&&D&&!D.nodeType?D:w,hb=ub&&ub.exports===na?na:w,Xb=fa(na&&ub&&"object"==typeof a&&a),Yb=fa(tb[typeof self]&&self),La=fa(tb[typeof window]&&window),Qa=fa(tb[typeof this]&&this),cb=Xb||La!==(Qa&&Qa.window)&&La||Yb||Qa||Function("return this")(),kb=He();(La||Yb||{})._=kb;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return kb}):na&&ub?(hb&&((ub.exports=
kb)._=kb),na._=kb):cb._=kb}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}]},{},[4]);
