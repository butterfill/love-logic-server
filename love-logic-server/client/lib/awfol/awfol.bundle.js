/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function e$$0(y,a,u){function n(e,A){if(!a[e]){if(!y[e]){var r="function"==typeof require&&require;if(!A&&r)return r(e,!0);if(B)return B(e,!0);r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r;}r=a[e]={exports:{}};y[e][0].call(r.exports,function(A){var r=y[e][1][A];return n(r?r:A)},r,r.exports,e$$0,y,a,u)}return a[e].exports}for(var B="function"==typeof require&&require,e=0;e<u.length;e++)n(u[e]);return n})({1:[function(f,y,a){},{}],2:[function(f,y,a){(function(f){function n(e,
r){for(var f=0,a=e.length-1;0<=a;a--){var D=e[a];"."===D?e.splice(a,1):".."===D?(e.splice(a,1),f++):f&&(e.splice(a,1),f--)}if(r)for(;f--;f)e.unshift("..");return e}function B(e,r){if(e.filter)return e.filter(r);for(var f=[],a=0;a<e.length;a++)r(e[a],a,e)&&f.push(e[a]);return f}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;a.resolve=function(){for(var e="",r=!1,a=arguments.length-1;-1<=a&&!r;a--){var v=0<=a?arguments[a]:f.cwd();if("string"!==typeof v)throw new TypeError("Arguments to path.resolve must be strings");
v&&(e=v+"/"+e,r="/"===v.charAt(0))}e=n(B(e.split("/"),function(e){return!!e}),!r).join("/");return(r?"/":"")+e||"."};a.normalize=function(e){var r=a.isAbsolute(e),f="/"===E(e,-1);(e=n(B(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e=".");e&&f&&(e+="/");return(r?"/":"")+e};a.isAbsolute=function(e){return"/"===e.charAt(0)};a.join=function(){var e=Array.prototype.slice.call(arguments,0);return a.normalize(B(e,function(e,a){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");
return e}).join("/"))};a.relative=function(e,f){function t(l){for(var e=0;e<l.length&&""===l[e];e++);for(var g=l.length-1;0<=g&&""===l[g];g--);return e>g?[]:l.slice(e,g-e+1)}e=a.resolve(e).substr(1);f=a.resolve(f).substr(1);for(var v=t(e.split("/")),D=t(f.split("/")),G=Math.min(v.length,D.length),w=G,q=0;q<G;q++)if(v[q]!==D[q]){w=q;break}G=[];for(q=w;q<v.length;q++)G.push("..");G=G.concat(D.slice(w));return G.join("/")};a.sep="/";a.delimiter=":";a.dirname=function(a){var f=e.exec(a).slice(1);a=f[0];
f=f[1];if(!a&&!f)return".";f&&(f=f.substr(0,f.length-1));return a+f};a.basename=function(f,a){var t=e.exec(f).slice(1)[2];a&&t.substr(-1*a.length)===a&&(t=t.substr(0,t.length-a.length));return t};a.extname=function(f){return e.exec(f).slice(1)[3]};var E="b"==="ab".substr(-1)?function(e,f,a){return e.substr(f,a)}:function(e,f,a){0>f&&(f=e.length+f);return e.substr(f,a)}}).call(this,f("_process"))},{_process:3}],3:[function(f,y,a){function u(){A=!1;r.length?E=r.concat(E):t=-1;E.length&&n()}function n(){if(!A){var e=
setTimeout(u);A=!0;for(var f=E.length;f;){r=E;for(E=[];++t<f;)r&&r[t].run();t=-1;f=E.length}r=null;A=!1;clearTimeout(e)}}function B(e,f){this.fun=e;this.array=f}function e(){}f=y.exports={};var E=[],A=!1,r,t=-1;f.nextTick=function(e){var f=Array(arguments.length-1);if(1<arguments.length)for(var a=1;a<arguments.length;a++)f[a-1]=arguments[a];E.push(new B(e,f));1!==E.length||A||setTimeout(n,0)};B.prototype.run=function(){this.fun.apply(null,this.array)};f.title="browser";f.browser=!0;f.env={};f.argv=
[];f.version="";f.versions={};f.on=e;f.addListener=e;f.once=e;f.off=e;f.removeListener=e;f.removeAllListeners=e;f.emit=e;f.binding=function(e){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(e){throw Error("process.chdir is not supported");};f.umask=function(){return 0}},{}],4:[function(f,y,a){y="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};a=f("../fol");f=f("../proofs/proof");y.fol=a;y.proof=
f},{"../fol":7,"../proofs/proof":20}],5:[function(f,y,a){var u,n,B,e,E,A;A=f("../symbols");B=A["default"];a.setSymbols=function(e){return B=A[e]};a.getSymbols=function(e){return B};e={awFOL:f("../parser/awFOL")};a.registerParser=function(f,a){return e[f]=a};u="awFOL";a.getParser=function(f){return e[f]};a.getCurrentParser=function(){return e[u]};a.getCurrentParserName=function(){return u};a.setCurrentParser=function(e){return u=e};E={};a.registerRuleSet=function(e,f){return E[e]=f};n="fitch";a.getCurrentRules=
function(){return E[n]};a.getCurrentRulesName=function(){return n};a.setCurrentRules=function(e){return n=e}},{"../parser/awFOL":11,"../symbols":23}],6:[function(f,y,a){var u,n,B;n=f("lodash");B=f("./dialect_manager/dialectManager").getCurrentParser();u=function(e,f){this.world=f;n.isString(e)?this.sentence=B.parse(e):this.sentence=e;this.varStack={};return this};u.prototype.logSentence=function(){return console.log("sentence "+JSON.stringify(this.sentence,null,4))};u.prototype.evaluate=function(e){var f,
a,r,t,v;e=null!=e?e:this.sentence;if("value"===e.type)return e.value;if("and"===e.type)return this.evaluate(e.left)&&this.evaluate(e.right);if("nand"===e.type)return!(this.evaluate(e.left)&&this.evaluate(e.right));if("or"===e.type)return this.evaluate(e.left)||this.evaluate(e.right);if("nor"===e.type)return!(this.evaluate(e.left)||this.evaluate(e.right));if("not"===e.type)return!this.evaluate(e.left);if("arrow"===e.type)return!this.evaluate(e.left)||this.evaluate(e.right);if("double_arrow"===e.type)return this.evaluate(e.left)===
this.evaluate(e.right);if("sentence_letter"===e.type)return this.world[e.letter];if("predicate"===e.type||"identity"===e.type)return a=e,f="identity"===a.type?function(){var e,f,a,q;a=this.world.domain;q=[];e=0;for(f=a.length;e<f;e++)v=a[e],q.push([v,v]);return q}.call(this):this.world.predicates[a.name],a=this.instantiate_terms(a.termlist),f=n.where(f,a),0<f.length;if("existential_quantifier"===e.type||"universal_quantifier"===e.type)return f=e.boundVariable,t=f.name,t in this.varStack||(this.varStack[t]=
[]),r=this,"existential_quantifier"===e.type&&(a=n.some),"universal_quantifier"===e.type&&(a=n.all),a(this.world.domain,function(f){r.varStack[t].push(f);f=r.evaluate(e.left);r.varStack[t].pop();return f});throw Error("e (evaluate inner) could not evaluate sentence "+JSON.stringify(e,null,4));};u.prototype.instantiate_terms=function(e){var f,a,r,t;r=[];f=0;for(a=e.length;f<a;f++)if(t=e[f],"name"===t.type){if(!(t.name in this.world.names))throw Error("The name "+t.name+" is not defined in this world.");
r.push(this.world.names[t.name])}else if("variable"===t.type){if(!(t.name in this.varStack))throw Error("The variable "+t.name+" is not bound by any quantifier.");r.push(n.last(this.varStack[t.name]))}else throw Error("Encountered a term of unknown type: "+JSON.stringify(t,null,4));return r};a.evaluate=function(e,f){return(new u(e,f)).evaluate()}},{"./dialect_manager/dialectManager":5,lodash:9}],7:[function(f,y,a){var u,n,B,e,E,A,r,t;u=f("lodash");t=f("./util");E=f("./match");r=f("./substitute");
A=f("./normal_form");e=f("./evaluate");y=f("./symbols");B=f("./dialect_manager/dialectManager");a.parse=function(e,f){var a;null==f&&(f=B.getCurrentParser());a=f.parse(e);return n(a)};a.symbols=y;n=function(f){t.walk(f,function(a){if(null!==a&&!(u.isArray(a)||u.isString(a)||u.isBoolean(a)||u.isNumber(a)))return a.walk=function(e){t.walk(a,e);return a},a.delExtraneousProperties=function(){return t.delExtraneousProperties(a)},a.isIdenticalTo=function(e){return t.areIdenticalExpressions(a,e)},a.clone=
function(){var e;e=t.cloneExpression(a);n(e);return e},a.toString=function(e){null==e&&(e={});!1!==e.replaceSymbols&&null==e.symbols&&(e.symbols=B.getSymbols());return t.expressionToString(a,e)},a.listMetaVariableNames=function(){return t.listMetaVariableNames(a)},a.findMatches=function(e,f,q){e=E.find(a,e,f,q);n(e);return e},a.applyMatches=function(e){e=E.apply(a,e);n(e);return e},a.applySubstitutions=function(){var e;e=r.applySubstitutions(a);n(e);return e},a.containsSubstitutions=function(){var e;
e=!1;a.walk(function(a){null!=(null!=a?a.substitutions:void 0)&&(e=!0)});return e},a.getNames=function(){var e;e=[];a.walk(function(a){"name"===(null!=a?a.type:void 0)&&e.push(a.name)});return e},a.getPredicates=function(){var e;e=[];a.walk(function(a){"predicate"===(null!=a?a.type:void 0)&&e.push({name:a.name,arity:a.termlist.length})});return u.uniq(e,function(e){return e.name+"*&!"+e.arity})},a.getSentenceLetters=function(){var e;e=[];a.walk(function(a){"sentence_letter"===(null!=a?a.type:void 0)&&
e.push(a.letter)});return e.sort()},a.getFreeVariableNames=function(){var e,w,q,l;e=t.listTerms(a);w=u.uniq(function(){var a,g,b;b=[];a=0;for(g=e.length;a<g;a++)q=e[a],"variable"===q.type&&b.push(q.name);return b}());return function(){var e,g,b;b=[];e=0;for(g=w.length;e<g;e++)l=w[e],A.isVariableFree(l,f)&&b.push(l);return b}()},a.convertToPNFsimplifyAndSort=function(){var e;e=A.convertToPNFsimplifyAndSort(f);n(e);return e},a.isPNFExpressionEquivalent=function(e){return A.arePNFExpressionsEquivalent(a,
e)},a.evaluate=function(f){return e.evaluate(a,f)}});return f};a._decorate=n},{"./dialect_manager/dialectManager":5,"./evaluate":6,"./match":8,"./normal_form":10,"./substitute":22,"./symbols":23,"./util":24,lodash:9}],8:[function(f,y,a){var u,n,B,e,E,A,r,t,v,D,G,w,q,l,z=[].indexOf||function(g){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===g)return b;return-1};u=f("lodash");l=f("./util");a.find=function(g,b,d){null==d&&(d={});null==d&&(d={});return w(b,function(b){var e,a;b=q(g,b,d);if(!1!==
b){for(e in b)a=b[e],b[e]=l.cloneExpression(a);return b}})||!1};q=function(g,b,d){var e;null==d&&(d={});e=function(b,g){var a,f;if(null!=(null!=g?g.type:void 0)&&("expression_variable"===(a=g.type)||"term_metavariable"===a)){"expression_variable"===g.type&&(f=g.letter);"term_metavariable"===g.type&&(f=g.name);if(f in d)return l.areIdenticalExpressions(b,d[f]);d=u.clone(d);d[f]=b;return null!=g.box?(a=l.cloneExpression(b),delete a.box,d[f]=a,null==b.box?!1:l.walkCompare(b.box,g.box,e)):d}};return l.walkCompare(g,
b,e)?d:!1};a.findWithoutApplyingSubs=q;w=function(g,b){var d;if(!l.expressionContainsSubstitutions(g))return b(g);d=l.cloneExpression(g);d=v(d);return A(d,b)};a.doAfterApplyingSubstitutions=w;A=function(g,b){var d,e,a,f,p,q;d=E(g);if(a=!l.expressionContainsSubstitutions(d))if(q=b(d))return q;f=G(g);p=!l.expressionContainsSubstitutions(f);e=!l.areIdenticalExpressions(d,f);if(p&&e&&(q=b(f))||!a&&(q=A(d,b))||!p&&e&&(q=A(f,b)))return q};E=function(g){var b;b=l.cloneExpression(g);return l.walkMutateFindOne(b,
function(d){var g,e;if(null!=(null!=d?d.substitutions:void 0)){d=l.cloneExpression(d);e=D(d);if(null==e)return{newExpression:b,aResult:void 0};r(d,e)&&(g=l.cloneExpression(e.to),null!=d.substitutions&&(g.substitutions=d.substitutions),null!=d.box&&(g.box=d.box),d=g);return{newExpression:d,aResult:e}}}).mutatedExpression};r=function(g,b){return g.type!==b.from.type?!1:null!=g.name&&null!=b.from.name&&g.name===b.from.name||null!=g.letter&&null!=b.from.letter&&g.letter===b.from.letter?!0:!1};G=function(g){g=
l.cloneExpression(g);return l.walkMutateFindOne(g,function(b){var d;if(null!=(null!=b?b.substitutions:void 0))return b=l.cloneExpression(b),d=D(b),{newExpression:b,aResult:d}}).mutatedExpression};v=function(g){g=l.cloneExpression(g);return l.walkMutate(g,function(b){var d;if(null==(null!=b?b.substitutions:void 0)||null!=(null!=b?b.type:void 0)&&("name"===(d=b.type)||"variable"===d||"term_metavariable"===d))return b;for(d=D(b);d;)b=t(d)?B(b,d):n(b,d),d=D(b);return b})};a._moveAllSubsInwards=v;D=function(g){var b;
if(null!=g.substitutions){for(b=g.substitutions.shift();0<g.substitutions.length&&l.areIdenticalExpressions(b.from,b.to);)b=g.substitutions.shift();if(l.areIdenticalExpressions(b.from,b.to))delete g.substitutions;else return 0===g.substitutions.length&&delete g.substitutions,b}};t=function(g){var b;return(b=g.from.type,0<=z.call(l.termTypes,b))?!0:!1};B=function(g,b){return e(g,b,l.termTypes)};a._addSubToEveryTerm=B;n=function(g,b){return e(g,b,["sentence_letter","expression_variable"])};a._addSubToEverySentence=
n;e=function(g,b,d){var e,a;a=function(b){var g;if(null==(null!=b?b.type:void 0)||!(g=b.type,0<=z.call(d,g))||a._inSub)return b;b.substitutions&&!l.expressionHasSub(b,e)?b.substitutions.push(e):b.substitutions=[e];return b};g=l.cloneExpression(g);e=l.cloneExpression(b);return g=l.walkMutate(g,a)};a.apply=function(g,b,d){var e;null==d&&(d={});e=function(d){var g,e;if(null==(null!=d?d.type:void 0)||"expression_variable"!==(g=d.type)&&"term_metavariable"!==g)return d;"expression_variable"===d.type&&
(e=d.letter);"term_metavariable"===d.type&&(e=d.name);if(!(e in b))return d;g=l.cloneExpression(b[e]);null!=d.substitutions&&(g.substitutions=d.substitutions);null!=d.box&&(g.box=d.box);return g};if(d.noClone)return l.walkMutate(g,e);g=l.cloneExpression(g);return l.walkMutate(g,e)}},{"./util":24,lodash:9}],9:[function(f,y,a){(function(f){(function(){function n(b,d){if(b!==d){var g=null===b,e=b===p,a=b===b,m=null===d,f=d===p,l=d===d;if(b>d&&!m||!a||g&&!f&&l||e&&l)return 1;if(b<d&&!g||!l||m&&!e&&a||
f&&a)return-1}return 0}function B(b,d,g){for(var e=b.length,a=g?e:-1;g?a--:++a<e;)if(d(b[a],a,b))return a;return-1}function e(b,d,g){if(d!==d)return l(b,g);--g;for(var e=b.length;++g<e;)if(b[g]===d)return g;return-1}function E(b){return"function"==typeof b||!1}function A(b){return null==b?"":b+""}function r(b,d){for(var g=-1,e=b.length;++g<e&&-1<d.indexOf(b.charAt(g)););return g}function t(b,d){for(var g=b.length;g--&&-1<d.indexOf(b.charAt(g)););return g}function v(b,d){return n(b.criteria,d.criteria)||
b.index-d.index}function D(b){return Da[b]}function G(b){return ua[b]}function w(b,d,g){d?b=vb[b]:g&&(b=Ka[b]);return"\\"+b}function q(b){return"\\"+Ka[b]}function l(b,d,g){var e=b.length;for(d+=g?0:-1;g?d--:++d<e;){var a=b[d];if(a!==a)return d}return-1}function z(b){return!!b&&"object"==typeof b}function g(b){return 160>=b&&9<=b&&13>=b||32==b||160==b||5760==b||6158==b||8192<=b&&(8202>=b||8232==b||8233==b||8239==b||8287==b||12288==b||65279==b)}function b(b,d){for(var g=-1,e=b.length,a=-1,m=[];++g<
e;)b[g]===d&&(b[g]="__lodash_placeholder__",m[++a]=g);return m}function d(b){for(var d=-1,e=b.length;++d<e&&g(b.charCodeAt(d)););return d}function m(b){for(var d=b.length;d--&&g(b.charCodeAt(d)););return d}function x(b){return Wa[b]}function H(g){function a(c){if(z(c)&&!I(c)&&!(c instanceof y)){if(c instanceof u)return c;if(Q.call(c,"__chain__")&&Q.call(c,"__wrapped__"))return gc(c)}return new u(c)}function f(){}function u(c,h,k){this.__wrapped__=c;this.__actions__=k||[];this.__chain__=!!h}function y(c){this.__wrapped__=
c;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=Xa;this.__views__=[]}function ua(){this.__data__={}}function ea(c){var h=c?c.length:0;for(this.data={hash:Ya(null),set:new Za};h--;)this.push(c[h])}function Da(c,h){var k=c.data;return("string"==typeof h||M(h)?k.set.has(h):k.hash[h])?0:-1}function U(c,h){var k=-1,b=c.length;for(h||(h=N(b));++k<b;)h[k]=c[k];return h}function fa(c,h){for(var k=-1,b=c.length;++k<b&&!1!==h(c[k],k,c););return c}function ta(c,
h){for(var k=-1,b=c.length;++k<b;)if(!h(c[k],k,c))return!1;return!0}function na(c,h){for(var k=-1,b=c.length,a=-1,d=[];++k<b;){var g=c[k];h(g,k,c)&&(d[++a]=g)}return d}function Ea(c,h){for(var k=-1,b=c.length,a=N(b);++k<b;)a[k]=h(c[k],k,c);return a}function La(c,h){for(var k=-1,b=h.length,a=c.length;++k<b;)c[a+k]=h[k];return c}function Wa(c,h,k,b){var a=-1,d=c.length;for(b&&d&&(k=c[++a]);++a<d;)k=h(k,c[a],a,c);return k}function Ka(c,h){for(var k=-1,b=c.length;++k<b;)if(h(c[k],k,c))return!0;return!1}
function hc(c,h,k,b){return c!==p&&Q.call(b,k)?c:h}function wb(c,h,k){for(var b=-1,a=T(h),d=a.length;++b<d;){var g=a[b],e=c[g],m=k(e,h[g],g,c,h);(m===m?m===e:e!==e)&&(e!==p||g in c)||(c[g]=m)}return c}function Ma(c,h){return null==h?c:ic(h,T(h),c)}function jc(c,h){for(var k=-1,b=null==c,a=!b&&R(c),d=a?c.length:0,g=h.length,e=N(g);++k<g;){var m=h[k];e[k]=a?oa(m,d)?c[m]:p:b?p:c[m]}return e}function ic(c,h,k){k||(k={});for(var b=-1,a=h.length;++b<a;){var d=h[b];k[d]=c[d]}return k}function $a(c,h,k){var b=
typeof c;return"function"==b?h===p?c:Z(c,h,k):null==c?va:"object"==b?Na(c):h===p?ab(c):kc(c,h)}function wa(c,h,k,b,a,d,g){var e;k&&(e=a?k(c,b,a):k(c));if(e!==p)return e;if(!M(c))return c;if(b=I(c)){if(e=Ud(c),!h)return U(c,e)}else{var m=aa.call(c),f="[object Function]"==m;if("[object Object]"==m||"[object Arguments]"==m||f&&!a){if(e=Vd(f?{}:c),!h)return Ma(e,c)}else return O[m]?Wd(c,m,h):a?c:{}}d||(d=[]);g||(g=[]);for(a=d.length;a--;)if(d[a]==c)return g[a];d.push(c);g.push(e);(b?fa:la)(c,function(b,
a){e[a]=wa(b,h,k,a,c,d,g)});return e}function lc(c,h,k){if("function"!=typeof c)throw new ba("Expected a function");return bb(function(){c.apply(p,k)},h)}function Oa(c,h){var k=c?c.length:0,b=[];if(!k)return b;var a=-1,d=Fa(),g=d==e,m=g&&200<=h.length?Ya&&Za?new ea(h):null:null,f=h.length;m&&(d=Da,g=!1,h=m);a:for(;++a<k;)if(m=c[a],g&&m===m){for(var p=f;p--;)if(h[p]===m)continue a;b.push(m)}else 0>d(h,m,0)&&b.push(m);return b}function vb(c,h){var k=!0;ga(c,function(c,b,a){return k=!!h(c,b,a)});return k}
function ec(c,h,k,b){var a=b,d=a;ga(c,function(c,g,e){g=+h(c,g,e);if(k(g,a)||g===b&&g===d)a=g,d=c});return d}function mc(c,h){var k=[];ga(c,function(c,b,a){h(c,b,a)&&k.push(c)});return k}function nc(c,h,k,b){var a;k(c,function(c,k,d){if(h(c,k,d))return a=b?k:c,!1});return a}function W(c,h,k,b){b||(b=[]);for(var a=-1,d=c.length;++a<d;){var g=c[a];z(g)&&R(g)&&(k||I(g)||ma(g))?h?W(g,h,k,b):La(b,g):k||(b[b.length]=g)}return b}function oc(c,h){return xb(c,h,pa)}function la(c,h){return xb(c,h,T)}function yb(c,
h){return pc(c,h,T)}function zb(c,h){for(var k=-1,b=h.length,a=-1,g=[];++k<b;){var d=h[k];xa(c[d])&&(g[++a]=d)}return g}function ya(c,h,k){if(null!=c){k!==p&&k in ha(c)&&(h=[k]);k=0;for(var b=h.length;null!=c&&k<b;)c=c[h[k++]];return k&&k==b?c:p}}function cb(c,h,k,b,a,g){if(c===h)return!0;if(null==c||null==h||!M(c)&&!z(h))return c!==c&&h!==h;a:{var d=cb,e=I(c),m=I(h),f="[object Array]",p="[object Array]";e||(f=aa.call(c),"[object Arguments]"==f?f="[object Object]":"[object Object]"!=f&&(e=Ga(c)));
m||(p=aa.call(h),"[object Arguments]"==p?p="[object Object]":"[object Object]"!=p&&Ga(h));var l="[object Object]"==f,m="[object Object]"==p,p=f==p;if(!p||e||l){if(!b&&(f=l&&Q.call(c,"__wrapped__"),m=m&&Q.call(h,"__wrapped__"),f||m)){c=d(f?c.value():c,m?h.value():h,k,b,a,g);break a}if(p){a||(a=[]);g||(g=[]);for(f=a.length;f--;)if(a[f]==c){c=g[f]==h;break a}a.push(c);g.push(h);c=(e?Xd:Yd)(c,h,d,k,b,a,g);a.pop();g.pop()}else c=!1}else c=Zd(c,h,f)}return c}function qc(c,h,k){var b=h.length,a=b,g=!k;if(null==
c)return!a;for(c=ha(c);b--;){var d=h[b];if(g&&d[2]?d[1]!==c[d[0]]:!(d[0]in c))return!1}for(;++b<a;){var d=h[b],e=d[0],m=c[e],f=d[1];if(g&&d[2]){if(m===p&&!(e in c))return!1}else if(d=k?k(m,f,e):p,d===p?!cb(f,m,k,!0):!d)return!1}return!0}function Ab(c,h){var k=-1,b=R(c)?N(c.length):[];ga(c,function(c,a,d){b[++k]=h(c,a,d)});return b}function Na(c){var h=rc(c);if(1==h.length&&h[0][2]){var k=h[0][0],b=h[0][1];return function(c){return null==c?!1:c[k]===b&&(b!==p||k in ha(c))}}return function(c){return qc(c,
h)}}function kc(c,h){var k=I(c),b=za(c)&&h===h&&!M(h),a=c+"";c=qa(c);return function(d){if(null==d)return!1;var g=a;d=ha(d);if(!(!k&&b||g in d)){d=1==c.length?d:ya(d,ca(c,0,-1));if(null==d)return!1;g=Pa(c);d=ha(d)}return d[g]===h?h!==p||g in d:cb(h,d[g],p,!0)}}function sc(c,h,k,b,a){if(!M(c))return c;var d=R(h)&&(I(h)||Ga(h)),g=d?p:T(h);fa(g||h,function(e,m){g&&(m=e,e=h[m]);if(z(e)){b||(b=[]);a||(a=[]);a:{for(var f=m,l=b,q=a,C=l.length,x=h[f];C--;)if(l[C]==x){c[f]=q[C];break a}var C=c[f],F=k?k(C,
x,f,c,h):p,H=F===p;H&&(F=x,R(x)&&(I(x)||Ga(x))?F=I(C)?C:R(C)?U(C):[]:db(x)||ma(x)?F=ma(C)?tc(C):db(C)?C:{}:H=!1);l.push(x);q.push(F);if(H)c[f]=sc(F,x,k,l,q);else if(F===F?F!==C:C===C)c[f]=F}}else f=c[m],l=k?k(f,e,m,c,h):p,(q=l===p)&&(l=e),l===p&&(!d||m in c)||!q&&(l===l?l===f:f!==f)||(c[m]=l)});return c}function Bb(c){return function(h){return null==h?p:h[c]}}function fc(c){var h=c+"";c=qa(c);return function(k){return ya(k,c,h)}}function uc(c,h){for(var k=c?h.length:0;k--;){var b=h[k];if(b!=a&&oa(b)){var a=
b;vc.call(c,b,1)}}return c}function Cb(c,h){return c+Aa(wc()*(h-c+1))}function $d(c,h,k,b,a){a(c,function(c,a,d){k=b?(b=!1,c):h(k,c,a,d)});return k}function ca(c,h,k){var b=-1,a=c.length;h=null==h?0:+h||0;0>h&&(h=-h>a?0:a+h);k=k===p||k>a?a:+k||0;0>k&&(k+=a);a=h>k?0:k-h>>>0;h>>>=0;for(k=N(a);++b<a;)k[b]=c[b+h];return k}function ae(c,h){var k;ga(c,function(c,b,a){k=h(c,b,a);return!k});return!!k}function xc(c,h){var k=c.length;for(c.sort(h);k--;)c[k]=c[k].value;return c}function yc(c,h,k){var b=L(),
a=-1;h=Ea(h,function(c){return b(c)});c=Ab(c,function(c){return{criteria:Ea(h,function(h){return h(c)}),index:++a,value:c}});return xc(c,function(c,h){var b;a:{for(var a=-1,d=c.criteria,g=h.criteria,Td=d.length,e=k.length;++a<Td;)if(b=n(d[a],g[a])){if(a>=e)break a;a=k[a];b*="asc"===a||!0===a?1:-1;break a}b=c.index-h.index}return b})}function be(c,h){var k=0;ga(c,function(c,b,a){k+=+h(c,b,a)||0});return k}function Db(c,h){var k=-1,b=Fa(),a=c.length,d=b==e,g=d&&200<=a,m=g?Ya&&Za?new ea(void 0):null:
null,f=[];m?(b=Da,d=!1):(g=!1,m=h?[]:f);a:for(;++k<a;){var l=c[k],p=h?h(l,k,c):l;if(d&&l===l){for(var q=m.length;q--;)if(m[q]===p)continue a;h&&m.push(p);f.push(l)}else 0>b(m,p,0)&&((h||g)&&m.push(p),f.push(l))}return f}function Eb(c,h){for(var k=-1,b=h.length,a=N(b);++k<b;)a[k]=c[h[k]];return a}function eb(c,h,k,b){for(var a=c.length,d=b?a:-1;(b?d--:++d<a)&&h(c[d],d,c););return k?ca(c,b?0:d,b?d+1:a):ca(c,b?d+1:0,b?a:d)}function zc(c,h){var k=c;k instanceof y&&(k=k.value());for(var b=-1,a=h.length;++b<
a;)var d=h[b],k=d.func.apply(d.thisArg,La([k],d.args));return k}function Fb(c,h,k){var b=0,a=c?c.length:b;if("number"==typeof h&&h===h&&2147483647>=a){for(;b<a;){var d=b+a>>>1,g=c[d];(k?g<=h:g<h)&&null!==g?b=d+1:a=d}return a}return Ac(c,h,va,k)}function Ac(c,h,k,b){h=k(h);for(var a=0,d=c?c.length:0,g=h!==h,e=null===h,m=h===p;a<d;){var f=Aa((a+d)/2),l=k(c[f]),q=l!==p,C=l===l;(g?C||b:e?C&&q&&(b||null!=l):m?C&&(b||q):null==l?0:b?l<=h:l<h)?a=f+1:d=f}return X(d,4294967294)}function Z(c,h,k){if("function"!=
typeof c)return va;if(h===p)return c;switch(k){case 1:return function(k){return c.call(h,k)};case 3:return function(k,b,a){return c.call(h,k,b,a)};case 4:return function(k,b,a,d){return c.call(h,k,b,a,d)};case 5:return function(k,b,a,d,g){return c.call(h,k,b,a,d,g)}}return function(){return c.apply(h,arguments)}}function Bc(c){var h=new ce(c.byteLength);(new Cc(h)).set(new Cc(c));return h}function Dc(c,h,k){for(var b=k.length,a=-1,d=S(c.length-b,0),g=-1,e=h.length,m=N(e+d);++g<e;)m[g]=h[g];for(;++a<
b;)m[k[a]]=c[a];for(;d--;)m[g++]=c[a++];return m}function Ec(c,h,k){for(var b=-1,a=k.length,d=-1,g=S(c.length-a,0),e=-1,m=h.length,f=N(g+m);++d<g;)f[d]=c[d];for(g=d;++e<m;)f[g+e]=h[e];for(;++b<a;)f[g+k[b]]=c[d++];return f}function fb(c,h){return function(k,b,a){var d=h?h():{};b=L(b,a,3);if(I(k)){a=-1;for(var g=k.length;++a<g;){var e=k[a];c(d,e,b(e,a,k),k)}}else ga(k,function(h,k,a){c(d,h,b(h,k,a),a)});return d}}function Fc(c){return K(function(h,k){var b=-1,a=null==h?0:k.length,d=2<a?k[a-2]:p,g=2<
a?k[2]:p,e=1<a?k[a-1]:p;"function"==typeof d?(d=Z(d,e,5),a-=2):(d="function"==typeof e?e:p,a-=d?1:0);g&&J(k[0],k[1],g)&&(d=3>a?p:d,a=1);for(;++b<a;)(g=k[b])&&c(h,g,d);return h})}function Gc(c,h){return function(k,b){var a=k?Qa(k):0;if(!ja(a))return c(k,b);for(var d=h?a:-1,g=ha(k);(h?d--:++d<a)&&!1!==b(g[d],d,g););return k}}function Hc(c){return function(h,k,b){var a=ha(h);b=b(h);for(var d=b.length,g=c?d:-1;c?g--:++g<d;){var e=b[g];if(!1===k(a[e],e,a))break}return h}}function de(c,h){function k(){return(this&&
this!==ka&&this instanceof k?b:c).apply(h,arguments)}var b=gb(c);return k}function hb(c){return function(h){var k=-1;h=Ic(Jc(h));for(var b=h.length,a="";++k<b;)a=c(a,h[k],k);return a}}function gb(c){return function(){var h=arguments;switch(h.length){case 0:return new c;case 1:return new c(h[0]);case 2:return new c(h[0],h[1]);case 3:return new c(h[0],h[1],h[2]);case 4:return new c(h[0],h[1],h[2],h[3]);case 5:return new c(h[0],h[1],h[2],h[3],h[4]);case 6:return new c(h[0],h[1],h[2],h[3],h[4],h[5]);
case 7:return new c(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var k=Ra(c.prototype),h=c.apply(k,h);return M(h)?h:k}}function Kc(c){function h(k,b,a){a&&J(k,b,a)&&(b=p);k=ra(k,c,p,p,p,p,p,b);k.placeholder=h.placeholder;return k}return h}function Lc(c,h){return K(function(k){var b=k[0];if(null==b)return b;k.push(h);return c.apply(p,k)})}function Mc(c,h){return function(k,b,a){a&&J(k,b,a)&&(b=p);b=L(b,a,3);if(1==b.length){a=k=I(k)?k:Gb(k);for(var d=b,g=-1,e=a.length,m=h,f=m;++g<e;){var l=a[g],q=+d(l);c(q,
m)&&(m=q,f=l)}a=f;if(!k.length||a!==h)return a}return ec(k,b,c,h)}}function Nc(c,h){return function(k,b,a){b=L(b,a,3);return I(k)?(b=B(k,b,h),-1<b?k[b]:p):nc(k,b,c)}}function Oc(c){return function(h,k,b){if(!h||!h.length)return-1;k=L(k,b,3);return B(h,k,c)}}function Pc(c){return function(h,k,b){k=L(k,b,3);return nc(h,k,c,!0)}}function Qc(c){return function(){for(var h,k=arguments.length,b=c?k:-1,a=0,d=N(k);c?b--:++b<k;){var g=d[a++]=arguments[b];if("function"!=typeof g)throw new ba("Expected a function");
!h&&u.prototype.thru&&"wrapper"==ib(g)&&(h=new u([],!0))}for(b=h?-1:k;++b<k;){var g=d[b],a=ib(g),e="wrapper"==a?Hb(g):p;h=e&&Ib(e[0])&&424==e[1]&&!e[4].length&&1==e[9]?h[ib(e[0])].apply(h,e[3]):1==g.length&&Ib(g)?h[a]():h.thru(g)}return function(){var c=arguments,b=c[0];if(h&&1==c.length&&I(b)&&200<=b.length)return h.plant(b).value();for(var a=0,c=k?d[a].apply(this,c):b;++a<k;)c=d[a].call(this,c);return c}}}function Rc(c,h){return function(k,b,a){return"function"==typeof b&&a===p&&I(k)?c(k,b):h(k,
Z(b,a,3))}}function Sc(c){return function(h,k,b){if("function"!=typeof k||b!==p)k=Z(k,b,3);return c(h,k,pa)}}function Tc(c){return function(h,k,b){if("function"!=typeof k||b!==p)k=Z(k,b,3);return c(h,k)}}function Uc(c){return function(h,k,b){var a={};k=L(k,b,3);la(h,function(h,b,d){d=k(h,b,d);b=c?d:b;h=c?h:d;a[b]=h});return a}}function Vc(c){return function(h,k,b){h=A(h);return(c?h:"")+Wc(h,k,b)+(c?"":h)}}function Xc(c){var h=K(function(k,a){var d=b(a,h.placeholder);return ra(k,c,p,a,d)});return h}
function Yc(c,h){return function(k,b,a,d){var g=3>arguments.length;return"function"==typeof b&&d===p&&I(k)?c(k,b,a,g):$d(k,L(b,d,4),a,g,h)}}function Jb(c,h,k,a,d,g,e,m,f,l){function q(){for(var r=arguments.length,t=r,n=N(r);t--;)n[t]=arguments[t];a&&(n=Dc(n,a,d));g&&(n=Ec(n,g,e));if(z||w){var t=q.placeholder,A=b(n,t),r=r-A.length;if(r<l){var Y=m?U(m):p,r=S(l-r,0),v=z?A:p,A=z?p:A,B=z?n:p,n=z?p:n;h|=z?32:64;h&=~(z?64:32);H||(h&=-4);n=[c,h,k,B,v,n,A,Y,f,r];Y=Jb.apply(p,n);Ib(c)&&Zc(Y,n);Y.placeholder=
t;return Y}}t=x?k:this;Y=F?t[c]:c;if(m)for(r=n.length,v=X(m.length,r),A=U(n);v--;)B=m[v],n[v]=oa(B,r)?A[B]:p;C&&f<n.length&&(n.length=f);this&&this!==ka&&this instanceof q&&(Y=ia||gb(c));return Y.apply(t,n)}var C=h&128,x=h&1,F=h&2,z=h&8,H=h&4,w=h&16,ia=F?p:gb(c);return q}function Wc(c,h,k){c=c.length;h=+h;if(c>=h||!Ha(h))return"";h-=c;k=null==k?" ":k+"";return $c(k,jb(h/k.length)).slice(0,h)}function ee(c,h,k,b){function a(){for(var h=-1,e=arguments.length,m=-1,f=b.length,l=N(f+e);++m<f;)l[m]=b[m];
for(;e--;)l[m++]=arguments[++h];return(this&&this!==ka&&this instanceof a?g:c).apply(d?k:this,l)}var d=h&1,g=gb(c);return a}function Kb(c){var h=Ba[c];return function(c,b){return(b=b===p?0:+b||0)?(b=fe(10,b),h(c*b)/b):h(c)}}function ad(c){return function(h,k,b,a){var d=L(b);return null==b&&d===$a?Fb(h,k,c):Ac(h,k,d(b,a,1),c)}}function ra(c,h,k,a,d,g,e,m){var f=h&2;if(!f&&"function"!=typeof c)throw new ba("Expected a function");var l=a?a.length:0;l||(h&=-97,a=d=p);l-=d?d.length:0;if(h&64){var q=a,
C=d;a=d=p}var x=f?p:Hb(c);k=[c,h,k,a,d,q,C,g,e,m];if(x){a=k[1];h=x[1];m=a|h;d=128==h&&8==a||128==h&&256==a&&k[7].length<=x[8]||384==h&&8==a;if(128>m||d){h&1&&(k[2]=x[2],m|=a&1?0:4);if(a=x[3])d=k[3],k[3]=d?Dc(d,a,x[4]):U(a),k[4]=d?b(k[3],"__lodash_placeholder__"):U(x[4]);if(a=x[5])d=k[5],k[5]=d?Ec(d,a,x[6]):U(a),k[6]=d?b(k[5],"__lodash_placeholder__"):U(x[6]);(a=x[7])&&(k[7]=U(a));h&128&&(k[8]=null==k[8]?x[8]:X(k[8],x[8]));null==k[9]&&(k[9]=x[9]);k[0]=x[0];k[1]=m}h=k[1];m=k[9]}k[9]=null==m?f?0:c.length:
S(m-l,0)||0;c=1==h?de(k[0],k[2]):32!=h&&33!=h||k[4].length?Jb.apply(p,k):ee.apply(p,k);return(x?bd:Zc)(c,k)}function Xd(c,h,k,b,a,d,g){var e=-1,m=c.length,f=h.length;if(m!=f&&!(a&&f>m))return!1;for(;++e<m;){var l=c[e],f=h[e],q=b?b(a?f:l,a?l:f,e):p;if(q!==p){if(q)continue;return!1}if(a){if(!Ka(h,function(c){return l===c||k(l,c,b,a,d,g)}))return!1}else if(l!==f&&!k(l,f,b,a,d,g))return!1}return!0}function Zd(c,h,k){switch(k){case "[object Boolean]":case "[object Date]":return+c==+h;case "[object Error]":return c.name==
h.name&&c.message==h.message;case "[object Number]":return c!=+c?h!=+h:c==+h;case "[object RegExp]":case "[object String]":return c==h+""}return!1}function Yd(c,h,k,b,a,d,g){var e=T(c),m=e.length,f=T(h).length;if(m!=f&&!a)return!1;for(f=m;f--;){var l=e[f];if(!(a?l in h:Q.call(h,l)))return!1}for(var q=a;++f<m;){var l=e[f],C=c[l],x=h[l],z=b?b(a?x:C,a?C:x,l):p;if(z===p?!k(C,x,b,a,d,g):!z)return!1;q||(q="constructor"==l)}return q||(k=c.constructor,b=h.constructor,!(k!=b&&"constructor"in c&&"constructor"in
h)||"function"==typeof k&&k instanceof k&&"function"==typeof b&&b instanceof b)?!0:!1}function L(c,h,b){var d=a.callback||kb,d=d===kb?$a:d;return b?d(c,h,b):d}function ib(c){for(var h=c.name,b=lb[h],a=b?b.length:0;a--;){var d=b[a],g=d.func;if(null==g||g==c)return d.name}return h}function Fa(c,h,b){var d=a.indexOf||Lb,d=d===Lb?e:d;return c?d(c,h,b):d}function rc(c){c=cd(c);for(var h=c.length;h--;){var b=c[h],a;a=c[h][1];a=a===a&&!M(a);b[2]=a}return c}function Ia(c,h){var b=null==c?p:c[h];return dd(b)?
b:p}function Ud(c){var h=c.length,b=new c.constructor(h);h&&"string"==typeof c[0]&&Q.call(c,"index")&&(b.index=c.index,b.input=c.input);return b}function Vd(c){c=c.constructor;"function"==typeof c&&c instanceof c||(c=Ca);return new c}function Wd(c,h,b){var a=c.constructor;switch(h){case "[object ArrayBuffer]":return Bc(c);case "[object Boolean]":case "[object Date]":return new a(+c);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return h=
c.buffer,new a(b?Bc(h):h,c.byteOffset,c.length);case "[object Number]":case "[object String]":return new a(c);case "[object RegExp]":var d=new a(c.source,ed.exec(c));d.lastIndex=c.lastIndex}return d}function Mb(c,h,b){null==c||za(h,c)||(h=qa(h),c=1==h.length?c:ya(c,ca(h,0,-1)),h=Pa(h));h=null==c?c:c[h];return null==h?p:h.apply(c,b)}function R(c){return null!=c&&ja(Qa(c))}function oa(c,h){c="number"==typeof c||ge.test(c)?+c:-1;return-1<c&&0==c%1&&c<(null==h?9007199254740991:h)}function J(c,h,b){if(!M(b))return!1;
var a=typeof h;return("number"==a?R(b)&&oa(h,b.length):"string"==a&&h in b)?(h=b[h],c===c?c===h:h!==h):!1}function za(c,h){var b=typeof c;return"string"==b&&F.test(c)||"number"==b?!0:I(c)?!1:!Ja.test(c)||null!=h&&c in ha(h)}function Ib(c){var h=ib(c);if(!(h in y.prototype))return!1;h=a[h];if(c===h)return!0;h=Hb(h);return!!h&&c===h[0]}function ja(c){return"number"==typeof c&&-1<c&&0==c%1&&9007199254740991>=c}function fd(c,h){return c===p?h:Nb(c,h,fd)}function gd(c,h){c=ha(c);for(var b=-1,a=h.length,
d={};++b<a;){var g=h[b];g in c&&(d[g]=c[g])}return d}function hd(c,h){var b={};oc(c,function(c,a,d){h(c,a,d)&&(b[a]=c)});return b}function id(c){for(var h=pa(c),b=h.length,a=b&&c.length,d=!!a&&ja(a)&&(I(c)||ma(c)),g=-1,e=[];++g<b;){var m=h[g];(d&&oa(m,a)||Q.call(c,m))&&e.push(m)}return e}function Gb(c){return null==c?[]:R(c)?M(c)?c:Ca(c):mb(c)}function ha(c){return M(c)?c:Ca(c)}function qa(c){if(I(c))return c;var h=[];A(c).replace(he,function(c,b,a,d){h.push(a?d.replace(ie,"$1"):b||c)});return h}
function gc(c){return c instanceof y?c.clone():new u(c.__wrapped__,c.__chain__,U(c.__actions__))}function jd(c,h,b){if(!c||!c.length)return[];if(b?J(c,h,b):null==h)h=1;return ca(c,0>h?0:h)}function kd(c,h,b){var a=c?c.length:0;if(!a)return[];if(b?J(c,h,b):null==h)h=1;h=a-(+h||0);return ca(c,0,0>h?0:h)}function ld(c){return c?c[0]:p}function Lb(c,h,b){var a=c?c.length:0;if(!a)return-1;if("number"==typeof b)b=0>b?S(a+b,0):b;else if(b)return b=Fb(c,h),b<a&&(h===h?h===c[b]:c[b]!==c[b])?b:-1;return e(c,
h,b||0)}function Pa(c){var h=c?c.length:0;return h?c[h-1]:p}function md(c){return jd(c,1)}function nd(c,h,b,a){if(!c||!c.length)return[];null!=h&&"boolean"!=typeof h&&(a=b,b=J(c,h,a)?p:h,h=!1);var d=L();if(null!=b||d!==$a)b=d(b,a,3);if(h&&Fa()==e){h=b;var g;b=-1;a=c.length;for(var d=-1,m=[];++b<a;){var f=c[b],l=h?h(f,b,c):f;b&&g===l||(g=l,m[++d]=f)}c=m}else c=Db(c,b);return c}function Ob(c){if(!c||!c.length)return[];var h=-1,b=0;c=na(c,function(c){if(R(c))return b=S(c.length,b),!0});for(var a=N(b);++h<
b;)a[h]=Ea(c,Bb(h));return a}function od(c,h,b){if(!c||!c.length)return[];c=Ob(c);if(null==h)return c;h=Z(h,b,4);return Ea(c,function(c){return Wa(c,h,p,!0)})}function pd(c,h){var b=-1,a=c?c.length:0,d={};for(!a||h||I(c[0])||(h=[]);++b<a;){var g=c[b];h?d[g]=h[b]:g&&(d[g[0]]=g[1])}return d}function qd(c){c=a(c);c.__chain__=!0;return c}function Pb(c,h,b){return h.call(b,c)}function rd(c,h,b){var a=I(c)?ta:vb;b&&J(c,h,b)&&(h=p);if("function"!=typeof h||b!==p)h=L(h,b,3);return a(c,h)}function Qb(c,h,
b){var a=I(c)?na:mc;h=L(h,b,3);return a(c,h)}function Rb(c,h,b,a){var d=c?Qa(c):0;ja(d)||(c=mb(c),d=c.length);b="number"!=typeof b||a&&J(h,b,a)?0:0>b?S(d+b,0):b||0;return"string"==typeof c||!I(c)&&Sb(c)?b<=d&&-1<c.indexOf(h,b):!!d&&-1<Fa(c,h,b)}function Tb(c,h,b){var a=I(c)?Ea:Ab;h=L(h,b,3);return a(c,h)}function nb(c,h,b){if(b?J(c,h,b):null==h){c=Gb(c);var a=c.length;return 0<a?c[Cb(0,a-1)]:p}b=-1;c=sd(c);var a=c.length,d=a-1;for(h=X(0>h?0:+h||0,a);++b<h;){var a=Cb(b,d),g=c[a];c[a]=c[b];c[b]=g}c.length=
h;return c}function td(c,h,b){var a=I(c)?Ka:ae;b&&J(c,h,b)&&(h=p);if("function"!=typeof h||b!==p)h=L(h,b,3);return a(c,h)}function ud(c,h){var b;if("function"!=typeof h)if("function"==typeof c){var a=c;c=h;h=a}else throw new ba("Expected a function");return function(){0<--c&&(b=h.apply(this,arguments));1>=c&&(h=p);return b}}function vd(c,h,b){function a(h,b){b&&Sa(b);f=x=z=p;h&&(F=Ta(),l=c.apply(C,m),x||f||(m=C=p))}function d(){var c=h-(Ta()-q);0>=c||c>h?a(z,f):x=bb(d,c)}function g(){a(w,x)}function e(){m=
arguments;q=Ta();C=this;z=w&&(x||!r);if(!1===H)var b=r&&!x;else{f||r||(F=q);var a=H-(q-F),k=0>=a||a>H;k?(f&&(f=Sa(f)),F=q,l=c.apply(C,m)):f||(f=bb(g,a))}k&&x?x=Sa(x):x||h===H||(x=bb(d,h));b&&(k=!0,l=c.apply(C,m));!k||x||f||(m=C=p);return l}var m,f,l,q,C,x,z,F=0,H=!1,w=!0;if("function"!=typeof c)throw new ba("Expected a function");h=0>h?0:+h||0;if(!0===b)var r=!0,w=!1;else M(b)&&(r=!!b.leading,H="maxWait"in b&&S(+b.maxWait||0,h),w="trailing"in b?!!b.trailing:w);e.cancel=function(){x&&Sa(x);f&&Sa(f);
F=0;f=x=z=p};return e}function Ub(c,h){if("function"!=typeof c||h&&"function"!=typeof h)throw new ba("Expected a function");var b=function(){var a=arguments,d=h?h.apply(this,a):a[0],g=b.cache;if(g.has(d))return g.get(d);a=c.apply(this,a);b.cache=g.set(d,a);return a};b.cache=new Ub.Cache;return b}function K(c,h){if("function"!=typeof c)throw new ba("Expected a function");h=S(h===p?c.length-1:+h||0,0);return function(){for(var b=arguments,a=-1,d=S(b.length-h,0),g=N(d);++a<d;)g[a]=b[h+a];switch(h){case 0:return c.call(this,
g);case 1:return c.call(this,b[0],g);case 2:return c.call(this,b[0],b[1],g)}d=N(h+1);for(a=-1;++a<h;)d[a]=b[a];d[h]=g;return c.apply(this,d)}}function wd(c,h){return c>h}function ma(c){return z(c)&&R(c)&&Q.call(c,"callee")&&!je.call(c,"callee")}function xd(c,h,b,a){a=(b="function"==typeof b?Z(b,a,3):p)?b(c,h):p;return a===p?cb(c,h,b):!!a}function Vb(c){return z(c)&&"string"==typeof c.message&&"[object Error]"==aa.call(c)}function xa(c){return M(c)&&"[object Function]"==aa.call(c)}function M(c){var h=
typeof c;return!!c&&("object"==h||"function"==h)}function dd(c){return null==c?!1:xa(c)?ke.test(yd.call(c)):z(c)&&le.test(c)}function zd(c){return"number"==typeof c||z(c)&&"[object Number]"==aa.call(c)}function db(c){var h;if(!z(c)||"[object Object]"!=aa.call(c)||ma(c)||!(Q.call(c,"constructor")||(h=c.constructor,"function"!=typeof h||h instanceof h)))return!1;var b;oc(c,function(c,h){b=h});return b===p||Q.call(c,b)}function Ad(c){return M(c)&&"[object RegExp]"==aa.call(c)}function Sb(c){return"string"==
typeof c||z(c)&&"[object String]"==aa.call(c)}function Ga(c){return z(c)&&ja(c.length)&&!!P[aa.call(c)]}function Bd(c,h){return c<h}function sd(c){var h=c?Qa(c):0;return ja(h)?h?U(c):[]:mb(c)}function tc(c){return ic(c,pa(c))}function Wb(c){return zb(c,pa(c))}function pa(c){if(null==c)return[];M(c)||(c=Ca(c));for(var h=c.length,h=h&&ja(h)&&(I(c)||ma(c))&&h||0,b=c.constructor,a=-1,b="function"==typeof b&&b.prototype===c,d=N(h),g=0<h;++a<h;)d[a]=a+"";for(var e in c)g&&oa(e,h)||"constructor"==e&&(b||
!Q.call(c,e))||d.push(e);return d}function cd(c){c=ha(c);for(var h=-1,b=T(c),a=b.length,d=N(a);++h<a;){var g=b[h];d[h]=[g,c[g]]}return d}function mb(c){return Eb(c,T(c))}function Jc(c){return(c=A(c))&&c.replace(me,D).replace(ob,"")}function $c(c,h){var b="";c=A(c);h=+h;if(1>h||!c||!Ha(h))return b;do h%2&&(b+=c),h=Aa(h/2),c+=c;while(h);return b}function Cd(c,h,b){var a=c;c=A(c);if(!c)return c;if(b?J(a,h,b):null==h)return c.slice(d(c),m(c)+1);h+="";return c.slice(r(c,h),t(c,h)+1)}function Ic(c,h,b){b&&
J(c,h,b)&&(h=p);c=A(c);return c.match(h||ne)||[]}function kb(c,h,b){b&&J(c,h,b)&&(h=p);return z(c)?Dd(c):$a(c,h)}function va(c){return c}function Dd(c){return Na(wa(c,!0))}function Xb(c,h,b){if(null==b){var a=M(h),d=a?T(h):p;((d=d&&d.length?zb(h,d):p)?d.length:a)||(d=!1,b=h,h=c,c=this)}d||(d=zb(h,T(h)));var g=!0,a=-1,e=xa(c),m=d.length;!1===b?g=!1:M(b)&&"chain"in b&&(g=b.chain);for(;++a<m;){b=d[a];var f=h[b];c[b]=f;e&&(c.prototype[b]=function(h){return function(){var b=this.__chain__;if(g||b){var a=
c(this.__wrapped__);(a.__actions__=U(this.__actions__)).push({func:h,args:arguments,thisArg:c});a.__chain__=b;return a}return h.apply(c,La([this.value()],arguments))}}(f))}return c}function Ed(){}function ab(c){return za(c)?Bb(c):fc(c)}g=g?sa.defaults(ka.Object(),g,sa.pick(ka,oe)):ka;var N=g.Array,Fd=g.Date,pe=g.Error,Gd=g.Function,Ba=g.Math,Hd=g.Number,Ca=g.Object,Yb=g.RegExp,Id=g.String,ba=g.TypeError,Jd=N.prototype,Zb=Ca.prototype,qe=Id.prototype,yd=Gd.prototype.toString,Q=Zb.hasOwnProperty,re=
0,aa=Zb.toString,se=ka._,ke=Yb("^"+yd.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=g.ArrayBuffer,Sa=g.clearTimeout,te=g.parseFloat,fe=Ba.pow,je=Zb.propertyIsEnumerable,Za=Ia(g,"Set"),bb=g.setTimeout,vc=Jd.splice,Cc=g.Uint8Array,Kd=Ia(g,"WeakMap"),jb=Ba.ceil,Ya=Ia(Ca,"create"),Aa=Ba.floor,ue=Ia(N,"isArray"),Ha=g.isFinite,Ld=Ia(Ca,"keys"),S=Ba.max,X=Ba.min,ve=Ia(Fd,"now"),we=g.parseInt,wc=Ba.random,xe=Hd.NEGATIVE_INFINITY,
Xa=Hd.POSITIVE_INFINITY,pb=Kd&&new Kd,lb={};a.support={};a.templateSettings={escape:qb,evaluate:da,interpolate:Ua,variable:"",imports:{_:a}};var Ra=function(){function c(){}return function(h){if(M(h)){c.prototype=h;var b=new c;c.prototype=p}return b||{}}}(),ga=Gc(la),$b=Gc(yb,!0),xb=Hc(),pc=Hc(!0),bd=pb?function(c,h){pb.set(c,h);return c}:va,Hb=pb?function(c){return pb.get(c)}:Ed,Qa=Bb("length"),Zc=function(){var c=0,h=0;return function(b,a){var d=Ta(),g=16-(d-h);h=d;if(0<g){if(150<=++c)return b}else c=
0;return bd(b,a)}}(),ye=K(function(c,h){return z(c)&&R(c)?Oa(c,W(h,!1,!0)):[]}),ze=Oc(),Ae=Oc(!0),Be=K(function(c){for(var h=c.length,b=h,a=N(p),d=Fa(),g=d==e,m=[];b--;){var f=c[b]=R(f=c[b])?f:[];a[b]=g&&120<=f.length?Ya&&Za?new ea(b&&f):null:null}var g=c[0],l=-1,p=g?g.length:0,q=a[0];a:for(;++l<p;)if(f=g[l],0>(q?Da(q,f):d(m,f,0))){for(b=h;--b;){var x=a[b];if(0>(x?Da(x,f):d(c[b],f,0)))continue a}q&&q.push(f);m.push(f)}return m}),Ce=K(function(c,h){h=W(h);var b=jc(c,h);uc(c,h.sort(n));return b}),De=
ad(),Ee=ad(!0),Fe=K(function(c){return Db(W(c,!1,!0))}),Ge=K(function(c,h){return R(c)?Oa(c,h):[]}),He=K(Ob),Ie=K(function(c){var h=c.length,b=2<h?c[h-2]:p,a=1<h?c[h-1]:p;2<h&&"function"==typeof b?h-=2:(b=1<h&&"function"==typeof a?(--h,a):p,a=p);c.length=h;return od(c,b,a)}),Je=K(function(c){c=W(c);return this.thru(function(h){h=I(h)?h:[ha(h)];for(var b=c,a=-1,d=h.length,g=-1,e=b.length,m=N(d+e);++a<d;)m[a]=h[a];for(;++g<e;)m[a++]=b[g];return m})}),Ke=K(function(c,h){return jc(c,W(h))}),Le=fb(function(c,
h,b){Q.call(c,b)?++c[b]:c[b]=1}),ac=Nc(ga),Me=Nc($b,!0),Md=Rc(fa,ga),Nd=Rc(function(c,h){for(var b=c.length;b--&&!1!==h(c[b],b,c););return c},$b),Ne=fb(function(c,h,b){Q.call(c,b)?c[b].push(h):c[b]=[h]}),Oe=fb(function(c,h,b){c[b]=h}),Pe=K(function(c,h,b){var a=-1,d="function"==typeof h,g=za(h),e=R(c)?N(c.length):[];ga(c,function(c){var m=d?h:g&&null!=c?c[h]:p;e[++a]=m?m.apply(c,b):Mb(c,h,b)});return e}),Qe=fb(function(c,b,a){c[a?0:1].push(b)},function(){return[[],[]]}),bc=Yc(Wa,ga),Od=Yc(function(c,
b,a,d){var g=c.length;for(d&&g&&(a=c[--g]);g--;)a=b(a,c[g],g,c);return a},$b),Re=K(function(c,b){if(null==c)return[];var a=b[2];a&&J(b[0],b[1],a)&&(b.length=1);return yc(c,W(b),[])}),Ta=ve||function(){return(new Fd).getTime()},Pd=K(function(c,h,a){var d=1;if(a.length)var g=b(a,Pd.placeholder),d=d|32;return ra(c,d,h,a,g)}),Se=K(function(c,b){b=b.length?W(b):Wb(c);for(var a=-1,d=b.length;++a<d;){var g=b[a];c[g]=ra(c[g],1,c)}return c}),Qd=K(function(c,h,a){var d=3;if(a.length)var g=b(a,Qd.placeholder),
d=d|32;return ra(h,d,c,a,g)}),Te=Kc(8),Ue=Kc(16),Ve=K(function(c,b){return lc(c,1,b)}),We=K(function(c,b,a){return lc(c,b,a)}),Xe=Qc(),cc=Qc(!0),Ye=K(function(c,b){b=W(b);if("function"!=typeof c||!ta(b,E))throw new ba("Expected a function");var a=b.length;return K(function(d){for(var g=X(d.length,a);g--;)d[g]=b[g](d[g]);return c.apply(this,d)})}),Ze=Xc(32),$e=Xc(64),af=K(function(c,b){return ra(c,256,p,p,p,W(b))}),I=ue||function(c){return z(c)&&ja(c.length)&&"[object Array]"==aa.call(c)},Nb=Fc(sc),
dc=Fc(function(c,b,a){return a?wb(c,b,a):Ma(c,b)}),bf=Lc(dc,function(c,b){return c===p?b:c}),cf=Lc(Nb,fd),df=Pc(la),ef=Pc(yb),ff=Sc(xb),gf=Sc(pc),hf=Tc(la),jf=Tc(yb),T=Ld?function(c){var b=null==c?p:c.constructor;return"function"==typeof b&&b.prototype===c||"function"!=typeof c&&R(c)?id(c):M(c)?Ld(c):[]}:id,kf=Uc(!0),lf=Uc(),mf=K(function(c,b){if(null==c)return{};if("function"!=typeof b[0])return b=Ea(W(b),Id),gd(c,Oa(pa(c),b));var a=Z(b[0],b[1],3);return hd(c,function(c,b,h){return!a(c,b,h)})}),
nf=K(function(c,b){return null==c?{}:"function"==typeof b[0]?hd(c,Z(b[0],b[1],3)):gd(c,W(b))}),of=hb(function(c,b,a){b=b.toLowerCase();return c+(a?b.charAt(0).toUpperCase()+b.slice(1):b)}),pf=hb(function(c,b,a){return c+(a?"-":"")+b.toLowerCase()}),qf=Vc(),rf=Vc(!0),sf=hb(function(c,b,a){return c+(a?"_":"")+b.toLowerCase()}),tf=hb(function(c,b,a){return c+(a?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Rd=K(function(c,b){try{return c.apply(p,b)}catch(a){return Vb(a)?a:new pe(a)}}),uf=K(function(c,
b){return function(a){return Mb(a,c,b)}}),vf=K(function(c,b){return function(a){return Mb(c,a,b)}}),wf=Kb("ceil"),xf=Kb("floor"),yf=Mc(wd,xe),zf=Mc(Bd,Xa),Af=Kb("round");a.prototype=f.prototype;u.prototype=Ra(f.prototype);u.prototype.constructor=u;y.prototype=Ra(f.prototype);y.prototype.constructor=y;ua.prototype["delete"]=function(c){return this.has(c)&&delete this.__data__[c]};ua.prototype.get=function(c){return"__proto__"==c?p:this.__data__[c]};ua.prototype.has=function(c){return"__proto__"!=c&&
Q.call(this.__data__,c)};ua.prototype.set=function(c,b){"__proto__"!=c&&(this.__data__[c]=b);return this};ea.prototype.push=function(c){var b=this.data;"string"==typeof c||M(c)?b.set.add(c):b.hash[c]=!0};Ub.Cache=ua;a.after=function(c,b){if("function"!=typeof b)if("function"==typeof c){var a=c;c=b;b=a}else throw new ba("Expected a function");c=Ha(c=+c)?c:0;return function(){if(1>--c)return b.apply(this,arguments)}};a.ary=function(c,b,a){a&&J(c,b,a)&&(b=p);b=c&&null==b?c.length:S(+b||0,0);return ra(c,
128,p,p,p,p,b)};a.assign=dc;a.at=Ke;a.before=ud;a.bind=Pd;a.bindAll=Se;a.bindKey=Qd;a.callback=kb;a.chain=qd;a.chunk=function(c,b,a){b=(a?J(c,b,a):null==b)?1:S(Aa(b)||1,1);a=0;for(var d=c?c.length:0,g=-1,e=N(jb(d/b));a<d;)e[++g]=ca(c,a,a+=b);return e};a.compact=function(c){for(var b=-1,a=c?c.length:0,d=-1,g=[];++b<a;){var e=c[b];e&&(g[++d]=e)}return g};a.constant=function(c){return function(){return c}};a.countBy=Le;a.create=function(c,b,a){var d=Ra(c);a&&J(c,b,a)&&(b=p);return b?Ma(d,b):d};a.curry=
Te;a.curryRight=Ue;a.debounce=vd;a.defaults=bf;a.defaultsDeep=cf;a.defer=Ve;a.delay=We;a.difference=ye;a.drop=jd;a.dropRight=kd;a.dropRightWhile=function(c,b,a){return c&&c.length?eb(c,L(b,a,3),!0,!0):[]};a.dropWhile=function(c,b,a){return c&&c.length?eb(c,L(b,a,3),!0):[]};a.fill=function(c,b,a,d){var g=c?c.length:0;if(!g)return[];a&&"number"!=typeof a&&J(c,b,a)&&(a=0,d=g);g=c.length;a=null==a?0:+a||0;0>a&&(a=-a>g?0:g+a);d=d===p||d>g?g:+d||0;0>d&&(d+=g);g=a>d?0:d>>>0;for(a>>>=0;a<g;)c[a++]=b;return c};
a.filter=Qb;a.flatten=function(c,b,a){var d=c?c.length:0;a&&J(c,b,a)&&(b=!1);return d?W(c,b):[]};a.flattenDeep=function(c){return c&&c.length?W(c,!0):[]};a.flow=Xe;a.flowRight=cc;a.forEach=Md;a.forEachRight=Nd;a.forIn=ff;a.forInRight=gf;a.forOwn=hf;a.forOwnRight=jf;a.functions=Wb;a.groupBy=Ne;a.indexBy=Oe;a.initial=function(c){return kd(c,1)};a.intersection=Be;a.invert=function(c,b,a){a&&J(c,b,a)&&(b=p);a=-1;for(var d=T(c),g=d.length,e={};++a<g;){var m=d[a],f=c[m];b?Q.call(e,f)?e[f].push(m):e[f]=
[m]:e[f]=m}return e};a.invoke=Pe;a.keys=T;a.keysIn=pa;a.map=Tb;a.mapKeys=kf;a.mapValues=lf;a.matches=Dd;a.matchesProperty=function(c,b){return kc(c,wa(b,!0))};a.memoize=Ub;a.merge=Nb;a.method=uf;a.methodOf=vf;a.mixin=Xb;a.modArgs=Ye;a.negate=function(c){if("function"!=typeof c)throw new ba("Expected a function");return function(){return!c.apply(this,arguments)}};a.omit=mf;a.once=function(c){return ud(2,c)};a.pairs=cd;a.partial=Ze;a.partialRight=$e;a.partition=Qe;a.pick=nf;a.pluck=function(c,b){return Tb(c,
ab(b))};a.property=ab;a.propertyOf=function(c){return function(b){return ya(c,qa(b),b+"")}};a.pull=function(){var c=arguments,b=c[0];if(!b||!b.length)return b;for(var a=0,d=Fa(),g=c.length;++a<g;)for(var e=0,m=c[a];-1<(e=d(b,m,e));)vc.call(b,e,1);return b};a.pullAt=Ce;a.range=function(c,b,a){a&&J(c,b,a)&&(b=a=p);c=+c||0;a=null==a?1:+a||0;null==b?(b=c,c=0):b=+b||0;var d=-1;b=S(jb((b-c)/(a||1)),0);for(var g=N(b);++d<b;)g[d]=c,c+=a;return g};a.rearg=af;a.reject=function(c,b,a){var d=I(c)?na:mc;b=L(b,
a,3);return d(c,function(c,a,d){return!b(c,a,d)})};a.remove=function(c,b,a){var d=[];if(!c||!c.length)return d;var g=-1,e=[],m=c.length;for(b=L(b,a,3);++g<m;)a=c[g],b(a,g,c)&&(d.push(a),e.push(g));uc(c,e);return d};a.rest=md;a.restParam=K;a.set=function(c,b,a){if(null==c)return c;var d=b+"";b=null!=c[d]||za(b,c)?[d]:qa(b);for(var d=-1,g=b.length,e=g-1,m=c;null!=m&&++d<g;){var f=b[d];M(m)&&(d==e?m[f]=a:null==m[f]&&(m[f]=oa(b[d+1])?[]:{}));m=m[f]}return c};a.shuffle=function(c){return nb(c,Xa)};a.slice=
function(c,b,a){var d=c?c.length:0;if(!d)return[];a&&"number"!=typeof a&&J(c,b,a)&&(b=0,a=d);return ca(c,b,a)};a.sortBy=function(c,b,a){if(null==c)return[];a&&J(c,b,a)&&(b=p);var d=-1;b=L(b,a,3);c=Ab(c,function(c,a,g){return{criteria:b(c,a,g),index:++d,value:c}});return xc(c,v)};a.sortByAll=Re;a.sortByOrder=function(c,b,a,d){if(null==c)return[];d&&J(b,a,d)&&(a=p);I(b)||(b=null==b?[]:[b]);I(a)||(a=null==a?[]:[a]);return yc(c,b,a)};a.spread=function(c){if("function"!=typeof c)throw new ba("Expected a function");
return function(b){return c.apply(this,b)}};a.take=function(c,b,a){if(!c||!c.length)return[];if(a?J(c,b,a):null==b)b=1;return ca(c,0,0>b?0:b)};a.takeRight=function(c,b,a){var d=c?c.length:0;if(!d)return[];if(a?J(c,b,a):null==b)b=1;b=d-(+b||0);return ca(c,0>b?0:b)};a.takeRightWhile=function(c,b,a){return c&&c.length?eb(c,L(b,a,3),!1,!0):[]};a.takeWhile=function(c,b,a){return c&&c.length?eb(c,L(b,a,3)):[]};a.tap=function(c,b,a){b.call(a,c);return c};a.throttle=function(c,b,a){var d=!0,g=!0;if("function"!=
typeof c)throw new ba("Expected a function");!1===a?d=!1:M(a)&&(d="leading"in a?!!a.leading:d,g="trailing"in a?!!a.trailing:g);return vd(c,b,{leading:d,maxWait:+b,trailing:g})};a.thru=Pb;a.times=function(c,b,a){c=Aa(c);if(1>c||!Ha(c))return[];var d=-1,g=N(X(c,4294967295));for(b=Z(b,a,1);++d<c;)4294967295>d?g[d]=b(d):b(d);return g};a.toArray=sd;a.toPlainObject=tc;a.transform=function(c,b,a,d){var g=I(c)||Ga(c);b=L(b,d,4);null==a&&(g||M(c)?(d=c.constructor,a=g?I(c)?new d:[]:Ra(xa(d)?d.prototype:p)):
a={});(g?fa:la)(c,function(c,d,g){return b(a,c,d,g)});return a};a.union=Fe;a.uniq=nd;a.unzip=Ob;a.unzipWith=od;a.values=mb;a.valuesIn=function(c){return Eb(c,pa(c))};a.where=function(c,b){return Qb(c,Na(b))};a.without=Ge;a.wrap=function(c,b){b=null==b?va:b;return ra(b,32,p,[c],[])};a.xor=function(){for(var c=-1,b=arguments.length;++c<b;){var a=arguments[c];if(R(a))var d=d?La(Oa(d,a),Oa(a,d)):a}return d?Db(d):[]};a.zip=He;a.zipObject=pd;a.zipWith=Ie;a.backflow=cc;a.collect=Tb;a.compose=cc;a.each=Md;
a.eachRight=Nd;a.extend=dc;a.iteratee=kb;a.methods=Wb;a.object=pd;a.select=Qb;a.tail=md;a.unique=nd;Xb(a,a);a.add=function(c,b){return(+c||0)+(+b||0)};a.attempt=Rd;a.camelCase=of;a.capitalize=function(c){return(c=A(c))&&c.charAt(0).toUpperCase()+c.slice(1)};a.ceil=wf;a.clone=function(c,b,a,d){b&&"boolean"!=typeof b&&J(c,b,a)?b=!1:"function"==typeof b&&(d=a,a=b,b=!1);return"function"==typeof a?wa(c,b,Z(a,d,1)):wa(c,b)};a.cloneDeep=function(c,b,a){return"function"==typeof b?wa(c,!0,Z(b,a,1)):wa(c,!0)};
a.deburr=Jc;a.endsWith=function(c,b,a){c=A(c);b+="";var d=c.length;a=a===p?d:X(0>a?0:+a||0,d);a-=b.length;return 0<=a&&c.indexOf(b,a)==a};a.escape=function(c){return(c=A(c))&&rb.test(c)?c.replace(Va,G):c};a.escapeRegExp=function(c){return(c=A(c))&&V.test(c)?c.replace(Sd,w):c||"(?:)"};a.every=rd;a.find=ac;a.findIndex=ze;a.findKey=df;a.findLast=Me;a.findLastIndex=Ae;a.findLastKey=ef;a.findWhere=function(c,b){return ac(c,Na(b))};a.first=ld;a.floor=xf;a.get=function(c,b,a){c=null==c?p:ya(c,qa(b),b+"");
return c===p?a:c};a.gt=wd;a.gte=function(c,b){return c>=b};a.has=function(c,b){if(null==c)return!1;var a=Q.call(c,b);if(!a&&!za(b)){b=qa(b);c=1==b.length?c:ya(c,ca(b,0,-1));if(null==c)return!1;b=Pa(b);a=Q.call(c,b)}return a||ja(c.length)&&oa(b,c.length)&&(I(c)||ma(c))};a.identity=va;a.includes=Rb;a.indexOf=Lb;a.inRange=function(c,b,a){b=+b||0;a===p?(a=b,b=0):a=+a||0;return c>=X(b,a)&&c<S(b,a)};a.isArguments=ma;a.isArray=I;a.isBoolean=function(c){return!0===c||!1===c||z(c)&&"[object Boolean]"==aa.call(c)};
a.isDate=function(c){return z(c)&&"[object Date]"==aa.call(c)};a.isElement=function(c){return!!c&&1===c.nodeType&&z(c)&&!db(c)};a.isEmpty=function(c){return null==c?!0:R(c)&&(I(c)||Sb(c)||ma(c)||z(c)&&xa(c.splice))?!c.length:!T(c).length};a.isEqual=xd;a.isError=Vb;a.isFinite=function(c){return"number"==typeof c&&Ha(c)};a.isFunction=xa;a.isMatch=function(c,b,a,d){a="function"==typeof a?Z(a,d,3):p;return qc(c,rc(b),a)};a.isNaN=function(c){return zd(c)&&c!=+c};a.isNative=dd;a.isNull=function(c){return null===
c};a.isNumber=zd;a.isObject=M;a.isPlainObject=db;a.isRegExp=Ad;a.isString=Sb;a.isTypedArray=Ga;a.isUndefined=function(c){return c===p};a.kebabCase=pf;a.last=Pa;a.lastIndexOf=function(c,b,a){var d=c?c.length:0;if(!d)return-1;var g=d;if("number"==typeof a)g=(0>a?S(d+a,0):X(a||0,d-1))+1;else if(a)return g=Fb(c,b,!0)-1,c=c[g],(b===b?b===c:c!==c)?g:-1;if(b!==b)return l(c,g,!0);for(;g--;)if(c[g]===b)return g;return-1};a.lt=Bd;a.lte=function(c,b){return c<=b};a.max=yf;a.min=zf;a.noConflict=function(){ka._=
se;return this};a.noop=Ed;a.now=Ta;a.pad=function(c,b,a){c=A(c);b=+b;var d=c.length;if(d>=b||!Ha(b))return c;d=(b-d)/2;b=Aa(d);d=jb(d);a=Wc("",d,a);return a.slice(0,b)+c+a};a.padLeft=qf;a.padRight=rf;a.parseInt=function(c,b,a){(a?J(c,b,a):null==b)?b=0:b&&(b=+b);c=Cd(c);return we(c,b||(Bf.test(c)?16:10))};a.random=function(b,a,d){d&&J(b,a,d)&&(a=d=p);var g=null==b,e=null==a;null==d&&(e&&"boolean"==typeof b?(d=b,b=1):"boolean"==typeof a&&(d=a,e=!0));g&&e&&(a=1,e=!1);b=+b||0;e?(a=b,b=0):a=+a||0;return d||
b%1||a%1?(d=wc(),X(b+d*(a-b+te("1e-"+((d+"").length-1))),a)):Cb(b,a)};a.reduce=bc;a.reduceRight=Od;a.repeat=$c;a.result=function(b,a,d){var g=null==b?p:b[a];g===p&&(null==b||za(a,b)||(a=qa(a),b=1==a.length?b:ya(b,ca(a,0,-1)),g=null==b?p:b[Pa(a)]),g=g===p?d:g);return xa(g)?g.call(b):g};a.round=Af;a.runInContext=H;a.size=function(b){var a=b?Qa(b):0;return ja(a)?a:T(b).length};a.snakeCase=sf;a.some=td;a.sortedIndex=De;a.sortedLastIndex=Ee;a.startCase=tf;a.startsWith=function(b,a,d){b=A(b);d=null==d?
0:X(0>d?0:+d||0,b.length);return b.lastIndexOf(a,d)==d};a.sum=function(b,a,d){d&&J(b,a,d)&&(a=p);a=L(a,d,3);if(1==a.length){b=I(b)?b:Gb(b);d=b.length;for(var g=0;d--;)g+=+a(b[d])||0;b=g}else b=be(b,a);return b};a.template=function(b,d,g){var e=a.templateSettings;g&&J(b,d,g)&&(d=g=p);b=A(b);d=wb(Ma({},g||d),e,hc);g=wb(Ma({},d.imports),e.imports,hc);var m=T(g),f=Eb(g,m),l,x,z=0;g=d.interpolate||sb;var F="__p += '";g=Yb((d.escape||sb).source+"|"+g.source+"|"+(g===Ua?Cf:sb).source+"|"+(d.evaluate||sb).source+
"|$","g");var H="//# sourceURL="+("sourceURL"in d?d.sourceURL:"lodash.templateSources["+ ++Df+"]")+"\n";b.replace(g,function(a,d,g,h,e,m){g||(g=h);F+=b.slice(z,m).replace(Ef,q);d&&(l=!0,F+="' +\n__e("+d+") +\n'");e&&(x=!0,F+="';\n"+e+";\n__p += '");g&&(F+="' +\n((__t = ("+g+")) == null ? '' : __t) +\n'");z=m+a.length;return a});F+="';\n";(d=d.variable)||(F="with (obj) {\n"+F+"\n}\n");F=(x?F.replace(ub,""):F).replace(C,"$1").replace(ia,"$1;");F="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+
"var __t, __p = ''"+(l?", __e = _.escape":"")+(x?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+F+"return __p\n}";d=Rd(function(){return Gd(m,H+"return "+F).apply(p,f)});d.source=F;if(Vb(d))throw d;return d};a.trim=Cd;a.trimLeft=function(b,a,g){var e=b;return(b=A(b))?(g?J(e,a,g):null==a)?b.slice(d(b)):b.slice(r(b,a+"")):b};a.trimRight=function(b,a,d){var g=b;return(b=A(b))?(d?J(g,a,d):null==a)?b.slice(0,m(b)+1):b.slice(0,t(b,a+"")+1):b};a.trunc=function(b,
a,d){d&&J(b,a,d)&&(a=p);var g=30;d="...";if(null!=a)if(M(a)){var e="separator"in a?a.separator:e,g="length"in a?+a.length||0:g;d="omission"in a?A(a.omission):d}else g=+a||0;b=A(b);if(g>=b.length)return b;g-=d.length;if(1>g)return d;a=b.slice(0,g);if(null==e)return a+d;if(Ad(e)){if(b.slice(g).search(e)){var m,f=b.slice(0,g);e.global||(e=Yb(e.source,(ed.exec(e)||"")+"g"));for(e.lastIndex=0;b=e.exec(f);)m=b.index;a=a.slice(0,null==m?g:m)}}else b.indexOf(e,g)!=g&&(e=a.lastIndexOf(e),-1<e&&(a=a.slice(0,
e)));return a+d};a.unescape=function(b){return(b=A(b))&&tb.test(b)?b.replace(Y,x):b};a.uniqueId=function(b){var a=++re;return A(b)+a};a.words=Ic;a.all=rd;a.any=td;a.contains=Rb;a.eq=xd;a.detect=ac;a.foldl=bc;a.foldr=Od;a.head=ld;a.include=Rb;a.inject=bc;Xb(a,function(){var b={};la(a,function(d,g){a.prototype[g]||(b[g]=d)});return b}(),!1);a.sample=nb;a.prototype.sample=function(b){return this.__chain__||null!=b?this.thru(function(a){return nb(a,b)}):nb(this.value())};a.VERSION="3.10.1";fa("bind bindKey curry curryRight partial partialRight".split(" "),
function(b){a[b].placeholder=a});fa(["drop","take"],function(b,a){y.prototype[b]=function(d){var g=this.__filtered__;if(g&&!a)return new y(this);d=null==d?1:S(Aa(d)||0,0);var e=this.clone();g?e.__takeCount__=X(e.__takeCount__,d):e.__views__.push({size:d,type:b+(0>e.__dir__?"Right":"")});return e};y.prototype[b+"Right"]=function(a){return this.reverse()[b](a).reverse()}});fa(["filter","map","takeWhile"],function(b,a){var d=a+1,g=2!=d;y.prototype[b]=function(b,c){var a=this.clone();a.__iteratees__.push({iteratee:L(b,
c,1),type:d});a.__filtered__=a.__filtered__||g;return a}});fa(["first","last"],function(b,a){var d="take"+(a?"Right":"");y.prototype[b]=function(){return this[d](1).value()[0]}});fa(["initial","rest"],function(b,a){var d="drop"+(a?"":"Right");y.prototype[b]=function(){return this.__filtered__?new y(this):this[d](1)}});fa(["pluck","where"],function(b,a){var d=a?"filter":"map",g=a?Na:ab;y.prototype[b]=function(b){return this[d](g(b))}});y.prototype.compact=function(){return this.filter(va)};y.prototype.reject=
function(b,a){b=L(b,a,1);return this.filter(function(a){return!b(a)})};y.prototype.slice=function(b,a){b=null==b?0:+b||0;var d=this;if(d.__filtered__&&(0<b||0>a))return new y(d);0>b?d=d.takeRight(-b):b&&(d=d.drop(b));a!==p&&(a=+a||0,d=0>a?d.dropRight(-a):d.take(a-b));return d};y.prototype.takeRightWhile=function(b,a){return this.reverse().takeWhile(b,a).reverse()};y.prototype.toArray=function(){return this.take(Xa)};la(y.prototype,function(b,d){var g=/^(?:filter|map|reject)|While$/.test(d),e=/^(?:first|last)$/.test(d),
m=a[e?"take"+("last"==d?"Right":""):d];m&&(a.prototype[d]=function(){var a=e?[1]:arguments,d=this.__chain__,h=this.__wrapped__,f=!!this.__actions__.length,l=h instanceof y,q=a[0],x=l||I(h);x&&g&&"function"==typeof q&&1!=q.length&&(l=x=!1);var C=function(b){return e&&d?m(b,1)[0]:m.apply(p,La([b],a))},q={func:Pb,args:[C],thisArg:p},f=l&&!f;return e&&!d?f?(h=h.clone(),h.__actions__.push(q),b.call(h)):m.call(p,this.value())[0]:!e&&x?(h=f?h:new y(this),h=b.apply(h,a),h.__actions__.push(q),new u(h,d)):
this.thru(C)})});fa("join pop push replace shift sort splice split unshift".split(" "),function(b){var d=(/^(?:replace|split)$/.test(b)?qe:Jd)[b],g=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(b);a.prototype[b]=function(){var b=arguments;return e&&!this.__chain__?d.apply(this.value(),b):this[g](function(c){return d.apply(c,b)})}});la(y.prototype,function(b,d){var g=a[d];if(g){var e=g.name;(lb[e]||(lb[e]=[])).push({name:d,func:g})}});lb[Jb(p,2).name]=[{name:"wrapper",
func:p}];y.prototype.clone=function(){var b=new y(this.__wrapped__);b.__actions__=U(this.__actions__);b.__dir__=this.__dir__;b.__filtered__=this.__filtered__;b.__iteratees__=U(this.__iteratees__);b.__takeCount__=this.__takeCount__;b.__views__=U(this.__views__);return b};y.prototype.reverse=function(){if(this.__filtered__){var b=new y(this);b.__dir__=-1;b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b};y.prototype.value=function(){var b,a=this.__wrapped__.value(),d=this.__dir__,g=I(a),
e=0>d,m=g?a.length:0;b=0;for(var f=m,l=this.__views__,q=-1,p=l.length;++q<p;){var x=l[q],C=x.size;switch(x.type){case "drop":b+=C;break;case "dropRight":f-=C;break;case "take":f=X(f,b+C);break;case "takeRight":b=S(b,f-C)}}l=f;f=l-b;b=e?l:b-1;l=this.__iteratees__;q=l.length;p=0;x=X(f,this.__takeCount__);if(!g||200>m||m==f&&x==f)return zc(e&&g?a.reverse():a,this.__actions__);g=[];a:for(;f--&&p<x;){b+=d;e=-1;for(m=a[b];++e<q;){var F=l[e],C=F.iteratee,F=F.type,C=C(m);if(2==F)m=C;else if(!C)if(1==F)continue a;
else break a}g[p++]=m}return g};a.prototype.chain=function(){return qd(this)};a.prototype.commit=function(){return new u(this.value(),this.__chain__)};a.prototype.concat=Je;a.prototype.plant=function(b){for(var a,d=this;d instanceof f;){var g=gc(d);a?e.__wrapped__=g:a=g;var e=g,d=d.__wrapped__}e.__wrapped__=b;return a};a.prototype.reverse=function(){var b=this.__wrapped__,a=function(b){return d&&0>d.__dir__?b:b.reverse()};if(b instanceof y){var d=b;this.__actions__.length&&(d=new y(this));d=d.reverse();
d.__actions__.push({func:Pb,args:[a],thisArg:p});return new u(d,this.__chain__)}return this.thru(a)};a.prototype.toString=function(){return this.value()+""};a.prototype.run=a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return zc(this.__wrapped__,this.__actions__)};a.prototype.collect=a.prototype.map;a.prototype.head=a.prototype.first;a.prototype.select=a.prototype.filter;a.prototype.tail=a.prototype.rest;return a}var p,ub=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,
Y=/&(?:amp|lt|gt|quot|#39|#96);/g,Va=/[&<>"'`]/g,tb=RegExp(Y.source),rb=RegExp(Va.source),qb=/<%-([\s\S]+?)%>/g,da=/<%([\s\S]+?)%>/g,Ua=/<%=([\s\S]+?)%>/g,Ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,F=/^\w*$/,he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Sd=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,V=RegExp(Sd.source),ob=/[\u0300-\u036f\ufe20-\ufe23]/g,ie=/\\(\\)?/g,Cf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ed=/\w*$/,Bf=/^0[xX]/,le=
/^\[object .+?Constructor\]$/,ge=/^\d+$/,me=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,sb=/($^)/,Ef=/['\n\r\u2028\u2029\\]/g,ne=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),oe="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),
Df=-1,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0;P["[object Arguments]"]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Error]"]=P["[object Function]"]=P["[object Map]"]=P["[object Number]"]=P["[object Object]"]=P["[object RegExp]"]=P["[object Set]"]=
P["[object String]"]=P["[object WeakMap]"]=!1;var O={};O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object String]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0;O["[object Error]"]=
O["[object Function]"]=O["[object Map]"]=O["[object Set]"]=O["[object WeakMap]"]=!1;var Da={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i",
"\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Wa={"&amp;":"&","&lt;":"<","&gt;":">",
"&quot;":'"',"&#39;":"'","&#96;":"`"},ea={"function":!0,object:!0},vb={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ka={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ta=ea[typeof a]&&a&&!a.nodeType&&a,na=ea[typeof y]&&y&&!y.nodeType&&y,ec=ea[typeof self]&&self&&self.Object&&self,ea=ea[typeof window]&&
window&&window.Object&&window,fc=na&&na.exports===ta&&ta,ka=ta&&na&&"object"==typeof f&&f&&f.Object&&f||ea!==(this&&this.window)&&ea||ec||this,sa=H();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ka._=sa,define(function(){return sa})):ta&&na?fc?(na.exports=sa)._=sa:ta._=sa:ka._=sa}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],10:[function(f,y,a){var u,n,B,e,E,A,r,t,v,D,G,w,q,l,z,g,b,d,m,
x,H,p,ub=[].indexOf||function(b){for(var a=0,d=this.length;a<d;a++)if(a in this&&this[a]===b)return a;return-1};u=f("lodash");p=f("./util");G=f("./match");H=f("./substitute");w=function(b){b=p.cloneExpression(b);b=H.doSubRecursive(b,H.subsForPNF.replace_arrow);b=H.doSubRecursive(b,H.subsForPNF.replace_double_arrow);b=g(b);return b=p.exhaust(b,function(b){var a,d,g;d=H.subsForPNF;for(a in d)g=d[a],"replace_arrow"!==a&&"replace_double_arrow"!==a&&(b=H.doSubRecursive(b,g));return b})};a.prenexNormalForm=
w;a.isPNF=function(b){var a,d,g,e,m,f,q,p;b=l(b);a=v(b,"and");b=[];g=0;for(e=a.length;g<e;g++)d=a[g],b.push(v(d,"or"));d=0;for(e=b.length;d<e;d++)for(p=b[d],g=0,m=p.length;g<m;g++)if(a=p[g],"not"!==(f=a.type)&&"sentence_letter"!==f&&"predicate"!==f||"not"===a.type&&"sentence_letter"!==(q=a.left.type)&&"predicate"!==q)return!1;return!0};g=function(b,a){var d,g,e,m,f,l;null==a&&(a="x");m=("\u03b1"===(f=a[0])||"\u03b2"===f||"\u03b3"===f||"\u03c4"===f?"term_metavariable":void 0)||"variable";d=0;g={};
e=function(b){var e;null==g[b.name]&&(d+=1,e=""+a+d,g[b.name]=e);return g[b.name]};l=function(b){if(null!=g[b.name])return delete g[b.name]};return p.walkMutate(b,function(b){if(null===b||null==(null!=b?b.boundVariable:void 0)&&(null==(null!=b?b.type:void 0)||"variable"!==b.type))return b;null!=b.boundVariable&&l(b.boundVariable);null!=(null!=b?b.type:void 0)&&"variable"===b.type&&(b.name=e(b),b.type=m);return b},{topDown:!0})};a.renameVariables=g;a.convertToPNFsimplifyAndSort=function(a){a=w(a);
a=A(a);a=x(a);b(a);return a};a.areExpressionsEquivalent=function(b,a){b=w(b);a=w(a);return B(b,a)};B=function(a,d){var m,f,q;a=A(a);a=x(a);b(a);d=A(d);d=x(d);b(d);f=g(a,"\u03c4");m=l(f);q=l(d);m=G.find(q,m);if(!1===m)return!1;f=G.apply(f,m);return e(f,d)};a.arePNFExpressionsEquivalent=B;x=function(b){var a,g,e,f,p;p=r(b);b=l(b);a=v(b,"and");b=[];e=0;for(f=a.length;e<f;e++)g=a[e],b.push(v(g,"or"));g=0;for(e=b.length;g<e;g++)a=b[g],d(a);m(b);f=[];g=0;for(e=b.length;g<e;g++)a=b[g],f.push(q(a,"or"));
b=q(f,"and");return E(b,p)};a.sortPNFExpression=x;l=function(b){return null!=b.boundVariable?l(b.left):b};a.removeQuantifiers=l;v=function(b,a){var d;if(null!=b.type&&b.type!==a)return[b];if(null!=b.type&&b.type===a)return d=[],d.push.apply(d,v(b.left,a)),d.push.apply(d,v(b.right,a)),d;throw Error("listJuncts called with type = "+a+" and unrecognized expression = "+JSON.stringify(b,null,4));};a.listJuncts=v;d=function(b){return b.sort(p.atomicExpressionComparator)};a.sortJuncts=d;m=function(b){return b.sort(p.listOfAtomicExpressionsComparator)};
a.sortListOfJuncts=m;q=function(b,a){var d,g;if(!b||null==b.length||0===b.length)throw Error("rebuildExpression called with listOfJuncts = "+b);if(1===b.length)return b[0];d=b.shift();g=q(b,a);return{type:a,left:d,right:g}};a.rebuildExpression=q;D=function(b,a){var d;if(null!=b.type&&b.type!==a)return{quantifiedExpression:b};if(null!=b.type&&b.type===a)return d=D(b.left,a),null==d.boundVariables&&(d.boundVariables=[]),d.boundVariables.push(b.boundVariable),d;throw Error("listQuants called with type = "+
a+" and unrecognized expression = "+JSON.stringify(b,null,4));};a.listQuants=D;r=function(b){var a;return null!=b.boundVariable?(a=r(b.left),{type:b.type,symbol:b.symbol,location:b.location,boundVariable:b.boundVariable,left:a,right:null}):null};a.getPrefixedQuantifiers=r;E=function(b,a){if(null===a)return b;null!==a.left?E(b,a.left):a.left=b;return a};a.attachExpressionToQuantifiers=E;e=function(b,a,d){var g;null==d&&(d={quantifierType:null,leftBoundVariables:[],rightBoundVariables:[]});g=(null!=
b?b.type:void 0)||null;if(d.quantifierType!==g){d.leftBoundVariables.sort();d.rightBoundVariables.sort();if(!u.isEqual(d.leftBoundVariables,d.rightBoundVariables))return!1;d.leftBoundVariables=[];d.rightBoundVariables=[];d.quantifierType=g}if(null===b||null==b.boundVariable)return null===a||null==a.boundVariable?!0:!1;if(null===a||null==a.type||a.type!==g)return!1;d.leftBoundVariables.push(b.boundVariable.name);d.rightBoundVariables.push(a.boundVariable.name);return e(b.left,a.left,d)};a.arePrefixedQuantifiersEquivalent=
e;b=function(a,d){var g,e,m,f;void 0===d&&(d=n(a));if(null==(null!=a?a.type:void 0))return a;if("identity"!==a.type)return null!=a.left&&b(a.left,d),null!=a.right&&b(a.right,d),a;g=a.termlist[0];m=a.termlist[1];1===p.termComparator(g,m)&&(e=[m,g],g=e[0],m=e[1]);"variable"===g.type&&"variable"===m.type&&(e=d.indexOf(g.name),f=d.indexOf(m.name),e>f&&(e=[m,g],g=e[0],m=e[1]));a.termlist=[g,m];return a};a.sortIdentityStatements=b;n=function(b,a){var d,g;null==a&&(a={quantifierType:null,thisTypeBoundVariables:[],
allBoundVariables:[]});d=(null!=b?b.type:void 0)||null;a.quantifierType!==d&&(a.thisTypeBoundVariables.sort(),(g=a.allBoundVariables).push.apply(g,a.thisTypeBoundVariables),a.thisTypeBoundVariables=[],a.quantifierType=d);if(null===d||null==b.boundVariable)return a.allBoundVariables;a.thisTypeBoundVariables.push(b.boundVariable.name);return n(b.left,a)};a._getVariableOrder=n;A=function(b){b=p.exhaust(b,function(b){var a,d,g;d=H.subs_eliminate_redundancy;for(a in d)g=d[a],b=H.doSubRecursive(b,g);return x(b)});
return b=z(b)};a.eliminateRedundancyInPNF=A;t=function(b,a){var d;if(null!=a.termlist){var g,e,m,f;m=a.termlist;f=[];g=0;for(e=m.length;g<e;g++)d=m[g],f.push(d.name);if(0<=ub.call(f,b))return!0}return null!=a.boundVariable&&a.boundVariable.name===b?!1:null!=a.left&&t(b,a.left)||null!=a.right&&t(b,a.right)?!0:!1};a.isVariableFree=t;z=function(b){b=p.cloneExpression(b);return p.walkMutate(b,function(b){return null==(null!=b?b.boundVariable:void 0)||t(b.boundVariable.name,b.left)?b:b.left})};a.removeQuantifiersThatBindNothing=
z},{"./match":8,"./substitute":22,"./util":24,lodash:9}],11:[function(f,y,a){(function(u){var n=function(){function a(){this.yy={}}var e=function(b,a,d,g){d=d||{};for(g=b.length;g--;d[b[g]]=a);return d},f=[1,4],n=[1,5],r=[1,6],t=[1,7],v=[1,8],D=[1,9],u=[1,11],w=[1,14],q=[1,15],l=[1,18],z=[1,19],g=[1,16],b=[1,21],d=[1,22],m=[1,23],x=[1,24],H=[1,25],p=[1,26],y=[1,27],C=[1,32],ia=[5,10,13,14,15,16,17,18,27,29,34],Y=[5,10,13,14,15,16,17,18,27,29,34,37],Va=[5,10,13,14,15,16,17,18,26,27,29,34,37],tb=[2,
32],rb=[5,7,9,10,11,13,14,15,16,17,18,19,20,21,23,26,27,29,30,31,32,33,34,35,37],qb=[7,9,10,11,19,20,21,23,30,31,32,33,35],da=[5,10,13,14,15,16,17,18,29,34],Ua=[5,10,29,34],Ja=[29,34],e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,"(":9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,
termlist:24,term:25,identity:26,"[":27,substitution_list:28,"]":29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,",":34,name:35,substitution:36,substitution_symbol:37,"null":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"(",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",29:"]",30:"expression_variable",31:"sentence_letter",
32:"variable",33:"term_metavariable",34:",",35:"name",37:"substitution_symbol",38:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,5],[4,3],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,4],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[8,1],[8,3],[24,1],[24,3],[25,1],[25,1],[28,1],[28,3],[36,3],[36,3],[36,3],[36,3],[6,3]],performAction:function(b,a,d,g,e,m,f){b=m.length-1;switch(e){case 1:case 2:return m[b-1];case 3:return m[b-1].box=m[b-2],m[b-1];case 4:this.$={type:"existential_quantifier",
symbol:m[b-2],location:f[b-2],boundVariable:m[b-1],left:m[b],right:null};break;case 5:this.$={type:"existential_quantifier",symbol:m[b-3],location:f[b-3],boundVariable:m[b-2],left:m[b],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:m[b-2],location:f[b-2],boundVariable:m[b-1],left:m[b],right:null};break;case 7:this.$={type:"universal_quantifier",symbol:m[b-3],location:f[b-3],boundVariable:m[b-2],left:m[b],right:null};break;case 8:this.$={type:"universal_quantifier",symbol:"",location:f[b-
2],boundVariable:m[b-2],left:m[b],right:null};break;case 9:this.$={type:"and",symbol:m[b-1],location:f[b-1],left:m[b-2],right:m[b]};break;case 10:this.$={type:"or",symbol:m[b-1],location:f[b-1],left:m[b-2],right:m[b]};break;case 11:this.$={type:"nand",symbol:m[b-1],location:f[b-1],left:m[b-2],right:m[b]};break;case 12:this.$={type:"nor",symbol:m[b-1],location:f[b-1],left:m[b-2],right:m[b]};break;case 13:this.$={type:"arrow",symbol:m[b-1],location:f[b-1],left:m[b-2],right:m[b]};break;case 14:this.$=
{type:"double_arrow",symbol:m[b-1],location:f[b-1],left:m[b-2],right:m[b]};break;case 15:this.$={type:"not",symbol:m[b-1],location:f[b-1],left:m[b],right:null};break;case 16:this.$={type:"value",symbol:m[b],location:f[b],value:!0,left:null,right:null};break;case 17:this.$={type:"value",symbol:m[b],location:f[b],value:!1,left:null,right:null};break;case 18:case 27:case 32:this.$=m[b];break;case 19:this.$={type:"predicate",name:m[b-3],location:f[b-3],termlist:m[b-1]};break;case 20:this.$={type:"identity",
symbol:m[b-1],termlist:[m[b-2],m[b]]};break;case 21:case 28:this.$=m[b-1];break;case 22:m[b-3].substitutions=m[b-3].substitutions&&m[b-3].substitutions.length?m[b-3].substitutions.concat(m[b-1]):m[b-1];this.$=m[b-3];break;case 23:this.$={type:"expression_variable",location:f[b],letter:m[b],left:null,right:null};break;case 24:this.$={type:"sentence_letter",location:f[b],letter:m[b],left:null,right:null};break;case 25:this.$={type:"variable",name:m[b],location:f[b]};break;case 26:this.$={type:"term_metavariable",
name:m[b],location:f[b]};break;case 29:case 33:this.$=[m[b]];break;case 30:case 34:this.$=[m[b-2]].concat(m[b]);break;case 31:this.$={type:"name",name:m[b],location:f[b]};break;case 35:case 37:this.$={type:"substitution",from:m[b-2],to:m[b],symbol:m[b-1]};break;case 36:case 38:this.$={type:"substitution",from:m[b-2],to:null,symbol:m[b-1]};break;case 39:this.$={type:"box",term:m[b-1]}}},table:[{3:1,4:2,6:3,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,27:[1,13],30:w,31:q,32:l,33:z,35:g},{1:[3]},
{5:[1,20],13:b,14:d,15:m,16:x,17:H,18:p,27:y},{4:29,5:[1,28],7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},{8:30,9:C,12:31,32:l,33:z},{4:36,7:[1,33],9:n,11:[1,34],12:35,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},{8:37,9:C,12:31,32:l,33:z},{4:38,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},e(ia,[2,16]),e(ia,[2,17]),e(ia,[2,18]),{9:[1,39]},{26:[1,40]},{12:17,25:41,32:l,33:z,35:g},e(Y,[2,23]),e(Y,[2,24]),e(Va,[2,31]),e(Va,
tb),e(rb,[2,25]),e(rb,[2,26]),{1:[2,1]},{4:42,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},{4:43,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},{4:44,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},{4:45,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},{4:46,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},{4:47,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,
23:u,25:12,30:w,31:q,32:l,33:z,35:g},{12:17,22:51,25:50,28:48,30:w,31:q,32:l,33:z,35:g,36:49},{1:[2,2]},{5:[1,52],13:b,14:d,15:m,16:x,17:H,18:p,27:y},{4:53,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},e(qb,[2,27]),{12:54,32:l,33:z},{8:55,9:C,12:31,32:l,33:z},{8:56,9:C,12:31,32:l,33:z},{10:[1,57],26:tb},{10:[1,58],13:b,14:d,15:m,16:x,17:H,18:p,27:y},{4:59,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},e(da,[2,15],{27:y}),{12:17,24:60,25:61,
32:l,33:z,35:g},{12:17,25:62,32:l,33:z,35:g},{29:[1,63]},e(da,[2,9],{27:y}),e(da,[2,10],{27:y}),e(da,[2,11],{27:y}),e(da,[2,12],{27:y}),e(Ua,[2,13],{13:b,14:d,15:m,16:x,27:y}),e(Ua,[2,14],{13:b,14:d,15:m,16:x,27:y}),{29:[1,64]},{29:[2,33],34:[1,65]},{37:[1,66]},{37:[1,67]},{1:[2,3]},e(da,[2,4],{27:y}),{10:[1,68]},{4:53,7:f,9:n,10:[1,69],11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},{4:59,7:f,9:n,10:[1,70],11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},
{4:71,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},e(ia,[2,21]),e(da,[2,6],{27:y}),{10:[1,72]},{10:[2,29],34:[1,73]},e(ia,[2,20]),e([5,7,9,11,19,20,21,23,30,31,32,33,35],[2,39]),e(ia,[2,22]),{12:17,22:51,25:50,28:74,30:w,31:q,32:l,33:z,35:g,36:49},{12:17,25:75,32:l,33:z,35:g,38:[1,76]},{4:77,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g,38:[1,78]},e(qb,[2,28]),{4:79,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,
35:g},{4:80,7:f,9:n,11:r,12:17,19:t,20:v,21:D,22:10,23:u,25:12,30:w,31:q,32:l,33:z,35:g},e(da,[2,8],{27:y}),e(ia,[2,19]),{12:17,24:81,25:61,32:l,33:z,35:g},{29:[2,34]},e(Ja,[2,35]),e(Ja,[2,36]),e(Ja,[2,37],{13:b,14:d,15:m,16:x,17:H,18:p,27:y}),e(Ja,[2,38]),e(da,[2,5],{27:y}),e(da,[2,7],{27:y}),{10:[2,30]}],defaultActions:{20:[2,1],28:[2,2],52:[2,3],74:[2,34],81:[2,30]},parseError:function(b,a){if(a.recoverable)this.trace(b);else{var d=function(b,a){this.message=b;this.hash=a};d.prototype=Error;throw new d(b,
a);}},parse:function(b){var a=[0],d=[null],g=[],e=this.table,m="",f=0,l=0,q=0,p=g.slice.call(arguments,1),x=Object.create(this.lexer),z={},H;for(H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(z[H]=this.yy[H]);x.setInput(b,z);z.lexer=x;z.parser=this;"undefined"==typeof x.yylloc&&(x.yylloc={});H=x.yylloc;g.push(H);var n=x.options&&x.options.ranges;this.parseError="function"===typeof z.parseError?z.parseError:Object.getPrototypeOf(this).parseError;for(var w,r,t,C,v={},B,u;;){t=a[a.length-
1];if(this.defaultActions[t])C=this.defaultActions[t];else{if(null===w||"undefined"==typeof w)w=void 0,w=x.lex()||1,"number"!==typeof w&&(w=this.symbols_[w]||w);C=e[t]&&e[t][w]}if("undefined"===typeof C||!C.length||!C[0]){var A="";u=[];for(B in e[t])this.terminals_[B]&&2<B&&u.push("'"+this.terminals_[B]+"'");A=x.showPosition?"Parse error on line "+(f+1)+":\n"+x.showPosition()+"\nExpecting "+u.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==w?"end of input":
"'"+(this.terminals_[w]||w)+"'");this.parseError(A,{text:x.match,token:this.terminals_[w]||w,line:x.yylineno,loc:H,expected:u})}if(C[0]instanceof Array&&1<C.length)throw Error("Parse Error: multiple actions possible at state: "+t+", token: "+w);switch(C[0]){case 1:a.push(w);d.push(x.yytext);g.push(x.yylloc);a.push(C[1]);w=null;r?(w=r,r=null):(l=x.yyleng,m=x.yytext,f=x.yylineno,H=x.yylloc,0<q&&q--);break;case 2:u=this.productions_[C[1]][1];v.$=d[d.length-u];v._$={first_line:g[g.length-(u||1)].first_line,
last_line:g[g.length-1].last_line,first_column:g[g.length-(u||1)].first_column,last_column:g[g.length-1].last_column};n&&(v._$.range=[g[g.length-(u||1)].range[0],g[g.length-1].range[1]]);t=this.performAction.apply(v,[m,l,f,z,C[1],d,g].concat(p));if("undefined"!==typeof t)return t;u&&(a=a.slice(0,-2*u),d=d.slice(0,-1*u),g=g.slice(0,-1*u));a.push(this.productions_[C[1]][0]);d.push(v.$);g.push(v._$);C=e[a[a.length-2]][a[a.length-1]];a.push(C);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(b,
a){if(this.yy.parser)this.yy.parser.parseError(b,a);else throw Error(b);},setInput:function(b,a){this.yy=a||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=
b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var a=b.length,d=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-a);this.offset-=a;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);
d.length-1&&(this.yylineno-=d.length-1);var g=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===b.length?this.yylloc.first_column:0)+b[b.length-d.length].length-d[0].length:this.yylloc.first_column-a};this.options.ranges&&(this.yylloc.range=[g[0],g[0]+this.yyleng-a]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=
!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=
this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),a=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+a+"^"},test_match:function(b,a){var d,g;this.options.backtrack_lexer&&(g={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,
matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(g.yylloc.range=this.yylloc.range.slice(0)));if(d=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=d.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];d=this.performAction.call(this,this.yy,this,a,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(d)return d;if(this._backtrack)for(var e in g)this[e]=g[e];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var b,a,d;this._more||(this.match=this.yytext="");for(var g=this._currentRules(),e=0;e<g.length;e++)if((a=this._input.match(this.rules[g[e]]))&&(!b||a[0].length>b[0].length))if(b=a,d=e,this.options.backtrack_lexer){b=this.test_match(a,g[e]);if(!1!==b)return b;if(this._backtrack)b=!1;else return!1}else if(!this.options.flex)break;return b?(b=this.test_match(b,g[d]),!1!==b?b:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=
this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(b,a,d,g){switch(d){case 1:return this.popState(),9;case 2:return 9;case 3:return 10;case 4:return 27;case 5:return 29;case 6:return 34;case 7:return this.begin("expectLeftBracket"),23;case 8:return 37;case 9:return 20;case 10:return 21;case 11:return 26;case 12:return 13;case 13:return 17;
case 14:return 18;case 15:return 14;case 16:return 19;case 17:return 16;case 18:return 15;case 19:return 11;case 20:return 7;case 21:return 31;case 22:return 35;case 23:return 32;case 24:return 30;case 25:return 33;case 26:return 38;case 27:return 5;case 28:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][A-Za-z0-9]*(?=(\()))/,/^(?:--\x3e)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE]|\u22a5|_\|_|[cC][oO][nN][tT][rR][aA][dD][iI][cC][tT][iI][oO][nN]|[cC][oO][nN][tT][rR][aA])/,
/^(?:=)/,/^(?:[aA][nN][dD]|&|\u2227|\u2022)/,/^(?:[aA][rR][rR][oO][wW]|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:[oO][rR]|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:[nN][oO][tT]|\u00ac|~|\u02dc|!)/,/^(?:[nN][oO][rR]|\u2193)/,/^(?:[nN][aA][nN][dD]|\u2191)/,/^(?:[aA][lL][lL]|\u2200|[eE][vV][eE][rR][yY])/,/^(?:[sS][oO][mM][eE]|[eE][xX][iI][sS][tT][sS]|\u2203)/,/^(?:[A-Zpqrs][0-9]*)/,/^(?:[a-d][0-9]*)/,/^(?:[etxyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,
/^(?:[nN][uU][lL][lL])/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[1],inclusive:!1},INITIAL:{rules:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}}}();e.lexer=f;a.prototype=e;e.Parser=a;return new a}();"undefined"!==typeof f&&"undefined"!==typeof a&&(a.parser=n,a.Parser=n.Parser,a.parse=function(){return n.parse.apply(n,arguments)},a.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),u.exit(1));n=f("fs").readFileSync(f("path").normalize(n[1]),
"utf8");return a.parser.parse(n)},"undefined"!==typeof y&&f.main===y&&a.main(u.argv.slice(1)))}).call(this,f("_process"))},{_process:3,fs:1,path:2}],12:[function(f,y,a){var u,n,B,e,E,A,r,t,v,D,G,w,q,l,z;n=f("lodash");l=f("./justification_parser");r=f("../dialect_manager/dialectManager");A=f("./add_line_numbers").cleanNumber;u=l.parse("premise");a.to=function(a){var b;b={visit:function(b){var a,g;if("line"===b.type&&null==b.justification&&null==b.justificationErrors){g=z(b.content);b.justification=
g.justification;if(null!=(null!=(a=b.justification)?a.numbers:void 0)){var e=b.justification,f,l,n,r;n=b.justification.numbers;r=[];f=0;for(l=n.length;f<l;f++)a=n[f],r.push(A(a));e.numbers=r}b.content=g.rest;b.justificationErrors=g.justificationErrors;b.justificationText=g.justificationText;b.getRuleName=q;b.findLine=v;b.findBlock=t;b.findLineOrBlock=D;b.getCitedLines=w;b.getCitedBlocks=G}}};a.walk(b);b={visit:function(b){"line"===b.type&&null==b.justification&&null==b.justificationErrors&&E(b)&&
(b.justification=u)}};a.walk(b);b={visit:function(b){"block"===b.type&&(b.getConclusion=function(){var a;a=n.last(b.content);return"line"===a.type&&null!=a.sentence?a.sentence:!1},b.getPremises=function(){var a,g;a=n.filter(b.content,function(b){var a,d;return"line"!==b.type||null==b.sentence||"premise"!==(null!=(a=b.justification)?null!=(d=a.rule)?d.connective:void 0:void 0)?!1:!0});return function(){var b,d,e;e=[];b=0;for(d=a.length;b<d;b++)g=a[b],e.push(g.sentence);return e}()})}};a.walk(b);return a};
B=/((\s)*\/\/)|(\\)|(--)/;e=/(\S+)(\s\s\s)(?=\s*\S+)/;z=function(a){var b,d,m,f;d=a.match(B);if(null!=d)f=a.slice(0,d.index),m=d[0].length,a=a.slice(d.index+m);else if(d=a.match(e),null!=d)f=d[1],f=a.slice(0,d.index+f.length),m=d[0].length,a=a.slice(d.index+m);else return{justification:null,rest:a,justificationErrors:null};try{b=l.parse(a)}catch(q){return{justification:null,rest:f,justificationErrors:q.message,justificationText:a}}return{justification:b,rest:f,justificationErrors:null}};E=function(a){var b,
d,e,f,l,q;b=a.parent;if(a===b.content[0])return!0;if(null!=b.parent)return!1;l=b.content;q=f=!1;d=0;for(e=l.length;d<e;d++){b=l[d];if("divider"===b.type){q=!0;break}b===a&&(f=!0)}return f&&q?!0:!1};a._isPremise=E;q=function(){var a;return null==(null!=(a=this.justification)?a.rule:void 0)?"":((r.getSymbols()[this.justification.rule.connective]||this.justification.rule.connective)+" "+(this.justification.rule.variant.intronation||"")+" "+(this.justification.rule.variant.side||"")).trim()};v=function(a){return this.findAbove(function(b){if("line"===
b.type&&b.number===a)return!0})};t=function(a){return this.findAbove(function(b){if("block"===b.type&&b.number===a)return!0})};D=function(a){return this.findAbove(function(b){if(("block"===b.type||"line"===b.type)&&b.number===a)return!0})};w=function(){var a,b,d,e,f;if(!this.justification.numbers)return[];a=[];e=this.justification.numbers;b=0;for(d=e.length;b<d;b++)f=e[b],f=this.findLine(f),!1!==f&&a.push(f);return a};G=function(){var a,b,d,e,f;if(!this.justification.numbers)return[];a=[];e=this.justification.numbers;
b=0;for(d=e.length;b<d;b++)f=e[b],f=this.findBlock(f),!1!==f&&a.push(f);return a}},{"../dialect_manager/dialectManager":5,"./add_line_numbers":13,"./justification_parser":19,lodash:9}],13:[function(f,y,a){var u,n,B,e,E,A=[].indexOf||function(a){for(var e=0,f=this.length;e<f;e++)if(e in this&&this[e]===a)return e;return-1};u=f("lodash");B=/^([|\s])*\(?([0-9]\S*)([|\s]*)([\s\S]*)/;n=/\.*\)?$/;e=function(a){return a.replace(n,"")};a.cleanNumber=e;E=function(a){var f;return(f=a.content.match(B))?(a=f[2],
a=e(a),{lineNumber:a,rest:f[4]}):{lineNumber:null,rest:a.content}};a.to=function(a){a.walk({usedLineNumbers:[],lineCounter:0,userNumberedLines:!1,visit:function(a){var e,f;if("block"!==a.type){this.lineCounter+=1;f=E(a);e=f.lineNumber;f=f.rest;if(e||0===e)this.userNumberedLines=!0;null===e&&(e="line"===a.type?""+this.lineCounter:this.lineCounter+"x");if(0<=A.call(this.usedLineNumbers,e))throw Error("Duplicate line number '"+e+"' used for the second time at line "+this.lineCounter+".  Line numbers must be unique.");
this.usedLineNumbers.push(e);a.number=e;a.content=f}}});a.walk({visit:function(e){var f;if("block"===e.type&&(a=e,0!==a.content.length)){e=a.content[0];for(f=u.last(a.content);"block"===f.type;)f=u.last(f.content);null!=e.number&&null!=f.number&&(a.number=e.number+"-"+f.number)}}});return a}},{lodash:9}],14:[function(f,y,a){var u;u=f("../fol");f("../substitute");f("../util");a.to=function(a){a.walk({visit:function(a){if("line"===a.type&&null==a.sentence&&null==a.sentenceErrors){a.sentenceText=a.content;
try{a.sentence=u.parse(a.sentenceText)}catch(e){a.sentenceErrors=e.message}}}});return a}},{"../fol":7,"../substitute":22,"../util":24}],15:[function(f,y,a){var u;f("../fol");f("../substitute");f("../util");a.to=function(a){a.walk({visit:function(a){if(null!=(null!=a?a.type:void 0))switch(a.type){case "block":a.listErrorMessages=function(){throw"Not implemented yet!";};break;default:a.status=new u(a),a.getErrorMessage=function(){return a.status.getMessage()}}}});return a};u=function(){function a(f){this.line=
f;this.messages=[];this.verificationAttempted=this.verified=!1;this.sentenceParsed=null!=this.line.sentence;this.justificationParsed=null!=this.line.justification;null!=this.line.sentenceErrors&&this.addMessage("the sentence you wrote ("+this.line.sentenceText+") is not a sentence of awFOL.");null!=this.line.justificationErrors&&this.addMessage("the justification your supplied ("+this.line.justificationText+") either mentions a rule you can't use here or doesn't make sense.");"line"===this.line.type&&
null==this.line.justification&&null==this.line.justificationErrors&&this.addMessage("you supplied no justification for this line.")}a.prototype.addMessage=function(a){return this.messages.push(a)};a.prototype.clearMessages=function(){return this.messages=[]};a.prototype.popMessage=function(){return 0<this.messages.length?this.messages.pop():""};a.prototype.addAlthoughMessage=function(a){if(null!=this._addedAlthough)return this.addMessage("and although "+a);this.addMessage("although "+a);return this._addedAlthough=
!0};a.prototype.getMessage=function(){var a,e,f,n,r;if(0===this.messages.length)return"";f="This line is "+((this.verified?void 0:"not correct because")||"correct but")+" "+this.messages[0];1<this.messages.length&&(f+="And also "+this.messages[1]);2<this.messages.length&&(f+="Further, "+this.messages[2]);3<this.messages.length&&(f+="And, for another thing, "+this.messages[3]);if(4<this.messages.length)for(n=this.messages.splice(4),a=0,e=n.length;a<e;a++)r=n[a],f+="And "+r;return f};return a}()},{"../fol":7,
"../substitute":22,"../util":24}],16:[function(f,y,a){var u,n,B,e,E,A,r,t,v,D,G,w,q=[].indexOf||function(a){for(var e=0,g=this.length;e<g;e++)if(e in this&&this[e]===a)return e;return-1};u=f("lodash");t=f("./block_parser");E=f("./add_line_numbers");e=f("./add_justification");A=f("./add_sentences");r=f("./add_status");G=f("./fitch_rules").rules;B=function(a){a=t.parse(a);E.to(a);e.to(a);A.to(a);r.to(a);return a};a.to=function(a){return a.walk({visit:function(e){null!=(null!=e?e.type:void 0)&&(e.verify=
"block"===e.type?function(){var a;a=!0;e.walk({visit:function(b){"line"===b.type&&(b=b.verify(),a=a&&b)}});return a}:function(){return w(e,a)})}})};w=function(a,e){var g,b,d;u.isString(e)&&(e=B(e));g=e;if(null!=a.type)d=a;else if(d=g.getLine(a),!d)throw Error("Could not find line "+a+" in "+e);d.status.verificationAttempted=!0;if("line"!==d.type)return d.status.verified=!0,d.status.addMessage("(This is a "+d.type.replace(/_/g," ")+")"),!0;if(null!=d.sentenceErrors||null!=d.justificationErrors||null==
d.justification)return d.status.verified=!1;g=n(d);return!0!==g?(d.status.addMessage(g),d.status.verified=!1):b=v(d,b)};a._line=w;n=function(a){var e,g,b,d,f,x,w,p;x=a.justification.numbers;if(!x)return!0;b=0;for(d=x.length;b<d;b++){f=x[b];g=a.findLineOrBlock(f);if(!g)return"something you cited, "+f+", cannot be cited here (either it does not exist, or it is below this line, or else it occurs above but in a closed subproof).";e=[];for(w=a.parent;w;)e.push(w),w=w.parent;if(0<=q.call(e,g))return"you cannot cite a subproof ("+
f+") from within that subproof (you must close it, then cite it).";if("line"!==(p=g.type)&&"block"!==p)return"you cannot cite line "+f+" because it is a "+g.type.replace(/_/g," ")+".";if("line"===g.type&&!0!==g.status.sentenceParsed)return"you cannot cite line "+f+" yet because it does not contain a correct awFOL sentence.";if("block"===g.type){e=g.getFirstLine();g=g.getLastLine();if("block"===g.type)return"you cannot cite "+f+" because it finishes with an unclosed (sub)subproof (you must close it, then cite it)";
if(null==e||null==g||!e.status.sentenceParsed||!g.status.sentenceParsed)return"you cannot cite subproof "+f+" yet because it contains lines that are not correct sentence of awFOL."}}return!0};a._linesCitedAreOk=n;v=function(a,e){var g,b,d,f;g=a.justification.rule.connective;b=a.justification.rule.variant.intronation;f=a.justification.rule.variant.side;d=G[g];if(!d)return a.status.addMessage(("the rule you specified, `"+g+" "+(b||"")+" "+(f||"")+"` does not exist (or, if it does, you are not allowed to use it in this proof).").replace(/\s\s+/g,
"")),a.status.verified=!1;if(!b){if("rule"===d.type)return D(d,a,e);a.status.addMessage("you only partially specified the rule: `"+g+"` needs something extra (intro? elim?).");return a.status.verified=!1}d=d[b];if(!d)return a.status.addMessage("you specified the rule "+g+" *"+b+"* but there is no \u2018"+b+"\u2019 version of the rule for "+g+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;if(!f){if("rule"===d.type)return D(d,a,e);if(null!=d.left&&(e=D(d.left,
a,e),!0===e)||null==d.right)return e;g=a.status.popMessage();e=D(d.right,a,e);!1===e&&(d=a.status.popMessage(),null!=g&&null!=d?a.status.addMessage("Either "+g+", or else "+d+"."):a.status.addMessage(g||d||""));return e}return null==d[f]?(a.status.addMessage("you specified the rule "+g+" "+b+" *"+f+"* but there is no \u2018"+f+"\u2019 version of  "+g+" "+b+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1):D(d[f],a,e)};D=function(a,e,g){return!0===a.check(e)?
e.status.verified=!0:e.status.verified=!1}},{"./add_justification":12,"./add_line_numbers":13,"./add_sentences":14,"./add_status":15,"./block_parser":17,"./fitch_rules":18,lodash:9}],17:[function(f,y,a){var u,n,B,e,E,A,r,t,v,D,G,w,q,l,z=[].indexOf||function(a){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===a)return b;return-1};n=f("lodash");l=f("../util");a.parse=function(a){var b,d,e,f,l,q,w,C;n.isString(a)&&(a=a.split("\n"));if(0===a.length)return new u("");r(a);a=t(a);b=a[0];C=0<=z.call(b.indentation,
"|");for(d=w=new u(b.indentation);0<a.length;)if(f=a.shift(),"line"===f.type||C&&"blank_line"===f.type){for(f.indentation.length>d.indentation.length&&(d=d.newBlock(f.indentation));d&&f.indentation.length<d.indentation.length;)d=d.close();if(!d||f.indentation.length!==d.indentation.length)throw Error("Bad indentation at line "+f.idx+" ("+f.originalText+"). (It is indented to a level to which no earlier line is indented.)");d.newLine(f)}else if("divider"===f.type)d.newLine(f);else if("blank_line"===
f.type&&!C){for(b=[f];0<a.length&&"blank_line"===a[0].type;)b.push(a.shift());if(d===w)for(e=0,l=b.length;e<l;e++)f=b[e],d.newLine(f);else if(e=a[0].indentation,e.length===d.indentation.length){e=d;q=d.close();d=0;for(l=b.length;d<l;d++)f=b[d],q.newLine(f);d=q.newBlock(e.indentation)}else if(e.length>d.indentation.length){q=0;for(l=b.length;q<l;q++)f=b[q],d.newLine(f);d=d.newBlock(e)}else{for(;d&&e.length<d.indentation.length;)d=d.close();if(!d||e.length!==d.indentation.length)throw Error("Bad indentation at line "+
f.idx+" ("+f.originalText+"). (It is indented to a level to which no earlier line is indented.)");l=0;for(e=b.length;l<e;l++)f=b[l],d.newLine(f)}}for(;d!==w;)d=d.close();return d};r=function(a){};t=function(a){var b,d,e,f,l,p,w,n,r;f=A(a);n=[];e=l=0;for(p=a.length;l<p;e=++l)w=a[e],b=q(w,f),d=b.indentation,b=b.content,r="line",v(b)&&(r="blank_line"),D(b)&&(r="divider"),n.push({indentation:d,content:b,idx:e+1,type:r,originalText:w});a=!1;e=[];l=0;for(f=n.length;l<f;l++)d=n[l],e.push(d.indentation);
f=0;for(l=e.length;f<l;f++)if(d=e[f],0<=z.call(d,"|")){a=!0;break}if(a)for(e=0,a=n.length;e<a;e++)d=n[e],d.indentation=d.indentation.replace(/\s+/g,"");return n};B=/^([|\s]+)/;A=function(a){var b,d,e,f,l;if(!a||0===a.length)return!0;d=null!=(e=a[0].match(B))?e[1]:void 0;e=0;for(f=a.length;e<f;e++)if(b=a[e],""!==b.replace(/[|-\s]/g,"")&&(l=b.match(B),b=null!=l?l[1]:void 0,null!==l&&b!==d))return!0;return!1};a.areLinesFormattedIndentationFirst=A;e=/^([|\s]*)([\s\S]*)/;E=/^([|\s]*)(\(?[0-9]+[^|\s]*)?([|\s]*)([\s\S]*)/;
q=function(a,b){var d,f,l,q;if(b)return d=a.match(e),{indentation:d[1],content:d[2]};d=a.match(E);q=d[1]||"";f=d[2];l=d[3]||"";d=d[4]||"";return f?{indentation:l,content:f+" "+d}:{indentation:q,content:""+d}};a.split=q;w=function(a){return a.replace(/[0-9]\S*/,"")};G=function(a){return a.replace(/\|/g,"")};D=function(a){a=w(a);a=G(a);return null!==a.match(/^\s*(--)/)?!0:!1};a._isDivider=D;v=function(a){a=w(a);a=G(a);return""===a.trim()};a._isBlank=v;u=function(){function a(b,d,g){this.indentation=
b;this.parent=d;this.prev=g;this.type="block";this.content=[];this._depth=null==this.parent?1:this.parent._depth+1}a.prototype.getFirstLine=function(){return 0<this.content.length?this.content[0]:null};a.prototype.getLastLine=function(){return 0<this.content.length?n.last(this.content):null};a.prototype.newLine=function(b){b.parent=this;b.prev=this.getLastLine();b.lineNumberInSource=b.idx;b.findAbove=function(b){var a;for(a=this.prev||this.parent;null!=a&&null!=a.parent;){if(b(a))return a;a=null==
a.prev&&null!=a.parent?a.parent:a.prev}return!1};this.content.push(b);return b};a.prototype.newBlock=function(b){b=new a(b,this,this.getLastLine());this.content.push(b);return b};a.prototype.close=function(){return this.parent};a.prototype.walk=function(b){var a,g,e,f,l;l=b.visit(this);if(null!=l)return l;f=this.content;g=0;for(e=f.length;g<e;g++){a=f[g];l=b.visit(a);if(null!=l)return l;"block"===a.type&&(l=a.walk(b));if(null!=l)return l}};a.prototype.getLine=function(b){var a;a=this.walk({onLine:0,
visit:function(a){if("block"!==a.type&&(this.onLine+=1,this.onLine===b))return a}});if(null==a)throw Error("Could not get line number "+b);return a};a.prototype.toString=function(){return JSON.stringify(this,function(b,a){return!a||"prev"!==b&&"parent"!==b?"sentence"===b?l.expressionToString(a):n.isFunction(a)?void 0:a:"[circular reference to "+(null!=a?a.type:void 0)+", depth "+(null!=a?a._depth:void 0)+"]"},4)};return a}();a.Block=u},{"../util":24,lodash:9}],18:[function(f,y,a){y=f("../dialect_manager/dialectManager");
f=f("./rule");f.setParser(y.getParser("awFOL"));f={_description:"Rules of proof for classical first-order logic.  The rules assume that\nthere is no possible situation with an empty domain.",premise:f.premise(),reit:f.from("\u03c6").to("\u03c6"),and:{elim:{left:f.from("\u03c6 and \u03c8").to("\u03c6"),right:f.from("\u03c6 and \u03c8").to("\u03c8")},intro:f.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:f.from("\u03c6 or \u03c8").and(f.subproof("\u03c6","\u03c7")).and(f.subproof("\u03c8",
"\u03c7")).to("\u03c7"),intro:{left:f.from("\u03c6").to("\u03c6 or \u03c8"),right:f.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:f.from("not not \u03c6").to("\u03c6"),intro:f.from(f.subproof("\u03c6","contradiction")).to("not \u03c6")},contradiction:{elim:f.from("contradiction").to("\u03c6"),intro:f.from("not \u03c6").and("\u03c6").to("contradiction")},arrow:{elim:f.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:f.from(f.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:f.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),
right:f.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:f.from(f.subproof("\u03c6","\u03c8")).and(f.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},identity:{intro:f.to("\u03b1=\u03b1"),elim:{left:f.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:f.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:f.from("exists \u03c4 \u03c6").and(f.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),
intro:f.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:f.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:{left:f.from(f.subproof("[\u03b1]","\u03c6[\u03c4--\x3e\u03b1]")).to("all \u03c4 \u03c6"),right:f.from(f.subproof("[\u03b1]\u03c6","\u03c8")).to("all \u03c4 (\u03c6 arrow \u03c8)[\u03b1--\x3e\u03c4]")}}};a.rules=f;y.registerRuleSet(f)},{"../dialect_manager/dialectManager":5,"./rule":21}],19:[function(f,y,a){(function(u){var n=function(){function a(){this.yy=
{}}var e=function(b,a,g,e){g=g||{};for(e=b.length;e--;g[b[e]]=a);return g},f=[1,5],n=[1,10],r=[1,11],t=[1,12],u=[1,13],y=[1,9],G=[1,14],w=[1,15],q=[5,18],l=[5,8,14,15,16,17,19,20],z=[5,8,16,17,18],g=[5,8,14,15,18],e={trace:function(){},yy:{},symbols_:{error:2,justification:3,j:4,EOF:5,rule_name:6,numberlist:7,connective:8,intronation:9,rule_name_option0:10,rule_name_option1:11,side:12,rule_name_group0:13,elim:14,intro:15,left:16,right:17,number:18,reit:19,premise:20,$accept:0,$end:1},terminals_:{2:"error",
5:"EOF",8:"connective",14:"elim",15:"intro",16:"left",17:"right",18:"number",19:"reit",20:"premise"},productions_:[0,[3,2],[4,1],[4,2],[4,2],[6,3],[6,3],[6,3],[6,3],[6,3],[6,3],[6,1],[9,1],[9,1],[12,1],[12,1],[7,1],[7,2],[10,0],[10,1],[11,0],[11,1],[13,1],[13,1]],performAction:function(b,a,g,e,f,l,q){b=l.length-1;switch(f){case 1:return l[b-1];case 2:this.$={type:"justification",rule:l[b],location:q[b]};break;case 3:this.$={type:"justification",rule:l[b-1],location:q[b-1],numbers:l[b]};break;case 4:this.$=
{type:"justification",rule:l[b],location:q[b],numbers:l[b-1]};break;case 5:this.$={type:"rule",connective:l[b-2],variant:{type:"variant",intronation:l[b-1],side:l[b]}};break;case 6:this.$={type:"rule",connective:l[b-1],variant:{type:"variant",intronation:l[b-2],side:l[b]}};break;case 7:this.$={type:"rule",connective:l[b-1],variant:{type:"variant",intronation:l[b],side:l[b-2]}};break;case 8:this.$={type:"rule",connective:l[b-2],variant:{type:"variant",intronation:l[b],side:l[b-1]}};break;case 9:this.$=
{type:"rule",connective:l[b],variant:{type:"variant",intronation:l[b-1],side:l[b-2]}};break;case 10:this.$={type:"rule",connective:l[b],variant:{type:"variant",intronation:l[b-2],side:l[b-1]}};break;case 11:this.$={type:"rule",connective:l[b],variant:{type:"variant",intronation:null,side:null}};break;case 12:this.$="elim";break;case 13:this.$="intro";break;case 14:this.$="left";break;case 15:this.$="right";break;case 16:this.$=[l[b]];break;case 17:this.$=[l[b-1]].concat(l[b])}},table:[{3:1,4:2,6:3,
7:4,8:f,9:6,12:7,13:8,14:n,15:r,16:t,17:u,18:y,19:G,20:w},{1:[3]},{5:[1,16]},{5:[2,2],7:17,18:y},{6:18,8:f,9:6,12:7,13:8,14:n,15:r,16:t,17:u,19:G,20:w},{9:19,12:20,14:n,15:r,16:t,17:u},{8:[1,21],12:22,16:t,17:u},{8:[1,23],9:24,14:n,15:r},e(q,[2,11]),e(l,[2,16],{7:25,18:y}),e(z,[2,12]),e(z,[2,13]),e(g,[2,14]),e(g,[2,15]),e(q,[2,22]),e(q,[2,23]),{1:[2,1]},{5:[2,3]},{5:[2,4]},e(q,[2,18],{10:26,12:27,16:t,17:u}),{9:28,14:n,15:r},e(q,[2,20],{11:29,12:30,16:t,17:u}),{8:[1,31]},{9:32,14:n,15:r},{8:[1,33]},
e(l,[2,17]),e(q,[2,5]),e(q,[2,19]),e(q,[2,8]),e(q,[2,6]),e(q,[2,21]),e(q,[2,10]),e(q,[2,7]),e(q,[2,9])],defaultActions:{16:[2,1],17:[2,3],18:[2,4]},parseError:function(b,a){if(a.recoverable)this.trace(b);else{var g=function(b,a){this.message=b;this.hash=a};g.prototype=Error;throw new g(b,a);}},parse:function(b){var a=[0],g=[null],e=[],f=this.table,l="",q=0,w=0,n=0,z=e.slice.call(arguments,1),r=Object.create(this.lexer),t={},u;for(u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(t[u]=
this.yy[u]);r.setInput(b,t);t.lexer=r;t.parser=this;"undefined"==typeof r.yylloc&&(r.yylloc={});u=r.yylloc;e.push(u);var y=r.options&&r.options.ranges;this.parseError="function"===typeof t.parseError?t.parseError:Object.getPrototypeOf(this).parseError;for(var v,A,D,B,G={},E,V;;){D=a[a.length-1];if(this.defaultActions[D])B=this.defaultActions[D];else{if(null===v||"undefined"==typeof v)v=void 0,v=r.lex()||1,"number"!==typeof v&&(v=this.symbols_[v]||v);B=f[D]&&f[D][v]}if("undefined"===typeof B||!B.length||
!B[0]){var ob="";V=[];for(E in f[D])this.terminals_[E]&&2<E&&V.push("'"+this.terminals_[E]+"'");ob=r.showPosition?"Parse error on line "+(q+1)+":\n"+r.showPosition()+"\nExpecting "+V.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(q+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(ob,{text:r.match,token:this.terminals_[v]||v,line:r.yylineno,loc:u,expected:V})}if(B[0]instanceof Array&&1<B.length)throw Error("Parse Error: multiple actions possible at state: "+
D+", token: "+v);switch(B[0]){case 1:a.push(v);g.push(r.yytext);e.push(r.yylloc);a.push(B[1]);v=null;A?(v=A,A=null):(w=r.yyleng,l=r.yytext,q=r.yylineno,u=r.yylloc,0<n&&n--);break;case 2:V=this.productions_[B[1]][1];G.$=g[g.length-V];G._$={first_line:e[e.length-(V||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(V||1)].first_column,last_column:e[e.length-1].last_column};y&&(G._$.range=[e[e.length-(V||1)].range[0],e[e.length-1].range[1]]);D=this.performAction.apply(G,[l,w,
q,t,B[1],g,e].concat(z));if("undefined"!==typeof D)return D;V&&(a=a.slice(0,-2*V),g=g.slice(0,-1*V),e=e.slice(0,-1*V));a.push(this.productions_[B[1]][0]);g.push(G.$);e.push(G._$);B=f[a[a.length-2]][a[a.length-1]];a.push(B);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(b,a){if(this.yy.parser)this.yy.parser.parseError(b,a);else throw Error(b);},setInput:function(b,a){this.yy=a||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=
this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var a=
b.length,g=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-a);this.offset-=a;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);g.length-1&&(this.yylineno-=g.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:g?(g.length===b.length?this.yylloc.first_column:
0)+b[b.length-g.length].length-g[0].length:this.yylloc.first_column-a};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-a]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),
{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),a=Array(b.length+1).join("-");return b+this.upcomingInput()+
"\n"+a+"^"},test_match:function(b,a){var g,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=
this.yylloc.range.slice(0)));if(g=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=g.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=
this._input.slice(b[0].length);this.matched+=b[0];g=this.performAction.call(this,this.yy,this,a,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(g)return g;if(this._backtrack)for(var f in e)this[f]=e[f];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,a,g;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),f=0;f<e.length;f++)if((a=this._input.match(this.rules[e[f]]))&&(!b||a[0].length>b[0].length))if(b=
a,g=f,this.options.backtrack_lexer){b=this.test_match(a,e[f]);if(!1!==b)return b;if(this._backtrack)b=!1;else return!1}else if(!this.options.flex)break;return b?(b=this.test_match(b,e[g]),!1!==b?b:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<
this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},
options:{flex:!0,"case-insensitive":!0},performAction:function(b,a,g,e){switch(g){case 0:return a.yytext=b.lexer.matches[1],18;case 1:return a.yytext=b.lexer.matches[1]+"-"+b.lexer.matches[2],18;case 2:return a.yytext=b.lexer.matches[1]+"-"+b.lexer.matches[2],18;case 3:return a.yytext=b.lexer.matches[1],18;case 4:return 14;case 5:return 15;case 6:return a.yytext="contradiction",8;case 7:return a.yytext="or",8;case 8:return a.yytext="identity",8;case 9:return a.yytext="and",8;case 10:return a.yytext=
"double_arrow",8;case 11:return a.yytext="arrow",8;case 12:return a.yytext="not",8;case 13:return a.yytext="reit",19;case 14:return a.yytext="premise",20;case 15:return a.yytext="universal",8;case 16:return a.yytext="existential",8;case 17:return 16;case 18:return 17;case 20:return 5;case 23:console.log(a.yytext)}},rules:[/^(?:([0-9][^,\s]*)(\s+and\s+)(?=[0-9]))/i,/^(?:([0-9][^,\s]*)\s+to\s+([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*?)\s*(?:-+)\s*([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*)(?:(\s*,)*))/i,/^(?:elimination|eliminate|elim)/i,
/^(?:introduction|introduce|intro)/i,/^(?:\u22a5|_\|_|contradiction|contra|false)/i,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/i,/^(?:=|identity)/i,/^(?:and|conjunction|\u2227|\u2022)/i,/^(?:double_arrow|\u2194|\u2261|\u21d4|<->)/i,/^(?:arrow|->|\u21d2|\u2192|\u2283)/i,/^(?:not|\u00ac|\u02dc|!|negation)/i,/^(?:reit|reiteration)/i,/^(?:premise|assumption)/i,/^(?:all|\u2200|every|universal)/i,/^(?:some|exists|\u2203|existential)/i,/^(?:left)/i,/^(?:right)/i,/^(?:[\s,]+)/i,/^(?:$)/i,/^(?:\w+)/i,/^(?:.)/i,/^(?:.)/i],
conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],inclusive:!0}}}}();e.lexer=f;a.prototype=e;e.Parser=a;return new a}();"undefined"!==typeof f&&"undefined"!==typeof a&&(a.parser=n,a.Parser=n.Parser,a.parse=function(){return n.parse.apply(n,arguments)},a.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),u.exit(1));n=f("fs").readFileSync(f("path").normalize(n[1]),"utf8");return a.parser.parse(n)},"undefined"!==typeof y&&f.main===y&&a.main(u.argv.slice(1)))}).call(this,
f("_process"))},{_process:3,fs:1,path:2}],20:[function(f,y,a){var u,n,B,e,E,A,r,t,v;u=f("lodash");t=f("./block_parser");e=f("./add_line_numbers");B=f("./add_justification");E=f("./add_sentences");A=f("./add_status");r=f("./add_verification");v=function(a,e){u.isString(a)||(a=""+a);return a.length>=e?a:a+Array(e-a.length+1).join(" ")};n=function(a){return a.toString=function(e){var f,q,l,n,g,b,d,m;null==e&&(e={});d={result:[],lineNumber:0,addLineNumbers:!0,lookBackTwo:[],getLineNumber:function(b){if(null!=
b.number||!1===d.addLineNumbers)return d.addLineNumbers=!1,v(b.number,3);d.lineNumber+=1;return v(d.lineNumber,3)},visit:function(b){var a,g,e,f,m;"divider"!==b.type&&"block"===(null!=(a=d.lookBackTwo[0])?a.type:void 0)&&"line"===(null!=(g=d.lookBackTwo[1])?g.type:void 0)&&(a=d.lookBackTwo[0],null!=a.parent&&(a=d.lookBackTwo[1],a.parent===b.parent&&d.result.push({number:v(d.getLineNumber(a).trim()+"y",3),indentation:a.indentation.trim()+"---",sentence:"",justification:""})));d.lookBackTwo.push(b);
2<d.lookBackTwo.length&&d.lookBackTwo.shift();"blank_line"===b.type&&(a=b,d.result.push({number:""+d.getLineNumber(a),indentation:""+a.indentation.trim(),sentence:"",justification:""}));"divider"===b.type&&(a=b,d.result.push({number:""+d.getLineNumber(a),indentation:a.indentation.trim()+"---",sentence:"",justification:""}));"line"===b.type&&(a=b,b="premise"===a.getRuleName()?"":null!=a.justification?a.getRuleName()+" "+((null!=(e=a.justification)?null!=(f=e.numbers)?f.join(", "):void 0:void 0)||""):
(null!=(m=a.justificationText)?m.trim():void 0)||"",d.result.push({number:""+d.getLineNumber(a),indentation:""+a.indentation,sentence:""+a.sentence,justification:b}))}};a.walk(d);b="";n=u.max(function(){var b,a,g,e,f,l;g=d.result;l=[];b=0;for(a=g.length;b<a;b++)m=g[b],l.push((null!=(e=m.sentence)?e.length:void 0)+(null!=(f=m.indentation)?f.length:void 0));return l}());g=d.result;e=0;for(q=g.length;e<q;e++)l=g[e],f=v(l.indentation+" "+l.sentence,n+1),b+=l.number+" "+f+"   "+l.justification+"\n";return b.trim()}};
a.parse=function(a){var f,w;try{f=t.parse(a),e.to(f),B.to(f),E.to(f),A.to(f),r.to(f)}catch(q){return q.message}w=f;w.listErrorMessages=function(){var a;a=[];w.walk({visit:function(e){var f;if("line"===(null!=e?e.type:void 0)&&!1===e.status.verified)return f=e.number,e=e.status.getMessage(),a.push(f+": "+e)}});return a.join("\n")};n(w);return w}},{"./add_justification":12,"./add_line_numbers":13,"./add_sentences":14,"./add_status":15,"./add_verification":16,"./block_parser":17,lodash:9}],21:[function(f,
y,a){var u,n,B,e,E,A,r,t,v,D,G=[].indexOf||function(a){for(var e=0,f=this.length;e<f;e++)if(e in this&&this[e]===a)return e;return-1};e=f("lodash");f("../util");t=f("../fol");a.setParser=function(a){return a};E=function(){function a(e){e=A(e);this._requirements={from:(e?[e]:void 0)||[],to:void 0}}a.prototype.type="rule";a.prototype.and=function(a){a=A(a);this._requirements.from.push(a);return this};a.prototype.to=function(a){if(this._requirements.to)throw Error("You cannot specify `.to` more than once in a single rule.");
a=A(a);this._requirements.to=a;return this};a.prototype.check=function(a){return(new u(a,this._requirements)).check()};return a}();v=function(a){return new E(a)};a.from=v;a.to=function(a){return v().to(a)};a.subproof=function(a,f){a=A(a);f=A(f);return{type:"subproof",startReq:a,endReq:f,listMetaVariableNames:function(){var a;a=this.startReq.listMetaVariableNames();return a=e.defaults(a,this.endReq.listMetaVariableNames())},toString:function(){return a.toString()+" \u22a2 "+f.toString()}}};a.premise=
function(){var a,e;e=v();a=e.check.bind(e);e.check=function(e){var f;f=a(e);return!0!==f?f:e.prev?null!=e.parent.parent?(e.status.addMessage("only the first line of a subproof may be a premise."),!1):e.findAbove(function(a){var b,d;if("line"===a.type){if(d="premise"===(null!=(b=a.justification)?b.rule.connective:void 0))return!1;if(!d)return!0}return"block"===a.type?!0:!1})?(e.status.addMessage("premises may not occur after non-premises."),!1):!0:!0};return e};a._notImplementedYet=function(a){throw Error("the rule `"+
a.justification.rule.connective+"` (or some part of it) is not implemented yet!");};A=function(a){if(!a||"subproof"===a.type)return a;e.isString(a)&&(a=t.parse(a,void 0));t._decorate(a);return a};r=function(a){var f,l,n,g,b,d,m,x;if(0===a.length)return[[]];x=[];l=g=0;for(b=a.length-1;0<=b?g<=b:g>=b;l=0<=b?++g:--g)for(f=e.clone(a),l=f.splice(l,1),m=r(f),n=f=0,d=m.length-1;0<=d?f<=d:f>=d;n=0<=d?++f:--f)n=l.concat(m[n]),x.push(n);return x};a._permutations=r;u=function(){function a(e,f){this.line=e;this.requirements=
f;this.citedLines=this.line.getCitedLines();this.citedBlocks=this.line.getCitedBlocks();this.ruleName=this.line.getRuleName();this.matches=null}a.prototype.check=function(){var a,e,f,g,b;if(!this.citedTypesAreCorrect())return this;b=[];this.requirements.to&&b.push(new B(this.requirements.to,[this.line]));g=this.requirements.from;e=0;for(f=g.length;e<f;e++)a=g[e],null!=(null!=a?a.type:void 0)&&"subproof"===a.type?b.push(new B(a,this.citedBlocks)):b.push(new B(a,this.citedLines));b.reverse();a=r(b);
for(e=!1;!e&&0<a.length;)e=a.shift(),e=new n(e,this.line),e=e.find();return e?!0:this};a.prototype.citedTypesAreCorrect=function(){var a,e,f,g,b;f=this.whatToCite();a=this.citedLines.length;e=this.citedBlocks.length;if(f.lines===a&&f.subproofs===e)return!0;b=D(f.lines,"line");g=D(f.subproofs,"subproof");f=(b&&g?"and ":void 0)||(b||g?void 0:"nothing")||"";a=D(a,"line");e=D(e,"subproof");this.line.status.addMessage(("you must cite "+b+" "+f+g+" when using the rule "+this.ruleName+" (you cited "+a+" "+
((a&&e?"and ":void 0)||(a||e?void 0:"nothing")||"")+e+").").replace(/\s\s+/g," "));return!1};a.prototype.whatToCite=function(){var a,e,f,g,b;b={lines:0,subproofs:0};g=this.requirements.from;a=0;for(e=g.length;a<e;a++)f=g[a],"subproof"===f.type?b.subproofs+=1:b.lines+=1;return b};return a}();B=function(){function a(e,f,n){this.theRequirement=e;this.candidateLinesOrSubproofs=f;this.matches=null!=n?n:{};this.saveMatches(this.matches);this.metaVariableNames=this.theRequirement.listMetaVariableNames()}
a.prototype.setMatches=function(a){this.matches=a;return this.saveMatches(this.matches)};a.prototype._matchesStack=[];a.prototype.saveMatches=function(){var a;a=e.cloneDeep(this.matches);this._matchesStack.push(a);this.matches=a};a.prototype.restoreMatches=function(){var a;this._matchesStack.pop();a=this._matchesStack;this.matches=a[a.length-1]};a.prototype.tempRemovedCandidates={};a.prototype.temporarilyRemoveCandidate=function(a){var e,f;e=function(){var g,b,d,e;d=this.candidateLinesOrSubproofs;
e=[];g=0;for(b=d.length;g<b;g++)f=d[g],f.number===a&&e.push(f);return e}.call(this);if(1===e.length)return this.tempRemovedCandidates[a]=e[0],this.candidateLinesOrSubproofs=function(){var g,b,d,e;d=this.candidateLinesOrSubproofs;e=[];g=0;for(b=d.length;g<b;g++)f=d[g],f.number!==a&&e.push(f);return e}.call(this)};a.prototype.restoreCandidate=function(a){if(a in this.tempRemovedCandidates)return this.candidateLinesOrSubproofs.push(this.tempRemovedCandidates[a]),delete this.tempRemovedCandidates[a]};
a.prototype.canCheckAlready=function(){var a,e,f,g;f=this.metaVariableNames.inSub.left;a=0;for(e=f.length;a<e;a++)if(g=f[a],!(g in this.matches))return!1;return!0};a.prototype.check=function(){var a,e,f,g,b,d;d=!1;b=this.candidateLinesOrSubproofs;e=0;for(f=b.length;e<f;e++)a=b[e],g=this._checkOne(a),!1!==g&&(d=d||{},d[a.number]=g);return d};a.prototype._checkOne=function(a){var e;if(null!=this.theRequirement.type&&"subproof"===this.theRequirement.type){if("block"!==a.type)return!1;e=this._checkOneLine(this.theRequirement.startReq,
a.getFirstLine(),this.matches);return!1===e?!1:a=this._checkOneLine(this.theRequirement.endReq,a.getLastLine(),e)}return"block"===a.type?!1:e=this._checkOneLine(this.theRequirement,a,this.matches)};a.prototype._checkOneLine=function(a,e,f){var g,b;a=a.clone().applyMatches(f);if(null===a.applySubstitutions())return!1;g=e.sentence;if(null==g)return!1;null==a.box&&null!=g.box&&(g=g.clone(),delete g.box);f=g.findMatches(a,f);if(!1===f)return f;if(null!=a.box||"box"===a.type)a=("box"===a.type?a:void 0)||
(null!=a.box?a.box:void 0),a=a.applyMatches(f).applySubstitutions(),b=a.term.name,a=function(a){return"line"!==a.type?!1:0<=G.call(a.sentence.getNames(),b)?!0:!1},(e=e.findAbove(a))&&(f=!1);return f};return a}();n=function(){function a(e,f,n){this.line=f;this.matches=null!=n?n:{};var g,b;b=[];n=0;for(g=e.length;n<g;n++)f=e[n],b.push(f);this.reqCheckList=b;this.line.status.clearMessages()}a.prototype.find=function(){var e,f,n,g,b,d,m;if(0===this.reqCheckList.length)return!0;b=this.reqCheckList.pop();
b.setMatches(this.matches);for(d=0;!b.canCheckAlready()&&d<this.reqCheckList.length+1;)this.reqCheckList.unshift(b),b=this.reqCheckList.pop(),b.setMatches(this.matches),d+=1;if(d===this.reqCheckList.length+1)throw Error("Rule problem!  I can\u2019t start checking any of the conditions in the rule.");d=b.check();if(!1===d)return this.writeMessage(b),!1;for(g in d){e=d[g];m=this.reqCheckList;f=0;for(n=m.length;f<n;f++)b=m[f],b.temporarilyRemoveCandidate(g);b=new a(this.reqCheckList,this.line,e);m=b.find();
n=this.reqCheckList;f=0;for(e=n.length;f<e;f++)b=n[f],b.restoreCandidate(g);if(!0===m)return!0}return!1};a.prototype.writeMessage=function(a){var e;if(this.line.number===(null!=(e=a.candidateLinesOrSubproofs[0])?e.number:void 0))return this.line.status.addMessage("You can only use "+this.line.getRuleName()+" on a line with the form \u2018"+a.theRequirement.toString({replaceSymbols:!0})+"\u2019.");e=a.theRequirement.type;"subproof"!==e&&(e="line");return this.line.status.addMessage("to apply "+this.line.getRuleName()+
" you need to cite a "+e+" with the form \u2018"+a.theRequirement.toString({replaceSymbols:!0})+"\u2019.")};return a}();D=function(a,e){if(0===a)return"";if(1===a)return"1 "+e;if(1<a)return a+" "+e+"s"};a.RequirementChecker=B;a.Pathfinder=n;a.LineChecker=u},{"../fol":7,"../util":24,lodash:9}],22:[function(f,y,a){var u,n,B,e,E,A,r,t,v;u=f("lodash");v=f("./util");y=f("./dialect_manager/dialectManager").getParser("awFOL");E=f("./match");n={replace_arrow:{from:"\u03c6 arrow \u03c8",to:"(not \u03c6) or \u03c8"},
replace_double_arrow:{from:"\u03c6 \u2194 \u03c8",to:"(\u03c6 or (not \u03c8)) and ((not \u03c6) or \u03c8)"},demorgan1:{from:"not (\u03c6 and \u03c8)",to:"((not \u03c6) or (not \u03c8))"},demorgan2:{from:"not (\u03c6 or \u03c8)",to:"((not \u03c6) and (not \u03c8))"},dbl_neg:{from:"not not \u03c6",to:"\u03c6"},not_all:{from:"not ((all \u03c4) \u03c6)",to:"(exists \u03c4) (not \u03c6)"},not_exists:{from:"not ((exists \u03c4) \u03c6)",to:"(all \u03c4) (not \u03c6)"},cnf_left:{from:"\u03c61 or (\u03c62 and \u03c63)",
to:"(\u03c61 or \u03c62) and (\u03c61 or \u03c63)"},cnf_right:{from:"(\u03c62 and \u03c63) or \u03c61",to:"(\u03c62 or \u03c61) and (\u03c63 or \u03c61)"},all_and_left:{from:"\u03c6 and ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 and \u03c8)"},all_and_right:{from:"((all \u03c4) \u03c8) and \u03c6",to:"(all \u03c4) (\u03c8 and \u03c6)"},all_or_left:{from:"\u03c6 or ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 or \u03c8)"},all_or_right:{from:"((all \u03c4) \u03c8) or \u03c6",to:"(all \u03c4) (\u03c8 or \u03c6)"},
exists_and_left:{from:"\u03c6 and ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 and \u03c8)"},exists_and_right:{from:"((exists \u03c4) \u03c8) and \u03c6",to:"(exists \u03c4) (\u03c8 and \u03c6)"},exists_or_left:{from:"\u03c6 or ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 or \u03c8)"},exists_or_right:{from:"((exists \u03c4) \u03c8) or \u03c6",to:"(exists \u03c4) (\u03c8 or \u03c6)"}};r={};for(e in n)t=n[e],f=y.parse(t.from),v.delExtraneousProperties(f),t=y.parse(t.to),v.delExtraneousProperties(t),
f={from:f,to:t},r[e]=f;a.subsForPNF=r;n={identity:{from:"\u03c4=\u03c4",to:"true"},not_true:{from:"not true",to:"false"},not_false:{from:"not false",to:"true"},or_duplicate:{from:"\u03c6 or \u03c6",to:"\u03c6"},or_duplicate_left:{from:"\u03c6 or (\u03c6 or \u03c8)",to:"\u03c6 or \u03c8"},or_duplicate_right:{from:"(\u03c8 or \u03c6) or \u03c6",to:"\u03c8 or \u03c6"},and_duplicate:{from:"\u03c6 and \u03c6",to:"\u03c6"},and_duplicate_left:{from:"\u03c6 and (\u03c6 and \u03c8)",to:"\u03c6 and \u03c8"},
and_duplicate_right:{from:"(\u03c8 and \u03c6) and \u03c6",to:"\u03c8 and \u03c6"},false_or:{from:"false or \u03c6",to:"\u03c6"},true_or:{from:"true or \u03c6",to:"true"},false_and:{from:"false and \u03c6",to:"false"},true_and:{from:"true and \u03c6",to:"\u03c6"},contradiction_and:{from:"\u03c6 and not \u03c6",to:"false"},contradiction_and_left:{from:"\u03c6 and (not \u03c6 and \u03c8)",to:"false"},contradiction_and_right:{from:"(\u03c8 and \u03c6) and not \u03c6",to:"false"},taut_or:{from:"\u03c6 or not \u03c6",
to:"true"},taut_and_left:{from:"\u03c6 or (not \u03c6 or \u03c8)",to:"true"},taut_and_right:{from:"(\u03c8 or \u03c6) or not \u03c6",to:"true"}};r={};for(e in n)t=n[e],f=y.parse(t.from),v.delExtraneousProperties(f),t=y.parse(t.to),v.delExtraneousProperties(t),f={from:f,to:t},r[e]=f;a.subs_eliminate_redundancy=r;B=function(a,e){var f;return(f=E.findWithoutApplyingSubs(a,e.from))?E.apply(e.to,f):a};a.doSub=B;a.doSubRecursive=function(a,e,f){null==f&&(f={});return v.walkMutate(a,function(a){return null===
a||u.isArray(a)||null!=a.type&&"box"===a.type?a:B(a,e)})};A=function(a,e,f){var n,l,r;null==f&&(f={});n=e.from;l=e.to;r=function(a){if(null===a||u.isArray(a)||r._inSub)return a;if(v.areIdenticalExpressions(a,n)){if(null===l)throw Error("_internal: replace to null");return v.cloneExpression(l)}return a};a=f.noClone?a:v.cloneExpression(a);return v.walkMutate(a,r)};a.replace=A;a.applySubstitutions=function(a){var e;e=function(a){var e,f,n,g;if(null==(null!=a?a.substitutions:void 0))return a;g=u.cloneDeep(a.substitutions);
delete a.substitutions;e=0;for(f=g.length;e<f;e++)n=g[e],n={from:n.from,to:n.to},a=A(a,n);return a};a=u.cloneDeep(a);try{return v.walkMutate(a,e)}catch(f){a=f;if("_internal: replace to null"===a.message)return null;throw a;}}},{"./dialect_manager/dialectManager":5,"./match":8,"./util":24,lodash:9}],23:[function(f,y,a){f("lodash");y.exports={"default":{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",
universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203"},copi:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2022",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"",existential_quantifier:"\u2203"}}},{lodash:9}],24:[function(f,y,a){var u,n,B,e,E,A,r,t,v,D,G,w,q,l,z={}.hasOwnProperty;n=f("lodash");l=function(a,b,d){var e;if(n.isArray(a)){var f,q,p;p=[];f=0;for(q=a.length;f<q;f++)e=
a[f],p.push(l(e,b,d));return p}if(null===a)return b(a);null!=(null!=d?d.topDown:void 0)&&d.topDown&&(e=b(a));b._trace&&console.log("walkMutate got "+util.expressionToString(a));null!=a.box&&(b._inBox=!0,a.box=l(a.box,b,d),b._inBox=void 0);null!=a.substitutions&&(null==b._inSubCount&&(b._inSubCount=0),b._inSubCount+=1,b._inSub=!0,a.substitutions=l(a.substitutions,b,d),--b._inSubCount,0===b._inSubCount&&(b._inSub=void 0));"substitution"===a.type&&(b._inSubLeft=!0,a.from=l(a.from,b,d),b._inSubLeft=void 0,
a.to=l(a.to,b,d));null!=a.boundVariable&&(b._inBoundVariable=!0,a.boundVariable=l(a.boundVariable,b,d),b._inBoundVariable=void 0);null!=a.termlist&&(a.termlist=l(a.termlist,b,d));null!=a.term&&(a.term=l(a.term,b,d));null!=a.left&&(a.left=l(a.left,b,d));null!=a.right&&(a.right=l(a.right,b,d));return null!=(null!=d?d.topDown:void 0)&&d.topDown?e:b(a)};a.walkMutate=l;w=function(a,b,d){var e;e=function(a){var d,g;for(d in e)z.call(e,d)&&(g=e[d],b[d]=g);b(a);return a};return l(a,e,d)};a.walk=w;q=function(a,
b,d,e){var f,l,p;if(d&&(e=d(a,b),void 0!==e))return e;if(null===a||null===b)return a===b;l=[n.isBoolean,n.isNumber,n.isString];e=0;for(f=l.length;e<f;e++)if(p=l[e],p(a)||p(b))return a===b;if(n.isArray(a)||n.isArray(b)){if(!n.isArray(a)||!n.isArray(b)||a.length!==b.length)return!1;f=l=0;for(p=a.length;l<p;f=++l)if(e=a[f],!q(e,b[f],d))return!1;return!0}p="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");f=0;for(l=p.length;f<l;f++)if(e=p[f],(e in a||
e in b)&&!(e in a&&e in b&&q(a[e],b[e],d)))return!1;return!0};a.walkCompare=q;E=function(a,b,d){return q(a,b,void 0,d)};a.areIdenticalExpressions=E;v=function(a,b){var d,e,f,l;d=b(a);if(void 0!==d)return d;if(null!==a){f=[n.isBoolean,n.isNumber,n.isString];d=0;for(e=f.length;d<e;d++)if(l=f[d],l(a))return;if(n.isArray(a))for(e=0,f=a.length;e<f;e++){if(d=a[e],d=v(d,b),void 0!==d)return d}else for(l="substitutions from to box term boundVariable termlist left right type name letter value".split(" "),
e=0,f=l.length;e<f;e++)if(d=l[e],d in a&&(d=v(a[d],b),void 0!==d))return d}};a.find=v;a.walkMutateFindOne=function(a,b,d){var e,f;e=void 0;f=function(a){var d,g;if(void 0!==e)return a;for(d in f)z.call(f,d)&&(g=f[d],b[d]=g);g=b(a)||{};d=g.newExpression;e=g.aResult;return void 0!==d?d:a};a=l(a,f,d);return{theResult:e,mutatedExpression:a}};B=function(a){var b,d,e,f;if(null===a)return a;f=["location","symbol","parent"];d=0;for(e=f.length;d<e;d++)b=f[d],b in a&&delete a[b];for(b in a)z.call(a,b)&&(d=
a[b],n.isFunction(d)&&delete a[b]);return a};a.delExtraneousProperties=function(a){return null==(null!=a?a.type:void 0)?a:w(a,B)};r=function(a){var b,d,e,f,l;if(null===a)return null;e=[n.isBoolean,n.isNumber,n.isString];b=0;for(d=e.length;b<d;b++)if(f=e[b],f(a))return a;if(n.isArray(a)){f=[];d=0;for(e=a.length;d<e;d++)b=a[d],f.push(r(b));return f}b={};l="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");e=0;for(f=l.length;e<f;e++)d=l[e],d in a&&(b[d]=
r(a[d]));return b};a.cloneExpression=r;u={not:"\u00ac","false":"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",existential_quantifier:"\u2203"};a.SYMBOLS=u;t=function(a,b){var d,e,f,q,p,t;null==b&&(b={});null!=b.symbols?b.replaceSymbols=!0:b.symbols=u;q=[n.isBoolean,n.isNumber,n.isString,n.isArray];d=0;for(e=q.length;d<e;d++)if(t=q[d],t(a))return""+a;p=0;d=b.replaceSymbols?r(a):n.cloneDeep(a);e=l(d,function(a){var d,
e,g,f,m,l,q,r;if(null===a)return"null";p+=1;l=[n.isBoolean,n.isNumber,n.isString];e=0;for(f=l.length;e<f;e++)if(t=l[e],t(a))return""+a;if(n.isArray(a))return a.join(",");if(null==(null!=a?a.type:void 0)&&void 0===a)return"[undefined]";if("variable"===(q=a.type)||"name"===q||"term_metavariable"===q)return a.substitutions?"{"+a.name+"["+a.substitutions+"]}":a.name;if("box"===a.type)return"["+a.term+"]";if("termlist"===a.type){g=[];r=0;for(m=a.length;r<m;r++)d=a[r],g.push(d.name);return g}if("substitution"===
a.type)return a.from+"--\x3e"+a.to;null!=a.box&&(d=a.box);a.substitutions&&(r="["+a.substitutions+"]");null!=a.termlist&&(e=a.name||a.symbol||b.symbols[a.type]||a.type,m=e+"("+a.termlist.join(",")+")");"identity"===a.type&&(e=a.symbol||"=",f=a.termlist,m=f[0],f=f[1],m=""+m+e+f);if("sentence_letter"===(g=a.type)||"expression_variable"===g)m=a.letter;"value"===a.type&&(m=""+((null!=a.symbol?a.symbol:void 0)||("false"===a.value||!1===a.value?b.symbols["false"]:void 0)||a.value));e=null!=a.right;f=g=
"";e&&(g="(",f=")");e=a.symbol||b.symbols[a.type]||"";b.wrapWithDivs&&(e="<span class='_symbolWrap' data-symbolNum='"+p+"'>"+e+"</span>");null!=a.boundVariable&&(m=a.boundVariable,m=""===b.symbols.universal_quantifier?"("+e+m+")"+g+a.left+(a.right||"")+f:""+e+m+" "+g+a.left+(a.right||"")+f);null!=a.left&&null==a.boundVariable&&(m=null==a.right?""+g+e+(a.left||"")+f:""+g+(a.left||"")+" "+e+" "+(a.right||"")+f);b.wrapWithDivs&&(m="<span class='_expressionWrap'>"+m+"</span>");return""+(d||"")+m+(r||
"")});d={remove_extra_whitespace:{from:/\s+/g,to:" "},remove_space_between_quantifiers:{from:/([\u2200\u2203].)\s+([\u2200\u2203].)/,to:"$1$2"},remove_space_between_quantifier_and_brackets:{from:/([\u2200\u2203].)\s+(\()/,to:"$1$2"},remove_outer_brackets:{from:/(^\s*\()([\s\S]*)(\)\s*$)/,to:"$2"}};if(""!==b.symbols.universal_quantifier)for(f in d)q=d[f],e=e.replace(q.from,q.to);return e.trim()};a.expressionToString=t;a.matchesToString=function(a){var b,d,e;if(!1===a)return"false";if(!a)return"[no]";
b="";for(d in a)z.call(a,d)&&(e=a[d],null!=(null!=e?e.type:void 0)&&(b=b+"\n\t"+d+" : "+t(e)));return b};a.exhaust=function(a,b,d){var e;null==d&&(d=E);for(e=null;!d(e,a);)e=a,a=b(r(e));return a};a.listOfAtomicExpressionsComparator=function(a,b){var d,e,f,l;if(a.length<b.length)return-1;if(a.length>b.length)return 1;e=d=0;for(l=a.length;d<l;e=++d)if(f=a[e],e=A(f,b[e]),0!==e)return e;return 0};A=function(a,b){var d,f;d=e(a.type,b.type);if(0!==d)return d;if("not"===a.type&&"not"!==b.type)return d=A(a.left,
b),0===d?1:d;if("not"!==a.type&&"not"===b.type)return d=A(a,b.left),0===d?-1:d;if("not"===a.type&&"not"===b.type)return A(a.left,b.left);if(null!=a.value)return a.value<b.value?-1:a.value>b.value?1:0;if(null!=a.letter)return a.letter<b.letter?-1:a.letter>b.letter?1:0;if(null!=a.name)return a.name<b.name?-1:a.name>b.name?1:0;if(null!=a.termlist)return d=D(a.termlist[0],a.termlist[1],G),f=D(b.termlist[0],b.termlist[1],G),G(d,f);throw Error("Could not do a comparison for "+JSON.stringify(a,null,4));
};a.atomicExpressionComparator=A;D=function(a,b,d){return 0<d(a,b)?b:a};G=function(a,b){var d;d=e(a.type,b.type);return 0!==d?d:a.name<b.name?-1:a.name>b.name?1:0};a.termComparator=G;e=function(a,b){var d;if("not"===a||"not"===b)return 0;d={value:5,sentence_letter:10,predicate:20,identity:30,name:50,variable:60};return d[a]<d[b]?-1:d[a]>d[b]?1:0};a.listTerms=function(a){var b;b=[];w(a,function(a){var e;if("variable"===(e=a.type)||"name"===e||"term_metavariable"===e)return b.push(a)});return b};a.listMetaVariableNames=
function(a){var b,d;b={inExpression:[],inBox:[],inSub:{left:[],right:[]}};d=function(a){var e;if(null==(null!=a?a.type:void 0)||"term_metavariable"!==a.type&&"expression_variable"!==a.type)return a;e=(null!=(null!=a?a.letter:void 0)?a.letter:void 0)||a.name;null!=d._inSub?null!=d._inSubLeft?b.inSub.left.push(e):b.inSub.right.push(e):null!=d._inBox?b.inBox.push(e):b.inExpression.push(e);return a};w(a,d);return b};a.expressionTypes="existential_quantifier universal_quantifier and or nand nor arrow double_arrow not value predicate identity expression_variable sentence_letter".split(" ");
a.termTypes=["name","variable","term_metavariable"];a.atomicSentenceTypes=["sentence_letter","expression_variable","identity","predicate"];a.expressionContainsSubstitutions=function(a){return!0===v(a,function(a){if(null!=(null!=a?a.substitutions:void 0))return!0})?!0:!1};a.expressionHasSub=function(a,b){var d,e,f,l;if(null==(null!=a?a.substitutions:void 0))return!1;l=a.substitutions;e=0;for(f=l.length;e<f;e++)if(d=l[e],E(d.from,b.from)&&E(d.to,b.to))return!0;return!1}},{lodash:9}]},{},[4]);
