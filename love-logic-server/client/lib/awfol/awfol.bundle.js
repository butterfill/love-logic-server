/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function e$$0(B,f,x){function F(e,t){if(!f[e]){if(!B[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(E)return E(e,!0);r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r;}r=f[e]={exports:{}};B[e][0].call(r.exports,function(t){var r=B[e][1][t];return F(r?r:t)},r,r.exports,e$$0,B,f,x)}return f[e].exports}for(var E="function"==typeof require&&require,e=0;e<x.length;e++)F(x[e]);return F})({1:[function(a,B,f){},{}],2:[function(a,B,f){(function(a){function F(a,
e){for(var q=0,n=a.length-1;0<=n;n--){var f=a[n];"."===f?a.splice(n,1):".."===f?(a.splice(n,1),q++):q&&(a.splice(n,1),q--)}if(e)for(;q--;q)a.unshift("..");return a}function E(a,e){if(a.filter)return a.filter(e);for(var f=[],n=0;n<a.length;n++)e(a[n],n,a)&&f.push(a[n]);return f}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;f.resolve=function(){for(var e="",r=!1,f=arguments.length-1;-1<=f&&!r;f--){var n=0<=f?arguments[f]:a.cwd();if("string"!==typeof n)throw new TypeError("Arguments to path.resolve must be strings");
n&&(e=n+"/"+e,r="/"===n.charAt(0))}e=F(E(e.split("/"),function(a){return!!a}),!r).join("/");return(r?"/":"")+e||"."};f.normalize=function(a){var e=f.isAbsolute(a),q="/"===M(a,-1);(a=F(E(a.split("/"),function(a){return!!a}),!e).join("/"))||e||(a=".");a&&q&&(a+="/");return(e?"/":"")+a};f.isAbsolute=function(a){return"/"===a.charAt(0)};f.join=function(){var a=Array.prototype.slice.call(arguments,0);return f.normalize(E(a,function(a,e){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");
return a}).join("/"))};f.relative=function(a,e){function q(a){for(var e=0;e<a.length&&""===a[e];e++);for(var b=a.length-1;0<=b&&""===a[b];b--);return e>b?[]:a.slice(e,b-e+1)}a=f.resolve(a).substr(1);e=f.resolve(e).substr(1);for(var n=q(a.split("/")),z=q(e.split("/")),y=Math.min(n.length,z.length),w=y,v=0;v<y;v++)if(n[v]!==z[v]){w=v;break}y=[];for(v=w;v<n.length;v++)y.push("..");y=y.concat(z.slice(w));return y.join("/")};f.sep="/";f.delimiter=":";f.dirname=function(a){var f=e.exec(a).slice(1);a=f[0];
f=f[1];if(!a&&!f)return".";f&&(f=f.substr(0,f.length-1));return a+f};f.basename=function(a,f){var q=e.exec(a).slice(1)[2];f&&q.substr(-1*f.length)===f&&(q=q.substr(0,q.length-f.length));return q};f.extname=function(a){return e.exec(a).slice(1)[3]};var M="b"==="ab".substr(-1)?function(a,e,f){return a.substr(e,f)}:function(a,e,f){0>e&&(e=a.length+e);return a.substr(e,f)}}).call(this,a("_process"))},{_process:3}],3:[function(a,B,f){function x(){t=!1;r.length?M=r.concat(M):q=-1;M.length&&F()}function F(){if(!t){var a=
setTimeout(x);t=!0;for(var e=M.length;e;){r=M;for(M=[];++q<e;)r&&r[q].run();q=-1;e=M.length}r=null;t=!1;clearTimeout(a)}}function E(a,e){this.fun=a;this.array=e}function e(){}a=B.exports={};var M=[],t=!1,r,q=-1;a.nextTick=function(a){var e=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)e[f-1]=arguments[f];M.push(new E(a,e));1!==M.length||t||setTimeout(F,0)};E.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=
[];a.version="";a.versions={};a.on=e;a.addListener=e;a.once=e;a.off=e;a.removeListener=e;a.removeAllListeners=e;a.emit=e;a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],4:[function(a,B,f){B="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};f=a("../fol");a=a("../proofs/proof");B.fol=f;B.proof=
a},{"../fol":7,"../proofs/proof":26}],5:[function(a,B,f){var x,F,E,e,M,t,r,q,n,z,y,w,v;x=a("lodash");v=a("../symbols");r={lpl:{available:!0,description:"The language and natural deduction proof system presented in Barker-Plummer, Barwise and Etchemndy\u2019s \u2018Language, Proof and Logic\u2019",textbook:"\u2018Language, Proof and Logic\u2019 by Barker-Plummer, Barwise & Etchemendy",versions:{"0.1":{symbols:"default",parser:"awFOL",rules:"fitch"}}},teller:{available:!0,description:"The language and natural deduction proof system presented in Teller\u2019s \u2018A Modern Formal Logic Primer\u2019 (1998)",
textbook:"\u2018A Modern Formal Logic Primer\u2019 by Teller",versions:{"0.1":{symbols:"teller",parser:"teller",rules:"teller"}}},copi:{available:!1,versions:{"0.1":{symbols:"copi",parser:"copi",rules:"copi"}}},forallx:{available:!0,description:"The language and natural deduction proof system presented in Magnus\u2019 \u2018forallx\u2019 (2014)",textbook:"\u2018forallx\u2019 Primer by Magnus",versions:{"0.1":{symbols:"forallx",parser:"forallx",rules:"forallx"}}},logicbook:{available:!0,description:"The language and natural deduction proof system presented in Bergmann, Moore and Nelson\u2019s \u2018The Logic Book\u2019 (2014)",
textbook:"\u2018The Logic Book\u2019 by Bergmann, Moore and Nelson",versions:{"0.1":{symbols:"logicbook",parser:"logicbookFOL",rules:"logicbook"}}}};M="lpl";t="0.1";f.set=function(a,e){var b;null!=a.version&&(e=a.version,a=a.name);M=a;b=r[a].versions;null==e&&(e=Math.max(x.keys(b)));t=e;b=b[e];w(b.symbols);z(b.parser);return y(b.rules)};f.getCurrentDialectNameAndVersion=function(){return{name:M,version:t}};f.getTextbookForDialect=function(a){null==a&&(a=M);return r[a].textbook};f.getAllDialectNamesAndDescriptions=
function(){var a,e,b,d,c,g;e=x.keys(r);g=[];b=0;for(c=e.length;b<c;b++)d=e[b],a=r[d],!0===a.available&&g.push({name:d,description:a.description,textbook:a.textbook});return g};f.listDialects=function(){return x.keys(r)};e="default";w=function(a){return e=a};f.setSymbols=w;f.getSymbols=function(a){return null==a?v[e]:v[a]};f.getSymbolsName=function(){return e};q={awFOL:a("../parser/awFOL"),copi:a("../parser/copiFOL"),teller:a("../parser/tellerFOL"),forallx:a("../parser/forallxFOL"),logicbookFOL:a("../parser/logicbookFOL")};
F=void 0;f.registerParser=function(a,e){return q[a]=e};f.getParser=function(a){if(!(a in q))throw Error("unknown parser "+a);return q[a]};f.getCurrentParser=function(){return q[F]};f.getCurrentParserName=function(){return F};z=function(a){if(!(a in q))throw Error("unknown parser \u2018"+a+"\u2019");return F=a};f.setCurrentParser=z;z("awFOL");n={};f.registerRuleSet=function(a,e){return n[a]=e};E="fitch";f.getCurrentRules=function(){return n[E]};f.getCurrentRulesName=function(){return E};y=function(a){return E=
a};f.setCurrentRules=y},{"../parser/awFOL":11,"../parser/copiFOL":12,"../parser/forallxFOL":13,"../parser/logicbookFOL":14,"../parser/tellerFOL":15,"../symbols":30,lodash:9}],6:[function(a,B,f){var x,F,E;F=a("lodash");E=a("./dialect_manager/dialectManager").getCurrentParser();x=function(a,f){this.world=f;F.isString(a)?this.sentence=E.parse(a):this.sentence=a;this.varStack={};return this};x.prototype.logSentence=function(){return console.log("sentence "+JSON.stringify(this.sentence,null,4))};x.prototype.evaluate=
function(a){var f,t,r,q,n;a=null!=a?a:this.sentence;if("value"===a.type)return a.value;if("and"===a.type)return this.evaluate(a.left)&&this.evaluate(a.right);if("nand"===a.type)return!(this.evaluate(a.left)&&this.evaluate(a.right));if("or"===a.type)return this.evaluate(a.left)||this.evaluate(a.right);if("nor"===a.type)return!(this.evaluate(a.left)||this.evaluate(a.right));if("not"===a.type)return!this.evaluate(a.left);if("arrow"===a.type)return!this.evaluate(a.left)||this.evaluate(a.right);if("double_arrow"===
a.type)return this.evaluate(a.left)===this.evaluate(a.right);if("sentence_letter"===a.type)return this.world[a.letter];if("predicate"===a.type||"identity"===a.type)return t=a,f="identity"===t.type?function(){var a,e,f,v;f=this.world.domain;v=[];a=0;for(e=f.length;a<e;a++)n=f[a],v.push([n,n]);return v}.call(this):this.world.predicates[t.name],t=this.instantiate_terms(t.termlist),f=F.where(f,t),0<f.length;if("existential_quantifier"===a.type||"universal_quantifier"===a.type)return f=a.boundVariable,
q=f.name,q in this.varStack||(this.varStack[q]=[]),r=this,"existential_quantifier"===a.type&&(t=F.some),"universal_quantifier"===a.type&&(t=F.all),t(this.world.domain,function(f){r.varStack[q].push(f);f=r.evaluate(a.left);r.varStack[q].pop();return f});throw Error("e (evaluate inner) could not evaluate sentence "+JSON.stringify(a,null,4));};x.prototype.instantiate_terms=function(a){var f,t,r,q;r=[];f=0;for(t=a.length;f<t;f++)if(q=a[f],"name"===q.type){if(!(q.name in this.world.names))throw Error("The name "+
q.name+" is not defined in this world.");r.push(this.world.names[q.name])}else if("variable"===q.type){if(!(q.name in this.varStack))throw Error("The variable "+q.name+" is not bound by any quantifier.");r.push(F.last(this.varStack[q.name]))}else throw Error("Encountered a term of unknown type: "+JSON.stringify(q,null,4));return r};f.evaluate=function(a,f){return(new x(a,f)).evaluate()}},{"./dialect_manager/dialectManager":5,lodash:9}],7:[function(a,B,f){var x,F,E,e,M,t,r,q,n;x=a("lodash");n=a("./util");
M=a("./match");q=a("./substitute");t=a("./normal_form");e=a("./evaluate");B=a("./symbols");E=a("./dialect_manager/dialectManager");r=function(a,e){var f;null==e&&(e=E.getCurrentParser());f=e.parse(a);return F(f)};f.parse=r;f.parseUsingSystemParser=function(a){var e;e=E.getParser("awFOL");return r(a,e)};f.symbols=B;f.getLanguageNames=n.getLanguageNames;f.getPredLanguageName=n.getPredLanguageName;f.setDialect=function(a,e){return E.set(a,e)};f.getAllDialectNamesAndDescriptions=function(){return E.getAllDialectNamesAndDescriptions()};
f.getCurrentDialectNameAndVersion=function(){return E.getCurrentDialectNameAndVersion()};f._dialectManager=E;f.getTextbookForDialect=function(a){return E.getTextbookForDialect(a)};F=function(a){n.walk(a,function(f){if(null!==f&&!(x.isArray(f)||x.isString(f)||x.isBoolean(f)||x.isNumber(f)))return f.walk=function(a){n.walk(f,a);return f},f.delExtraneousProperties=function(){return n.delExtraneousProperties(f)},f.isIdenticalTo=function(a){return n.areIdenticalExpressions(f,a)},f.clone=function(){var a;
a=n.cloneExpression(f);F(a);return a},f.toString=function(a){null==a&&(a={});!1!==a.replaceSymbols&&null==a.symbols&&(a.symbols=E.getSymbols());return n.expressionToString(f,a)},f.listMetaVariableNames=function(){return n.listMetaVariableNames(f)},f.findMatches=function(a,e,k){return M.find(f,a,e,k)},f.applyMatches=function(a){a=M.apply(f,a);F(a);return a},f.applySubstitutions=function(){var a;a=q.applySubstitutions(f);F(a);return a},f.containsSubstitutions=function(){var a;a=!1;f.walk(function(e){null!=
(null!=e?e.substitutions:void 0)&&(a=!0)});return a},f.getNames=function(){var a;a=[];f.walk(function(e){"name"===(null!=e?e.type:void 0)&&a.push(e.name)});return a},f.getPredicates=function(){var a;a=[];f.walk(function(e){"predicate"===(null!=e?e.type:void 0)&&a.push({name:e.name,arity:e.termlist.length})});return x.uniq(a,function(a){return a.name+"*&!"+a.arity})},f.getSentenceLetters=function(){var a;a=[];f.walk(function(e){"sentence_letter"===(null!=e?e.type:void 0)&&a.push(e.letter)});return a.sort()},
f.getFreeVariableNames=function(){var e,q,k,m;e=n.listTerms(f);q=x.uniq(function(){var a,d,c;c=[];a=0;for(d=e.length;a<d;a++)k=e[a],"variable"===k.type&&c.push(k.name);return c}());return function(){var b,d,c;c=[];b=0;for(d=q.length;b<d;b++)m=q[b],t.isVariableFree(m,a)&&c.push(m);return c}()},f.convertToPNFsimplifyAndSort=function(){var e;e=t.convertToPNFsimplifyAndSort(a);F(e);return e},f.isPNFExpressionEquivalent=function(a){return t.arePNFExpressionsEquivalent(f,a)},f.evaluate=function(a){return e.evaluate(f,
a)}});return a};f._decorate=F},{"./dialect_manager/dialectManager":5,"./evaluate":6,"./match":8,"./normal_form":10,"./substitute":29,"./symbols":30,"./util":31,lodash:9}],8:[function(a,B,f){var x,F,E,e,M,t,r,q,n,z,y,w,v,k,m=[].indexOf||function(a){for(var d=0,c=this.length;d<c;d++)if(d in this&&this[d]===a)return d;return-1};x=a("lodash");k=a("./util");f.find=function(a,d,c){null==c&&(c={});null==c&&(c={});return w(d,function(d){var e,f;d=v(a,d,c);if(!1!==d){for(e in d)f=d[e],d[e]=k.cloneExpression(f);
return d}})||!1};v=function(a,d,c){var e;null==c&&(c={});e=function(a,b){var d,f,p;if(null!=(null!=b?b.type:void 0)&&("expression_variable"===(d=b.type)||"term_metavariable"===d||"term_metavariable_hat"===d)){"expression_variable"===b.type&&(p=b.letter);if("term_metavariable"===(f=b.type)||"term_metavariable_hat"===f)p=b.name;if(p in c)return k.areIdenticalExpressions(a,c[p]);c=x.clone(c);if("term_metavariable_hat"===b.type&&"name_hat"!==a.type)return!1;c[p]=a;return null!=b.box?(d=k.cloneExpression(a),
delete d.box,c[p]=d,null==a.box?!1:k.walkCompare(a.box,b.box,e)):c}};return k.walkCompare(a,d,e)?c:!1};f.findWithoutApplyingSubs=v;w=function(a,d){var c;if(!k.expressionContainsSubstitutions(a))return d(a);c=k.cloneExpression(a);c=n(c);return t(c,d)};f.doAfterApplyingSubstitutions=w;t=function(a,d){var c,e,f,C,l,A;c=M(a);if(f=!k.expressionContainsSubstitutions(c))if(A=d(c))return A;C=y(a);l=!k.expressionContainsSubstitutions(C);e=!k.areIdenticalExpressions(c,C);if(l&&e&&(A=d(C))||!f&&(A=t(c,d))||
!l&&e&&(A=t(C,d)))return A};M=function(a){var d;d=k.cloneExpression(a);return k.walkMutateFindOne(d,function(a){var b,e;if(null!=(null!=a?a.substitutions:void 0)){a=k.cloneExpression(a);e=z(a);if(null==e)return{newExpression:d,aResult:void 0};r(a,e)&&(b=k.cloneExpression(e.to),null!=a.substitutions&&(b.substitutions=a.substitutions),null!=a.box&&(b.box=a.box),a=b);return{newExpression:a,aResult:e}}}).mutatedExpression};r=function(a,d){return a.type!==d.from.type?!1:null!=a.name&&null!=d.from.name&&
a.name===d.from.name||null!=a.letter&&null!=d.from.letter&&a.letter===d.from.letter?!0:!1};y=function(a){a=k.cloneExpression(a);return k.walkMutateFindOne(a,function(a){var c;if(null!=(null!=a?a.substitutions:void 0))return a=k.cloneExpression(a),c=z(a),{newExpression:a,aResult:c}}).mutatedExpression};n=function(a){a=k.cloneExpression(a);return k.walkMutate(a,function(a){var c;if(null==(null!=a?a.substitutions:void 0)||null!=(null!=a?a.type:void 0)&&("name"===(c=a.type)||"variable"===c||"term_metavariable"===
c))return a;for(c=z(a);c;)a=q(c)?E(a,c):F(a,c),c=z(a);return a})};f._moveAllSubsInwards=n;z=function(a){var d;if(null!=a.substitutions){for(d=a.substitutions.shift();0<a.substitutions.length&&k.areIdenticalExpressions(d.from,d.to);)d=a.substitutions.shift();if(k.areIdenticalExpressions(d.from,d.to))delete a.substitutions;else return 0===a.substitutions.length&&delete a.substitutions,d}};q=function(a){var d;return(d=a.from.type,0<=m.call(k.termTypes,d))?!0:!1};E=function(a,d){return e(a,d,k.termTypes)};
f._addSubToEveryTerm=E;F=function(a,d){return e(a,d,["sentence_letter","expression_variable"])};f._addSubToEverySentence=F;e=function(a,d,c){var e,f;f=function(a){var b;if(null==(null!=a?a.type:void 0)||!(b=a.type,0<=m.call(c,b))||f._inSub)return a;a.substitutions&&!k.expressionHasSub(a,e)?a.substitutions.push(e):a.substitutions=[e];return a};a=k.cloneExpression(a);e=k.cloneExpression(d);return a=k.walkMutate(a,f)};f.apply=function(a,d,c){var e;null==c&&(c={});e=function(a){var c,b,e;if(null==(null!=
a?a.type:void 0)||"expression_variable"!==(c=a.type)&&"term_metavariable"!==c&&"term_metavariable_hat"!==c)return a;"expression_variable"===a.type&&(e=a.letter);if("term_metavariable"===(b=a.type)||"term_metavariable_hat"===b)e=a.name;if(!(e in d))return a;c=k.cloneExpression(d[e]);null!=a.substitutions&&(c.substitutions=a.substitutions);null!=a.box&&(c.box=a.box);return c};if(c.noClone)return k.walkMutate(a,e);a=k.cloneExpression(a);return k.walkMutate(a,e)}},{"./util":31,lodash:9}],9:[function(a,
B,f){(function(a){(function(){function F(a,c){if(a!==c){var b=null===a,d=a===l,e=a===a,p=null===c,g=c===l,f=c===c;if(a>c&&!p||!e||b&&!g&&f||d&&f)return 1;if(a<c&&!b||!f||p&&!d&&e||g&&e)return-1}return 0}function E(a,c,b){for(var d=a.length,e=b?d:-1;b?e--:++e<d;)if(c(a[e],e,a))return e;return-1}function e(a,c,b){if(c!==c)return k(a,b);--b;for(var d=a.length;++b<d;)if(a[b]===c)return b;return-1}function M(a){return"function"==typeof a||!1}function t(a){return null==a?"":a+""}function r(a,c){for(var b=
-1,d=a.length;++b<d&&-1<c.indexOf(a.charAt(b)););return b}function q(a,c){for(var b=a.length;b--&&-1<c.indexOf(a.charAt(b)););return b}function n(a,c){return F(a.criteria,c.criteria)||a.index-c.index}function z(a){return Aa[a]}function y(a){return Ja[a]}function w(a,c,b){c?a=sb[a]:b&&(a=Qa[a]);return"\\"+a}function v(a){return"\\"+Qa[a]}function k(a,c,b){var d=a.length;for(c+=b?0:-1;b?c--:++c<d;){var e=a[c];if(e!==e)return c}return-1}function m(a){return!!a&&"object"==typeof a}function b(a){return 160>=
a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function d(a,c){for(var b=-1,d=a.length,e=-1,p=[];++b<d;)a[b]===c&&(a[b]="__lodash_placeholder__",p[++e]=b);return p}function c(a){for(var c=-1,d=a.length;++c<d&&b(a.charCodeAt(c)););return c}function g(a){for(var c=a.length;c--&&b(a.charCodeAt(c)););return c}function H(a){return Ka[a]}function C(a){function b(h){if(m(h)&&!N(h)&&!(h instanceof B)){if(h instanceof x)return h;
if(X.call(h,"__chain__")&&X.call(h,"__wrapped__"))return dc(h)}return new x(h)}function f(){}function x(h,u,a){this.__wrapped__=h;this.__actions__=a||[];this.__chain__=!!u}function B(h){this.__wrapped__=h;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=Za;this.__views__=[]}function Aa(){this.__data__={}}function Ja(h){var u=h?h.length:0;for(this.data={hash:$a(null),set:new ab};u--;)this.push(h[u])}function Ka(h,u){var a=h.data;return("string"==typeof u||
S(u)?a.set.has(u):a.hash[u])?0:-1}function da(h,u){var a=-1,b=h.length;for(u||(u=T(b));++a<b;)u[a]=h[a];return u}function ka(h,u){for(var a=-1,b=h.length;++a<b&&!1!==u(h[a],a,h););return h}function ra(h,u){for(var a=-1,b=h.length;++a<b;)if(!u(h[a],a,h))return!1;return!0}function ua(h,u){for(var a=-1,b=h.length,c=-1,d=[];++a<b;){var e=h[a];u(e,a,h)&&(d[++c]=e)}return d}function La(h,u){for(var a=-1,b=h.length,c=T(b);++a<b;)c[a]=u(h[a],a,h);return c}function na(h,u){for(var a=-1,b=u.length,c=h.length;++a<
b;)h[c+a]=u[a];return h}function Qa(h,u,a,b){var c=-1,d=h.length;for(b&&d&&(a=h[++c]);++c<d;)a=u(a,h[c],c,h);return a}function ec(h,u){for(var a=-1,b=h.length;++a<b;)if(u(h[a],a,h))return!0;return!1}function fc(h,u,a,b){return h!==l&&X.call(b,a)?h:u}function tb(h,u,a){for(var b=-1,c=ca(u),d=c.length;++b<d;){var e=c[b],p=h[e],g=a(p,u[e],e,h,u);(g===g?g===p:p!==p)&&(p!==l||e in h)||(h[e]=g)}return h}function Ra(h,u){return null==u?h:gc(u,ca(u),h)}function hc(h,u){for(var a=-1,b=null==h,c=!b&&aa(h),
d=c?h.length:0,e=u.length,p=T(e);++a<e;){var g=u[a];p[a]=c?va(g,d)?h[g]:l:b?l:h[g]}return p}function gc(h,u,a){a||(a={});for(var b=-1,c=u.length;++b<c;){var d=u[b];a[d]=h[d]}return a}function bb(h,u,a){var b=typeof h;return"function"==b?u===l?h:ga(h,u,a):null==h?Ba:"object"==b?Sa(h):u===l?cb(h):ic(h,u)}function Ca(h,u,a,b,c,d,e){var p;a&&(p=c?a(h,b,c):a(h));if(p!==l)return p;if(!S(h))return h;if(b=N(h)){if(p=Td(h),!u)return da(h,p)}else{var g=ha.call(h),f="[object Function]"==g;if("[object Object]"==
g||"[object Arguments]"==g||f&&!c){if(p=Ud(f?{}:h),!u)return Ra(p,h)}else return U[g]?Vd(h,g,u):c?h:{}}d||(d=[]);e||(e=[]);for(c=d.length;c--;)if(d[c]==h)return e[c];d.push(h);e.push(p);(b?ka:sa)(h,function(b,c){p[c]=Ca(b,u,a,c,h,d,e)});return p}function jc(h,u,a){if("function"!=typeof h)throw new ia("Expected a function");return db(function(){h.apply(l,a)},u)}function Ta(h,u){var a=h?h.length:0,b=[];if(!a)return b;var c=-1,d=Ma(),p=d==e,g=p&&200<=u.length?$a&&ab?new Ja(u):null:null,f=u.length;g&&
(d=Ka,p=!1,u=g);a:for(;++c<a;)if(g=h[c],p&&g===g){for(var l=f;l--;)if(u[l]===g)continue a;b.push(g)}else 0>d(u,g,0)&&b.push(g);return b}function sb(h,u){var a=!0;la(h,function(h,b,c){return a=!!u(h,b,c)});return a}function bc(h,u,a,b){var c=b,d=c;la(h,function(h,e,p){e=+u(h,e,p);if(a(e,c)||e===b&&e===d)c=e,d=h});return d}function kc(h,u){var a=[];la(h,function(h,b,c){u(h,b,c)&&a.push(h)});return a}function lc(h,u,a,b){var c;a(h,function(h,a,oa){if(u(h,a,oa))return c=b?a:h,!1});return c}function ea(h,
u,a,b){b||(b=[]);for(var c=-1,d=h.length;++c<d;){var e=h[c];m(e)&&aa(e)&&(a||N(e)||ta(e))?u?ea(e,u,a,b):na(b,e):a||(b[b.length]=e)}return b}function mc(h,u){return ub(h,u,wa)}function sa(h,u){return ub(h,u,ca)}function vb(h,u){return nc(h,u,ca)}function wb(h,u){for(var a=-1,b=u.length,c=-1,d=[];++a<b;){var e=u[a];Da(h[e])&&(d[++c]=e)}return d}function Ea(h,u,a){if(null!=h){a!==l&&a in ma(h)&&(u=[a]);a=0;for(var b=u.length;null!=h&&a<b;)h=h[u[a++]];return a&&a==b?h:l}}function eb(h,u,a,b,c,d){if(h===
u)return!0;if(null==h||null==u||!S(h)&&!m(u))return h!==h&&u!==u;a:{var e=eb,p=N(h),g=N(u),f="[object Array]",l="[object Array]";p||(f=ha.call(h),"[object Arguments]"==f?f="[object Object]":"[object Object]"!=f&&(p=Na(h)));g||(l=ha.call(u),"[object Arguments]"==l?l="[object Object]":"[object Object]"!=l&&Na(u));var D="[object Object]"==f,g="[object Object]"==l,l=f==l;if(!l||p||D){if(!b&&(f=D&&X.call(h,"__wrapped__"),g=g&&X.call(u,"__wrapped__"),f||g)){h=e(f?h.value():h,g?u.value():u,a,b,c,d);break a}if(l){c||
(c=[]);d||(d=[]);for(f=c.length;f--;)if(c[f]==h){h=d[f]==u;break a}c.push(h);d.push(u);h=(p?Wd:Xd)(h,u,e,a,b,c,d);c.pop();d.pop()}else h=!1}else h=Yd(h,u,f)}return h}function oc(h,u,a){var b=u.length,c=b,d=!a;if(null==h)return!c;for(h=ma(h);b--;){var e=u[b];if(d&&e[2]?e[1]!==h[e[0]]:!(e[0]in h))return!1}for(;++b<c;){var e=u[b],p=e[0],g=h[p],f=e[1];if(d&&e[2]){if(g===l&&!(p in h))return!1}else if(e=a?a(g,f,p):l,e===l?!eb(f,g,a,!0):!e)return!1}return!0}function xb(h,u){var a=-1,b=aa(h)?T(h.length):
[];la(h,function(h,c,d){b[++a]=u(h,c,d)});return b}function Sa(h){var u=pc(h);if(1==u.length&&u[0][2]){var a=u[0][0],b=u[0][1];return function(h){return null==h?!1:h[a]===b&&(b!==l||a in ma(h))}}return function(h){return oc(h,u)}}function ic(h,u){var a=N(h),b=Fa(h)&&u===u&&!S(u),c=h+"";h=xa(h);return function(d){if(null==d)return!1;var e=c;d=ma(d);if(!(!a&&b||e in d)){d=1==h.length?d:Ea(d,ja(h,0,-1));if(null==d)return!1;e=Ua(h);d=ma(d)}return d[e]===u?u!==l||e in d:eb(u,d[e],l,!0)}}function qc(h,
u,a,b,c){if(!S(h))return h;var d=aa(u)&&(N(u)||Na(u)),e=d?l:ca(u);ka(e||u,function(p,g){e&&(g=p,p=u[g]);if(m(p)){b||(b=[]);c||(c=[]);a:{for(var f=g,D=b,I=c,J=D.length,G=u[f];J--;)if(D[J]==G){h[f]=I[J];break a}var J=h[f],K=a?a(J,G,f,h,u):l,H=K===l;H&&(K=G,aa(G)&&(N(G)||Na(G))?K=N(J)?J:aa(J)?da(J):[]:fb(G)||ta(G)?K=ta(J)?rc(J):fb(J)?J:{}:H=!1);D.push(G);I.push(K);if(H)h[f]=qc(K,G,a,D,I);else if(K===K?K!==J:J===J)h[f]=K}}else f=h[g],D=a?a(f,p,g,h,u):l,(I=D===l)&&(D=p),D===l&&(!d||g in h)||!I&&(D===D?
D===f:f!==f)||(h[g]=D)});return h}function yb(h){return function(u){return null==u?l:u[h]}}function cc(h){var u=h+"";h=xa(h);return function(a){return Ea(a,h,u)}}function sc(h,u){for(var a=h?u.length:0;a--;){var b=u[a];if(b!=c&&va(b)){var c=b;tc.call(h,b,1)}}return h}function zb(h,u){return h+Ga(uc()*(u-h+1))}function Zd(h,u,a,b,c){c(h,function(h,c,d){a=b?(b=!1,h):u(a,h,c,d)});return a}function ja(h,u,a){var b=-1,c=h.length;u=null==u?0:+u||0;0>u&&(u=-u>c?0:c+u);a=a===l||a>c?c:+a||0;0>a&&(a+=c);c=
u>a?0:a-u>>>0;u>>>=0;for(a=T(c);++b<c;)a[b]=h[b+u];return a}function $d(h,u){var a;la(h,function(h,b,c){a=u(h,b,c);return!a});return!!a}function vc(h,u){var a=h.length;for(h.sort(u);a--;)h[a]=h[a].value;return h}function wc(h,u,a){var b=R(),c=-1;u=La(u,function(h){return b(h)});h=xb(h,function(h){return{criteria:La(u,function(u){return u(h)}),index:++c,value:h}});return vc(h,function(h,u){var b;a:{for(var c=-1,d=h.criteria,e=u.criteria,Sd=d.length,p=a.length;++c<Sd;)if(b=F(d[c],e[c])){if(c>=p)break a;
c=a[c];b*="asc"===c||!0===c?1:-1;break a}b=h.index-u.index}return b})}function ae(h,u){var a=0;la(h,function(h,b,c){a+=+u(h,b,c)||0});return a}function Ab(h,u){var a=-1,b=Ma(),c=h.length,d=b==e,p=d&&200<=c,g=p?$a&&ab?new Ja(void 0):null:null,f=[];g?(b=Ka,d=!1):(p=!1,g=u?[]:f);a:for(;++a<c;){var l=h[a],D=u?u(l,a,h):l;if(d&&l===l){for(var J=g.length;J--;)if(g[J]===D)continue a;u&&g.push(D);f.push(l)}else 0>b(g,D,0)&&((u||p)&&g.push(D),f.push(l))}return f}function Bb(h,u){for(var a=-1,b=u.length,c=T(b);++a<
b;)c[a]=h[u[a]];return c}function gb(h,u,a,b){for(var c=h.length,d=b?c:-1;(b?d--:++d<c)&&u(h[d],d,h););return a?ja(h,b?0:d,b?d+1:c):ja(h,b?d+1:0,b?c:d)}function xc(h,u){var a=h;a instanceof B&&(a=a.value());for(var b=-1,c=u.length;++b<c;)var d=u[b],a=d.func.apply(d.thisArg,na([a],d.args));return a}function Cb(h,u,a){var b=0,c=h?h.length:b;if("number"==typeof u&&u===u&&2147483647>=c){for(;b<c;){var d=b+c>>>1,e=h[d];(a?e<=u:e<u)&&null!==e?b=d+1:c=d}return c}return yc(h,u,Ba,a)}function yc(h,u,a,b){u=
a(u);for(var c=0,d=h?h.length:0,e=u!==u,p=null===u,g=u===l;c<d;){var f=Ga((c+d)/2),D=a(h[f]),J=D!==l,I=D===D;(e?I||b:p?I&&J&&(b||null!=D):g?I&&(b||J):null==D?0:b?D<=u:D<u)?c=f+1:d=f}return fa(d,4294967294)}function ga(h,u,a){if("function"!=typeof h)return Ba;if(u===l)return h;switch(a){case 1:return function(a){return h.call(u,a)};case 3:return function(a,b,c){return h.call(u,a,b,c)};case 4:return function(a,b,c,oa){return h.call(u,a,b,c,oa)};case 5:return function(a,b,c,oa,d){return h.call(u,a,b,
c,oa,d)}}return function(){return h.apply(u,arguments)}}function zc(h){var u=new be(h.byteLength);(new Ac(u)).set(new Ac(h));return u}function Bc(h,u,a){for(var b=a.length,c=-1,d=ba(h.length-b,0),e=-1,p=u.length,g=T(p+d);++e<p;)g[e]=u[e];for(;++c<b;)g[a[c]]=h[c];for(;d--;)g[e++]=h[c++];return g}function Cc(h,u,a){for(var b=-1,c=a.length,d=-1,e=ba(h.length-c,0),p=-1,g=u.length,f=T(e+g);++d<e;)f[d]=h[d];for(e=d;++p<g;)f[e+p]=u[p];for(;++b<c;)f[e+a[b]]=h[d++];return f}function hb(h,u){return function(a,
b,c){var d=u?u():{};b=R(b,c,3);if(N(a)){c=-1;for(var e=a.length;++c<e;){var p=a[c];h(d,p,b(p,c,a),a)}}else la(a,function(u,a,c){h(d,u,b(u,a,c),c)});return d}}function Dc(h){return Q(function(u,a){var b=-1,c=null==u?0:a.length,d=2<c?a[c-2]:l,e=2<c?a[2]:l,p=1<c?a[c-1]:l;"function"==typeof d?(d=ga(d,p,5),c-=2):(d="function"==typeof p?p:l,c-=d?1:0);e&&O(a[0],a[1],e)&&(d=3>c?l:d,c=1);for(;++b<c;)(e=a[b])&&h(u,e,d);return u})}function Ec(h,a){return function(b,c){var d=b?Va(b):0;if(!pa(d))return h(b,c);
for(var e=a?d:-1,p=ma(b);(a?e--:++e<d)&&!1!==c(p[e],e,p););return b}}function Fc(h){return function(a,b,c){var d=ma(a);c=c(a);for(var e=c.length,p=h?e:-1;h?p--:++p<e;){var g=c[p];if(!1===b(d[g],g,d))break}return a}}function ce(h,a){function b(){return(this&&this!==qa&&this instanceof b?c:h).apply(a,arguments)}var c=ib(h);return b}function jb(h){return function(a){var b=-1;a=Gc(Hc(a));for(var c=a.length,d="";++b<c;)d=h(d,a[b],b);return d}}function ib(h){return function(){var a=arguments;switch(a.length){case 0:return new h;
case 1:return new h(a[0]);case 2:return new h(a[0],a[1]);case 3:return new h(a[0],a[1],a[2]);case 4:return new h(a[0],a[1],a[2],a[3]);case 5:return new h(a[0],a[1],a[2],a[3],a[4]);case 6:return new h(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new h(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var b=Wa(h.prototype),a=h.apply(b,a);return S(a)?a:b}}function Ic(h){function a(b,c,d){d&&O(b,c,d)&&(c=l);b=ya(b,h,l,l,l,l,l,c);b.placeholder=a.placeholder;return b}return a}function Jc(h,a){return Q(function(b){var c=
b[0];if(null==c)return c;b.push(a);return h.apply(l,b)})}function Kc(h,a){return function(b,c,d){d&&O(b,c,d)&&(c=l);c=R(c,d,3);if(1==c.length){d=b=N(b)?b:Db(b);for(var e=c,p=-1,g=d.length,f=a,D=f;++p<g;){var J=d[p],I=+e(J);h(I,f)&&(f=I,D=J)}d=D;if(!b.length||d!==a)return d}return bc(b,c,h,a)}}function Lc(h,a){return function(b,c,d){c=R(c,d,3);return N(b)?(c=E(b,c,a),-1<c?b[c]:l):lc(b,c,h)}}function Mc(h){return function(a,b,c){if(!a||!a.length)return-1;b=R(b,c,3);return E(a,b,h)}}function Nc(h){return function(a,
b,c){b=R(b,c,3);return lc(a,b,h,!0)}}function Oc(h){return function(){for(var a,b=arguments.length,c=h?b:-1,d=0,e=T(b);h?c--:++c<b;){var p=e[d++]=arguments[c];if("function"!=typeof p)throw new ia("Expected a function");!a&&x.prototype.thru&&"wrapper"==kb(p)&&(a=new x([],!0))}for(c=a?-1:b;++c<b;){var p=e[c],d=kb(p),g="wrapper"==d?Eb(p):l;a=g&&Fb(g[0])&&424==g[1]&&!g[4].length&&1==g[9]?a[kb(g[0])].apply(a,g[3]):1==p.length&&Fb(p)?a[d]():a.thru(p)}return function(){var h=arguments,c=h[0];if(a&&1==h.length&&
N(c)&&200<=c.length)return a.plant(c).value();for(var d=0,h=b?e[d].apply(this,h):c;++d<b;)h=e[d].call(this,h);return h}}}function Pc(h,a){return function(b,c,d){return"function"==typeof c&&d===l&&N(b)?h(b,c):a(b,ga(c,d,3))}}function Qc(h){return function(a,b,c){if("function"!=typeof b||c!==l)b=ga(b,c,3);return h(a,b,wa)}}function Rc(h){return function(a,b,c){if("function"!=typeof b||c!==l)b=ga(b,c,3);return h(a,b)}}function Sc(h){return function(a,b,c){var d={};b=R(b,c,3);sa(a,function(a,u,c){c=b(a,
u,c);u=h?c:u;a=h?a:c;d[u]=a});return d}}function Tc(h){return function(a,b,c){a=t(a);return(h?a:"")+Uc(a,b,c)+(h?"":a)}}function Vc(h){var a=Q(function(b,c){var e=d(c,a.placeholder);return ya(b,h,l,c,e)});return a}function Wc(h,a){return function(b,c,d,e){var p=3>arguments.length;return"function"==typeof c&&e===l&&N(b)?h(b,c,d,p):Zd(b,R(c,e,4),d,p,a)}}function Gb(h,a,b,c,e,p,g,f,D,J){function I(){for(var m=arguments.length,P=m,n=T(m);P--;)n[P]=arguments[P];c&&(n=Bc(n,c,e));p&&(n=Cc(n,p,g));if(L||
C){var P=I.placeholder,q=d(n,P),m=m-q.length;if(m<J){var v=f?da(f):l,m=ba(J-m,0),r=L?q:l,q=L?l:q,t=L?n:l,n=L?l:n;a|=L?32:64;a&=~(L?64:32);k||(a&=-4);n=[h,a,b,t,r,n,q,v,D,m];v=Gb.apply(l,n);Fb(h)&&Xc(v,n);v.placeholder=P;return v}}P=K?b:this;v=H?P[h]:h;if(f)for(m=n.length,r=fa(f.length,m),q=da(n);r--;)t=f[r],n[r]=va(t,m)?q[t]:l;G&&D<n.length&&(n.length=D);this&&this!==qa&&this instanceof I&&(v=A||ib(h));return v.apply(P,n)}var G=a&128,K=a&1,H=a&2,L=a&8,k=a&4,C=a&16,A=H?l:ib(h);return I}function Uc(h,
a,b){h=h.length;a=+a;if(h>=a||!Oa(a))return"";a-=h;b=null==b?" ":b+"";return Yc(b,lb(a/b.length)).slice(0,a)}function de(h,a,b,c){function d(){for(var a=-1,u=arguments.length,g=-1,f=c.length,l=T(f+u);++g<f;)l[g]=c[g];for(;u--;)l[g++]=arguments[++a];return(this&&this!==qa&&this instanceof d?p:h).apply(e?b:this,l)}var e=a&1,p=ib(h);return d}function Hb(h){var a=Ha[h];return function(h,b){return(b=b===l?0:+b||0)?(b=ee(10,b),a(h*b)/b):a(h)}}function Zc(h){return function(a,b,c,d){var e=R(c);return null==
c&&e===bb?Cb(a,b,h):yc(a,b,e(c,d,1),h)}}function ya(h,a,b,c,e,p,g,f){var D=a&2;if(!D&&"function"!=typeof h)throw new ia("Expected a function");var J=c?c.length:0;J||(a&=-97,c=e=l);J-=e?e.length:0;if(a&64){var I=c,G=e;c=e=l}var K=D?l:Eb(h);b=[h,a,b,c,e,I,G,p,g,f];if(K){c=b[1];a=K[1];f=c|a;e=128==a&&8==c||128==a&&256==c&&b[7].length<=K[8]||384==a&&8==c;if(128>f||e){a&1&&(b[2]=K[2],f|=c&1?0:4);if(c=K[3])e=b[3],b[3]=e?Bc(e,c,K[4]):da(c),b[4]=e?d(b[3],"__lodash_placeholder__"):da(K[4]);if(c=K[5])e=b[5],
b[5]=e?Cc(e,c,K[6]):da(c),b[6]=e?d(b[5],"__lodash_placeholder__"):da(K[6]);(c=K[7])&&(b[7]=da(c));a&128&&(b[8]=null==b[8]?K[8]:fa(b[8],K[8]));null==b[9]&&(b[9]=K[9]);b[0]=K[0];b[1]=f}a=b[1];f=b[9]}b[9]=null==f?D?0:h.length:ba(f-J,0)||0;h=1==a?ce(b[0],b[2]):32!=a&&33!=a||b[4].length?Gb.apply(l,b):de.apply(l,b);return(K?$c:Xc)(h,b)}function Wd(h,a,b,c,d,e,p){var g=-1,f=h.length,D=a.length;if(f!=D&&!(d&&D>f))return!1;for(;++g<f;){var J=h[g],D=a[g],I=c?c(d?D:J,d?J:D,g):l;if(I!==l){if(I)continue;return!1}if(d){if(!ec(a,
function(h){return J===h||b(J,h,c,d,e,p)}))return!1}else if(J!==D&&!b(J,D,c,d,e,p))return!1}return!0}function Yd(h,a,b){switch(b){case "[object Boolean]":case "[object Date]":return+h==+a;case "[object Error]":return h.name==a.name&&h.message==a.message;case "[object Number]":return h!=+h?a!=+a:h==+a;case "[object RegExp]":case "[object String]":return h==a+""}return!1}function Xd(h,a,b,c,d,e,p){var g=ca(h),f=g.length,D=ca(a).length;if(f!=D&&!d)return!1;for(D=f;D--;){var J=g[D];if(!(d?J in a:X.call(a,
J)))return!1}for(var I=d;++D<f;){var J=g[D],K=h[J],G=a[J],H=c?c(d?G:K,d?K:G,J):l;if(H===l?!b(K,G,c,d,e,p):!H)return!1;I||(I="constructor"==J)}return I||(b=h.constructor,c=a.constructor,!(b!=c&&"constructor"in h&&"constructor"in a)||"function"==typeof b&&b instanceof b&&"function"==typeof c&&c instanceof c)?!0:!1}function R(h,a,c){var d=b.callback||mb,d=d===mb?bb:d;return c?d(h,a,c):d}function kb(h){for(var a=h.name,b=nb[a],c=b?b.length:0;c--;){var d=b[c],e=d.func;if(null==e||e==h)return d.name}return a}
function Ma(h,a,c){var d=b.indexOf||Ib,d=d===Ib?e:d;return h?d(h,a,c):d}function pc(h){h=ad(h);for(var a=h.length;a--;){var b=h[a],c;c=h[a][1];c=c===c&&!S(c);b[2]=c}return h}function Pa(h,a){var b=null==h?l:h[a];return bd(b)?b:l}function Td(h){var a=h.length,b=new h.constructor(a);a&&"string"==typeof h[0]&&X.call(h,"index")&&(b.index=h.index,b.input=h.input);return b}function Ud(h){h=h.constructor;"function"==typeof h&&h instanceof h||(h=Ia);return new h}function Vd(h,a,b){var c=h.constructor;switch(a){case "[object ArrayBuffer]":return zc(h);
case "[object Boolean]":case "[object Date]":return new c(+h);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return a=h.buffer,new c(b?zc(a):a,h.byteOffset,h.length);case "[object Number]":case "[object String]":return new c(h);case "[object RegExp]":var d=new c(h.source,cd.exec(h));d.lastIndex=
h.lastIndex}return d}function Jb(h,a,b){null==h||Fa(a,h)||(a=xa(a),h=1==a.length?h:Ea(h,ja(a,0,-1)),a=Ua(a));a=null==h?h:h[a];return null==a?l:a.apply(h,b)}function aa(h){return null!=h&&pa(Va(h))}function va(h,a){h="number"==typeof h||fe.test(h)?+h:-1;return-1<h&&0==h%1&&h<(null==a?9007199254740991:a)}function O(h,a,b){if(!S(b))return!1;var c=typeof a;return("number"==c?aa(b)&&va(a,b.length):"string"==c&&a in b)?(a=b[a],h===h?h===a:a!==a):!1}function Fa(h,a){var b=typeof h;return"string"==b&&K.test(h)||
"number"==b?!0:N(h)?!1:!J.test(h)||null!=a&&h in ma(a)}function Fb(h){var a=kb(h);if(!(a in B.prototype))return!1;a=b[a];if(h===a)return!0;a=Eb(a);return!!a&&h===a[0]}function pa(h){return"number"==typeof h&&-1<h&&0==h%1&&9007199254740991>=h}function dd(h,a){return h===l?a:Kb(h,a,dd)}function ed(h,a){h=ma(h);for(var b=-1,c=a.length,d={};++b<c;){var e=a[b];e in h&&(d[e]=h[e])}return d}function fd(h,a){var b={};mc(h,function(h,c,d){a(h,c,d)&&(b[c]=h)});return b}function gd(h){for(var a=wa(h),b=a.length,
c=b&&h.length,d=!!c&&pa(c)&&(N(h)||ta(h)),e=-1,p=[];++e<b;){var g=a[e];(d&&va(g,c)||X.call(h,g))&&p.push(g)}return p}function Db(h){return null==h?[]:aa(h)?S(h)?h:Ia(h):ob(h)}function ma(h){return S(h)?h:Ia(h)}function xa(h){if(N(h))return h;var a=[];t(h).replace(D,function(h,b,c,d){a.push(c?d.replace(ge,"$1"):b||h)});return a}function dc(h){return h instanceof B?h.clone():new x(h.__wrapped__,h.__chain__,da(h.__actions__))}function hd(h,a,b){if(!h||!h.length)return[];if(b?O(h,a,b):null==a)a=1;return ja(h,
0>a?0:a)}function id(h,a,b){var c=h?h.length:0;if(!c)return[];if(b?O(h,a,b):null==a)a=1;a=c-(+a||0);return ja(h,0,0>a?0:a)}function jd(h){return h?h[0]:l}function Ib(h,a,b){var c=h?h.length:0;if(!c)return-1;if("number"==typeof b)b=0>b?ba(c+b,0):b;else if(b)return b=Cb(h,a),b<c&&(a===a?a===h[b]:h[b]!==h[b])?b:-1;return e(h,a,b||0)}function Ua(h){var a=h?h.length:0;return a?h[a-1]:l}function kd(h){return hd(h,1)}function ld(h,a,b,c){if(!h||!h.length)return[];null!=a&&"boolean"!=typeof a&&(c=b,b=O(h,
a,c)?l:a,a=!1);var d=R();if(null!=b||d!==bb)b=d(b,c,3);if(a&&Ma()==e){a=b;var p;b=-1;c=h.length;for(var d=-1,g=[];++b<c;){var f=h[b],D=a?a(f,b,h):f;b&&p===D||(p=D,g[++d]=f)}h=g}else h=Ab(h,b);return h}function Lb(h){if(!h||!h.length)return[];var a=-1,b=0;h=ua(h,function(a){if(aa(a))return b=ba(a.length,b),!0});for(var c=T(b);++a<b;)c[a]=La(h,yb(a));return c}function md(a,b,c){if(!a||!a.length)return[];a=Lb(a);if(null==b)return a;b=ga(b,c,4);return La(a,function(a){return Qa(a,b,l,!0)})}function nd(a,
b){var c=-1,d=a?a.length:0,e={};for(!d||b||N(a[0])||(b=[]);++c<d;){var p=a[c];b?e[p]=b[c]:p&&(e[p[0]]=p[1])}return e}function od(a){a=b(a);a.__chain__=!0;return a}function Mb(a,b,c){return b.call(c,a)}function pd(a,b,c){var d=N(a)?ra:sb;c&&O(a,b,c)&&(b=l);if("function"!=typeof b||c!==l)b=R(b,c,3);return d(a,b)}function Nb(a,b,c){var d=N(a)?ua:kc;b=R(b,c,3);return d(a,b)}function Ob(a,b,c,d){var e=a?Va(a):0;pa(e)||(a=ob(a),e=a.length);c="number"!=typeof c||d&&O(b,c,d)?0:0>c?ba(e+c,0):c||0;return"string"==
typeof a||!N(a)&&Pb(a)?c<=e&&-1<a.indexOf(b,c):!!e&&-1<Ma(a,b,c)}function Qb(a,b,c){var d=N(a)?La:xb;b=R(b,c,3);return d(a,b)}function pb(a,b,c){if(c?O(a,b,c):null==b){a=Db(a);var d=a.length;return 0<d?a[zb(0,d-1)]:l}c=-1;a=qd(a);var d=a.length,e=d-1;for(b=fa(0>b?0:+b||0,d);++c<b;){var d=zb(c,e),p=a[d];a[d]=a[c];a[c]=p}a.length=b;return a}function rd(a,b,c){var d=N(a)?ec:$d;c&&O(a,b,c)&&(b=l);if("function"!=typeof b||c!==l)b=R(b,c,3);return d(a,b)}function sd(a,b){var c;if("function"!=typeof b)if("function"==
typeof a){var d=a;a=b;b=d}else throw new ia("Expected a function");return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=l);return c}}function td(a,b,c){function d(b,c){c&&Xa(c);D=G=H=l;b&&(L=Ya(),J=a.apply(K,f),G||D||(f=K=l))}function e(){var a=b-(Ya()-I);0>=a||a>b?d(H,D):G=db(e,a)}function p(){d(m,G)}function g(){f=arguments;I=Ya();K=this;H=m&&(G||!C);if(!1===k)var c=C&&!G;else{D||C||(L=I);var d=k-(I-L),oa=0>=d||d>k;oa?(D&&(D=Xa(D)),L=I,J=a.apply(K,f)):D||(D=db(p,d))}oa&&G?G=Xa(G):G||b===
k||(G=db(e,b));c&&(oa=!0,J=a.apply(K,f));!oa||G||D||(f=K=l);return J}var f,D,J,I,K,G,H,L=0,k=!1,m=!0;if("function"!=typeof a)throw new ia("Expected a function");b=0>b?0:+b||0;if(!0===c)var C=!0,m=!1;else S(c)&&(C=!!c.leading,k="maxWait"in c&&ba(+c.maxWait||0,b),m="trailing"in c?!!c.trailing:m);g.cancel=function(){G&&Xa(G);D&&Xa(D);L=0;D=G=H=l};return g}function Rb(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new ia("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,
d):d[0],p=c.cache;if(p.has(e))return p.get(e);d=a.apply(this,d);c.cache=p.set(e,d);return d};c.cache=new Rb.Cache;return c}function Q(a,b){if("function"!=typeof a)throw new ia("Expected a function");b=ba(b===l?a.length-1:+b||0,0);return function(){for(var c=arguments,d=-1,e=ba(c.length-b,0),p=T(e);++d<e;)p[d]=c[b+d];switch(b){case 0:return a.call(this,p);case 1:return a.call(this,c[0],p);case 2:return a.call(this,c[0],c[1],p)}e=T(b+1);for(d=-1;++d<b;)e[d]=c[d];e[b]=p;return a.apply(this,e)}}function ud(a,
b){return a>b}function ta(a){return m(a)&&aa(a)&&X.call(a,"callee")&&!he.call(a,"callee")}function vd(a,b,c,d){d=(c="function"==typeof c?ga(c,d,3):l)?c(a,b):l;return d===l?eb(a,b,c):!!d}function Sb(a){return m(a)&&"string"==typeof a.message&&"[object Error]"==ha.call(a)}function Da(a){return S(a)&&"[object Function]"==ha.call(a)}function S(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function bd(a){return null==a?!1:Da(a)?ie.test(wd.call(a)):m(a)&&je.test(a)}function xd(a){return"number"==
typeof a||m(a)&&"[object Number]"==ha.call(a)}function fb(a){var b;if(!m(a)||"[object Object]"!=ha.call(a)||ta(a)||!(X.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var c;mc(a,function(a,h){c=h});return c===l||X.call(a,c)}function yd(a){return S(a)&&"[object RegExp]"==ha.call(a)}function Pb(a){return"string"==typeof a||m(a)&&"[object String]"==ha.call(a)}function Na(a){return m(a)&&pa(a.length)&&!!V[ha.call(a)]}function zd(a,b){return a<b}function qd(a){var b=
a?Va(a):0;return pa(b)?b?da(a):[]:ob(a)}function rc(a){return gc(a,wa(a))}function Tb(a){return wb(a,wa(a))}function wa(a){if(null==a)return[];S(a)||(a=Ia(a));for(var b=a.length,b=b&&pa(b)&&(N(a)||ta(a))&&b||0,c=a.constructor,d=-1,c="function"==typeof c&&c.prototype===a,e=T(b),p=0<b;++d<b;)e[d]=d+"";for(var g in a)p&&va(g,b)||"constructor"==g&&(c||!X.call(a,g))||e.push(g);return e}function ad(a){a=ma(a);for(var b=-1,c=ca(a),d=c.length,e=T(d);++b<d;){var p=c[b];e[b]=[p,a[p]]}return e}function ob(a){return Bb(a,
ca(a))}function Hc(a){return(a=t(a))&&a.replace(ke,z).replace(le,"")}function Yc(a,b){var c="";a=t(a);b=+b;if(1>b||!a||!Oa(b))return c;do b%2&&(c+=a),b=Ga(b/2),a+=a;while(b);return c}function Ad(a,b,d){var e=a;a=t(a);if(!a)return a;if(d?O(e,b,d):null==b)return a.slice(c(a),g(a)+1);b+="";return a.slice(r(a,b),q(a,b)+1)}function Gc(a,b,c){c&&O(a,b,c)&&(b=l);a=t(a);return a.match(b||me)||[]}function mb(a,b,c){c&&O(a,b,c)&&(b=l);return m(a)?Bd(a):bb(a,b)}function Ba(a){return a}function Bd(a){return Sa(Ca(a,
!0))}function Ub(a,b,c){if(null==c){var d=S(b),e=d?ca(b):l;((e=e&&e.length?wb(b,e):l)?e.length:d)||(e=!1,c=b,b=a,a=this)}e||(e=wb(b,ca(b)));var p=!0,d=-1,g=Da(a),f=e.length;!1===c?p=!1:S(c)&&"chain"in c&&(p=c.chain);for(;++d<f;){c=e[d];var D=b[c];a[c]=D;g&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(p||c){var d=a(this.__wrapped__);(d.__actions__=da(this.__actions__)).push({func:b,args:arguments,thisArg:a});d.__chain__=c;return d}return b.apply(a,na([this.value()],arguments))}}(D))}return a}
function Cd(){}function cb(a){return Fa(a)?yb(a):cc(a)}a=a?za.defaults(qa.Object(),a,za.pick(qa,ne)):qa;var T=a.Array,Dd=a.Date,oe=a.Error,Ed=a.Function,Ha=a.Math,Fd=a.Number,Ia=a.Object,Vb=a.RegExp,Gd=a.String,ia=a.TypeError,Hd=T.prototype,Wb=Ia.prototype,pe=Gd.prototype,wd=Ed.prototype.toString,X=Wb.hasOwnProperty,qe=0,ha=Wb.toString,re=qa._,ie=Vb("^"+wd.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=a.ArrayBuffer,
Xa=a.clearTimeout,se=a.parseFloat,ee=Ha.pow,he=Wb.propertyIsEnumerable,ab=Pa(a,"Set"),db=a.setTimeout,tc=Hd.splice,Ac=a.Uint8Array,Id=Pa(a,"WeakMap"),lb=Ha.ceil,$a=Pa(Ia,"create"),Ga=Ha.floor,te=Pa(T,"isArray"),Oa=a.isFinite,Jd=Pa(Ia,"keys"),ba=Ha.max,fa=Ha.min,ue=Pa(Dd,"now"),ve=a.parseInt,uc=Ha.random,we=Fd.NEGATIVE_INFINITY,Za=Fd.POSITIVE_INFINITY,qb=Id&&new Id,nb={};b.support={};b.templateSettings={escape:Y,evaluate:W,interpolate:G,variable:"",imports:{_:b}};var Wa=function(){function a(){}return function(b){if(S(b)){a.prototype=
b;var c=new a;a.prototype=l}return c||{}}}(),la=Ec(sa),Xb=Ec(vb,!0),ub=Fc(),nc=Fc(!0),$c=qb?function(a,b){qb.set(a,b);return a}:Ba,Eb=qb?function(a){return qb.get(a)}:Cd,Va=yb("length"),Xc=function(){var a=0,b=0;return function(c,d){var e=Ya(),p=16-(e-b);b=e;if(0<p){if(150<=++a)return c}else a=0;return $c(c,d)}}(),xe=Q(function(a,b){return m(a)&&aa(a)?Ta(a,ea(b,!1,!0)):[]}),ye=Mc(),ze=Mc(!0),Ae=Q(function(a){for(var b=a.length,c=b,d=T(l),p=Ma(),g=p==e,f=[];c--;){var D=a[c]=aa(D=a[c])?D:[];d[c]=g&&
120<=D.length?$a&&ab?new Ja(c&&D):null:null}var g=a[0],J=-1,l=g?g.length:0,I=d[0];a:for(;++J<l;)if(D=g[J],0>(I?Ka(I,D):p(f,D,0))){for(c=b;--c;){var K=d[c];if(0>(K?Ka(K,D):p(a[c],D,0)))continue a}I&&I.push(D);f.push(D)}return f}),Be=Q(function(a,b){b=ea(b);var c=hc(a,b);sc(a,b.sort(F));return c}),Ce=Zc(),De=Zc(!0),Ee=Q(function(a){return Ab(ea(a,!1,!0))}),Fe=Q(function(a,b){return aa(a)?Ta(a,b):[]}),Ge=Q(Lb),He=Q(function(a){var b=a.length,c=2<b?a[b-2]:l,d=1<b?a[b-1]:l;2<b&&"function"==typeof c?b-=
2:(c=1<b&&"function"==typeof d?(--b,d):l,d=l);a.length=b;return md(a,c,d)}),Ie=Q(function(a){a=ea(a);return this.thru(function(b){b=N(b)?b:[ma(b)];for(var c=a,d=-1,e=b.length,p=-1,g=c.length,f=T(e+g);++d<e;)f[d]=b[d];for(;++p<g;)f[d++]=c[p];return f})}),Je=Q(function(a,b){return hc(a,ea(b))}),Ke=hb(function(a,b,c){X.call(a,c)?++a[c]:a[c]=1}),Yb=Lc(la),Le=Lc(Xb,!0),Kd=Pc(ka,la),Ld=Pc(function(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););return a},Xb),Me=hb(function(a,b,c){X.call(a,c)?a[c].push(b):
a[c]=[b]}),Ne=hb(function(a,b,c){a[c]=b}),Oe=Q(function(a,b,c){var d=-1,e="function"==typeof b,p=Fa(b),g=aa(a)?T(a.length):[];la(a,function(a){var h=e?b:p&&null!=a?a[b]:l;g[++d]=h?h.apply(a,c):Jb(a,b,c)});return g}),Pe=hb(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Zb=Wc(Qa,la),Md=Wc(function(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c},Xb),Qe=Q(function(a,b){if(null==a)return[];var c=b[2];c&&O(b[0],b[1],c)&&(b.length=1);return wc(a,ea(b),[])}),Ya=ue||
function(){return(new Dd).getTime()},Nd=Q(function(a,b,c){var e=1;if(c.length)var p=d(c,Nd.placeholder),e=e|32;return ya(a,e,b,c,p)}),Re=Q(function(a,b){b=b.length?ea(b):Tb(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=ya(a[e],1,a)}return a}),Od=Q(function(a,b,c){var e=3;if(c.length)var p=d(c,Od.placeholder),e=e|32;return ya(b,e,a,c,p)}),Se=Ic(8),Te=Ic(16),Ue=Q(function(a,b){return jc(a,1,b)}),Ve=Q(function(a,b,c){return jc(a,b,c)}),We=Oc(),$b=Oc(!0),Xe=Q(function(a,b){b=ea(b);if("function"!=
typeof a||!ra(b,M))throw new ia("Expected a function");var c=b.length;return Q(function(d){for(var e=fa(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),Ye=Vc(32),Ze=Vc(64),$e=Q(function(a,b){return ya(a,256,l,l,l,ea(b))}),N=te||function(a){return m(a)&&pa(a.length)&&"[object Array]"==ha.call(a)},Kb=Dc(qc),ac=Dc(function(a,b,c){return c?tb(a,b,c):Ra(a,b)}),af=Jc(ac,function(a,b){return a===l?b:a}),bf=Jc(Kb,dd),cf=Nc(sa),df=Nc(vb),ef=Qc(ub),ff=Qc(nc),gf=Rc(sa),hf=Rc(vb),ca=Jd?function(a){var b=
null==a?l:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&aa(a)?gd(a):S(a)?Jd(a):[]}:gd,jf=Sc(!0),kf=Sc(),lf=Q(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=La(ea(b),Gd),ed(a,Ta(wa(a),b));var c=ga(b[0],b[1],3);return fd(a,function(a,b,h){return!c(a,b,h)})}),mf=Q(function(a,b){return null==a?{}:"function"==typeof b[0]?fd(a,ga(b[0],b[1],3)):ed(a,ea(b))}),nf=jb(function(a,b,c){b=b.toLowerCase();return a+(c?b.charAt(0).toUpperCase()+b.slice(1):
b)}),of=jb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),pf=Tc(),qf=Tc(!0),rf=jb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),sf=jb(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Pd=Q(function(a,b){try{return a.apply(l,b)}catch(c){return Sb(c)?c:new oe(c)}}),tf=Q(function(a,b){return function(c){return Jb(c,a,b)}}),uf=Q(function(a,b){return function(c){return Jb(a,c,b)}}),vf=Hb("ceil"),wf=Hb("floor"),xf=Kc(ud,we),yf=Kc(zd,Za),zf=Hb("round");b.prototype=
f.prototype;x.prototype=Wa(f.prototype);x.prototype.constructor=x;B.prototype=Wa(f.prototype);B.prototype.constructor=B;Aa.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};Aa.prototype.get=function(a){return"__proto__"==a?l:this.__data__[a]};Aa.prototype.has=function(a){return"__proto__"!=a&&X.call(this.__data__,a)};Aa.prototype.set=function(a,b){"__proto__"!=a&&(this.__data__[a]=b);return this};Ja.prototype.push=function(a){var b=this.data;"string"==typeof a||S(a)?b.set.add(a):
b.hash[a]=!0};Rb.Cache=Aa;b.after=function(a,b){if("function"!=typeof b)if("function"==typeof a){var c=a;a=b;b=c}else throw new ia("Expected a function");a=Oa(a=+a)?a:0;return function(){if(1>--a)return b.apply(this,arguments)}};b.ary=function(a,b,c){c&&O(a,b,c)&&(b=l);b=a&&null==b?a.length:ba(+b||0,0);return ya(a,128,l,l,l,l,b)};b.assign=ac;b.at=Je;b.before=sd;b.bind=Nd;b.bindAll=Re;b.bindKey=Od;b.callback=mb;b.chain=od;b.chunk=function(a,b,c){b=(c?O(a,b,c):null==b)?1:ba(Ga(b)||1,1);c=0;for(var d=
a?a.length:0,e=-1,p=T(lb(d/b));c<d;)p[++e]=ja(a,c,c+=b);return p};b.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var p=a[b];p&&(e[++d]=p)}return e};b.constant=function(a){return function(){return a}};b.countBy=Ke;b.create=function(a,b,c){var d=Wa(a);c&&O(a,b,c)&&(b=l);return b?Ra(d,b):d};b.curry=Se;b.curryRight=Te;b.debounce=td;b.defaults=af;b.defaultsDeep=bf;b.defer=Ue;b.delay=Ve;b.difference=xe;b.drop=hd;b.dropRight=id;b.dropRightWhile=function(a,b,c){return a&&a.length?gb(a,
R(b,c,3),!0,!0):[]};b.dropWhile=function(a,b,c){return a&&a.length?gb(a,R(b,c,3),!0):[]};b.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];c&&"number"!=typeof c&&O(a,b,c)&&(c=0,d=e);e=a.length;c=null==c?0:+c||0;0>c&&(c=-c>e?0:e+c);d=d===l||d>e?e:+d||0;0>d&&(d+=e);e=c>d?0:d>>>0;for(c>>>=0;c<e;)a[c++]=b;return a};b.filter=Nb;b.flatten=function(a,b,c){var d=a?a.length:0;c&&O(a,b,c)&&(b=!1);return d?ea(a,b):[]};b.flattenDeep=function(a){return a&&a.length?ea(a,!0):[]};b.flow=We;b.flowRight=$b;
b.forEach=Kd;b.forEachRight=Ld;b.forIn=ef;b.forInRight=ff;b.forOwn=gf;b.forOwnRight=hf;b.functions=Tb;b.groupBy=Me;b.indexBy=Ne;b.initial=function(a){return id(a,1)};b.intersection=Ae;b.invert=function(a,b,c){c&&O(a,b,c)&&(b=l);c=-1;for(var d=ca(a),e=d.length,p={};++c<e;){var g=d[c],f=a[g];b?X.call(p,f)?p[f].push(g):p[f]=[g]:p[f]=g}return p};b.invoke=Oe;b.keys=ca;b.keysIn=wa;b.map=Qb;b.mapKeys=jf;b.mapValues=kf;b.matches=Bd;b.matchesProperty=function(a,b){return ic(a,Ca(b,!0))};b.memoize=Rb;b.merge=
Kb;b.method=tf;b.methodOf=uf;b.mixin=Ub;b.modArgs=Xe;b.negate=function(a){if("function"!=typeof a)throw new ia("Expected a function");return function(){return!a.apply(this,arguments)}};b.omit=lf;b.once=function(a){return sd(2,a)};b.pairs=ad;b.partial=Ye;b.partialRight=Ze;b.partition=Pe;b.pick=mf;b.pluck=function(a,b){return Qb(a,cb(b))};b.property=cb;b.propertyOf=function(a){return function(b){return Ea(a,xa(b),b+"")}};b.pull=function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,
d=Ma(),e=a.length;++c<e;)for(var p=0,g=a[c];-1<(p=d(b,g,p));)tc.call(b,p,1);return b};b.pullAt=Be;b.range=function(a,b,c){c&&O(a,b,c)&&(b=c=l);a=+a||0;c=null==c?1:+c||0;null==b?(b=a,a=0):b=+b||0;var d=-1;b=ba(lb((b-a)/(c||1)),0);for(var e=T(b);++d<b;)e[d]=a,a+=c;return e};b.rearg=$e;b.reject=function(a,b,c){var d=N(a)?ua:kc;b=R(b,c,3);return d(a,function(a,c,h){return!b(a,c,h)})};b.remove=function(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,p=[],g=a.length;for(b=R(b,c,3);++e<g;)c=a[e],b(c,
e,a)&&(d.push(c),p.push(e));sc(a,p);return d};b.rest=kd;b.restParam=Q;b.set=function(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||Fa(b,a)?[d]:xa(b);for(var d=-1,e=b.length,p=e-1,g=a;null!=g&&++d<e;){var f=b[d];S(g)&&(d==p?g[f]=c:null==g[f]&&(g[f]=va(b[d+1])?[]:{}));g=g[f]}return a};b.shuffle=function(a){return pb(a,Za)};b.slice=function(a,b,c){var d=a?a.length:0;if(!d)return[];c&&"number"!=typeof c&&O(a,b,c)&&(b=0,c=d);return ja(a,b,c)};b.sortBy=function(a,b,c){if(null==a)return[];c&&O(a,b,
c)&&(b=l);var d=-1;b=R(b,c,3);a=xb(a,function(a,c,h){return{criteria:b(a,c,h),index:++d,value:a}});return vc(a,n)};b.sortByAll=Qe;b.sortByOrder=function(a,b,c,d){if(null==a)return[];d&&O(b,c,d)&&(c=l);N(b)||(b=null==b?[]:[b]);N(c)||(c=null==c?[]:[c]);return wc(a,b,c)};b.spread=function(a){if("function"!=typeof a)throw new ia("Expected a function");return function(b){return a.apply(this,b)}};b.take=function(a,b,c){if(!a||!a.length)return[];if(c?O(a,b,c):null==b)b=1;return ja(a,0,0>b?0:b)};b.takeRight=
function(a,b,c){var d=a?a.length:0;if(!d)return[];if(c?O(a,b,c):null==b)b=1;b=d-(+b||0);return ja(a,0>b?0:b)};b.takeRightWhile=function(a,b,c){return a&&a.length?gb(a,R(b,c,3),!1,!0):[]};b.takeWhile=function(a,b,c){return a&&a.length?gb(a,R(b,c,3)):[]};b.tap=function(a,b,c){b.call(c,a);return a};b.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new ia("Expected a function");!1===c?d=!1:S(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return td(a,b,{leading:d,
maxWait:+b,trailing:e})};b.thru=Mb;b.times=function(a,b,c){a=Ga(a);if(1>a||!Oa(a))return[];var d=-1,e=T(fa(a,4294967295));for(b=ga(b,c,1);++d<a;)4294967295>d?e[d]=b(d):b(d);return e};b.toArray=qd;b.toPlainObject=rc;b.transform=function(a,b,c,d){var e=N(a)||Na(a);b=R(b,d,4);null==c&&(e||S(a)?(d=a.constructor,c=e?N(a)?new d:[]:Wa(Da(d)?d.prototype:l)):c={});(e?ka:sa)(a,function(a,h,d){return b(c,a,h,d)});return c};b.union=Ee;b.uniq=ld;b.unzip=Lb;b.unzipWith=md;b.values=ob;b.valuesIn=function(a){return Bb(a,
wa(a))};b.where=function(a,b){return Nb(a,Sa(b))};b.without=Fe;b.wrap=function(a,b){b=null==b?Ba:b;return ya(b,32,l,[a],[])};b.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(aa(c))var d=d?na(Ta(d,c),Ta(c,d)):c}return d?Ab(d):[]};b.zip=Ge;b.zipObject=nd;b.zipWith=He;b.backflow=$b;b.collect=Qb;b.compose=$b;b.each=Kd;b.eachRight=Ld;b.extend=ac;b.iteratee=mb;b.methods=Tb;b.object=nd;b.select=Nb;b.tail=kd;b.unique=ld;Ub(b,b);b.add=function(a,b){return(+a||0)+(+b||0)};b.attempt=
Pd;b.camelCase=nf;b.capitalize=function(a){return(a=t(a))&&a.charAt(0).toUpperCase()+a.slice(1)};b.ceil=vf;b.clone=function(a,b,c,d){b&&"boolean"!=typeof b&&O(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1);return"function"==typeof c?Ca(a,b,ga(c,d,1)):Ca(a,b)};b.cloneDeep=function(a,b,c){return"function"==typeof b?Ca(a,!0,ga(b,c,1)):Ca(a,!0)};b.deburr=Hc;b.endsWith=function(a,b,c){a=t(a);b+="";var d=a.length;c=c===l?d:fa(0>c?0:+c||0,d);c-=b.length;return 0<=c&&a.indexOf(b,c)==c};b.escape=function(a){return(a=
t(a))&&Z.test(a)?a.replace(Qd,y):a};b.escapeRegExp=function(a){return(a=t(a))&&Af.test(a)?a.replace(Rd,w):a||"(?:)"};b.every=pd;b.find=Yb;b.findIndex=ye;b.findKey=cf;b.findLast=Le;b.findLastIndex=ze;b.findLastKey=df;b.findWhere=function(a,b){return Yb(a,Sa(b))};b.first=jd;b.floor=wf;b.get=function(a,b,c){a=null==a?l:Ea(a,xa(b),b+"");return a===l?c:a};b.gt=ud;b.gte=function(a,b){return a>=b};b.has=function(a,b){if(null==a)return!1;var c=X.call(a,b);if(!c&&!Fa(b)){b=xa(b);a=1==b.length?a:Ea(a,ja(b,
0,-1));if(null==a)return!1;b=Ua(b);c=X.call(a,b)}return c||pa(a.length)&&va(b,a.length)&&(N(a)||ta(a))};b.identity=Ba;b.includes=Ob;b.indexOf=Ib;b.inRange=function(a,b,c){b=+b||0;c===l?(c=b,b=0):c=+c||0;return a>=fa(b,c)&&a<ba(b,c)};b.isArguments=ta;b.isArray=N;b.isBoolean=function(a){return!0===a||!1===a||m(a)&&"[object Boolean]"==ha.call(a)};b.isDate=function(a){return m(a)&&"[object Date]"==ha.call(a)};b.isElement=function(a){return!!a&&1===a.nodeType&&m(a)&&!fb(a)};b.isEmpty=function(a){return null==
a?!0:aa(a)&&(N(a)||Pb(a)||ta(a)||m(a)&&Da(a.splice))?!a.length:!ca(a).length};b.isEqual=vd;b.isError=Sb;b.isFinite=function(a){return"number"==typeof a&&Oa(a)};b.isFunction=Da;b.isMatch=function(a,b,c,d){c="function"==typeof c?ga(c,d,3):l;return oc(a,pc(b),c)};b.isNaN=function(a){return xd(a)&&a!=+a};b.isNative=bd;b.isNull=function(a){return null===a};b.isNumber=xd;b.isObject=S;b.isPlainObject=fb;b.isRegExp=yd;b.isString=Pb;b.isTypedArray=Na;b.isUndefined=function(a){return a===l};b.kebabCase=of;
b.last=Ua;b.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?ba(d+c,0):fa(c||0,d-1))+1;else if(c)return e=Cb(a,b,!0)-1,a=a[e],(b===b?b===a:a!==a)?e:-1;if(b!==b)return k(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1};b.lt=zd;b.lte=function(a,b){return a<=b};b.max=xf;b.min=yf;b.noConflict=function(){qa._=re;return this};b.noop=Cd;b.now=Ya;b.pad=function(a,b,c){a=t(a);b=+b;var d=a.length;if(d>=b||!Oa(b))return a;d=(b-d)/2;b=Ga(d);d=lb(d);c=Uc("",d,
c);return c.slice(0,b)+a+c};b.padLeft=pf;b.padRight=qf;b.parseInt=function(a,b,c){(c?O(a,b,c):null==b)?b=0:b&&(b=+b);a=Ad(a);return ve(a,b||(Bf.test(a)?16:10))};b.random=function(a,b,c){c&&O(a,b,c)&&(b=c=l);var d=null==a,e=null==b;null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0));d&&e&&(b=1,e=!1);a=+a||0;e?(b=a,a=0):b=+b||0;return c||a%1||b%1?(c=uc(),fa(a+c*(b-a+se("1e-"+((c+"").length-1))),b)):zb(a,b)};b.reduce=Zb;b.reduceRight=Md;b.repeat=Yc;b.result=function(a,b,c){var d=
null==a?l:a[b];d===l&&(null==a||Fa(b,a)||(b=xa(b),a=1==b.length?a:Ea(a,ja(b,0,-1)),d=null==a?l:a[Ua(b)]),d=d===l?c:d);return Da(d)?d.call(a):d};b.round=zf;b.runInContext=C;b.size=function(a){var b=a?Va(a):0;return pa(b)?b:ca(a).length};b.snakeCase=rf;b.some=rd;b.sortedIndex=Ce;b.sortedLastIndex=De;b.startCase=sf;b.startsWith=function(a,b,c){a=t(a);c=null==c?0:fa(0>c?0:+c||0,a.length);return a.lastIndexOf(b,c)==c};b.sum=function(a,b,c){c&&O(a,b,c)&&(b=l);b=R(b,c,3);if(1==b.length){a=N(a)?a:Db(a);c=
a.length;for(var d=0;c--;)d+=+b(a[c])||0;a=d}else a=ae(a,b);return a};b.template=function(a,c,d){var e=b.templateSettings;d&&O(a,c,d)&&(c=d=l);a=t(a);c=tb(Ra({},d||c),e,fc);d=tb(Ra({},c.imports),e.imports,fc);var g=ca(d),f=Bb(d,g),D,J,I=0;d=c.interpolate||rb;var K="__p += '";d=Vb((c.escape||rb).source+"|"+d.source+"|"+(d===G?Cf:rb).source+"|"+(c.evaluate||rb).source+"|$","g");var H="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Df+"]")+"\n";a.replace(d,function(b,c,d,e,
p,g){d||(d=e);K+=a.slice(I,g).replace(Ef,v);c&&(D=!0,K+="' +\n__e("+c+") +\n'");p&&(J=!0,K+="';\n"+p+";\n__p += '");d&&(K+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");I=g+b.length;return b});K+="';\n";(c=c.variable)||(K="with (obj) {\n"+K+"\n}\n");K=(J?K.replace(A,""):K).replace(p,"$1").replace(L,"$1;");K="function("+(c||"obj")+") {\n"+(c?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(D?", __e = _.escape":"")+(J?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+K+"return __p\n}";c=Pd(function(){return Ed(g,H+"return "+K).apply(l,f)});c.source=K;if(Sb(c))throw c;return c};b.trim=Ad;b.trimLeft=function(a,b,d){var e=a;return(a=t(a))?(d?O(e,b,d):null==b)?a.slice(c(a)):a.slice(r(a,b+"")):a};b.trimRight=function(a,b,c){var d=a;return(a=t(a))?(c?O(d,b,c):null==b)?a.slice(0,g(a)+1):a.slice(0,q(a,b+"")+1):a};b.trunc=function(a,b,c){c&&O(a,b,c)&&(b=l);var d=30;c="...";if(null!=b)if(S(b)){var e="separator"in b?b.separator:e,d="length"in b?+b.length||0:d;c="omission"in
b?t(b.omission):c}else d=+b||0;a=t(a);if(d>=a.length)return a;d-=c.length;if(1>d)return c;b=a.slice(0,d);if(null==e)return b+c;if(yd(e)){if(a.slice(d).search(e)){var p,g=a.slice(0,d);e.global||(e=Vb(e.source,(cd.exec(e)||"")+"g"));for(e.lastIndex=0;a=e.exec(g);)p=a.index;b=b.slice(0,null==p?d:p)}}else a.indexOf(e,d)!=d&&(e=b.lastIndexOf(e),-1<e&&(b=b.slice(0,e)));return b+c};b.unescape=function(a){return(a=t(a))&&I.test(a)?a.replace(P,H):a};b.uniqueId=function(a){var b=++qe;return t(a)+b};b.words=
Gc;b.all=pd;b.any=rd;b.contains=Ob;b.eq=vd;b.detect=Yb;b.foldl=Zb;b.foldr=Md;b.head=jd;b.include=Ob;b.inject=Zb;Ub(b,function(){var a={};sa(b,function(c,d){b.prototype[d]||(a[d]=c)});return a}(),!1);b.sample=pb;b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return pb(b,a)}):pb(this.value())};b.VERSION="3.10.1";ka("bind bindKey curry curryRight partial partialRight".split(" "),function(a){b[a].placeholder=b});ka(["drop","take"],function(a,b){B.prototype[a]=function(c){var d=
this.__filtered__;if(d&&!b)return new B(this);c=null==c?1:ba(Ga(c)||0,0);var e=this.clone();d?e.__takeCount__=fa(e.__takeCount__,c):e.__views__.push({size:c,type:a+(0>e.__dir__?"Right":"")});return e};B.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});ka(["filter","map","takeWhile"],function(a,b){var c=b+1,d=2!=c;B.prototype[a]=function(a,b){var e=this.clone();e.__iteratees__.push({iteratee:R(a,b,1),type:c});e.__filtered__=e.__filtered__||d;return e}});ka(["first","last"],
function(a,b){var c="take"+(b?"Right":"");B.prototype[a]=function(){return this[c](1).value()[0]}});ka(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");B.prototype[a]=function(){return this.__filtered__?new B(this):this[c](1)}});ka(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Sa:cb;B.prototype[a]=function(a){return this[c](d(a))}});B.prototype.compact=function(){return this.filter(Ba)};B.prototype.reject=function(a,b){a=R(a,b,1);return this.filter(function(b){return!a(b)})};
B.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;if(c.__filtered__&&(0<a||0>b))return new B(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==l&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a));return c};B.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()};B.prototype.toArray=function(){return this.take(Za)};sa(B.prototype,function(a,c){var d=/^(?:filter|map|reject)|While$/.test(c),e=/^(?:first|last)$/.test(c),p=b[e?"take"+("last"==c?"Right":""):c];p&&(b.prototype[c]=
function(){var b=e?[1]:arguments,c=this.__chain__,g=this.__wrapped__,f=!!this.__actions__.length,D=g instanceof B,J=b[0],K=D||N(g);K&&d&&"function"==typeof J&&1!=J.length&&(D=K=!1);var I=function(a){return e&&c?p(a,1)[0]:p.apply(l,na([a],b))},J={func:Mb,args:[I],thisArg:l},f=D&&!f;return e&&!c?f?(g=g.clone(),g.__actions__.push(J),a.call(g)):p.call(l,this.value())[0]:!e&&K?(g=f?g:new B(this),g=a.apply(g,b),g.__actions__.push(J),new x(g,c)):this.thru(I)})});ka("join pop push replace shift sort splice split unshift".split(" "),
function(a){var c=(/^(?:replace|split)$/.test(a)?pe:Hd)[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?c.apply(this.value(),a):this[d](function(b){return c.apply(b,a)})}});sa(B.prototype,function(a,c){var d=b[c];if(d){var e=d.name;(nb[e]||(nb[e]=[])).push({name:c,func:d})}});nb[Gb(l,2).name]=[{name:"wrapper",func:l}];B.prototype.clone=function(){var a=new B(this.__wrapped__);a.__actions__=
da(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=da(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=da(this.__views__);return a};B.prototype.reverse=function(){if(this.__filtered__){var a=new B(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};B.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=N(b),e=0>c,p=d?b.length:0;a=0;for(var g=p,f=this.__views__,D=-1,J=f.length;++D<J;){var K=
f[D],l=K.size;switch(K.type){case "drop":a+=l;break;case "dropRight":g-=l;break;case "take":g=fa(g,a+l);break;case "takeRight":a=ba(a,g-l)}}f=g;g=f-a;a=e?f:a-1;f=this.__iteratees__;D=f.length;J=0;K=fa(g,this.__takeCount__);if(!d||200>p||p==g&&K==g)return xc(e&&d?b.reverse():b,this.__actions__);d=[];a:for(;g--&&J<K;){a+=c;e=-1;for(p=b[a];++e<D;){var I=f[e],l=I.iteratee,I=I.type,l=l(p);if(2==I)p=l;else if(!l)if(1==I)continue a;else break a}d[J++]=p}return d};b.prototype.chain=function(){return od(this)};
b.prototype.commit=function(){return new x(this.value(),this.__chain__)};b.prototype.concat=Ie;b.prototype.plant=function(a){for(var b,c=this;c instanceof f;){var d=dc(c);b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}e.__wrapped__=a;return b};b.prototype.reverse=function(){var a=this.__wrapped__,b=function(a){return c&&0>c.__dir__?a:a.reverse()};if(a instanceof B){var c=a;this.__actions__.length&&(c=new B(this));c=c.reverse();c.__actions__.push({func:Mb,args:[b],thisArg:l});return new x(c,this.__chain__)}return this.thru(b)};
b.prototype.toString=function(){return this.value()+""};b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=function(){return xc(this.__wrapped__,this.__actions__)};b.prototype.collect=b.prototype.map;b.prototype.head=b.prototype.first;b.prototype.select=b.prototype.filter;b.prototype.tail=b.prototype.rest;return b}var l,A=/\b__p \+= '';/g,p=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/&(?:amp|lt|gt|quot|#39|#96);/g,Qd=/[&<>"'`]/g,I=RegExp(P.source),Z=RegExp(Qd.source),
Y=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,K=/^\w*$/,D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Rd=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Af=RegExp(Rd.source),le=/[\u0300-\u036f\ufe20-\ufe23]/g,ge=/\\(\\)?/g,Cf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cd=/\w*$/,Bf=/^0[xX]/,je=/^\[object .+?Constructor\]$/,fe=/^\d+$/,ke=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,rb=/($^)/,
Ef=/['\n\r\u2028\u2029\\]/g,me=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),ne="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),
Df=-1,V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0;V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=
V["[object String]"]=V["[object WeakMap]"]=!1;var U={};U["[object Arguments]"]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object Boolean]"]=U["[object Date]"]=U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Number]"]=U["[object Object]"]=U["[object RegExp]"]=U["[object String]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0;U["[object Error]"]=
U["[object Function]"]=U["[object Map]"]=U["[object Set]"]=U["[object WeakMap]"]=!1;var Aa={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i",
"\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Ja={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ka={"&amp;":"&","&lt;":"<","&gt;":">",
"&quot;":'"',"&#39;":"'","&#96;":"`"},ra={"function":!0,object:!0},sb={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Qa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ua=ra[typeof f]&&f&&!f.nodeType&&f,na=ra[typeof B]&&B&&!B.nodeType&&B,bc=ra[typeof self]&&self&&self.Object&&self,ra=ra[typeof window]&&
window&&window.Object&&window,cc=na&&na.exports===ua&&ua,qa=ua&&na&&"object"==typeof a&&a&&a.Object&&a||ra!==(this&&this.window)&&ra||bc||this,za=C();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(qa._=za,define(function(){return za})):ua&&na?cc?(na.exports=za)._=za:ua._=za:qa._=za}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],10:[function(a,B,f){var x,F,E,e,M,t,r,q,n,z,y,w,v,k,m,b,d,c,g,
H,C,l,A=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};x=a("lodash");l=a("./util");y=a("./match");C=a("./substitute");w=function(a){a=l.cloneExpression(a);a=C.doSubRecursive(a,C.subsForPNF.replace_arrow);a=C.doSubRecursive(a,C.subsForPNF.replace_double_arrow);a=b(a);return a=l.exhaust(a,function(a){var b,c,d;c=C.subsForPNF;for(b in c)d=c[b],"replace_arrow"!==b&&"replace_double_arrow"!==b&&(a=C.doSubRecursive(a,d));return a})};f.prenexNormalForm=
w;f.isPNF=function(a){var b,c,d,e,g,f,l,G;a=k(a);b=n(a,"and");a=[];d=0;for(e=b.length;d<e;d++)c=b[d],a.push(n(c,"or"));c=0;for(e=a.length;c<e;c++)for(G=a[c],d=0,g=G.length;d<g;d++)if(b=G[d],"not"!==(f=b.type)&&"sentence_letter"!==f&&"predicate"!==f||"not"===b.type&&"sentence_letter"!==(l=b.left.type)&&"predicate"!==l)return!1;return!0};b=function(a,b){var c,d,e,g,f,H;null==b&&(b="x");g=("\u03b1"===(f=b[0])||"\u03b2"===f||"\u03b3"===f||"\u03c4"===f?"term_metavariable":void 0)||"variable";c=0;d={};
e=function(a){var e;null==d[a.name]&&(c+=1,e=""+b+c,d[a.name]=e);return d[a.name]};H=function(a){if(null!=d[a.name])return delete d[a.name]};return l.walkMutate(a,function(a){if(null===a||null==(null!=a?a.boundVariable:void 0)&&(null==(null!=a?a.type:void 0)||"variable"!==a.type))return a;null!=a.boundVariable&&H(a.boundVariable);null!=(null!=a?a.type:void 0)&&"variable"===a.type&&(a.name=e(a),a.type=g);return a},{topDown:!0})};f.renameVariables=b;f.convertToPNFsimplifyAndSort=function(a){a=w(a);
a=t(a);a=H(a);d(a);return a};f.areExpressionsEquivalent=function(a,b){a=w(a);b=w(b);return E(a,b)};E=function(a,c){var g,f,l;a=t(a);a=H(a);d(a);c=t(c);c=H(c);d(c);f=b(a,"\u03c4");g=k(f);l=k(c);g=y.find(l,g);if(!1===g)return!1;f=y.apply(f,g);return e(f,c)};f.arePNFExpressionsEquivalent=E;H=function(a){var b,d,e,f,l;l=r(a);a=k(a);b=n(a,"and");a=[];e=0;for(f=b.length;e<f;e++)d=b[e],a.push(n(d,"or"));d=0;for(e=a.length;d<e;d++)b=a[d],c(b);g(a);f=[];d=0;for(e=a.length;d<e;d++)b=a[d],f.push(v(b,"or"));
a=v(f,"and");return M(a,l)};f.sortPNFExpression=H;k=function(a){return null!=a.boundVariable?k(a.left):a};f.removeQuantifiers=k;n=function(a,b){var c;if(null!=a.type&&a.type!==b)return[a];if(null!=a.type&&a.type===b)return c=[],c.push.apply(c,n(a.left,b)),c.push.apply(c,n(a.right,b)),c;throw Error("listJuncts called with type = "+b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listJuncts=n;c=function(a){return a.sort(l.atomicExpressionComparator)};f.sortJuncts=c;g=function(a){return a.sort(l.listOfAtomicExpressionsComparator)};
f.sortListOfJuncts=g;v=function(a,b){var c,d;if(!a||null==a.length||0===a.length)throw Error("rebuildExpression called with listOfJuncts = "+a);if(1===a.length)return a[0];c=a.shift();d=v(a,b);return{type:b,left:c,right:d}};f.rebuildExpression=v;z=function(a,b){var c;if(null!=a.type&&a.type!==b)return{quantifiedExpression:a};if(null!=a.type&&a.type===b)return c=z(a.left,b),null==c.boundVariables&&(c.boundVariables=[]),c.boundVariables.push(a.boundVariable),c;throw Error("listQuants called with type = "+
b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listQuants=z;r=function(a){var b;return null!=a.boundVariable?(b=r(a.left),{type:a.type,symbol:a.symbol,location:a.location,boundVariable:a.boundVariable,left:b,right:null}):null};f.getPrefixedQuantifiers=r;M=function(a,b){if(null===b)return a;null!==b.left?M(a,b.left):b.left=a;return b};f.attachExpressionToQuantifiers=M;e=function(a,b,c){var d;null==c&&(c={quantifierType:null,leftBoundVariables:[],rightBoundVariables:[]});d=(null!=
a?a.type:void 0)||null;if(c.quantifierType!==d){c.leftBoundVariables.sort();c.rightBoundVariables.sort();if(!x.isEqual(c.leftBoundVariables,c.rightBoundVariables))return!1;c.leftBoundVariables=[];c.rightBoundVariables=[];c.quantifierType=d}if(null===a||null==a.boundVariable)return null===b||null==b.boundVariable?!0:!1;if(null===b||null==b.type||b.type!==d)return!1;c.leftBoundVariables.push(a.boundVariable.name);c.rightBoundVariables.push(b.boundVariable.name);return e(a.left,b.left,c)};f.arePrefixedQuantifiersEquivalent=
e;d=function(a,b){var c,e,g,f;void 0===b&&(b=F(a));if(null==(null!=a?a.type:void 0))return a;if("identity"!==a.type)return null!=a.left&&d(a.left,b),null!=a.right&&d(a.right,b),a;c=a.termlist[0];g=a.termlist[1];1===l.termComparator(c,g)&&(e=[g,c],c=e[0],g=e[1]);"variable"===c.type&&"variable"===g.type&&(e=b.indexOf(c.name),f=b.indexOf(g.name),e>f&&(e=[g,c],c=e[0],g=e[1]));a.termlist=[c,g];return a};f.sortIdentityStatements=d;F=function(a,b){var c,d;null==b&&(b={quantifierType:null,thisTypeBoundVariables:[],
allBoundVariables:[]});c=(null!=a?a.type:void 0)||null;b.quantifierType!==c&&(b.thisTypeBoundVariables.sort(),(d=b.allBoundVariables).push.apply(d,b.thisTypeBoundVariables),b.thisTypeBoundVariables=[],b.quantifierType=c);if(null===c||null==a.boundVariable)return b.allBoundVariables;b.thisTypeBoundVariables.push(a.boundVariable.name);return F(a.left,b)};f._getVariableOrder=F;t=function(a){a=l.exhaust(a,function(a){var b,c,d;c=C.subs_eliminate_redundancy;for(b in c)d=c[b],a=C.doSubRecursive(a,d);return H(a)});
return a=m(a)};f.eliminateRedundancyInPNF=t;q=function(a,b){var c;if(null!=b.termlist){var d,e,g,f;g=b.termlist;f=[];d=0;for(e=g.length;d<e;d++)c=g[d],f.push(c.name);if(0<=A.call(f,a))return!0}return null!=b.boundVariable&&b.boundVariable.name===a?!1:null!=b.left&&q(a,b.left)||null!=b.right&&q(a,b.right)?!0:!1};f.isVariableFree=q;m=function(a){a=l.cloneExpression(a);return l.walkMutate(a,function(a){return null==(null!=a?a.boundVariable:void 0)||q(a.boundVariable.name,a.left)?a:a.left})};f.removeQuantifiersThatBindNothing=
m},{"./match":8,"./substitute":29,"./util":31,lodash:9}],11:[function(a,B,f){(function(x){var F=function(){function a(){this.yy={}}var e=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],t=[1,5],r=[1,6],q=[1,7],n=[1,8],z=[1,9],y=[1,11],w=[1,14],v=[1,15],k=[1,18],m=[1,19],b=[1,16],d=[1,21],c=[1,22],g=[1,23],H=[1,24],C=[1,25],l=[1,26],A=[1,27],p=[1,32],L=[5,10,13,14,15,16,17,18,27,29,34,37],P=[1,40],x=[5,10,13,14,15,16,17,18,26,27,29,34,37],I=[2,32],Z=[5,7,9,10,11,13,14,15,16,
17,18,19,20,21,23,26,27,29,30,31,32,33,34,35,37],Y=[7,9,10,11,19,20,21,23,30,31,32,33,35],W=[5,10,13,14,15,16,17,18,29,34,37],G=[5,10,29,34,37],J=[29,34],e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,"(":9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,
"[":27,substitution_list:28,"]":29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,",":34,name:35,substitution:36,substitution_symbol:37,"null":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"(",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",29:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",
34:",",35:"name",37:"substitution_symbol",38:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,5],[4,3],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,4],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[8,1],[8,3],[24,1],[24,3],[25,1],[25,1],[28,1],[28,3],[36,3],[36,3],[36,3],[36,3],[6,3]],performAction:function(a,b,c,d,e,g,f){a=g.length-1;switch(e){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-
2],location:f[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 5:this.$={type:"existential_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:g[a-2],location:f[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 7:this.$={type:"universal_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 8:this.$={type:"universal_quantifier",symbol:"",location:f[a-
2],boundVariable:g[a-2],left:g[a],right:null};break;case 9:this.$={type:"and",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"or",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"nand",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"nor",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 13:this.$={type:"arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 14:this.$=
{type:"double_arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 15:this.$={type:"not",symbol:g[a-1],location:f[a-1],left:g[a],right:null};break;case 16:this.$={type:"value",symbol:g[a],location:f[a],value:!0,left:null,right:null};break;case 17:this.$={type:"value",symbol:g[a],location:f[a],value:!1,left:null,right:null};break;case 18:case 27:case 32:this.$=g[a];break;case 19:this.$={type:"predicate",name:g[a-3],location:f[a-3],termlist:g[a-1]};break;case 20:this.$={type:"identity",
symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 21:case 28:this.$=g[a-1];break;case 22:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 23:this.$={type:"expression_variable",location:f[a],letter:g[a],left:null,right:null};break;case 24:this.$={type:"sentence_letter",location:f[a],letter:g[a],left:null,right:null};break;case 25:this.$={type:"variable",name:g[a],location:f[a]};break;case 26:this.$={type:"term_metavariable",
name:g[a],location:f[a]};break;case 29:case 33:this.$=[g[a]];break;case 30:case 34:this.$=[g[a-2]].concat(g[a]);break;case 31:this.$={type:"name",name:g[a],location:f[a]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 36:case 38:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 39:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,27:[1,13],30:w,31:v,32:k,33:m,35:b},{1:[3]},
{5:[1,20],13:d,14:c,15:g,16:H,17:C,18:l,27:A},{4:29,5:[1,28],7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{8:30,9:p,12:31,32:k,33:m},{4:36,7:[1,33],9:t,11:[1,34],12:35,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{8:37,9:p,12:31,32:k,33:m},{4:38,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},e(L,[2,16]),e(L,[2,17]),e(L,[2,18]),{9:[1,39]},{26:P},{12:17,25:41,32:k,33:m,35:b},e(L,[2,23]),e(L,[2,24]),e(x,[2,31]),e(x,I),e(Z,[2,
25]),e(Z,[2,26]),{1:[2,1]},{4:42,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{4:43,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{4:44,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{4:45,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{4:46,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{4:47,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,
31:v,32:k,33:m,35:b},{4:51,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:50,28:48,30:w,31:v,32:k,33:m,35:b,36:49},{1:[2,2]},{5:[1,52],13:d,14:c,15:g,16:H,17:C,18:l,27:A},{4:53,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},e(Y,[2,27]),{12:54,32:k,33:m},{8:55,9:p,12:31,32:k,33:m},{8:56,9:p,12:31,32:k,33:m},{10:[1,57],26:I},{10:[1,58],13:d,14:c,15:g,16:H,17:C,18:l,27:A},{4:59,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},e(W,[2,15],{27:A}),
{12:17,24:60,25:61,32:k,33:m,35:b},{12:17,25:62,32:k,33:m,35:b},{29:[1,63]},e(W,[2,9],{27:A}),e(W,[2,10],{27:A}),e(W,[2,11],{27:A}),e(W,[2,12],{27:A}),e(G,[2,13],{13:d,14:c,15:g,16:H,27:A}),e(G,[2,14],{13:d,14:c,15:g,16:H,27:A}),{29:[1,64]},{29:[2,33],34:[1,65]},{26:P,37:[1,66]},{13:d,14:c,15:g,16:H,17:C,18:l,27:A,37:[1,67]},{1:[2,3]},e(W,[2,4],{27:A}),{10:[1,68]},{4:53,7:f,9:t,10:[1,69],11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{4:59,7:f,9:t,10:[1,70],11:r,12:17,19:q,20:n,
21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{4:71,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},e(L,[2,21]),e(W,[2,6],{27:A}),{10:[1,72]},{10:[2,29],34:[1,73]},e(L,[2,20]),e([5,7,9,11,19,20,21,23,30,31,32,33,35],[2,39]),e(L,[2,22]),{4:51,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:50,28:74,30:w,31:v,32:k,33:m,35:b,36:49},{12:17,25:75,32:k,33:m,35:b,38:[1,76]},{4:77,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b,38:[1,78]},e(Y,[2,
28]),{4:79,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},{4:80,7:f,9:t,11:r,12:17,19:q,20:n,21:z,22:10,23:y,25:12,30:w,31:v,32:k,33:m,35:b},e(W,[2,8],{27:A}),e(L,[2,19]),{12:17,24:81,25:61,32:k,33:m,35:b},{29:[2,34]},e(J,[2,35]),e(J,[2,36]),e(J,[2,37],{13:d,14:c,15:g,16:H,17:C,18:l,27:A}),e(J,[2,38]),e(W,[2,5],{27:A}),e(W,[2,7],{27:A}),{10:[2,30]}],defaultActions:{20:[2,1],28:[2,2],52:[2,3],74:[2,34],81:[2,30]},parseError:function(a,b){if(b.recoverable)this.trace(a);
else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],e=this.table,g="",f=0,p=0,J=0,l=d.slice.call(arguments,1),I=Object.create(this.lexer),G={},H;for(H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(G[H]=this.yy[H]);I.setInput(a,G);G.lexer=I;G.parser=this;"undefined"==typeof I.yylloc&&(I.yylloc={});H=I.yylloc;d.push(H);var k=I.options&&I.options.ranges;this.parseError="function"===typeof G.parseError?G.parseError:
Object.getPrototypeOf(this).parseError;for(var m,C,A,n,q={},v,r;;){A=b[b.length-1];if(this.defaultActions[A])n=this.defaultActions[A];else{if(null===m||"undefined"==typeof m)m=void 0,m=I.lex()||1,"number"!==typeof m&&(m=this.symbols_[m]||m);n=e[A]&&e[A][m]}if("undefined"===typeof n||!n.length||!n[0]){var t="";r=[];for(v in e[A])this.terminals_[v]&&2<v&&r.push("'"+this.terminals_[v]+"'");t=I.showPosition?"Parse error on line "+(f+1)+":\n"+I.showPosition()+"\nExpecting "+r.join(", ")+", got '"+(this.terminals_[m]||
m)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'");this.parseError(t,{text:I.match,token:this.terminals_[m]||m,line:I.yylineno,loc:H,expected:r})}if(n[0]instanceof Array&&1<n.length)throw Error("Parse Error: multiple actions possible at state: "+A+", token: "+m);switch(n[0]){case 1:b.push(m);c.push(I.yytext);d.push(I.yylloc);b.push(n[1]);m=null;C?(m=C,C=null):(p=I.yyleng,g=I.yytext,f=I.yylineno,H=I.yylloc,0<J&&J--);break;case 2:r=this.productions_[n[1]][1];
q.$=c[c.length-r];q._$={first_line:d[d.length-(r||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(r||1)].first_column,last_column:d[d.length-1].last_column};k&&(q._$.range=[d[d.length-(r||1)].range[0],d[d.length-1].range[1]]);A=this.performAction.apply(q,[g,p,f,G,n[1],c,d].concat(l));if("undefined"!==typeof A)return A;r&&(b=b.slice(0,-2*r),c=c.slice(0,-1*r),d=d.slice(0,-1*r));b.push(this.productions_[n[1]][0]);c.push(q.$);d.push(q._$);n=e[b[b.length-2]][b[b.length-1]];b.push(n);
break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=
this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-
1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=
!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<
a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,
last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?
c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;
if(this._backtrack)for(var e in d)this[e]=d[e];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!a||b[0].length>a[0].length))if(a=b,c=e,this.options.backtrack_lexer){a=this.test_match(b,d[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==
a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?
this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return this.popState(),9;case 2:return 9;case 3:return 10;case 4:return 27;case 5:return 29;case 6:return 34;case 7:return this.begin("expectLeftBracket"),
23;case 8:return 37;case 9:return 20;case 10:return 21;case 11:return 26;case 12:return 13;case 13:return 17;case 14:return 18;case 15:return 14;case 16:return 19;case 17:return 16;case 18:return 15;case 19:return 11;case 20:return 7;case 21:return 31;case 22:return 35;case 23:return 32;case 24:return 30;case 25:return 33;case 26:return 38;case 27:return 5;case 28:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][A-Za-z0-9]*(?=(\()))/,
/^(?:--\x3e)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE]|\u22a5|_\|_|[cC][oO][nN][tT][rR][aA][dD][iI][cC][tT][iI][oO][nN]|[cC][oO][nN][tT][rR][aA])/,/^(?:=)/,/^(?:[aA][nN][dD]|&|\u2227|\u2022)/,/^(?:[aA][rR][rR][oO][wW]|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:[oO][rR]|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:[nN][oO][tT]|\u00ac|~|\u02dc|!)/,/^(?:[nN][oO][rR]|\u2193)/,/^(?:[nN][aA][nN][dD]|\u2191)/,/^(?:[aA][lL][lL]|\u2200|[eE][vV][eE][rR][yY])/,/^(?:[sS][oO][mM][eE]|[eE][xX][iI][sS][tT][sS]|\u2203)/,
/^(?:[A-Zpqrs][0-9]*)/,/^(?:[a-d][0-9]*)/,/^(?:[etxyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[1],inclusive:!1},INITIAL:{rules:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}}}();e.lexer=f;a.prototype=e;e.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,
arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+" FILE"),x.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof B&&a.main===B&&f.main(x.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],12:[function(a,B,f){(function(x){var F=function(){function a(){this.yy={}}var e=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],t=[1,5],r=[1,6],q=[1,7],n=[1,9],z=[1,12],y=[1,13],w=[1,18],v=[1,
19],k=[1,14],m=[1,15],b=[1,17],d=[1,21],c=[1,22],g=[1,23],H=[1,24],C=[1,25],l=[1,26],A=[1,27],p=[1,30],L=[5,10,13,14,15,16,17,18,27,28,38],P=[1,38],x=[5,10,13,14,15,16,17,18,27,28,38,39],I=[5,10,13,14,15,16,17,18,26,27,28,32,33,34,35,36,38,39],Z=[2,31],Y=[5,10,13,14,15,16,17,18,28,38],W=[5,10,28,38],G=[28,38],e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,
or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,"[":27,"]":28,substitution_list:29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",13:"and",14:"or",
15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",28:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[9,1],[24,1],[24,2],[25,1],[25,1],
[25,1],[25,1],[29,1],[29,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,e,g,f){a=g.length-1;switch(e){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:"",location:f[a-
2],boundVariable:g[a-2],left:g[a],right:null};break;case 7:this.$={type:"and",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 8:this.$={type:"or",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nand",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"nor",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 12:this.$=
{type:"double_arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 13:this.$={type:"not",symbol:g[a-1],location:f[a-1],left:g[a],right:null};break;case 14:this.$={type:"value",symbol:g[a],location:f[a],value:!0,left:null,right:null};break;case 15:this.$={type:"value",symbol:g[a],location:f[a],value:!1,left:null,right:null};break;case 16:case 26:case 31:this.$=g[a];break;case 17:this.$={type:"predicate",name:g[a-1],location:f[a-1],termlist:g[a]};break;case 18:this.$={type:"identity",
symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 19:case 20:this.$=g[a-1];break;case 21:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 22:this.$={type:"expression_variable",location:f[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"sentence_letter",location:f[a],letter:g[a],left:null,right:null};break;case 24:this.$={type:"variable",name:g[a],location:f[a]};break;case 25:this.$={type:"term_metavariable",
name:g[a],location:f[a]};break;case 27:case 33:this.$=[g[a]];break;case 28:this.$=[g[a-1]].concat(g[a]);break;case 29:this.$={type:"name",name:g[a],location:f[a]};break;case 30:this.$={type:"name_hat",name:g[a],location:f[a]};break;case 32:this.$={type:"term_metavariable_hat",name:g[a],location:f[a]};break;case 34:this.$=[g[a-2]].concat(g[a]);break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 36:case 38:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-
1]};break;case 39:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:[1,11],30:z,31:y,32:w,33:v,34:k,35:m,36:b},{1:[3]},{5:[1,20],13:d,14:c,15:g,16:H,17:C,18:l,27:A},{4:29,5:[1,28],7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},{4:34,7:f,8:[1,31],11:[1,32],12:33,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},{4:35,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},
e(L,[2,14]),e(L,[2,15]),e(L,[2,16]),{12:16,24:36,25:37,32:w,33:v,34:k,35:m,36:b},{26:P},{4:39,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:40,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},e(x,[2,22]),e(x,[2,23]),e(I,[2,29]),e(I,[2,30]),e(I,Z),e(I,[2,32]),e(I,[2,24]),e(I,[2,25]),{1:[2,1]},{4:41,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},{4:42,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},{4:43,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,
30:z,31:y,32:w,33:v,34:k,35:m,36:b},{4:44,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},{4:45,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},{4:46,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},{12:16,22:50,25:49,29:47,30:z,31:y,32:w,33:v,34:k,35:m,36:b,37:48},{1:[2,2]},{5:[1,51],13:d,14:c,15:g,16:H,17:C,18:l,27:A},{4:39,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,
36:b},{9:52,12:53,32:w,33:v},{9:54,12:53,32:w,33:v},{10:[1,55],26:Z},{10:[1,56],13:d,14:c,15:g,16:H,17:C,18:l,27:A},e(Y,[2,13],{27:A}),e(L,[2,17]),e(L,[2,27],{12:16,25:37,24:57,32:w,33:v,34:k,35:m,36:b}),{12:16,25:58,32:w,33:v,34:k,35:m,36:b},{13:d,14:c,15:g,16:H,17:C,18:l,27:A,28:[1,59]},{26:P,28:[1,60]},e(Y,[2,7],{27:A}),e(Y,[2,8],{27:A}),e(Y,[2,9],{27:A}),e(Y,[2,10],{27:A}),e(W,[2,11],{13:d,14:c,15:g,16:H,27:A}),e(W,[2,12],{13:d,14:c,15:g,16:H,27:A}),{28:[1,61]},{28:[2,33],38:[1,62]},{39:[1,63]},
{39:[1,64]},{1:[2,3]},{10:[1,65]},{10:[2,26]},{10:[1,66]},{4:67,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},e(L,[2,19]),e(L,[2,28]),e(L,[2,18]),e(L,[2,20]),e([5,7,19,20,21,23,27,30,31,32,33,34,35,36],[2,39]),e(L,[2,21]),{12:16,22:50,25:49,29:68,30:z,31:y,32:w,33:v,34:k,35:m,36:b,37:48},{12:16,25:69,32:w,33:v,34:k,35:m,36:b,40:[1,70]},{4:71,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b,40:[1,72]},{4:73,7:f,12:16,19:t,20:r,21:q,
22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},{4:74,7:f,12:16,19:t,20:r,21:q,22:8,23:n,25:10,27:p,30:z,31:y,32:w,33:v,34:k,35:m,36:b},e(Y,[2,6],{27:A}),{28:[2,34]},e(G,[2,35]),e(G,[2,36]),e(G,[2,37],{13:d,14:c,15:g,16:H,17:C,18:l,27:A}),e(G,[2,38]),e(Y,[2,4],{27:A}),e(Y,[2,5],{27:A})],defaultActions:{20:[2,1],28:[2,2],51:[2,3],53:[2,26],68:[2,34]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,
b);}},parse:function(a){var b=[0],c=[null],d=[],e=this.table,g="",f=0,p=0,l=0,I=d.slice.call(arguments,1),G=Object.create(this.lexer),H={},m;for(m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(H[m]=this.yy[m]);G.setInput(a,H);H.lexer=G;H.parser=this;"undefined"==typeof G.yylloc&&(G.yylloc={});m=G.yylloc;d.push(m);var k=G.options&&G.options.ranges;this.parseError="function"===typeof H.parseError?H.parseError:Object.getPrototypeOf(this).parseError;for(var C,n,A,q,r={},v,t;;){A=b[b.length-
1];if(this.defaultActions[A])q=this.defaultActions[A];else{if(null===C||"undefined"==typeof C)C=void 0,C=G.lex()||1,"number"!==typeof C&&(C=this.symbols_[C]||C);q=e[A]&&e[A][C]}if("undefined"===typeof q||!q.length||!q[0]){var w="";t=[];for(v in e[A])this.terminals_[v]&&2<v&&t.push("'"+this.terminals_[v]+"'");w=G.showPosition?"Parse error on line "+(f+1)+":\n"+G.showPosition()+"\nExpecting "+t.join(", ")+", got '"+(this.terminals_[C]||C)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==C?"end of input":
"'"+(this.terminals_[C]||C)+"'");this.parseError(w,{text:G.match,token:this.terminals_[C]||C,line:G.yylineno,loc:m,expected:t})}if(q[0]instanceof Array&&1<q.length)throw Error("Parse Error: multiple actions possible at state: "+A+", token: "+C);switch(q[0]){case 1:b.push(C);c.push(G.yytext);d.push(G.yylloc);b.push(q[1]);C=null;n?(C=n,n=null):(p=G.yyleng,g=G.yytext,f=G.yylineno,m=G.yylloc,0<l&&l--);break;case 2:t=this.productions_[q[1]][1];r.$=c[c.length-t];r._$={first_line:d[d.length-(t||1)].first_line,
last_line:d[d.length-1].last_line,first_column:d[d.length-(t||1)].first_column,last_column:d[d.length-1].last_column};k&&(r._$.range=[d[d.length-(t||1)].range[0],d[d.length-1].range[1]]);A=this.performAction.apply(r,[g,p,f,H,q[1],c,d].concat(I));if("undefined"!==typeof A)return A;t&&(b=b.slice(0,-2*t),c=c.slice(0,-1*t),d=d.slice(0,-1*t));b.push(this.productions_[q[1]][0]);c.push(r.$);d.push(r._$);q=e[b[b.length-2]][b[b.length-1]];b.push(q);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,
b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=
a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);
c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=
!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=
this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,
matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var e in d)this[e]=d[e];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!a||b[0].length>a[0].length))if(a=b,c=e,this.options.backtrack_lexer){a=this.test_match(b,d[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return 7;case 2:return 10;case 3:return 27;case 4:return 28;case 5:return 38;case 6:return 23;case 7:return 39;case 8:return 20;case 9:return 21;case 10:return 26;case 11:return 13;case 12:return 17;case 13:return 18;case 14:return 14;case 15:return 19;
case 16:return 16;case 17:return 15;case 18:return 11;case 19:return 8;case 20:return 31;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 30;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,
/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],
inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();e.lexer=f;a.prototype=e;e.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+" FILE"),x.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof B&&a.main===
B&&f.main(x.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],13:[function(a,B,f){(function(x){var F=function(){function a(){this.yy={}}var e=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],t=[1,5],r=[1,6],q=[1,7],n=[1,8],z=[1,10],y=[1,12],w=[1,14],v=[1,15],k=[1,20],m=[1,21],b=[1,16],d=[1,17],c=[1,19],g=[1,23],H=[1,24],C=[1,25],l=[1,26],A=[1,27],p=[1,28],L=[1,29],P=[1,32],x=[5,10,11,12,13,14,15,25,26,27,38],I=[1,39],Z=[5,10,11,12,13,14,15,25,26,27,38,
39],Y=[5,10,11,12,13,14,15,23,25,26,27,32,33,34,35,36,38,39],W=[5,7,9,10,11,12,13,14,15,16,17,18,20,23,24,25,26,27,29,30,32,33,34,35,36,38,39],G=[5,10,11,12,13,14,15,25,27,38],J=[5,25,27,38],K=[27,38],e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,universal_quantifier:9,and:10,or:11,nand:12,nor:13,arrow:14,double_arrow:15,not:16,"true":17,"false":18,sentence_letter_or_expression_variable:19,predicate:20,termlist:21,term:22,
identity:23,"(":24,")":25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"universal_quantifier",10:"and",11:"or",12:"nand",13:"nor",14:"arrow",15:"double_arrow",16:"not",17:"true",18:"false",20:"predicate",23:"identity",24:"(",25:")",
26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[19,1],[19,1],[31,1],[31,1],[8,1],[21,1],[21,2],[22,1],[22,1],[22,1],[22,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,e,g,f){a=g.length-
1;switch(e){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-2],location:f[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-2],location:f[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 6:this.$={type:"and",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 7:this.$={type:"or",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 8:this.$=
{type:"nand",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nor",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"double_arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"not",symbol:g[a-1],location:f[a-1],left:g[a],right:null};break;case 13:this.$={type:"value",symbol:g[a],location:f[a],value:!0,left:null,
right:null};break;case 14:this.$={type:"value",symbol:g[a],location:f[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=g[a];break;case 16:this.$={type:"predicate",name:g[a-1],location:f[a-1],termlist:g[a]};break;case 17:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 18:case 19:this.$=g[a-1];break;case 20:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 21:this.$=
{type:"expression_variable",location:f[a],letter:g[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:f[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"variable",name:g[a],location:f[a]};break;case 24:this.$={type:"term_metavariable",name:g[a],location:f[a]};break;case 26:case 32:this.$=[g[a]];break;case 27:this.$=[g[a-1]].concat(g[a]);break;case 28:this.$={type:"name",name:g[a],location:f[a]};break;case 29:this.$={type:"name_hat",name:g[a],location:f[a]};
break;case 31:this.$={type:"term_metavariable_hat",name:g[a],location:f[a]};break;case 33:this.$=[g[a-2]].concat(g[a]);break;case 34:case 36:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 38:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:[1,13],29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{1:[3]},{5:[1,22],10:g,11:H,12:C,13:l,14:A,15:p,
26:L},{4:31,5:[1,30],7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{8:33,31:34,32:k,33:m},{8:35,31:34,32:k,33:m},{4:36,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},e(x,[2,13]),e(x,[2,14]),e(x,[2,15]),{21:37,22:38,31:18,32:k,33:m,34:b,35:d,36:c},{23:I},{4:40,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{4:41,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:42,24:y,26:P,29:w,30:v,
31:18,32:k,33:m,34:b,35:d,36:c},e(Z,[2,21]),e(Z,[2,22]),e(Y,[2,28]),e(Y,[2,29]),e(Y,[2,30]),e(Y,[2,31]),e(W,[2,23]),e(W,[2,24]),{1:[2,1]},{4:43,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{4:44,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{4:45,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{4:46,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,
33:m,34:b,35:d,36:c},{4:47,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{4:48,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{19:52,22:51,28:49,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c,37:50},{1:[2,2]},{5:[1,53],10:g,11:H,12:C,13:l,14:A,15:p,26:L},{4:41,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},{4:54,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,
32:k,33:m,34:b,35:d,36:c},e([7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,25]),{4:55,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c},e(G,[2,12],{26:L}),e(x,[2,16]),e(x,[2,26],{31:18,22:38,21:56,32:k,33:m,34:b,35:d,36:c}),{22:57,31:18,32:k,33:m,34:b,35:d,36:c},{10:g,11:H,12:C,13:l,14:A,15:p,25:[1,58],26:L},{10:g,11:H,12:C,13:l,14:A,15:p,26:L,27:[1,59]},{23:I,27:[1,60]},e(G,[2,6],{26:L}),e(G,[2,7],{26:L}),e(G,[2,8],{26:L}),e(G,[2,9],{26:L}),e(J,[2,10],{10:g,
11:H,12:C,13:l,26:L}),e(J,[2,11],{10:g,11:H,12:C,13:l,26:L}),{27:[1,61]},{27:[2,32],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},e(G,[2,4],{26:L}),e(G,[2,5],{26:L}),e(x,[2,27]),e(x,[2,17]),e(x,[2,18]),e(x,[2,19]),e([5,7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,38]),e(x,[2,20]),{19:52,22:51,28:65,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c,37:50},{22:66,31:18,32:k,33:m,34:b,35:d,36:c,40:[1,67]},{4:68,7:f,9:t,16:r,17:q,18:n,19:9,20:z,22:11,24:y,26:P,29:w,30:v,31:18,32:k,33:m,34:b,35:d,36:c,40:[1,69]},
{27:[2,33]},e(K,[2,34]),e(K,[2,35]),e(K,[2,36],{10:g,11:H,12:C,13:l,14:A,15:p,26:L}),e(K,[2,37])],defaultActions:{22:[2,1],30:[2,2],53:[2,3],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],e=this.table,g="",f=0,p=0,l=0,I=d.slice.call(arguments,1),G=Object.create(this.lexer),H={},m;for(m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(H[m]=
this.yy[m]);G.setInput(a,H);H.lexer=G;H.parser=this;"undefined"==typeof G.yylloc&&(G.yylloc={});m=G.yylloc;d.push(m);var C=G.options&&G.options.ranges;this.parseError="function"===typeof H.parseError?H.parseError:Object.getPrototypeOf(this).parseError;for(var A,k,n,q,r={},t,v;;){n=b[b.length-1];if(this.defaultActions[n])q=this.defaultActions[n];else{if(null===A||"undefined"==typeof A)A=void 0,A=G.lex()||1,"number"!==typeof A&&(A=this.symbols_[A]||A);q=e[n]&&e[n][A]}if("undefined"===typeof q||!q.length||
!q[0]){var J="";v=[];for(t in e[n])this.terminals_[t]&&2<t&&v.push("'"+this.terminals_[t]+"'");J=G.showPosition?"Parse error on line "+(f+1)+":\n"+G.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[A]||A)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==A?"end of input":"'"+(this.terminals_[A]||A)+"'");this.parseError(J,{text:G.match,token:this.terminals_[A]||A,line:G.yylineno,loc:m,expected:v})}if(q[0]instanceof Array&&1<q.length)throw Error("Parse Error: multiple actions possible at state: "+
n+", token: "+A);switch(q[0]){case 1:b.push(A);c.push(G.yytext);d.push(G.yylloc);b.push(q[1]);A=null;k?(A=k,k=null):(p=G.yyleng,g=G.yytext,f=G.yylineno,m=G.yylloc,0<l&&l--);break;case 2:v=this.productions_[q[1]][1];r.$=c[c.length-v];r._$={first_line:d[d.length-(v||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(v||1)].first_column,last_column:d[d.length-1].last_column};C&&(r._$.range=[d[d.length-(v||1)].range[0],d[d.length-1].range[1]]);n=this.performAction.apply(r,[g,p,
f,H,q[1],c,d].concat(I));if("undefined"!==typeof n)return n;v&&(b=b.slice(0,-2*v),c=c.slice(0,-1*v),d=d.slice(0,-1*v));b.push(this.productions_[q[1]][0]);c.push(r.$);d.push(r._$);q=e[b[b.length-2]][b[b.length-1]];b.push(q);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=
this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=
a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:
0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),
{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+
"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=
this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=
this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var e in d)this[e]=d[e];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!a||b[0].length>a[0].length))if(a=
b,c=e,this.options.backtrack_lexer){a=this.test_match(b,d[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<
this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,b,c,d){switch(c){case 1:return 24;case 2:return 25;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 20;case 7:return 39;case 8:return 17;case 9:return 18;case 10:return 23;case 11:return 10;case 12:return 14;case 13:return 15;case 14:return 11;case 15:return 16;case 16:return 13;case 17:return 12;case 18:return 9;case 19:return 7;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;
case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,
/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-w][0-9]*\^)/,/^(?:[a-w][0-9]*)/,/^(?:[xyz][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();e.lexer=f;a.prototype=e;e.Parser=a;return new a}();"undefined"!==typeof a&&
"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+" FILE"),x.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof B&&a.main===B&&f.main(x.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],14:[function(a,B,f){(function(x){var F=function(){function a(){this.yy={}}var e=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=
b);return c},f=[1,3],t=[1,4],r=[1,5],q=[1,6],n=[1,8],z=[1,10],y=[1,11],w=[1,14],v=[1,15],k=[1,12],m=[1,17],b=[1,18],d=[1,19],c=[1,20],g=[1,21],H=[1,22],C=[1,23],l=[5,9,11,12,13,14,15,16,25,27,35,36],A=[1,30],p=[5,9,11,12,13,14,15,16,24,25,27,31,32,33,35,36],L=[5,9,11,12,13,14,15,16,27,35,36],x=[5,9,27,35,36],B=[27,35],e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"(":6,existential_quantifier:7,quantifier_variable:8,")":9,universal_quantifier:10,and:11,or:12,nand:13,nor:14,
arrow:15,double_arrow:16,not:17,"true":18,"false":19,sentence_letter_or_expression_variable:20,predicate:21,termlist:22,term:23,identity:24,"[":25,substitution_list:26,"]":27,expression_variable:28,sentence_letter:29,variable_or_metavariable:30,variable:31,term_metavariable:32,name:33,substitution:34,",":35,substitution_symbol:36,"null":37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"(",7:"existential_quantifier",9:")",10:"universal_quantifier",11:"and",12:"or",13:"nand",14:"nor",15:"arrow",
16:"double_arrow",17:"not",18:"true",19:"false",21:"predicate",24:"identity",25:"[",27:"]",28:"expression_variable",29:"sentence_letter",31:"variable",32:"term_metavariable",33:"name",35:",",36:"substitution_symbol",37:"null"},productions_:[0,[3,2],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,4],[20,1],[20,1],[30,1],[30,1],[8,1],[22,1],[22,2],[23,1],[23,1],[26,1],[26,3],[34,3],[34,3],[34,3],[34,3]],performAction:function(a,b,c,d,e,g,f){a=g.length-1;
switch(e){case 1:return g[a-1];case 2:this.$={type:"existential_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 3:this.$={type:"universal_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 4:this.$={type:"and",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 5:this.$={type:"or",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 6:this.$={type:"nand",symbol:g[a-1],location:f[a-
1],left:g[a-2],right:g[a]};break;case 7:this.$={type:"nor",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 8:this.$={type:"arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"double_arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"not",symbol:g[a-1],location:f[a-1],left:g[a],right:null};break;case 11:this.$={type:"value",symbol:g[a],location:f[a],value:!0,left:null,right:null};break;case 12:this.$={type:"value",
symbol:g[a],location:f[a],value:!1,left:null,right:null};break;case 13:case 22:case 26:this.$=g[a];break;case 14:this.$={type:"predicate",name:g[a-1],location:f[a-1],termlist:g[a]};break;case 15:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 16:this.$=g[a-1];break;case 17:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 18:this.$={type:"expression_variable",location:f[a],letter:g[a],
left:null,right:null};break;case 19:this.$={type:"sentence_letter",location:f[a],letter:g[a],left:null,right:null};break;case 20:this.$={type:"variable",name:g[a],location:f[a]};break;case 21:this.$={type:"term_metavariable",name:g[a],location:f[a]};break;case 23:case 27:this.$=[g[a]];break;case 24:this.$=[g[a-1]].concat(g[a]);break;case 25:this.$={type:"name",name:g[a],location:f[a]};break;case 28:this.$=[g[a-2]].concat(g[a]);break;case 29:case 31:this.$={type:"substitution",from:g[a-2],to:g[a],
symbol:g[a-1]};break;case 30:case 32:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]}}},table:[{3:1,4:2,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{1:[3]},{5:[1,16],11:m,12:b,13:d,14:c,15:g,16:H,25:C},{4:26,6:f,7:[1,24],10:[1,25],17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{4:27,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},e(l,[2,11]),e(l,[2,12]),e(l,[2,13]),{22:28,23:29,30:13,31:w,32:v,33:k},{24:A},e(l,[2,18]),e(l,[2,19]),
e(p,[2,25]),e(p,[2,26]),e(p,[2,20]),e(p,[2,21]),{1:[2,1]},{4:31,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{4:32,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{4:33,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{4:34,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{4:35,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{4:36,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{4:40,6:f,17:t,
18:r,19:q,20:7,21:n,23:39,26:37,28:z,29:y,30:13,31:w,32:v,33:k,34:38},{8:41,30:42,31:w,32:v},{8:43,30:42,31:w,32:v},{9:[1,44],11:m,12:b,13:d,14:c,15:g,16:H,25:C},e(L,[2,10],{25:C}),e(l,[2,14]),e(l,[2,23],{30:13,23:29,22:45,31:w,32:v,33:k}),{23:46,30:13,31:w,32:v,33:k},e(L,[2,4],{25:C}),e(L,[2,5],{25:C}),e(L,[2,6],{25:C}),e(L,[2,7],{25:C}),e(x,[2,8],{11:m,12:b,13:d,14:c,25:C}),e(x,[2,9],{11:m,12:b,13:d,14:c,25:C}),{27:[1,47]},{27:[2,27],35:[1,48]},{24:A,36:[1,49]},{11:m,12:b,13:d,14:c,15:g,16:H,25:C,
36:[1,50]},{9:[1,51]},{9:[2,22]},{9:[1,52]},e(l,[2,16]),e(l,[2,24]),e(l,[2,15]),e(l,[2,17]),{4:40,6:f,17:t,18:r,19:q,20:7,21:n,23:39,26:53,28:z,29:y,30:13,31:w,32:v,33:k,34:38},{23:54,30:13,31:w,32:v,33:k,37:[1,55]},{4:56,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k,37:[1,57]},{4:58,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{4:59,6:f,17:t,18:r,19:q,20:7,21:n,23:9,28:z,29:y,30:13,31:w,32:v,33:k},{27:[2,28]},e(B,[2,29]),e(B,[2,30]),e(B,[2,31],{11:m,12:b,13:d,
14:c,15:g,16:H,25:C}),e(B,[2,32]),e(L,[2,2],{25:C}),e(L,[2,3],{25:C})],defaultActions:{16:[2,1],42:[2,22],53:[2,28]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],e=this.table,g="",f=0,p=0,l=0,H=d.slice.call(arguments,1),m=Object.create(this.lexer),A={},C;for(C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(A[C]=this.yy[C]);m.setInput(a,A);A.lexer=
m;A.parser=this;"undefined"==typeof m.yylloc&&(m.yylloc={});C=m.yylloc;d.push(C);var n=m.options&&m.options.ranges;this.parseError="function"===typeof A.parseError?A.parseError:Object.getPrototypeOf(this).parseError;for(var k,q,r,v,t={},w,y;;){r=b[b.length-1];if(this.defaultActions[r])v=this.defaultActions[r];else{if(null===k||"undefined"==typeof k)k=void 0,k=m.lex()||1,"number"!==typeof k&&(k=this.symbols_[k]||k);v=e[r]&&e[r][k]}if("undefined"===typeof v||!v.length||!v[0]){var z="";y=[];for(w in e[r])this.terminals_[w]&&
2<w&&y.push("'"+this.terminals_[w]+"'");z=m.showPosition?"Parse error on line "+(f+1)+":\n"+m.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[k]||k)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==k?"end of input":"'"+(this.terminals_[k]||k)+"'");this.parseError(z,{text:m.match,token:this.terminals_[k]||k,line:m.yylineno,loc:C,expected:y})}if(v[0]instanceof Array&&1<v.length)throw Error("Parse Error: multiple actions possible at state: "+r+", token: "+k);switch(v[0]){case 1:b.push(k);
c.push(m.yytext);d.push(m.yylloc);b.push(v[1]);k=null;q?(k=q,q=null):(p=m.yyleng,g=m.yytext,f=m.yylineno,C=m.yylloc,0<l&&l--);break;case 2:y=this.productions_[v[1]][1];t.$=c[c.length-y];t._$={first_line:d[d.length-(y||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(y||1)].first_column,last_column:d[d.length-1].last_column};n&&(t._$.range=[d[d.length-(y||1)].range[0],d[d.length-1].range[1]]);r=this.performAction.apply(t,[g,p,f,A,v[1],c,d].concat(H));if("undefined"!==typeof r)return r;
y&&(b=b.slice(0,-2*y),c=c.slice(0,-1*y),d=d.slice(0,-1*y));b.push(this.productions_[v[1]][0]);c.push(t.$);d.push(t._$);v=e[b[b.length-2]][b[b.length-1]];b.push(v);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];
this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=
a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:
this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});
return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,
b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=
a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);
this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var e in d)this[e]=d[e];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!a||b[0].length>a[0].length))if(a=b,c=e,this.options.backtrack_lexer){a=
this.test_match(b,d[e]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():
this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return 6;
case 2:return 9;case 3:return 25;case 4:return 27;case 5:return 35;case 6:return 21;case 7:return 36;case 8:return 18;case 9:return 19;case 10:return 24;case 11:return 11;case 12:return 15;case 13:return 16;case 14:return 12;case 15:return 17;case 16:return 14;case 17:return 13;case 18:return 10;case 19:return 7;case 20:return 29;case 21:return 37;case 22:return 33;case 23:return 31;case 24:return 28;case 25:return 32;case 26:return 5;case 27:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,
/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*)/,
/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],inclusive:!0}}}}();e.lexer=f;a.prototype=e;e.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(E){E[1]||(console.log("Usage: "+
E[0]+" FILE"),x.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof B&&a.main===B&&f.main(x.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],15:[function(a,B,f){(function(x){var F=function(){function a(){this.yy={}}var e=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,4],t=[1,5],r=[1,6],q=[1,7],n=[1,9],z=[1,12],y=[1,13],w=[1,18],v=[1,19],k=[1,14],m=[1,15],b=[1,17],d=[1,21],c=[1,22],g=[1,23],H=
[1,24],C=[1,25],l=[1,26],A=[1,27],p=[1,30],L=[5,10,12,13,14,15,16,17,26,27,38],x=[1,37],B=[5,10,12,13,14,15,16,17,26,27,38,39],I=[5,10,12,13,14,15,16,17,25,26,27,32,33,34,35,36,38,39],Z=[5,10,12,13,14,15,16,17,27,38],F=[5,10,27,38],W=[27,38],e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,and:12,or:13,nand:14,nor:15,arrow:16,double_arrow:17,not:18,"true":19,"false":20,sentence_letter_or_expression_variable:21,
predicate:22,termlist:23,term:24,identity:25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",12:"and",13:"or",14:"nand",15:"nor",16:"arrow",17:"double_arrow",18:"not",19:"true",20:"false",22:"predicate",
25:"identity",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[21,1],[21,1],[31,1],[31,1],[9,1],[23,1],[23,2],[24,1],[24,1],[24,1],[24,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,d,e,g,
f){a=g.length-1;switch(e){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"and",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 7:this.$={type:"or",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};
break;case 8:this.$={type:"nand",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nor",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"double_arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"not",symbol:g[a-1],location:f[a-1],left:g[a],right:null};break;case 13:this.$={type:"value",symbol:g[a],location:f[a],
value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:g[a],location:f[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=g[a];break;case 16:this.$={type:"predicate",name:g[a-1],location:f[a-1],termlist:g[a]};break;case 17:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 18:case 19:this.$=g[a-1];break;case 20:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];
break;case 21:this.$={type:"expression_variable",location:f[a],letter:g[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:f[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"variable",name:g[a],location:f[a]};break;case 24:this.$={type:"term_metavariable",name:g[a],location:f[a]};break;case 26:case 32:this.$=[g[a]];break;case 27:this.$=[g[a-1]].concat(g[a]);break;case 28:this.$={type:"name",name:g[a],location:f[a]};break;case 29:this.$={type:"name_hat",
name:g[a],location:f[a]};break;case 31:this.$={type:"term_metavariable_hat",name:g[a],location:f[a]};break;case 33:this.$=[g[a-2]].concat(g[a]);break;case 34:case 36:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 38:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:[1,11],29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{1:[3]},{5:[1,20],12:d,13:c,14:g,
15:H,16:C,17:l,26:A},{4:29,5:[1,28],7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{4:33,7:f,8:[1,31],11:[1,32],18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{4:34,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},e(L,[2,13]),e(L,[2,14]),e(L,[2,15]),{23:35,24:36,31:16,32:w,33:v,34:k,35:m,36:b},{25:x},{4:38,7:f,18:t,19:r,20:q,21:8,22:n,24:39,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},e(B,[2,21]),
e(B,[2,22]),e(I,[2,28]),e(I,[2,29]),e(I,[2,30]),e(I,[2,31]),e(I,[2,23]),e(I,[2,24]),{1:[2,1]},{4:40,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{4:41,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{4:42,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{4:43,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{4:44,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,
31:16,32:w,33:v,34:k,35:m,36:b},{4:45,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{21:49,24:48,28:46,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b,37:47},{1:[2,2]},{5:[1,50],12:d,13:c,14:g,15:H,16:C,17:l,26:A},{4:38,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{9:51,31:52,32:w,33:v},{9:53,31:52,32:w,33:v},{10:[1,54],12:d,13:c,14:g,15:H,16:C,17:l,26:A},e(Z,[2,12],{26:A}),e(L,[2,16]),e(L,[2,26],{31:16,24:36,23:55,32:w,33:v,34:k,35:m,
36:b}),{24:56,31:16,32:w,33:v,34:k,35:m,36:b},{12:d,13:c,14:g,15:H,16:C,17:l,26:A,27:[1,57]},{25:x,27:[1,58]},e(Z,[2,6],{26:A}),e(Z,[2,7],{26:A}),e(Z,[2,8],{26:A}),e(Z,[2,9],{26:A}),e(F,[2,10],{12:d,13:c,14:g,15:H,26:A}),e(F,[2,11],{12:d,13:c,14:g,15:H,26:A}),{27:[1,59]},{27:[2,32],38:[1,60]},{39:[1,61]},{39:[1,62]},{1:[2,3]},{10:[1,63]},{10:[2,25]},{10:[1,64]},e(L,[2,18]),e(L,[2,27]),e(L,[2,17]),e(L,[2,19]),e([5,7,18,19,20,22,26,29,30,32,33,34,35,36],[2,38]),e(L,[2,20]),{21:49,24:48,28:65,29:z,30:y,
31:16,32:w,33:v,34:k,35:m,36:b,37:47},{24:66,31:16,32:w,33:v,34:k,35:m,36:b,40:[1,67]},{4:68,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b,40:[1,69]},{4:70,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{4:71,7:f,18:t,19:r,20:q,21:8,22:n,24:10,26:p,29:z,30:y,31:16,32:w,33:v,34:k,35:m,36:b},{27:[2,33]},e(W,[2,34]),e(W,[2,35]),e(W,[2,36],{12:d,13:c,14:g,15:H,16:C,17:l,26:A}),e(W,[2,37]),e(Z,[2,4],{26:A}),e(Z,[2,5],{26:A})],defaultActions:{20:[2,
1],28:[2,2],50:[2,3],52:[2,25],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],d=[],g=this.table,e="",f=0,p=0,l=0,H=d.slice.call(arguments,1),m=Object.create(this.lexer),A={},C;for(C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(A[C]=this.yy[C]);m.setInput(a,A);A.lexer=m;A.parser=this;"undefined"==typeof m.yylloc&&(m.yylloc={});C=m.yylloc;
d.push(C);var k=m.options&&m.options.ranges;this.parseError="function"===typeof A.parseError?A.parseError:Object.getPrototypeOf(this).parseError;for(var n,q,v,r,t={},w,y;;){v=b[b.length-1];if(this.defaultActions[v])r=this.defaultActions[v];else{if(null===n||"undefined"==typeof n)n=void 0,n=m.lex()||1,"number"!==typeof n&&(n=this.symbols_[n]||n);r=g[v]&&g[v][n]}if("undefined"===typeof r||!r.length||!r[0]){var I="";y=[];for(w in g[v])this.terminals_[w]&&2<w&&y.push("'"+this.terminals_[w]+"'");I=m.showPosition?
"Parse error on line "+(f+1)+":\n"+m.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'");this.parseError(I,{text:m.match,token:this.terminals_[n]||n,line:m.yylineno,loc:C,expected:y})}if(r[0]instanceof Array&&1<r.length)throw Error("Parse Error: multiple actions possible at state: "+v+", token: "+n);switch(r[0]){case 1:b.push(n);c.push(m.yytext);d.push(m.yylloc);b.push(r[1]);
n=null;q?(n=q,q=null):(p=m.yyleng,e=m.yytext,f=m.yylineno,C=m.yylloc,0<l&&l--);break;case 2:y=this.productions_[r[1]][1];t.$=c[c.length-y];t._$={first_line:d[d.length-(y||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(y||1)].first_column,last_column:d[d.length-1].last_column};k&&(t._$.range=[d[d.length-(y||1)].range[0],d[d.length-1].range[1]]);v=this.performAction.apply(t,[e,p,f,A,r[1],c,d].concat(H));if("undefined"!==typeof v)return v;y&&(b=b.slice(0,-2*y),c=c.slice(0,
-1*y),d=d.slice(0,-1*y));b.push(this.productions_[r[1]][0]);c.push(t.$);d.push(t._$);r=g[b[b.length-2]][b[b.length-1]];b.push(r);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,
first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=
this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-
b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},
less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,
d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,
this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var g in d)this[g]=d[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),g=0;g<d.length;g++)if((b=this._input.match(this.rules[d[g]]))&&(!a||b[0].length>a[0].length))if(a=b,c=g,this.options.backtrack_lexer){a=this.test_match(b,d[g]);if(!1!==a)return a;
if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 1:return 7;case 2:return 10;
case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 22;case 7:return 39;case 8:return 19;case 9:return 20;case 10:return 25;case 11:return 12;case 12:return 16;case 13:return 17;case 14:return 13;case 15:return 18;case 16:return 15;case 17:return 14;case 18:return 11;case 19:return 8;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,
/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,
/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();e.lexer=f;a.prototype=e;e.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,
arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+" FILE"),x.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof B&&a.main===B&&f.main(x.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],16:[function(a,B,f){var x,F,E,e,M,t,r,q,n,z,y,w,v,k,m;F=a("lodash");k=a("./justification_parser");r=a("../dialect_manager/dialectManager");t=a("./add_line_numbers").cleanNumber;x=k.parse("premise");f.to=function(a){var d;
d={visit:function(a){var b,d,e;"line"===a.type&&null==a.justification&&null==a.justificationErrors&&(d=m(a.content),a.justification=d.justification,null!=(null!=(e=a.justification)?e.numbers:void 0)&&(a.justification.numbers=function(){var d,e,f,m;f=a.justification.numbers;m=[];d=0;for(e=f.length;d<e;d++)b=f[d],m.push(t(b));return m}()),a.content=d.rest,a.justificationErrors=d.justificationErrors,a.justificationText=d.justificationText,a.getRuleName=v,a.findLine=n,a.findBlock=q,a.findLineOrBlock=
z,a.getCitedLines=w,a.getCitedBlocks=y,a.isPremise=function(){return a.justification.rule.connective===x.rule.connective})}};a.walk(d);d={visit:function(a){"line"===a.type&&null==a.justification&&null==a.justificationErrors&&M(a)&&(a.justification=x)}};a.walk(d);d={visit:function(a){"block"===a.type&&(a.getConclusion=function(){var b;b=F.last(a.content);return"line"===b.type&&null!=b.sentence?b.sentence:!1},a.getPremises=function(){var b,d;b=F.filter(a.content,function(a){var b,c;return"line"!==a.type||
null==a.sentence||"premise"!==(null!=(b=a.justification)?null!=(c=b.rule)?c.connective:void 0:void 0)?!1:!0});return function(){var a,c,e;e=[];a=0;for(c=b.length;a<c;a++)d=b[a],e.push(d.sentence);return e}()})}};a.walk(d);return a};E=/((\s)*\/\/)|(\\)|(--)/;e=/(\S+)(\s\s\s)(?=\s*\S+)/;m=function(a){var d,c,g,f;c=a.match(E);if(null!=c)f=a.slice(0,c.index),g=c[0].length,a=a.slice(c.index+g);else if(c=a.match(e),null!=c)f=c[1],f=a.slice(0,c.index+f.length),g=c[0].length,a=a.slice(c.index+g);else return{justification:null,
rest:a,justificationErrors:null};try{d=k.parse(a)}catch(m){return{justification:null,rest:f,justificationErrors:m.message,justificationText:a}}return{justification:d,rest:f,justificationErrors:null}};M=function(a){var d,c,g,e,f,l;d=a.parent;if(a===d.content[0])return!0;if(null!=d.parent)return!1;f=d.content;l=e=!1;c=0;for(g=f.length;c<g;c++){d=f[c];if("divider"===d.type){l=!0;break}d===a&&(e=!0)}return e&&l?!0:!1};f._isPremise=M;v=function(){var a;return null==(null!=(a=this.justification)?a.rule:
void 0)?"":((r.getSymbols()[this.justification.rule.connective]||this.justification.rule.connective)+" "+(this.justification.rule.variant.intronation||"")+" "+(this.justification.rule.variant.side||"")).trim()};n=function(a){return this.findAbove(function(d){if("line"===d.type&&d.number===a)return!0})};q=function(a){return this.findAbove(function(d){if("block"===d.type&&d.number===a)return!0})};z=function(a){return this.findAbove(function(d){if(("block"===d.type||"line"===d.type)&&d.number===a)return!0})};
w=function(){var a,d,c,g,e;if(!this.justification.numbers)return[];a=[];g=this.justification.numbers;d=0;for(c=g.length;d<c;d++)e=g[d],e=this.findLine(e),!1!==e&&a.push(e);return a};y=function(){var a,d,c,g,e;if(!this.justification.numbers)return[];a=[];g=this.justification.numbers;d=0;for(c=g.length;d<c;d++)e=g[d],e=this.findBlock(e),!1!==e&&a.push(e);return a}},{"../dialect_manager/dialectManager":5,"./add_line_numbers":17,"./justification_parser":24,lodash:9}],17:[function(a,B,f){var x,F,E,e,M,
t=[].indexOf||function(a){for(var e=0,f=this.length;e<f;e++)if(e in this&&this[e]===a)return e;return-1};x=a("lodash");E=/^([|\s])*\(?([0-9]\S*)([|\s]*)([\s\S]*)/;F=/\.*\)?$/;e=function(a){return a.replace(F,"")};f.cleanNumber=e;M=function(a){var f;return(f=a.content.match(E))?(a=f[2],a=e(a),{lineNumber:a,rest:f[4]}):{lineNumber:null,rest:a.content}};f.to=function(a){a.walk({usedLineNumbers:[],lineCounter:0,userNumberedLines:!1,visit:function(a){var e,f;if("block"!==a.type){this.lineCounter+=1;f=
M(a);e=f.lineNumber;f=f.rest;if(e||0===e)this.userNumberedLines=!0;null===e&&(e="line"===a.type?""+this.lineCounter:this.lineCounter+"x");if(0<=t.call(this.usedLineNumbers,e))throw Error("Duplicate line number '"+e+"' used for the second time at line "+this.lineCounter+".  Line numbers must be unique.");this.usedLineNumbers.push(e);a.number=e;a.content=f}}});a.walk({visit:function(e){var f;if("block"===e.type&&(a=e,0!==a.content.length)){e=a.content[0];for(f=x.last(a.content);"block"===f.type;)f=
x.last(f.content);null!=e.number&&null!=f.number&&(a.number=e.number+"-"+f.number)}}});return a}},{lodash:9}],18:[function(a,B,f){var x;x=a("../fol");a("../substitute");a("../util");f.to=function(a){a.walk({visit:function(a){if("line"===a.type&&null==a.sentence&&null==a.sentenceErrors){a.sentenceText=a.content;try{a.sentence=x.parse(a.sentenceText)}catch(e){a.sentenceErrors=e.message}}}});return a}},{"../fol":7,"../substitute":29,"../util":31}],19:[function(a,B,f){var x,F;a("../fol");a("../substitute");
F=a("../util");f.to=function(a){a.walk({visit:function(a){if(null!=(null!=a?a.type:void 0))switch(a.type){case "block":a.listErrorMessages=function(){throw"Not implemented yet!";};break;default:a.status=new x(a),a.getErrorMessage=function(){return a.status.getMessage()}}}});return a};x=function(){function a(e){var f;this.line=e;this.messages=[];this.verificationAttempted=this.verified=!1;this.sentenceParsed=null!=this.line.sentence;this.justificationParsed=null!=this.line.justification;null!=this.line.sentenceErrors&&
(e=F.getLanguageNames(),this.addMessage("the sentence you wrote ("+this.line.sentenceText+") is not a sentence or well-formed formula of "+e.join(" or ")+"."));null!=this.line.justificationErrors&&this.addMessage("the justification your supplied ("+(null!=(f=this.line.justificationText)?f.trim():void 0)+") either mentions a rule you can't use here or doesn't make sense.");"line"===this.line.type&&null==this.line.justification&&null==this.line.justificationErrors&&this.addMessage("you supplied no justification for this line.")}
a.prototype.addMessage=function(a){return this.messages.push(a)};a.prototype.clearMessages=function(){return this.messages=[]};a.prototype.popMessage=function(){return 0<this.messages.length?this.messages.pop():""};a.prototype.addAlthoughMessage=function(a){if(null!=this._addedAlthough)return this.addMessage("and although "+a);this.addMessage("although "+a);return this._addedAlthough=!0};a.prototype.getMessage=function(){var a,f,t,r,q;if(0===this.messages.length)return"";t="This line is "+((this.verified?
void 0:"not correct because")||"correct but")+" "+this.messages[0];1<this.messages.length&&(t+="And also "+this.messages[1]);2<this.messages.length&&(t+="Further, "+this.messages[2]);3<this.messages.length&&(t+="And, for another thing, "+this.messages[3]);if(4<this.messages.length)for(r=this.messages.splice(4),a=0,f=r.length;a<f;a++)q=r[a],t+="And "+q;return t};return a}()},{"../fol":7,"../substitute":29,"../util":31}],20:[function(a,B,f){var x,F,E,e,M,t,r,q,n,z,y,w,v,k=[].indexOf||function(a){for(var b=
0,d=this.length;b<d;b++)if(b in this&&this[b]===a)return b;return-1};x=a("lodash");w=a("../util");q=a("./block_parser");M=a("./add_line_numbers");e=a("./add_justification");t=a("./add_sentences");r=a("./add_status");a("./fitch_rules");a("./teller_rules");a("./forallx_rules");a("./logicbook_rules");y=a("../dialect_manager/dialectManager");E=function(a){a=q.parse(a);M.to(a);e.to(a);t.to(a);r.to(a);return a};f.to=function(a){return a.walk({visit:function(b){null!=(null!=b?b.type:void 0)&&(b.verify="block"===
b.type?function(){var a;a=!0;b.walk({visit:function(b){"line"===b.type&&(b=b.verify(),a=a&&b)}});return a}:function(){return v(b,a)})}})};v=function(a,b){var d,c;x.isString(b)&&(b=E(b));d=b;if(null!=a.type)c=a;else if(c=d.getLine(a),!c)throw Error("Could not find line "+a+" in "+b);c.status.verificationAttempted=!0;if("line"!==c.type)return c.status.verified=!0,c.status.addMessage("(This is a "+c.type.replace(/_/g," ")+")"),!0;if(null!=c.sentenceErrors||null!=c.justificationErrors||null==c.justification)return c.status.verified=
!1;d=F(c);return!0!==d?(c.status.addMessage(d),c.status.verified=!1):n(c)};f._line=v;F=function(a){var b,d,c,g,e,f,l,A;f=a.justification.numbers;if(!f)return!0;c=0;for(g=f.length;c<g;c++){e=f[c];d=a.findLineOrBlock(e);if(!d)return"something you cited, "+e+", cannot be cited here (either it does not exist, or it is below this line, or else it occurs above but in a closed subproof).";b=[];for(l=a.parent;l;)b.push(l),l=l.parent;if(0<=k.call(b,d))return"you cannot cite a subproof ("+e+") from within that subproof (you must close it, then cite it).";
if("line"!==(A=d.type)&&"block"!==A)return"you cannot cite line "+e+" because it is a "+d.type.replace(/_/g," ")+".";if("line"===d.type&&!0!==d.status.sentenceParsed)return a=w.getLanguageNames(),"you cannot cite line "+e+" yet because it does not contain a correct sentence of "+a.join(" or ")+".";if("block"===d.type){b=d.getFirstLine();d=d.getLastLine();if("block"===d.type)return"you cannot cite "+e+" because it finishes with an unclosed (sub)subproof (you must close it, then cite it)";if(null==
b||null==d||!b.status.sentenceParsed||!d.status.sentenceParsed)return a=w.getLanguageNames(),"you cannot cite subproof "+e+" yet because it contains lines that are not correct sentence of "+a.join(" or ")+"."}}return!0};f._linesCitedAreOk=F;z=function(a,b){var d,c,e,f,k,l;c=[];e=0;for(f=b.length;e<f;e++){d=b[e];d=d.check(a);if(!0===d)return a.status.verified=!0;d=a.status.popMessage();null!=d&&c.push(d)}a.status.verified=!1;1===c.length&&a.status.addMessage(c[0]);if(1<c.length){d="This rule has multiple forms and none of them matched.  ";
e=f=0;for(k=c.length;f<k;e=++f)l=c[e],d+="("+e+") "+l+"  ";a.status.addMessage(d)}return!1};n=function(a){var b,d,c,e,f,k,l;b=a.justification.rule.connective;d=null!=(e=a.justification.rule.variant)?e.intronation:void 0;e=null!=(f=a.justification.rule.variant)?f.side:void 0;f=y.getCurrentRules()[b];if(null==f)return a.status.addMessage(("the rule you specified, `"+b+" "+(d||"")+" "+(e||"")+"` does not exist (or, if it does, you are not allowed to use it in this proof).").replace(/\s\s+/g,"")),a.status.verified=
!1;if(!d){if("rule"===f.type)return z(a,[f]);if(x.isArray(f))return z(a,f);a.status.addMessage("you only partially specified the rule: `"+b+"` needs something extra (intro? elim?).");return a.status.verified=!1}f=f[d];if(null==f)return a.status.addMessage("you specified the rule "+b+" *"+d+"* but there is no \u2018"+d+"\u2019 version of the rule for "+b+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;if(!e){if("rule"===f.type)return z(a,[f]);if(x.isArray(f))return z(a,
f);b=[];"rule"===(null!=(k=f.left)?k.type:void 0)&&b.push(f.left);if(x.isArray(f.left))for(l=f.left,d=0,e=l.length;d<e;d++)k=l[d],b.push(k);"rule"===(null!=(c=f.right)?c.type:void 0)&&b.push(f.right);if(x.isArray(f.right))for(d=f.right,c=0,f=d.length;c<f;c++)k=d[c],b.push(k);return z(a,b)}if(null==f[e])return a.status.addMessage("you specified the rule "+b+" "+d+" *"+e+"* but there is no \u2018"+e+"\u2019 version of  "+b+" "+d+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=
!1;b=f[e];x.isArray(b)||(b=[b]);return z(a,b)}},{"../dialect_manager/dialectManager":5,"../util":31,"./add_justification":16,"./add_line_numbers":17,"./add_sentences":18,"./add_status":19,"./block_parser":21,"./fitch_rules":22,"./forallx_rules":23,"./logicbook_rules":25,"./teller_rules":28,lodash:9}],21:[function(a,B,f){var x,F,E,e,M,t,r,q,n,z,y,w,v,k,m=[].indexOf||function(a){for(var d=0,c=this.length;d<c;d++)if(d in this&&this[d]===a)return d;return-1};F=a("lodash");k=a("../util");f.parse=function(a){var d,
c,e,f,k,l,A,p;F.isString(a)&&(a=a.split("\n"));if(0===a.length)return new x("");r(a);a=q(a);d=a[0];p=0<=m.call(d.indentation,"|");for(c=A=new x(d.indentation);0<a.length;)if(f=a.shift(),"line"===f.type||p&&"blank_line"===f.type){for(f.indentation.length>c.indentation.length&&(c=c.newBlock(f.indentation));c&&f.indentation.length<c.indentation.length;)c=c.close();if(!c||f.indentation.length!==c.indentation.length)throw Error("Bad indentation at line "+f.idx+" ("+f.originalText+"). (It is indented to a level to which no earlier line is indented.)");
c.newLine(f)}else if("divider"===f.type)c.newLine(f);else if("blank_line"===f.type&&!p){for(d=[f];0<a.length&&"blank_line"===a[0].type;)d.push(a.shift());if(c===A)for(e=0,k=d.length;e<k;e++)f=d[e],c.newLine(f);else if(e=a[0].indentation,e.length===c.indentation.length){e=c;l=c.close();c=0;for(k=d.length;c<k;c++)f=d[c],l.newLine(f);c=l.newBlock(e.indentation)}else if(e.length>c.indentation.length){l=0;for(k=d.length;l<k;l++)f=d[l],c.newLine(f);c=c.newBlock(e)}else{for(;c&&e.length<c.indentation.length;)c=
c.close();if(!c||e.length!==c.indentation.length)throw Error("Bad indentation at line "+f.idx+" ("+f.originalText+"). (It is indented to a level to which no earlier line is indented.)");k=0;for(e=d.length;k<e;k++)f=d[k],c.newLine(f)}}for(;c!==A;)c=c.close();return c};r=function(a){};q=function(a){var d,c,e,f,k,l,A,p,q;f=t(a);p=[];e=k=0;for(l=a.length;k<l;e=++k)A=a[e],d=v(A,f),c=d.indentation,d=d.content,q="line",n(d)&&(q="blank_line"),z(d)&&(q="divider"),p.push({indentation:c,content:d,idx:e+1,type:q,
originalText:A});a=!1;e=[];k=0;for(f=p.length;k<f;k++)c=p[k],e.push(c.indentation);f=0;for(k=e.length;f<k;f++)if(c=e[f],0<=m.call(c,"|")){a=!0;break}if(a)for(e=0,a=p.length;e<a;e++)c=p[e],c.indentation=c.indentation.replace(/\s+/g,"");return p};E=/^([|\s]+)/;t=function(a){var d,c,e,f,k;if(!a||0===a.length)return!0;c=null!=(e=a[0].match(E))?e[1]:void 0;e=0;for(f=a.length;e<f;e++)if(d=a[e],""!==d.replace(/[|-\s]/g,"")&&(k=d.match(E),d=null!=k?k[1]:void 0,null!==k&&d!==c))return!0;return!1};f.areLinesFormattedIndentationFirst=
t;e=/^([|\s]*)([\s\S]*)/;M=/^([|\s]*)(\(?[0-9]+[^|\s]*)?([|\s]*)([\s\S]*)/;v=function(a,d){var c,g,f,k;if(d)return c=a.match(e),{indentation:c[1],content:c[2]};c=a.match(M);k=c[1]||"";g=c[2];f=c[3]||"";c=c[4]||"";return g?{indentation:f,content:g+" "+c}:{indentation:k,content:""+c}};f.split=v;w=function(a){return a.replace(/[0-9]\S*/,"")};y=function(a){return a.replace(/\|/g,"")};z=function(a){a=w(a);a=y(a);return null!==a.match(/^\s*(--)/)?!0:!1};f._isDivider=z;n=function(a){a=w(a);a=y(a);return""===
a.trim()};f._isBlank=n;x=function(){function a(b,c,e){this.indentation=b;this.parent=c;this.prev=e;this.type="block";this.content=[];this._depth=null==this.parent?1:this.parent._depth+1}a.prototype.getFirstLine=function(){return 0<this.content.length?this.content[0]:null};a.prototype.getLastLine=function(){return 0<this.content.length?F.last(this.content):null};a.prototype.newLine=function(a){a.parent=this;a.prev=this.getLastLine();a.lineNumberInSource=a.idx;a.findAbove=function(a){var b;for(b=this.prev||
this.parent;null!=b&&null!=b.parent;){if(a(b))return b;b=null==b.prev&&null!=b.parent?b.parent:b.prev}return!1};this.content.push(a);return a};a.prototype.newBlock=function(d){d=new a(d,this,this.getLastLine());this.content.push(d);return d};a.prototype.close=function(){return this.parent};a.prototype.walk=function(a){var b,e,f,k,l;l=a.visit(this);if(null!=l)return l;k=this.content;e=0;for(f=k.length;e<f;e++){b=k[e];l=a.visit(b);if(null!=l)return l;"block"===b.type&&(l=b.walk(a));if(null!=l)return l}};
a.prototype.getLine=function(a){var b;b=this.walk({onLine:0,visit:function(b){if("block"!==b.type&&(this.onLine+=1,this.onLine===a))return b}});if(null==b)throw Error("Could not get line number "+a);return b};a.prototype.toString=function(){return JSON.stringify(this,function(a,b){return!b||"prev"!==a&&"parent"!==a?"sentence"===a?k.expressionToString(b):F.isFunction(b)?void 0:b:"[circular reference to "+(null!=b?b.type:void 0)+", depth "+(null!=b?b._depth:void 0)+"]"},4)};return a}();f.Block=x},{"../util":31,
lodash:9}],22:[function(a,B,f){B=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(B.getParser("awFOL"));a={_description:"Rules of proof for classical first-order logic.  The rules assume that\nthere is no possible situation with an empty domain.",premise:a.premise(),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6",
"\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:a.from(a.subproof("\u03c6","contradiction")).to("not \u03c6")},contradiction:{elim:a.from("contradiction").to("\u03c6"),intro:a.from("not \u03c6").and("\u03c6").to("contradiction")},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},
double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]",
"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:{left:a.from(a.subproof("[\u03b1]","\u03c6[\u03c4--\x3e\u03b1]")).to("all \u03c4 \u03c6"),right:a.from(a.subproof("[\u03b1]\u03c6","\u03c8")).to("all \u03c4 (\u03c6 arrow \u03c8)[\u03b1--\x3e\u03c4]")}}};f.rules=a;B.registerRuleSet("fitch",a)},{"../dialect_manager/dialectManager":5,"./rule":27}],23:[function(a,
B,f){B=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(B.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.premise(),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),right:a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")},
intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},not:{elim:a.from(a.subproof("not \u03c6",
"\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.match("\u03c6[\u03c4--\x3e\u03b1]").isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),
intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from(a.match("\u03c6[\u03c4--\x3e\u03b1]").isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},dilemma:a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),
commutivity:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 <-> \u03c7",to:"\u03c7 <-> \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",
{to:"\u03c8 <-> \u03c7",from:"\u03c7 <-> \u03c8"}))],DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",from:"not \u03c8 or not \u03c7"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",
{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",from:"\u03c8"}))],"material-conditional":[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"not \u03c8 arrow \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"not \u03c8 arrow \u03c7"}))],
"biconditional-exchange":[a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"}))],"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",
{from:"not (exists x) \u03c8",to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",from:"(all x) not \u03c8"}))]};f.rules=a;B.registerRuleSet("forallx",a)},{"../dialect_manager/dialectManager":5,"./rule":27}],24:[function(a,B,f){(function(x){var F=function(){function a(){this.yy={}}var e=function(a,b,d,e){d=d||{};for(e=a.length;e--;d[a[e]]=b);return d},f=[1,5],t=[1,10],r=[1,11],q=[1,12],n=[1,13],z=[1,9],y=[1,14],w=[1,15],v=[1,16],k=[5,18],m=[5,8,14,15,16,17,
19,20,21],b=[5,8,16,17,18],d=[5,8,14,15,18],e={trace:function(){},yy:{},symbols_:{error:2,justification:3,j:4,EOF:5,rule_name:6,numberlist:7,connective:8,intronation:9,rule_name_option0:10,rule_name_option1:11,side:12,rule_name_group0:13,elim:14,intro:15,left:16,right:17,number:18,reit:19,premise:20,bare_rule:21,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"connective",14:"elim",15:"intro",16:"left",17:"right",18:"number",19:"reit",20:"premise",21:"bare_rule"},productions_:[0,[3,2],[4,1],[4,
2],[4,2],[6,3],[6,3],[6,3],[6,3],[6,3],[6,3],[6,1],[9,1],[9,1],[12,1],[12,1],[7,1],[7,2],[10,0],[10,1],[11,0],[11,1],[13,1],[13,1],[13,1]],performAction:function(a,b,d,e,f,k,p){a=k.length-1;switch(f){case 1:return k[a-1];case 2:this.$={type:"justification",rule:k[a],location:p[a]};break;case 3:this.$={type:"justification",rule:k[a-1],location:p[a-1],numbers:k[a]};break;case 4:this.$={type:"justification",rule:k[a],location:p[a],numbers:k[a-1]};break;case 5:this.$={type:"rule",connective:k[a-2],variant:{type:"variant",
intronation:k[a-1],side:k[a]}};break;case 6:this.$={type:"rule",connective:k[a-1],variant:{type:"variant",intronation:k[a-2],side:k[a]}};break;case 7:this.$={type:"rule",connective:k[a-1],variant:{type:"variant",intronation:k[a],side:k[a-2]}};break;case 8:this.$={type:"rule",connective:k[a-2],variant:{type:"variant",intronation:k[a],side:k[a-1]}};break;case 9:this.$={type:"rule",connective:k[a],variant:{type:"variant",intronation:k[a-1],side:k[a-2]}};break;case 10:this.$={type:"rule",connective:k[a],
variant:{type:"variant",intronation:k[a-2],side:k[a-1]}};break;case 11:this.$={type:"rule",connective:k[a],variant:{type:"variant",intronation:null,side:null}};break;case 12:this.$="elim";break;case 13:this.$="intro";break;case 14:this.$="left";break;case 15:this.$="right";break;case 16:this.$=[k[a]];break;case 17:this.$=[k[a-1]].concat(k[a])}},table:[{3:1,4:2,6:3,7:4,8:f,9:6,12:7,13:8,14:t,15:r,16:q,17:n,18:z,19:y,20:w,21:v},{1:[3]},{5:[1,17]},{5:[2,2],7:18,18:z},{6:19,8:f,9:6,12:7,13:8,14:t,15:r,
16:q,17:n,19:y,20:w,21:v},{9:20,12:21,14:t,15:r,16:q,17:n},{8:[1,22],12:23,16:q,17:n},{8:[1,24],9:25,14:t,15:r},e(k,[2,11]),e(m,[2,16],{7:26,18:z}),e(b,[2,12]),e(b,[2,13]),e(d,[2,14]),e(d,[2,15]),e(k,[2,22]),e(k,[2,23]),e(k,[2,24]),{1:[2,1]},{5:[2,3]},{5:[2,4]},e(k,[2,18],{10:27,12:28,16:q,17:n}),{9:29,14:t,15:r},e(k,[2,20],{11:30,12:31,16:q,17:n}),{8:[1,32]},{9:33,14:t,15:r},{8:[1,34]},e(m,[2,17]),e(k,[2,5]),e(k,[2,19]),e(k,[2,8]),e(k,[2,6]),e(k,[2,21]),e(k,[2,10]),e(k,[2,7]),e(k,[2,9])],defaultActions:{17:[2,
1],18:[2,3],19:[2,4]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var d=function(a,b){this.message=a;this.hash=b};d.prototype=Error;throw new d(a,b);}},parse:function(a){var b=[0],d=[null],e=[],f=this.table,k="",p=0,m=0,n=0,v=e.slice.call(arguments,1),q=Object.create(this.lexer),t={},r;for(r in this.yy)Object.prototype.hasOwnProperty.call(this.yy,r)&&(t[r]=this.yy[r]);q.setInput(a,t);t.lexer=q;t.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});r=q.yylloc;e.push(r);var y=q.options&&
q.options.ranges;this.parseError="function"===typeof t.parseError?t.parseError:Object.getPrototypeOf(this).parseError;for(var w,z,x,D,B={},F,E;;){x=b[b.length-1];if(this.defaultActions[x])D=this.defaultActions[x];else{if(null===w||"undefined"==typeof w)w=void 0,w=q.lex()||1,"number"!==typeof w&&(w=this.symbols_[w]||w);D=f[x]&&f[x][w]}if("undefined"===typeof D||!D.length||!D[0]){var M="";E=[];for(F in f[x])this.terminals_[F]&&2<F&&E.push("'"+this.terminals_[F]+"'");M=q.showPosition?"Parse error on line "+
(p+1)+":\n"+q.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(p+1)+": Unexpected "+(1==w?"end of input":"'"+(this.terminals_[w]||w)+"'");this.parseError(M,{text:q.match,token:this.terminals_[w]||w,line:q.yylineno,loc:r,expected:E})}if(D[0]instanceof Array&&1<D.length)throw Error("Parse Error: multiple actions possible at state: "+x+", token: "+w);switch(D[0]){case 1:b.push(w);d.push(q.yytext);e.push(q.yylloc);b.push(D[1]);w=null;z?(w=z,z=null):
(m=q.yyleng,k=q.yytext,p=q.yylineno,r=q.yylloc,0<n&&n--);break;case 2:E=this.productions_[D[1]][1];B.$=d[d.length-E];B._$={first_line:e[e.length-(E||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(E||1)].first_column,last_column:e[e.length-1].last_column};y&&(B._$.range=[e[e.length-(E||1)].range[0],e[e.length-1].range[1]]);x=this.performAction.apply(B,[k,m,p,t,D[1],d,e].concat(v));if("undefined"!==typeof x)return x;E&&(b=b.slice(0,-2*E),d=d.slice(0,-1*E),e=e.slice(0,-1*E));
b.push(this.productions_[D[1]][0]);d.push(B.$);e.push(B._$);D=f[b[b.length-2]][b[b.length-1]];b.push(D);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,
last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,d=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,
this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);d.length-1&&(this.yylineno-=d.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===a.length?this.yylloc.first_column:0)+a[a.length-d.length].length-d[0].length:this.yylloc.first_column-b};this.options.ranges&&
(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},
pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var d,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,
yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(d=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=d.length;this.yylloc=
{first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];d=this.performAction.call(this,this.yy,
this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(d)return d;if(this._backtrack)for(var f in e)this[f]=e[f];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,d;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),f=0;f<e.length;f++)if((b=this._input.match(this.rules[e[f]]))&&(!a||b[0].length>a[0].length))if(a=b,d=f,this.options.backtrack_lexer){a=this.test_match(b,e[f]);if(!1!==a)return a;
if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[d]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,b,d,e){switch(d){case 0:return b.yytext=
a.lexer.matches[1],18;case 1:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],18;case 2:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],18;case 3:return b.yytext=a.lexer.matches[1],18;case 4:return 14;case 5:return 15;case 6:return b.yytext="contradiction",8;case 7:return b.yytext="or",8;case 8:return b.yytext="identity",8;case 9:return b.yytext="and",8;case 10:return b.yytext="double_arrow",8;case 11:return b.yytext="arrow",8;case 12:return b.yytext="not",8;case 13:return b.yytext=
"reit",19;case 14:return b.yytext="premise",20;case 15:return b.yytext="weakening",21;case 16:return b.yytext="cases",21;case 17:return b.yytext="DC",21;case 18:return b.yytext="reductio",21;case 19:return b.yytext="DM",21;case 20:return b.yytext="contraposition",21;case 21:return b.yytext="C",21;case 22:return b.yytext="contradiction",21;case 23:return b.yytext="not-all",21;case 24:return b.yytext="all-not",21;case 25:return b.yytext="exists-not",21;case 26:return b.yytext="not-exists",21;case 27:return b.yytext=
"dilemma",21;case 28:return b.yytext="modus-tollens",21;case 29:return b.yytext="hypothetical-syllogism",21;case 30:return b.yytext="disjunctive-syllogism",21;case 31:return b.yytext="commutivity",21;case 32:return b.yytext="double-negation",21;case 33:return b.yytext="material-conditional",21;case 34:return b.yytext="biconditional-exchange",21;case 35:return b.yytext="quantifier-negation",21;case 36:return b.yytext="implication",21;case 37:return b.yytext="transposition",21;case 38:return b.yytext=
"distribution",21;case 39:return b.yytext="association",21;case 40:return b.yytext="idempotence",21;case 41:return b.yytext="exportation",21;case 42:return b.yytext="equivalence",21;case 43:return b.yytext="universal",8;case 44:return b.yytext="existential",8;case 45:return 16;case 46:return 17;case 48:return 5;case 51:console.log(b.yytext)}},rules:[/^(?:([0-9][^,\s]*)(\s+and\s+)(?=[0-9]))/i,/^(?:([0-9][^,\s]*)\s+to\s+([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*?)\s*(?:-+)\s*([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*)(?:(\s*,)*))/i,
/^(?:elimination|eliminate|elim|e)/i,/^(?:introduction|introduce|intro|i)/i,/^(?:\u22a5|_\|_|contradiction|contra|false)/i,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/i,/^(?:=|identity)/i,/^(?:and|conjunction|\u2227|\u2022|&)/i,/^(?:double_arrow|\u2194|\u2261|\u21d4|<->)/i,/^(?:arrow|->|\u21d2|\u2192|\u2283)/i,/^(?:not|\u00ac|\u02dc|~|!|negation)/i,/^(?:reit|reiteration|r)/i,/^(?:premise|assumption|p)/i,/^(?:weakening|w)/i,/^(?:argument by cases|cases|ac)/i,/^(?:denying the consequent|dc)/i,/^(?:reductio|rd|reductio ad absurdum)/i,
/^(?:dm|deMorgan|dem|de morgan)/i,/^(?:contraposition|cp)/i,/^(?:conditional|c)/i,/^(?:cd)/i,/^(?:not all|not-all|~\u2200)/i,/^(?:all not|all-not|\u2200~)/i,/^(?:exists not|exists-not|\u2203~)/i,/^(?:not exists|not-exists|~\u2203)/i,/^(?:dilemma|dil)/i,/^(?:mt|modus tollens|modus-tollens)/i,/^(?:hs|hypothetical syllogism|hypothetical-syllogism)/i,/^(?:ds|disjunctive syllogism|disjunctive-syllogism)/i,/^(?:commutivity|comm|com)/i,/^(?:dn|double-negation|double negation)/i,/^(?:mc|material-conditional|material conditional)/i,
/^(?:bex|\u2194ex|biconditional-exchange|biconditional exchange)/i,/^(?:qn|quantifier-negation|quantifier negation)/i,/^(?:implication|impl)/i,/^(?:transposition|trans)/i,/^(?:distribution|dist)/i,/^(?:association|assoc)/i,/^(?:idempotence|idem)/i,/^(?:exportation|exp)/i,/^(?:equivalence|equiv)/i,/^(?:all|\u2200|every|universal)/i,/^(?:some|exists|\u2203|existential)/i,/^(?:left)/i,/^(?:right)/i,/^(?:[\s,]+)/i,/^(?:$)/i,/^(?:\w+)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,
8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}}}();e.lexer=f;a.prototype=e;e.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=F,f.Parser=F.Parser,f.parse=function(){return F.parse.apply(F,arguments)},f.main=function(B){B[1]||(console.log("Usage: "+B[0]+" FILE"),x.exit(1));B=a("fs").readFileSync(a("path").normalize(B[1]),"utf8");return f.parser.parse(B)},"undefined"!==
typeof B&&a.main===B&&f.main(x.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],25:[function(a,B,f){B=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(B.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.premise(),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},
arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),
right:a.from("\u03c6").to("\u03c8 or \u03c6")}},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),"disjunctive-syllogism":[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),
a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")],commutivity:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"}))],implication:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",
to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"}))],DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",
from:"not \u03c8 or not \u03c7"}))],transposition:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c7 arrow not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c7 arrow not \u03c8"}))],distribution:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 or \u03c83)",to:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 or \u03c83)",from:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),
a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 and \u03c83)",to:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 and \u03c83)",from:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"}))],association:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 and \u03c83)",to:"(\u03c81 and \u03c82) and \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 and \u03c83)",from:"(\u03c81 and \u03c82) and \u03c83"})),
a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 or \u03c83)",to:"(\u03c81 or \u03c82) or \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 or \u03c83)",from:"(\u03c81 or \u03c82) or \u03c83"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",from:"\u03c8"}))],idempotence:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 and \u03c8"})),
a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 or \u03c8"}))],exportation:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 -> (\u03c82 -> \u03c83)",to:"(\u03c81 and \u03c82) -> \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 -> (\u03c82 -> \u03c83)",from:"(\u03c81 and \u03c82) -> \u03c83"}))],equivalence:[a.from("\u03c6").to(a.replace("\u03c6",
{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",from:"\u03c8 <-> \u03c7"}))],universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),
intro:a.from(a.match("\u03c6[\u03c4--\x3e\u03b1]").isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.match("\u03c6[\u03c4--\x3e\u03b1]").isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",
{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (exists x) \u03c8",to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",from:"(all x) not \u03c8"}))],identity:{intro:a.to("all \u03c4 \u03c4=\u03c4"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}}};f.rules=a;B.registerRuleSet("logicbook",
a)},{"../dialect_manager/dialectManager":5,"./rule":27}],26:[function(a,B,f){var x,F,E,e,M,t,r,q,n;x=a("lodash");q=a("./block_parser");e=a("./add_line_numbers");E=a("./add_justification");M=a("./add_sentences");t=a("./add_status");r=a("./add_verification");n=function(a,e){x.isString(a)||(a=""+a);return a.length>=e?a:a+Array(e-a.length+1).join(" ")};F=function(a){return a.toString=function(e){var f,q,k,m,b,d,c,g,r;null==e&&(e={});g={result:[],lineNumber:0,addLineNumbers:!0,needLineNumbers:!1,lookBackTwo:[],
getAndIncLineNumber:function(a){var b,c;g.lineNumber+=1;return null!=a.number||!1===g.addLineNumbers?(c=parseInt(("function"===typeof(b=a.number).replace?b.replace("x",""):void 0)||a.number),c!==g.lineNumber&&(g.needLineNumbers=!0),g.addLineNumbers=!1,n(a.number,3)):n(g.lineNumber,3)},visit:function(a){var b,c,d,e,f;"divider"!==a.type&&"block"===(null!=(b=g.lookBackTwo[0])?b.type:void 0)&&"line"===(null!=(c=g.lookBackTwo[1])?c.type:void 0)&&(b=g.lookBackTwo[0],null!=b.parent&&(b=g.lookBackTwo[1],
b.parent===a.parent&&g.result.push({number:n(g.getAndIncLineNumber(b).trim()+"y",3),indentation:b.indentation.trim()+"---",sentence:"",justification:""})));g.lookBackTwo.push(a);2<g.lookBackTwo.length&&g.lookBackTwo.shift();"blank_line"===a.type&&(b=a,g.result.push({number:""+g.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"",justification:""}));"divider"===a.type&&(b=a,g.result.push({number:""+g.getAndIncLineNumber(b),indentation:b.indentation.trim()+"---",sentence:"",justification:""}));
"line"===a.type&&(b=a,a="premise"===b.getRuleName()?"":null!=b.justification?b.getRuleName()+" "+((null!=(d=b.justification)?null!=(e=d.numbers)?e.join(", "):void 0:void 0)||""):(null!=(f=b.justificationText)?f.trim():void 0)||"",g.result.push({number:""+g.getAndIncLineNumber(b),indentation:""+b.indentation,sentence:""+b.sentence,justification:a}))}};a.walk(g);c="";b=x.max(function(){var a,b,c,d,e,f;c=g.result;f=[];a=0;for(b=c.length;a<b;a++)r=c[a],f.push((null!=(d=r.sentence)?d.length:void 0)+(null!=
(e=r.indentation)?e.length:void 0));return f}());d=g.result;f=0;for(k=d.length;f<k;f++){m=d[f];q=n(m.indentation+" "+m.sentence,b+1);if(g.needLineNumbers||!0===e.numberLines)c+=m.number+" ";c+=q+"   "+m.justification+"\n"}return c.trim()}};f.parse=function(a){var f,n;try{f=q.parse(a),e.to(f),E.to(f),M.to(f),t.to(f),r.to(f)}catch(v){return v.message}n=f;n.listErrorMessages=function(){var a;a=[];n.walk({visit:function(e){var f;if("line"===(null!=e?e.type:void 0)&&!1===e.status.verified)return f=e.number,
e=e.status.getMessage(),a.push(f+": "+e)}});return a.join("\n")};F(n);return n}},{"./add_justification":16,"./add_line_numbers":17,"./add_sentences":18,"./add_status":19,"./add_verification":20,"./block_parser":21,lodash:9}],27:[function(a,B,f){var x,F,E,e,M,t,r,q,n,z,y,w,v,k,m,b,d,c,g,H,C=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},l=[].slice;x=a("lodash");a("../util");H=a("../substitute");k=a("../fol");g=void 0;f.setParser=function(a){return g=
a};b=function(a){var b,d;d=c(a);b=[function(a,b){return v(a,d,b)}];return{check:function(a,c){var d,e,f,g;d=c;f=0;for(g=b.length;f<g;f++)if(e=b[f],d=e(a,d),!1===d)return!1;return d},toString:function(){return d.toString()},isNewName:function(a){var c;c=E(a);b.push(function(a,b){var d;d=c.clone();d=d.applyMatches(b).applySubstitutions();return y(d.name,a)?!1:b});return this},isNotInAnyUndischargedPremise:function(a){var c;c=E(a);b.push(function(a,b){var d;d=c.clone();d=d.applyMatches(b).applySubstitutions();
return w(d.name,a)?!1:b});return this}}};f.match=b;f.replace=function(a,b){var d,e;e=c(a);b.from=c(b.from);b.to=c(b.to);d=[function(a,c){var d,f,g,k;g=e.listMetaVariableNames().inExpression;d=0;for(f=g.length;d<f;d++)if(k=g[d],!(k in c))return!1;f=e.clone().applyMatches(c);d=a.sentence;null==f.box&&null!=d.box&&(d=d.clone(),delete d.box);return H.isOneASubstitutionInstanceOfTheOther(d,f,b)}];return{check:function(a,b){var c,e,f,g;c=b;f=0;for(g=d.length;f<g;f++)if(e=d[f],c=e(a,c),!1===c)return!1;return c},
toString:function(){return e.toString()+"["+b.from.toString()+"--\x3e"+b.to.toString()+"]"}}};v=function(a,b,c){var d,e,f,g;if("line"!==a.type)return!1;f=b.listMetaVariableNames().inSub.left;d=0;for(e=f.length;d<e;d++)if(g=f[d],!(g in c))return!1;b=b.clone().applyMatches(c);if(null===b.applySubstitutions())return!1;d=a.sentence;if(null==d)return!1;null==b.box&&null!=d.box&&(d=d.clone(),delete d.box);c=d.findMatches(b,c);if(!1===c)return!1;if(null!=b.box||"box"===b.type)if(b=("box"===b.type?b:void 0)||
(null!=b.box?b.box:void 0),b=b.applyMatches(c).applySubstitutions(),b=b.term.name,a=y(b,a),!1!==a)return!1;return c};y=function(a,b){return b.findAbove(function(b){return"line"!==b.type?!1:0<=C.call(b.sentence.getNames(),a)?!0:!1})};w=function(a,b){return b.isPremise()&&0<=C.call(b.sentence.getNames(),a)?!0:b.findAbove(function(b){return"line"===b.type&&b.isPremise()?0<=C.call(b.sentence.getNames(),a)?!0:!1:!1})};n=function(a){return x.isString(a)?b(a):a};f.subproof=function(a,b){var d,f,g,k;g=n(a);
f=n(b);d=[function(a,b){var c,d,e;d=a.getFirstLine();c=a.getLastLine();e=g.check(d,b);if(!1!==e&&(e=f.check(c,e),!1!==e))return e;c=f.check(c,b);if(!1===c)return!1;d=g.check(d,c);return!1===d?!1:d}];k=[function(){return g.toString()+" \u22a2 "+f.toString()}];return{type:"subproof",check:function(a,b){var c,e,f,g;c=b;f=0;for(g=d.length;f<g;f++)if(e=d[f],c=e(a,c),!1===c)return!1;return c},contains:function(){var a,b;a=1<=arguments.length?l.call(arguments,0):[];a=function(){var d,e,f;f=[];d=0;for(e=
a.length;d<e;d++)b=a[d],f.push(c(b));return f}();d.push(function(b,c){var d,f,g,p,k,l,m;f=function(a,b,c){var d,e,f;d=0;for(e=b.length;d<e;d++)if(f=b[d],f=f.sentence,f=f.findMatches(a,c),!1!==f)return f;return!1};d=function(a,b,c){var d,e,g;e=c;c=0;for(d=a.length;c<d;c++)if(g=a[c],e=f(g,b,e),!1===e)return!1;return e};l=[];m=b.content;p=0;for(k=m.length;p<k;p++)g=m[p],"line"===g.type&&(g.isPremise()||l.push(g));k=e(a);p=0;for(g=k.length;p<g;p++)if(m=k[p],m=d(m,l,c),!1!==m)return m;return!1});return this},
toString:function(){var a,b,c,d;d="";b=0;for(c=k.length;b<c;b++)a=k[b],d+=a();return d}}};F=function(){function a(b){b=n(b);this._requirements={from:(null!=b?[b]:void 0)||[],to:void 0}}a.prototype.type="rule";a.prototype.and=function(a){a=n(a);this._requirements.from.push(a);return this};a.prototype.to=function(a){if(this._requirements.to)throw Error("You cannot specify `.to` more than once in a single rule.");a=n(a);this._requirements.to=a;return this};a.prototype.check=function(a){return q(a,this._requirements)};
return a}();m=function(a){return new F(a)};f.from=m;f.to=function(a){return m().to(a)};q=function(a,b){var c,d,f,g,k,l,m,n;if(!r(a,b))return!1;g=[];l=a.getCitedLines();d=0;for(k=l.length;d<k;d++)f=l[d],0<=C.call(g,f)?g.push(x.clone(f)):g.push(f);d=a.getCitedBlocks();g=e(g);d=e(d);m=0;for(k=g.length;m<k;m++)for(f=g[m],n=0,l=d.length;n<l;n++)if(c=d[n],c=t(b,a,f,c),!1!==c)return!0;m=a.getRuleName();d=[];null!=b.to&&d.push("on a line with the form "+b.to);l=b.from;f=0;for(g=l.length;f<g;f++)k=l[f],"subproof"===
k.type?d.push(" citing a subproof of the form "+k):d.push(" citing a line of the form "+k);a.status.addMessage("you can only use "+m+" "+d.join("; ")+".");return!1};t=function(a,b,c,d){var f,g,k;f=[];null!=a.to&&f.push({req:a.to,linesOrBlocks:[b]});k=a.from;b=0;for(g=k.length;b<g;b++)a=k[b],f.push({req:a,linesOrBlocks:("subproof"===a.type?d:void 0)||c});c=e(f);f=0;for(d=c.length;f<d;f++)if(a=c[f],a=M(a),!1!==a)return!0;return!1};r=function(a,b){var c,e,f,g,k,l,m,n;f=a.getCitedLines().length;c=a.getCitedBlocks().length;
g=e=0;n=b.from;l=0;for(k=n.length;l<k;l++)m=n[l],"subproof"===m.type?g+=1:e+=1;if(!0===(e===f&&g===c))return!0;l=d(e,"line");k=d(g,"subproof");g=(l&&k?"and ":void 0)||(l||k?void 0:"nothing")||"";f=d(f,"line");e=d(c,"subproof");c=(f&&e?"and ":void 0)||(f||e?void 0:"nothing")||"";m=a.getRuleName();a.status.addMessage(("you must cite "+l+" "+g+k+" when using the rule "+m+" (you cited "+f+" "+c+e+").").replace(/\s\s+/g," "));return!1};M=function(a){var b,c,d,e,f,g,k,l,m,n;l=[];d={};e=0;for(f=a.length;e<
f;e++){b=a[e];n=b.req;c=[];m=b.linesOrBlocks;k=0;for(g=m.length;k<g;k++)b=m[k],0>C.call(l,b)&&c.push(b);c=z(n,c,d);if(!1===c)return!1;d=c.newMatches;c=c.matchedLineOrBlock;l.push(c)}return!0};z=function(a,b,c){var d,e,f,g;d=0;for(e=b.length;d<e;d++)if(f=b[d],g=a.check(f,c),!1!==g)return{newMatches:g,matchedLineOrBlock:f};return!1};f.premise=function(){var a,b;b=m();a=b.check.bind(b);b.check=function(b){var c;c=a(b);return!0!==c?c:b.prev?null!=b.parent.parent?(b.status.addMessage("only the first line of a subproof may be a premise."),
!1):b.findAbove(function(a){var b,c;if("line"===a.type){if(c="premise"===(null!=(b=a.justification)?b.rule.connective:void 0))return!1;if(!c)return!0}return"block"===a.type?!0:!1})?(b.status.addMessage("premises may not occur after non-premises."),!1):!0:!0};return b};f._notImplementedYet=function(a){throw Error("the rule `"+a.justification.rule.connective+"` (or some part of it) is not implemented yet!");};c=function(a){x.isString(a)&&(a=k.parse(a,g));return a};E=function(a){return x.isString(a)?
c("F("+a+")").termlist[0]:a};e=function(a){var b,c,d,f,g,k,l,m;if(0===a.length)return[[]];m=[];c=f=0;for(g=a.length-1;0<=g?f<=g:f>=g;c=0<=g?++f:--f)for(b=x.clone(a),c=b.splice(c,1),l=e(b),d=b=0,k=l.length-1;0<=k?b<=k:b>=k;d=0<=k?++b:--b)d=c.concat(l[d]),m.push(d);return m};f._permutations=e;d=function(a,b){if(0===a)return"";if(1===a)return"1 "+b;if(1<a)return a+" "+b+"s"}},{"../fol":7,"../substitute":29,"../util":31,lodash:9}],28:[function(a,B,f){B=a("../dialect_manager/dialectManager");a=a("./rule");
a.setParser(B.getParser("teller"));a={_description:"Rules of proof for classical first-order logic as presented in Paul Teller,\nA Modern Formal Logic Primer (1998).",premise:a.premise(),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),a.from("not \u03c6 or \u03c8").and("\u03c6").to("\u03c8")],
right:[a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6"),a.from("\u03c6 or not \u03c8").and("\u03c8").to("\u03c6")]},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:[a.from(a.subproof("\u03c6","\u03c8 and not \u03c8")).to("not \u03c6"),a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")]},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),
intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:[a.from("\u03c6\u2194\u03c8").to("\u03c6 arrow \u03c8"),a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6\u2194\u03c8").to("\u03c8 arrow \u03c6"),a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")]},intro:a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c6").to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),
right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("(exists \u03c4) \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("(exists \u03c4) \u03c6")},universal:{elim:a.from("(all \u03c4) \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1^]").to("(all \u03c4) \u03c6")},weakening:a.from("\u03c6").to("\u03c8 arrow \u03c6"),cases:[a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),
a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7")],DC:[a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),a.from("\u03c6 arrow not \u03c8").and("\u03c8").to("not \u03c6"),a.from("not \u03c6 arrow \u03c8").and("not \u03c8").to("\u03c6")],reductio:[a.from(a.subproof("not \u03c6","\u03c8 and not \u03c8")).to("\u03c6"),a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6")],DM:[a.from("not (\u03c6 or \u03c8)").to("not \u03c6 and not \u03c8"),
a.from("not \u03c6 and not \u03c8").to("not (\u03c6 or \u03c8)"),a.from("not (\u03c6 and \u03c8)").to("not \u03c6 or not \u03c8"),a.from("not \u03c6 or not \u03c8").to("not (\u03c6 and \u03c8)")],contraposition:[a.from("\u03c6 arrow \u03c8").to("not \u03c8 arrow not \u03c6"),a.from("not \u03c8 arrow not \u03c6").to("\u03c6 arrow \u03c8"),a.from("not \u03c6 arrow \u03c8").to("not \u03c8 arrow \u03c6"),a.from("not \u03c8 arrow \u03c6").to("not \u03c6 arrow \u03c8"),a.from("\u03c6 arrow not \u03c8").to("\u03c8 arrow not \u03c6"),
a.from("\u03c8 arrow not \u03c6").to("\u03c6 arrow not \u03c8")],C:[a.from("\u03c6 arrow \u03c8").to("not \u03c6 or \u03c8"),a.from("not \u03c6 or \u03c8").to("\u03c6 arrow \u03c8"),a.from("not (\u03c6 arrow \u03c8)").to("\u03c6 and not \u03c8"),a.from("\u03c6 and not \u03c8").to("not (\u03c6 arrow \u03c8)")],CD:a.from("\u03c6").and("not \u03c6").to("\u03c8"),"not-all":a.from("not (all \u03c4) \u03c6").to("(exists \u03c4) not \u03c6"),"all-not":a.from("(all \u03c4) not  \u03c6").to("not (exists \u03c4) \u03c6"),
"not-exists":a.from("not (exists \u03c4) \u03c6").to("(all \u03c4) not \u03c6"),"exists-not":a.from("(exists \u03c4) not \u03c6").to("not (all \u03c4) \u03c6")};f.rules=a;B.registerRuleSet("teller",a)},{"../dialect_manager/dialectManager":5,"./rule":27}],29:[function(a,B,f){var x,F,E,e,M,t,r,q,n,z;x=a("lodash");z=a("./util");B=a("./dialect_manager/dialectManager").getParser("awFOL");t=a("./match");E={replace_arrow:{from:"\u03c6 arrow \u03c8",to:"(not \u03c6) or \u03c8"},replace_double_arrow:{from:"\u03c6 \u2194 \u03c8",
to:"(\u03c6 or (not \u03c8)) and ((not \u03c6) or \u03c8)"},demorgan1:{from:"not (\u03c6 and \u03c8)",to:"((not \u03c6) or (not \u03c8))"},demorgan2:{from:"not (\u03c6 or \u03c8)",to:"((not \u03c6) and (not \u03c8))"},dbl_neg:{from:"not not \u03c6",to:"\u03c6"},not_all:{from:"not ((all \u03c4) \u03c6)",to:"(exists \u03c4) (not \u03c6)"},not_exists:{from:"not ((exists \u03c4) \u03c6)",to:"(all \u03c4) (not \u03c6)"},cnf_left:{from:"\u03c61 or (\u03c62 and \u03c63)",to:"(\u03c61 or \u03c62) and (\u03c61 or \u03c63)"},
cnf_right:{from:"(\u03c62 and \u03c63) or \u03c61",to:"(\u03c62 or \u03c61) and (\u03c63 or \u03c61)"},all_and_left:{from:"\u03c6 and ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 and \u03c8)"},all_and_right:{from:"((all \u03c4) \u03c8) and \u03c6",to:"(all \u03c4) (\u03c8 and \u03c6)"},all_or_left:{from:"\u03c6 or ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 or \u03c8)"},all_or_right:{from:"((all \u03c4) \u03c8) or \u03c6",to:"(all \u03c4) (\u03c8 or \u03c6)"},exists_and_left:{from:"\u03c6 and ((exists \u03c4) \u03c8)",
to:"(exists \u03c4) (\u03c6 and \u03c8)"},exists_and_right:{from:"((exists \u03c4) \u03c8) and \u03c6",to:"(exists \u03c4) (\u03c8 and \u03c6)"},exists_or_left:{from:"\u03c6 or ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 or \u03c8)"},exists_or_right:{from:"((exists \u03c4) \u03c8) or \u03c6",to:"(exists \u03c4) (\u03c8 or \u03c6)"}};q={};for(M in E)n=E[M],a=B.parse(n.from),z.delExtraneousProperties(a),n=B.parse(n.to),z.delExtraneousProperties(n),a={from:a,to:n},q[M]=a;f.subsForPNF=q;E={identity:{from:"\u03c4=\u03c4",
to:"true"},not_true:{from:"not true",to:"false"},not_false:{from:"not false",to:"true"},or_duplicate:{from:"\u03c6 or \u03c6",to:"\u03c6"},or_duplicate_left:{from:"\u03c6 or (\u03c6 or \u03c8)",to:"\u03c6 or \u03c8"},or_duplicate_right:{from:"(\u03c8 or \u03c6) or \u03c6",to:"\u03c8 or \u03c6"},and_duplicate:{from:"\u03c6 and \u03c6",to:"\u03c6"},and_duplicate_left:{from:"\u03c6 and (\u03c6 and \u03c8)",to:"\u03c6 and \u03c8"},and_duplicate_right:{from:"(\u03c8 and \u03c6) and \u03c6",to:"\u03c8 and \u03c6"},
false_or:{from:"false or \u03c6",to:"\u03c6"},true_or:{from:"true or \u03c6",to:"true"},false_and:{from:"false and \u03c6",to:"false"},true_and:{from:"true and \u03c6",to:"\u03c6"},contradiction_and:{from:"\u03c6 and not \u03c6",to:"false"},contradiction_and_left:{from:"\u03c6 and (not \u03c6 and \u03c8)",to:"false"},contradiction_and_right:{from:"(\u03c8 and \u03c6) and not \u03c6",to:"false"},taut_or:{from:"\u03c6 or not \u03c6",to:"true"},taut_and_left:{from:"\u03c6 or (not \u03c6 or \u03c8)",
to:"true"},taut_and_right:{from:"(\u03c8 or \u03c6) or not \u03c6",to:"true"}};q={};for(M in E)n=E[M],a=B.parse(n.from),z.delExtraneousProperties(a),n=B.parse(n.to),z.delExtraneousProperties(n),a={from:a,to:n},q[M]=a;f.subs_eliminate_redundancy=q;e=function(a,e){var f;return(f=t.findWithoutApplyingSubs(a,e.from))?t.apply(e.to,f):a};f.doSub=e;f.doSubRecursive=function(a,f,n){null==n&&(n={});return z.walkMutate(a,function(a){return null===a||x.isArray(a)||null!=a.type&&"box"===a.type?a:e(a,f)})};r=
function(a,e,f){var k,m,b;null==f&&(f={});k=e.from;m=e.to;b=function(a){if(null===a||x.isArray(a)||b._inSub)return a;if(z.areIdenticalExpressions(a,k)){if(null===m)throw Error("_internal: replace to null");return z.cloneExpression(m)}return a};a=f.noClone?a:z.cloneExpression(a);return z.walkMutate(a,b)};f.replace=r;f.applySubstitutions=function(a){var e;e=function(a){var e,f,b,d;if(null==(null!=a?a.substitutions:void 0))return a;d=x.cloneDeep(a.substitutions);delete a.substitutions;e=0;for(f=d.length;e<
f;e++)b=d[e],b={from:b.from,to:b.to},a=r(a,b);return a};a=x.cloneDeep(a);try{return z.walkMutate(a,e)}catch(f){a=f;if("_internal: replace to null"===a.message)return null;throw a;}};F=function(a,f,n){var k;if(z.areIdenticalExpressions(a,f))return!0;k=function(a,b){var d,c,e,f;f="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");c=0;for(e=f.length;c<e;c++)if(d=f[c],null!=a[d]||null!=b[d]){if(null==a[d]||null==b[d])return!1;if(x.isString(a[d])){if(a[d]!==
b[d])return!1}else if(!F(a[d],b[d],n))return!1}return!0};if(k(a,f))return!0;a=e(z.cloneExpression(a),n);return k(a,f)?!0:!1};f.isOneASubstitutionInstanceOfTheOther=function(a,e,f){a=z.delExtraneousProperties(z.cloneExpression(a));e=z.delExtraneousProperties(z.cloneExpression(e));return F(a,e,f)};f.isThereAWayOfApplyingTheSubstitutionToMakeTheFunctionReturnTrue=function(a,f,n){a=z.cloneExpression(a);f=e(a,f);if(n(f))return!0}},{"./dialect_manager/dialectManager":5,"./match":8,"./util":31,lodash:9}],
30:[function(a,B,f){a("lodash");B.exports={"default":{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",propLanguageName:"FOL",predLanguageName:"FOL"},copi:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2022",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",
universal_quantifier:"",universal:"all",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0},teller:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,
"not-all":"~\u2200","all-not":"\u2200~","exists-not":"\u2203~","not-exists":"~\u2203",propLanguageName:"sentence logic",predLanguageName:"predicate logic"},forallx:{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!1,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",
predLanguageName:"QL"},logicbook:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",predLanguageName:"PL",association:"Assoc",premise:"Assumption",DM:"DeM"}}},{lodash:9}],31:[function(a,B,f){var x,F,
E,e,M,t,r,q,n,z,y,w,v,k,m={}.hasOwnProperty;x=a("lodash");r=a("./dialect_manager/dialectManager");k=function(a,d,c){var e;if(x.isArray(a)){var f,m,l;l=[];f=0;for(m=a.length;f<m;f++)e=a[f],l.push(k(e,d,c));return l}if(null===a)return d(a);null!=(null!=c?c.topDown:void 0)&&c.topDown&&(e=d(a));d._trace&&console.log("walkMutate got "+util.expressionToString(a));null!=a.box&&(d._inBox=!0,a.box=k(a.box,d,c),d._inBox=void 0);null!=a.substitutions&&(null==d._inSubCount&&(d._inSubCount=0),d._inSubCount+=1,
d._inSub=!0,a.substitutions=k(a.substitutions,d,c),--d._inSubCount,0===d._inSubCount&&(d._inSub=void 0));"substitution"===a.type&&(d._inSubLeft=!0,a.from=k(a.from,d,c),d._inSubLeft=void 0,a.to=k(a.to,d,c));null!=a.boundVariable&&(d._inBoundVariable=!0,a.boundVariable=k(a.boundVariable,d,c),d._inBoundVariable=void 0);null!=a.termlist&&(a.termlist=k(a.termlist,d,c));null!=a.term&&(a.term=k(a.term,d,c));null!=a.left&&(a.left=k(a.left,d,c));null!=a.right&&(a.right=k(a.right,d,c));return null!=(null!=
c?c.topDown:void 0)&&c.topDown?e:d(a)};f.walkMutate=k;w=function(a,d,c){var e;e=function(a){var b,c;for(b in e)m.call(e,b)&&(c=e[b],d[b]=c);d(a);return a};return k(a,e,c)};f.walk=w;v=function(a,d,c,e){var f,k,l;if(null!=c&&(e=c(a,d),void 0!==e))return e;if(null===a||null===d)return a===d;k=[x.isBoolean,x.isNumber,x.isString];e=0;for(f=k.length;e<f;e++)if(l=k[e],l(a)||l(d))return a===d;if(x.isArray(a)||x.isArray(d)){if(!x.isArray(a)||!x.isArray(d)||a.length!==d.length)return!1;f=k=0;for(l=a.length;k<
l;f=++k)if(e=a[f],!v(e,d[f],c))return!1;return!0}l="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");f=0;for(k=l.length;f<k;f++)if(e=l[f],(e in a||e in d)&&!(e in a&&e in d&&v(a[e],d[e],c)))return!1;return!0};f.walkCompare=v;e=function(a,d,c){return v(a,d,void 0,c)};f.areIdenticalExpressions=e;n=function(a,d){var c,e,f,k;c=d(a);if(void 0!==c)return c;if(null!==a){f=[x.isBoolean,x.isNumber,x.isString];c=0;for(e=f.length;c<e;c++)if(k=f[c],k(a))return;
if(x.isArray(a))for(e=0,f=a.length;e<f;e++){if(c=a[e],c=n(c,d),void 0!==c)return c}else for(k="substitutions from to box term boundVariable termlist left right type name letter value".split(" "),e=0,f=k.length;e<f;e++)if(c=k[e],c in a&&(c=n(a[c],d),void 0!==c))return c}};f.find=n;f.walkMutateFindOne=function(a,d,c){var e,f;e=void 0;f=function(a){var b,c;if(void 0!==e)return a;for(b in f)m.call(f,b)&&(c=f[b],d[b]=c);c=d(a)||{};b=c.newExpression;e=c.aResult;return void 0!==b?b:a};a=k(a,f,c);return{theResult:e,
mutatedExpression:a}};F=function(a){var d,c,e,f;if(null===a)return a;f=["location","symbol","parent"];c=0;for(e=f.length;c<e;c++)d=f[c],d in a&&delete a[d];for(d in a)m.call(a,d)&&(c=a[d],x.isFunction(c)&&delete a[d]);return a};f.delExtraneousProperties=function(a){return null==(null!=a?a.type:void 0)?a:w(a,F)};t=function(a){var d,c,e,f,k;if(null===a)return null;e=[x.isBoolean,x.isNumber,x.isString];d=0;for(c=e.length;d<c;d++)if(f=e[d],f(a))return a;if(x.isArray(a)){f=[];c=0;for(e=a.length;c<e;c++)d=
a[c],f.push(t(d));return f}d={};k="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");e=0;for(f=k.length;e<f;e++)c=k[e],c in a&&(d[c]=t(a[c]));return d};f.cloneExpression=t;q=function(a,d){var c,e,f,m,l,n;null==d&&(d={});null!=d.symbols?d.replaceSymbols=!0:d.symbols=r.getSymbols();m=[x.isBoolean,x.isNumber,x.isString,x.isArray];c=0;for(e=m.length;c<e;c++)if(n=m[c],n(a))return""+a;l=0;c=d.replaceSymbols?t(a):x.cloneDeep(a);e=k(c,function(a){var b,c,
e,f,g,k,m,q;if(null===a)return"null";l+=1;k=[x.isBoolean,x.isNumber,x.isString];c=0;for(f=k.length;c<f;c++)if(n=k[c],n(a))return""+a;if(x.isArray(a))return!1===d.symbols.predicationBracketsAndCommas?a.join(""):a.join(",");if(null==(null!=a?a.type:void 0)&&void 0===a)return"[undefined]";if("variable"===(m=a.type)||"name"===m||"name_hat"===m||"term_metavariable"===m||"term_metavariable_hat"===m)return a.substitutions?"{"+a.name+"["+a.substitutions+"]}":a.name;if("box"===a.type)return"["+a.term+"]";
if("termlist"===a.type){e=[];q=0;for(g=a.length;q<g;q++)b=a[q],e.push(b.name);return e}if("substitution"===a.type)return a.from+"--\x3e"+a.to;null!=a.box&&(b=a.box);a.substitutions&&(q="["+a.substitutions+"]");null!=a.termlist&&(c=a.name||a.symbol||d.symbols[a.type]||a.type,!0===d.symbols.singleLetterPredicates&&"predicate"===a.type&&""!==c.replace(/[A-Z][0-9]*/,"")&&(c=c[0]),g=!1===d.symbols.predicationBracketsAndCommas?""+c+a.termlist.join(""):c+"("+a.termlist.join(",")+")");"identity"===a.type&&
(c=a.symbol||"=",f=a.termlist,g=f[0],f=f[1],g=""+g+c+f);if("sentence_letter"===(e=a.type)||"expression_variable"===e)g=a.letter;"value"===a.type&&(g=""+((null!=a.symbol?a.symbol:void 0)||("false"===a.value||!1===a.value?d.symbols["false"]:void 0)||a.value));c=null!=a.right;f=e="";c&&(e="(",f=")");c=a.symbol||d.symbols[a.type]||"";d.wrapWithDivs&&(c="<span class='_symbolWrap' data-symbolNum='"+l+"'>"+c+"</span>");null!=a.boundVariable&&(g=a.boundVariable,g=""===d.symbols.universal_quantifier||!0===
d.symbols.quantifiersInBrackets?"("+c+g+")"+e+a.left+(a.right||"")+f:""+c+g+" "+e+a.left+(a.right||"")+f);null!=a.left&&null==a.boundVariable&&(g=null==a.right?""+e+c+(a.left||"")+f:""+e+(a.left||"")+" "+c+" "+(a.right||"")+f);d.wrapWithDivs&&(g="<span class='_expressionWrap'>"+g+"</span>");return""+(b||"")+g+(q||"")});c={remove_extra_whitespace:{from:/\s+/g,to:" "},remove_space_between_quantifiers:{from:/([\u2200\u2203].)\s+([\u2200\u2203].)/,to:"$1$2"},remove_space_between_quantifier_and_brackets:{from:/([\u2200\u2203].)\s+(\()/,
to:"$1$2"},remove_outer_brackets:{from:/(^\s*\()([\s\S]*)(\)\s*$)/,to:"$2"}};if(""!==d.symbols.universal_quantifier&&!0!==d.symbols.quantifiersInBrackets||null==a.boundVariable)for(f in c)m=c[f],e=e.replace(m.from,m.to);return e.trim()};f.expressionToString=q;f.matchesToString=function(a){var d,c,e;if(!1===a)return"false";if(!a)return"[no]";d="";for(c in a)m.call(a,c)&&(e=a[c],null!=(null!=e?e.type:void 0)&&(d=d+"\n\t"+c+" : "+q(e)));return d};f.exhaust=function(a,d,c){var f;null==c&&(c=e);for(f=
null;!c(f,a);)f=a,a=d(t(f));return a};f.listOfAtomicExpressionsComparator=function(a,d){var c,e,f,k;if(a.length<d.length)return-1;if(a.length>d.length)return 1;e=c=0;for(k=a.length;c<k;e=++c)if(f=a[e],e=M(f,d[e]),0!==e)return e;return 0};M=function(a,d){var c,e;c=E(a.type,d.type);if(0!==c)return c;if("not"===a.type&&"not"!==d.type)return c=M(a.left,d),0===c?1:c;if("not"!==a.type&&"not"===d.type)return c=M(a,d.left),0===c?-1:c;if("not"===a.type&&"not"===d.type)return M(a.left,d.left);if(null!=a.value)return a.value<
d.value?-1:a.value>d.value?1:0;if(null!=a.letter)return a.letter<d.letter?-1:a.letter>d.letter?1:0;if(null!=a.name)return a.name<d.name?-1:a.name>d.name?1:0;if(null!=a.termlist)return c=z(a.termlist[0],a.termlist[1],y),e=z(d.termlist[0],d.termlist[1],y),y(c,e);throw Error("Could not do a comparison for "+JSON.stringify(a,null,4));};f.atomicExpressionComparator=M;z=function(a,d,c){return 0<c(a,d)?d:a};y=function(a,d){var c;c=E(a.type,d.type);return 0!==c?c:a.name<d.name?-1:a.name>d.name?1:0};f.termComparator=
y;E=function(a,d){var c;if("not"===a||"not"===d)return 0;c={value:5,sentence_letter:10,predicate:20,identity:30,name:50,variable:60};return c[a]<c[d]?-1:c[a]>c[d]?1:0};f.listTerms=function(a){var d;d=[];w(a,function(a){var b;if("variable"===(b=a.type)||"name"===b||"term_metavariable"===b)return d.push(a)});return d};f.listMetaVariableNames=function(a){var d,c;d={inExpression:[],inBox:[],inSub:{left:[],right:[]}};c=function(a){var b;if(null==(null!=a?a.type:void 0)||"term_metavariable"!==a.type&&"expression_variable"!==
a.type)return a;b=(null!=(null!=a?a.letter:void 0)?a.letter:void 0)||a.name;null!=c._inSub?null!=c._inSubLeft?d.inSub.left.push(b):d.inSub.right.push(b):null!=c._inBox?d.inBox.push(b):d.inExpression.push(b);return a};w(a,c);return d};f.expressionTypes="existential_quantifier universal_quantifier and or nand nor arrow double_arrow not value predicate identity expression_variable sentence_letter".split(" ");f.termTypes=["name","variable","term_metavariable"];f.atomicSentenceTypes=["sentence_letter",
"expression_variable","identity","predicate"];f.expressionContainsSubstitutions=function(a){return!0===n(a,function(a){if(null!=(null!=a?a.substitutions:void 0))return!0})?!0:!1};f.expressionHasSub=function(a,d){var c,f,k,m;if(null==(null!=a?a.substitutions:void 0))return!1;m=a.substitutions;f=0;for(k=m.length;f<k;f++)if(c=m[f],e(c.from,d.from)&&e(c.to,d.to))return!0;return!1};f.getLanguageNames=function(){var a,d,c;d=null!=(a=r.getSymbols())?a.propLanguageName:void 0;a=(null!=(c=r.getSymbols())?
c.predLanguageName:void 0)||"quantificational logic";c=[a];null!=d&&d!==a&&c.unshift(d);return c};f.getPredLanguageName=function(){var a;return(null!=(a=r.getSymbols())?a.predLanguageName:void 0)||"quantificational logic"}},{"./dialect_manager/dialectManager":5,lodash:9}]},{},[4]);
