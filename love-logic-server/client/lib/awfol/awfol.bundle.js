/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function e$$0(H,f,v){function K(c,p){if(!f[c]){if(!H[c]){var u="function"==typeof require&&require;if(!p&&u)return u(c,!0);if(E)return E(c,!0);u=Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u;}u=f[c]={exports:{}};H[c][0].call(u.exports,function(p){var u=H[c][1][p];return K(u?u:p)},u,u.exports,e$$0,H,f,v)}return f[c].exports}for(var E="function"==typeof require&&require,c=0;c<v.length;c++)K(v[c]);return K})({1:[function(a,H,f){},{}],2:[function(a,H,f){(function(a){function K(a,
c){for(var l=0,f=a.length-1;0<=f;f--){var A=a[f];"."===A?a.splice(f,1):".."===A?(a.splice(f,1),l++):l&&(a.splice(f,1),l--)}if(c)for(;l--;l)a.unshift("..");return a}function E(a,c){if(a.filter)return a.filter(c);for(var f=[],q=0;q<a.length;q++)c(a[q],q,a)&&f.push(a[q]);return f}var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;f.resolve=function(){for(var c="",u=!1,f=arguments.length-1;-1<=f&&!u;f--){var q=0<=f?arguments[f]:a.cwd();if("string"!==typeof q)throw new TypeError("Arguments to path.resolve must be strings");
q&&(c=q+"/"+c,u="/"===q.charAt(0))}c=K(E(c.split("/"),function(a){return!!a}),!u).join("/");return(u?"/":"")+c||"."};f.normalize=function(a){var c=f.isAbsolute(a),l="/"===M(a,-1);(a=K(E(a.split("/"),function(a){return!!a}),!c).join("/"))||c||(a=".");a&&l&&(a+="/");return(c?"/":"")+a};f.isAbsolute=function(a){return"/"===a.charAt(0)};f.join=function(){var a=Array.prototype.slice.call(arguments,0);return f.normalize(E(a,function(a,c){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");
return a}).join("/"))};f.relative=function(a,c){function l(a){for(var c=0;c<a.length&&""===a[c];c++);for(var b=a.length-1;0<=b&&""===a[b];b--);return c>b?[]:a.slice(c,b-c+1)}a=f.resolve(a).substr(1);c=f.resolve(c).substr(1);for(var q=l(a.split("/")),A=l(c.split("/")),z=Math.min(q.length,A.length),y=z,r=0;r<z;r++)if(q[r]!==A[r]){y=r;break}z=[];for(r=y;r<q.length;r++)z.push("..");z=z.concat(A.slice(y));return z.join("/")};f.sep="/";f.delimiter=":";f.dirname=function(a){var f=c.exec(a).slice(1);a=f[0];
f=f[1];if(!a&&!f)return".";f&&(f=f.substr(0,f.length-1));return a+f};f.basename=function(a,f){var l=c.exec(a).slice(1)[2];f&&l.substr(-1*f.length)===f&&(l=l.substr(0,l.length-f.length));return l};f.extname=function(a){return c.exec(a).slice(1)[3]};var M="b"==="ab".substr(-1)?function(a,c,f){return a.substr(c,f)}:function(a,c,f){0>c&&(c=a.length+c);return a.substr(c,f)}}).call(this,a("_process"))},{_process:3}],3:[function(a,H,f){function v(){p=!1;u.length?M=u.concat(M):l=-1;M.length&&K()}function K(){if(!p){var a=
setTimeout(v);p=!0;for(var c=M.length;c;){u=M;for(M=[];++l<c;)u&&u[l].run();l=-1;c=M.length}u=null;p=!1;clearTimeout(a)}}function E(a,c){this.fun=a;this.array=c}function c(){}a=H.exports={};var M=[],p=!1,u,l=-1;a.nextTick=function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)c[f-1]=arguments[f];M.push(new E(a,c));1!==M.length||p||setTimeout(K,0)};E.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=
[];a.version="";a.versions={};a.on=c;a.addListener=c;a.once=c;a.off=c;a.removeListener=c;a.removeAllListeners=c;a.emit=c;a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],4:[function(a,H,f){H="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};f=a("../fol");a=a("../proofs/proof");H.fol=f;H.proof=
a},{"../fol":7,"../proofs/proof":27}],5:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A,z,y,r;v=a("lodash");r=a("../symbols");u={lpl:{available:!0,description:"The language and natural deduction proof system presented in Barker-Plummer, Barwise and Etchemndy\u2019s \u2018Language, Proof and Logic\u2019",textbook:"\u2018Language, Proof and Logic\u2019 by Barker-Plummer, Barwise & Etchemendy",versions:{"0.1":{symbols:"default",parser:"awFOL",rules:"fitch"}}},teller:{available:!0,description:"The language and natural deduction proof system presented in Teller\u2019s \u2018A Modern Formal Logic Primer\u2019 (1998)",
textbook:"\u2018A Modern Formal Logic Primer\u2019 by Teller",versions:{"0.1":{symbols:"teller",parser:"teller",rules:"teller"}}},copi:{available:!1,versions:{"0.1":{symbols:"copi",parser:"copi",rules:"copi"}}},forallx:{available:!0,description:"The language and natural deduction proof system presented in Magnus\u2019 \u2018forallx\u2019 (2014)",textbook:"\u2018forallx\u2019 Primer by Magnus",versions:{"0.1":{symbols:"forallx",parser:"forallx",rules:"forallx"}}},logicbook:{available:!0,description:"The language and natural deduction proof system presented in Bergmann, Moore and Nelson\u2019s \u2018The Logic Book\u2019 (2014)",
textbook:"\u2018The Logic Book\u2019 by Bergmann, Moore and Nelson",versions:{"0.1":{symbols:"logicbook",parser:"logicbookFOL",rules:"logicbook",treeRules:"logicbook_tree"}}}};M="lpl";p="0.1";f.set=function(a,c){var b;null!=a.version&&(c=a.version,a=a.name);M=a;b=u[a].versions;null==c&&(c=Math.max(v.keys(b)));p=c;b=b[c];y(b.symbols);A(b.parser);return z(b.rules)};f.getCurrentDialectNameAndVersion=function(){return{name:M,version:p}};f.getTextbookForDialect=function(a){null==a&&(a=M);return u[a].textbook};
f.getAllDialectNamesAndDescriptions=function(){var a,c,b,m,d,C;c=v.keys(u);C=[];b=0;for(d=c.length;b<d;b++)m=c[b],a=u[m],!0===a.available&&C.push({name:m,description:a.description,textbook:a.textbook});return C};f.listDialects=function(){return v.keys(u)};c="default";y=function(a){return c=a};f.setSymbols=y;f.getSymbols=function(a){return null==a?r[c]:r[a]};f.getSymbolsName=function(){return c};l={awFOL:a("../parser/awFOL"),copi:a("../parser/copiFOL"),teller:a("../parser/tellerFOL"),forallx:a("../parser/forallxFOL"),
logicbookFOL:a("../parser/logicbookFOL")};K=void 0;f.registerParser=function(a,c){return l[a]=c};f.getParser=function(a){if(!(a in l))throw Error("unknown parser "+a);return l[a]};f.getCurrentParser=function(){return l[K]};f.getCurrentParserName=function(){return K};A=function(a){if(!(a in l))throw Error("unknown parser \u2018"+a+"\u2019");return K=a};f.setCurrentParser=A;A("awFOL");q={};f.registerRuleSet=function(a,c){return q[a]=c};E="fitch";f.getCurrentRules=function(){return q[E]};f.getCurrentRulesName=
function(){return E};z=function(a){return E=a};f.setCurrentRules=z},{"../parser/awFOL":11,"../parser/copiFOL":12,"../parser/forallxFOL":13,"../parser/logicbookFOL":14,"../parser/tellerFOL":15,"../symbols":31,lodash:9}],6:[function(a,H,f){var v,K,E;K=a("lodash");E=a("./dialect_manager/dialectManager").getCurrentParser();v=function(a,f){this.world=f;K.isString(a)?this.sentence=E.parse(a):this.sentence=a;this.varStack={};return this};v.prototype.logSentence=function(){return console.log("sentence "+
JSON.stringify(this.sentence,null,4))};v.prototype.evaluate=function(a){var f,p,u,l,q;a=null!=a?a:this.sentence;if("value"===a.type)return a.value;if("and"===a.type)return this.evaluate(a.left)&&this.evaluate(a.right);if("nand"===a.type)return!(this.evaluate(a.left)&&this.evaluate(a.right));if("or"===a.type)return this.evaluate(a.left)||this.evaluate(a.right);if("nor"===a.type)return!(this.evaluate(a.left)||this.evaluate(a.right));if("not"===a.type)return!this.evaluate(a.left);if("arrow"===a.type)return!this.evaluate(a.left)||
this.evaluate(a.right);if("double_arrow"===a.type)return this.evaluate(a.left)===this.evaluate(a.right);if("sentence_letter"===a.type)return this.world[a.letter];if("predicate"===a.type||"identity"===a.type)return p=a,f="identity"===p.type?function(){var a,c,f,r;f=this.world.domain;r=[];a=0;for(c=f.length;a<c;a++)q=f[a],r.push([q,q]);return r}.call(this):this.world.predicates[p.name],p=this.instantiate_terms(p.termlist),f=K.where(f,p),0<f.length;if("existential_quantifier"===a.type||"universal_quantifier"===
a.type)return f=a.boundVariable,l=f.name,l in this.varStack||(this.varStack[l]=[]),u=this,"existential_quantifier"===a.type&&(p=K.some),"universal_quantifier"===a.type&&(p=K.all),p(this.world.domain,function(f){u.varStack[l].push(f);f=u.evaluate(a.left);u.varStack[l].pop();return f});throw Error("e (evaluate inner) could not evaluate sentence "+JSON.stringify(a,null,4));};v.prototype.instantiate_terms=function(a){var f,p,u,l;u=[];f=0;for(p=a.length;f<p;f++)if(l=a[f],"name"===l.type){if(!(l.name in
this.world.names))throw Error("The name "+l.name+" is not defined in this world.");u.push(this.world.names[l.name])}else if("variable"===l.type){if(!(l.name in this.varStack))throw Error("The variable "+l.name+" is not bound by any quantifier.");u.push(K.last(this.varStack[l.name]))}else throw Error("Encountered a term of unknown type: "+JSON.stringify(l,null,4));return u};f.evaluate=function(a,f){return(new v(a,f)).evaluate()}},{"./dialect_manager/dialectManager":5,lodash:9}],7:[function(a,H,f){var v,
K,E,c,M,p,u,l,q;v=a("lodash");q=a("./util");M=a("./match");l=a("./substitute");p=a("./normal_form");c=a("./evaluate");H=a("./symbols");E=a("./dialect_manager/dialectManager");u=function(a,c){var f;null==c&&(c=E.getCurrentParser());f=c.parse(a);return K(f)};f.parse=u;f.parseUsingSystemParser=function(a){var c;c=E.getParser("awFOL");return u(a,c)};f.symbols=H;f.getLanguageNames=q.getLanguageNames;f.getPredLanguageName=q.getPredLanguageName;f.setDialect=function(a,c){return E.set(a,c)};f.getAllDialectNamesAndDescriptions=
function(){return E.getAllDialectNamesAndDescriptions()};f.getCurrentDialectNameAndVersion=function(){return E.getCurrentDialectNameAndVersion()};f._dialectManager=E;f.getTextbookForDialect=function(a){return E.getTextbookForDialect(a)};K=function(a){q.walk(a,function(f){if(null!==f&&!(v.isArray(f)||v.isString(f)||v.isBoolean(f)||v.isNumber(f)))return f.walk=function(a){q.walk(f,a);return f},f.delExtraneousProperties=function(){return q.delExtraneousProperties(f)},f.isIdenticalTo=function(a){return q.areIdenticalExpressions(f,
a)},f.clone=function(){var a;a=q.cloneExpression(f);K(a);return a},f.toString=function(a){null==a&&(a={});!1!==a.replaceSymbols&&null==a.symbols&&(a.symbols=E.getSymbols());return q.expressionToString(f,a)},f.listMetaVariableNames=function(){return q.listMetaVariableNames(f)},f.findMatches=function(a,c,k){return M.find(f,a,c,k)},f.applyMatches=function(a){a=M.apply(f,a);K(a);return a},f.applySubstitutions=function(){var a;a=l.applySubstitutions(f);K(a);return a},f.containsSubstitutions=function(){var a;
a=!1;f.walk(function(c){null!=(null!=c?c.substitutions:void 0)&&(a=!0)});return a},f.getNames=function(){var a;a=[];f.walk(function(c){"name"===(null!=c?c.type:void 0)&&a.push(c.name)});return a},f.getPredicates=function(){var a;a=[];f.walk(function(c){"predicate"===(null!=c?c.type:void 0)&&a.push({name:c.name,arity:c.termlist.length})});return v.uniq(a,function(a){return a.name+"*&!"+a.arity})},f.getSentenceLetters=function(){var a;a=[];f.walk(function(c){"sentence_letter"===(null!=c?c.type:void 0)&&
a.push(c.letter)});return a.sort()},f.getFreeVariableNames=function(){var c,l,k,u;c=q.listTerms(f);l=v.uniq(function(){var a,m,d;d=[];a=0;for(m=c.length;a<m;a++)k=c[a],"variable"===k.type&&d.push(k.name);return d}());return function(){var b,c,d;d=[];b=0;for(c=l.length;b<c;b++)u=l[b],p.isVariableFree(u,a)&&d.push(u);return d}()},f.convertToPNFsimplifyAndSort=function(){var c;c=p.convertToPNFsimplifyAndSort(a);K(c);return c},f.isPNFExpressionEquivalent=function(a){return p.arePNFExpressionsEquivalent(f,
a)},f.evaluate=function(a){return c.evaluate(f,a)}});return a};f._decorate=K},{"./dialect_manager/dialectManager":5,"./evaluate":6,"./match":8,"./normal_form":10,"./substitute":30,"./symbols":31,"./util":32,lodash:9}],8:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A,z,y,r,k,x=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1};v=a("lodash");k=a("./util");f.find=function(a,c,d){null==d&&(d={});null==d&&(d={});return y(c,function(c){var m,g;c=r(a,c,d);if(!1!==
c){for(m in c)g=c[m],c[m]=k.cloneExpression(g);return c}})||!1};r=function(a,c,d){var f;null==d&&(d={});f=function(a,b){var e,c,m;if(null!=(null!=b?b.type:void 0)&&("expression_variable"===(e=b.type)||"term_metavariable"===e||"term_metavariable_hat"===e)){"expression_variable"===b.type&&(m=b.letter);if("term_metavariable"===(c=b.type)||"term_metavariable_hat"===c)m=b.name;if(m in d)return k.areIdenticalExpressions(a,d[m]);d=v.clone(d);if("term_metavariable_hat"===b.type&&"name_hat"!==a.type)return!1;
d[m]=a;return null!=b.box?(e=k.cloneExpression(a),delete e.box,d[m]=e,null==a.box?!1:k.walkCompare(a.box,b.box,f)):d}};return k.walkCompare(a,c,f)?d:!1};f.findWithoutApplyingSubs=r;y=function(a,c){var d;if(!k.expressionContainsSubstitutions(a))return c(a);d=k.cloneExpression(a);d=q(d);return p(d,c)};f.doAfterApplyingSubstitutions=y;p=function(a,c){var d,f,D,g,e,F;d=M(a);if(D=!k.expressionContainsSubstitutions(d))if(F=c(d))return F;g=z(a);e=!k.expressionContainsSubstitutions(g);f=!k.areIdenticalExpressions(d,
g);if(e&&f&&(F=c(g))||!D&&(F=p(d,c))||!e&&f&&(F=p(g,c)))return F};M=function(a){var c;c=k.cloneExpression(a);return k.walkMutateFindOne(c,function(a){var b,f;if(null!=(null!=a?a.substitutions:void 0)){a=k.cloneExpression(a);f=A(a);if(null==f)return{newExpression:c,aResult:void 0};u(a,f)&&(b=k.cloneExpression(f.to),null!=a.substitutions&&(b.substitutions=a.substitutions),null!=a.box&&(b.box=a.box),a=b);return{newExpression:a,aResult:f}}}).mutatedExpression};u=function(a,c){return a.type!==c.from.type?
!1:null!=a.name&&null!=c.from.name&&a.name===c.from.name||null!=a.letter&&null!=c.from.letter&&a.letter===c.from.letter?!0:!1};z=function(a){a=k.cloneExpression(a);return k.walkMutateFindOne(a,function(a){var c;if(null!=(null!=a?a.substitutions:void 0))return a=k.cloneExpression(a),c=A(a),{newExpression:a,aResult:c}}).mutatedExpression};q=function(a){a=k.cloneExpression(a);return k.walkMutate(a,function(a){var c;if(null==(null!=a?a.substitutions:void 0)||null!=(null!=a?a.type:void 0)&&("name"===(c=
a.type)||"variable"===c||"term_metavariable"===c))return a;for(c=A(a);c;)a=l(c)?E(a,c):K(a,c),c=A(a);return a})};f._moveAllSubsInwards=q;A=function(a){var c;if(null!=a.substitutions){for(c=a.substitutions.shift();0<a.substitutions.length&&k.areIdenticalExpressions(c.from,c.to);)c=a.substitutions.shift();if(k.areIdenticalExpressions(c.from,c.to))delete a.substitutions;else return 0===a.substitutions.length&&delete a.substitutions,c}};l=function(a){var c;return(c=a.from.type,0<=x.call(k.termTypes,c))?
!0:!1};E=function(a,m){return c(a,m,k.termTypes)};f._addSubToEveryTerm=E;K=function(a,m){return c(a,m,["sentence_letter","expression_variable"])};f._addSubToEverySentence=K;c=function(a,c,d){var f,D;D=function(a){var e;if(null==(null!=a?a.type:void 0)||!(e=a.type,0<=x.call(d,e))||D._inSub)return a;a.substitutions&&!k.expressionHasSub(a,f)?a.substitutions.push(f):a.substitutions=[f];return a};a=k.cloneExpression(a);f=k.cloneExpression(c);return a=k.walkMutate(a,D)};f.apply=function(a,c,d){var f;null==
d&&(d={});f=function(a){var b,e,d;if(null==(null!=a?a.type:void 0)||"expression_variable"!==(b=a.type)&&"term_metavariable"!==b&&"term_metavariable_hat"!==b)return a;"expression_variable"===a.type&&(d=a.letter);if("term_metavariable"===(e=a.type)||"term_metavariable_hat"===e)d=a.name;if(!(d in c))return a;b=k.cloneExpression(c[d]);null!=a.substitutions&&(b.substitutions=a.substitutions);null!=a.box&&(b.box=a.box);return b};if(d.noClone)return k.walkMutate(a,f);a=k.cloneExpression(a);return k.walkMutate(a,
f)}},{"./util":32,lodash:9}],9:[function(a,H,f){(function(a){(function(){function K(a,c){if(a!==c){var b=null===a,d=a===e,g=a===a,n=null===c,w=c===e,B=c===c;if(a>c&&!n||!g||b&&!w&&B||d&&B)return 1;if(a<c&&!b||!B||n&&!d&&g||w&&g)return-1}return 0}function E(a,e,c){for(var b=a.length,d=c?b:-1;c?d--:++d<b;)if(e(a[d],d,a))return d;return-1}function c(a,e,c){if(e!==e)return k(a,c);--c;for(var b=a.length;++c<b;)if(a[c]===e)return c;return-1}function M(a){return"function"==typeof a||!1}function p(a){return null==
a?"":a+""}function u(a,e){for(var c=-1,b=a.length;++c<b&&-1<e.indexOf(a.charAt(c)););return c}function l(a,e){for(var c=a.length;c--&&-1<e.indexOf(a.charAt(c)););return c}function q(a,e){return K(a.criteria,e.criteria)||a.index-e.index}function A(a){return Ba[a]}function z(a){return La[a]}function y(a,e,c){e?a=vb[a]:c&&(a=Sa[a]);return"\\"+a}function r(a){return"\\"+Sa[a]}function k(a,e,c){var b=a.length;for(e+=c?0:-1;c?e--:++e<b;){var d=a[e];if(d!==d)return e}return-1}function x(a){return!!a&&"object"==
typeof a}function b(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function m(a,e){for(var c=-1,b=a.length,d=-1,g=[];++c<b;)a[c]===e&&(a[c]="__lodash_placeholder__",g[++d]=c);return g}function d(a){for(var e=-1,c=a.length;++e<c&&b(a.charCodeAt(e)););return e}function C(a){for(var e=a.length;e--&&b(a.charCodeAt(e)););return e}function D(a){return Ma[a]}function g(a){function b(h){if(x(h)&&!P(h)&&!(h instanceof
H)){if(h instanceof v)return h;if(Z.call(h,"__chain__")&&Z.call(h,"__wrapped__"))return hc(h)}return new v(h)}function f(){}function v(h,t,a){this.__wrapped__=h;this.__actions__=a||[];this.__chain__=!!t}function H(h){this.__wrapped__=h;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=ab;this.__views__=[]}function Ba(){this.__data__={}}function La(h){var t=h?h.length:0;for(this.data={hash:bb(null),set:new cb};t--;)this.push(h[t])}function Ma(h,t){var a=
h.data;return("string"==typeof t||T(t)?a.set.has(t):a.hash[t])?0:-1}function da(h,t){var a=-1,b=h.length;for(t||(t=U(b));++a<b;)t[a]=h[a];return t}function la(h,t){for(var a=-1,b=h.length;++a<b&&!1!==t(h[a],a,h););return h}function ra(h,t){for(var a=-1,b=h.length;++a<b;)if(!t(h[a],a,h))return!1;return!0}function va(h,t){for(var a=-1,b=h.length,e=-1,c=[];++a<b;){var d=h[a];t(d,a,h)&&(c[++e]=d)}return c}function Na(h,t){for(var a=-1,b=h.length,e=U(b);++a<b;)e[a]=t(h[a],a,h);return e}function oa(h,t){for(var a=
-1,b=t.length,e=h.length;++a<b;)h[e+a]=t[a];return h}function Sa(h,t,a,b){var e=-1,c=h.length;for(b&&c&&(a=h[++e]);++e<c;)a=t(a,h[e],e,h);return a}function ic(h,t){for(var a=-1,b=h.length;++a<b;)if(t(h[a],a,h))return!0;return!1}function jc(h,t,a,b){return h!==e&&Z.call(b,a)?h:t}function wb(h,t,a){for(var b=-1,c=ca(t),d=c.length;++b<d;){var g=c[b],n=h[g],w=a(n,t[g],g,h,t);(w===w?w===n:n!==n)&&(n!==e||g in h)||(h[g]=w)}return h}function Ta(h,t){return null==t?h:kc(t,ca(t),h)}function lc(h,t){for(var a=
-1,b=null==h,c=!b&&aa(h),d=c?h.length:0,g=t.length,n=U(g);++a<g;){var w=t[a];n[a]=c?wa(w,d)?h[w]:e:b?e:h[w]}return n}function kc(h,t,a){a||(a={});for(var b=-1,e=t.length;++b<e;){var c=t[b];a[c]=h[c]}return a}function db(h,t,a){var b=typeof h;return"function"==b?t===e?h:ga(h,t,a):null==h?Ca:"object"==b?Ua(h):t===e?eb(h):mc(h,t)}function Da(h,t,a,b,c,d,g){var n;a&&(n=c?a(h,b,c):a(h));if(n!==e)return n;if(!T(h))return h;if(b=P(h)){if(n=Vd(h),!t)return da(h,n)}else{var w=ha.call(h),B="[object Function]"==
w;if("[object Object]"==w||"[object Arguments]"==w||B&&!c){if(n=Wd(B?{}:h),!t)return Ta(n,h)}else return V[w]?Xd(h,w,t):c?h:{}}d||(d=[]);g||(g=[]);for(c=d.length;c--;)if(d[c]==h)return g[c];d.push(h);g.push(n);(b?la:sa)(h,function(b,e){n[e]=Da(b,t,a,e,h,d,g)});return n}function nc(h,t,a){if("function"!=typeof h)throw new ja("Expected a function");return fb(function(){h.apply(e,a)},t)}function Va(h,t){var a=h?h.length:0,b=[];if(!a)return b;var e=-1,d=Oa(),g=d==c,n=g&&200<=t.length?bb&&cb?new La(t):
null:null,w=t.length;n&&(d=Ma,g=!1,t=n);a:for(;++e<a;)if(n=h[e],g&&n===n){for(var B=w;B--;)if(t[B]===n)continue a;b.push(n)}else 0>d(t,n,0)&&b.push(n);return b}function vb(h,t){var a=!0;ma(h,function(h,b,e){return a=!!t(h,b,e)});return a}function fc(h,t,a,b){var e=b,c=e;ma(h,function(h,d,g){d=+t(h,d,g);if(a(d,e)||d===b&&d===c)e=d,c=h});return c}function oc(h,t){var a=[];ma(h,function(h,b,e){t(h,b,e)&&a.push(h)});return a}function pc(h,t,a,b){var e;a(h,function(h,a,ia){if(t(h,a,ia))return e=b?a:h,
!1});return e}function ea(h,t,a,b){b||(b=[]);for(var e=-1,c=h.length;++e<c;){var d=h[e];x(d)&&aa(d)&&(a||P(d)||ta(d))?t?ea(d,t,a,b):oa(b,d):a||(b[b.length]=d)}return b}function qc(h,t){return xb(h,t,xa)}function sa(h,t){return xb(h,t,ca)}function yb(h,t){return rc(h,t,ca)}function zb(h,t){for(var a=-1,b=t.length,e=-1,c=[];++a<b;){var d=t[a];Ea(h[d])&&(c[++e]=d)}return c}function Fa(h,t,a){if(null!=h){a!==e&&a in na(h)&&(t=[a]);a=0;for(var b=t.length;null!=h&&a<b;)h=h[t[a++]];return a&&a==b?h:e}}function gb(h,
t,a,b,e,c){if(h===t)return!0;if(null==h||null==t||!T(h)&&!x(t))return h!==h&&t!==t;a:{var d=gb,g=P(h),n=P(t),w="[object Array]",B="[object Array]";g||(w=ha.call(h),"[object Arguments]"==w?w="[object Object]":"[object Object]"!=w&&(g=Pa(h)));n||(B=ha.call(t),"[object Arguments]"==B?B="[object Object]":"[object Object]"!=B&&Pa(t));var I="[object Object]"==w,n="[object Object]"==B,B=w==B;if(!B||g||I){if(!b&&(w=I&&Z.call(h,"__wrapped__"),n=n&&Z.call(t,"__wrapped__"),w||n)){h=d(w?h.value():h,n?t.value():
t,a,b,e,c);break a}if(B){e||(e=[]);c||(c=[]);for(w=e.length;w--;)if(e[w]==h){h=c[w]==t;break a}e.push(h);c.push(t);h=(g?Yd:Zd)(h,t,d,a,b,e,c);e.pop();c.pop()}else h=!1}else h=$d(h,t,w)}return h}function sc(h,t,a){var b=t.length,c=b,d=!a;if(null==h)return!c;for(h=na(h);b--;){var g=t[b];if(d&&g[2]?g[1]!==h[g[0]]:!(g[0]in h))return!1}for(;++b<c;){var g=t[b],n=g[0],w=h[n],B=g[1];if(d&&g[2]){if(w===e&&!(n in h))return!1}else if(g=a?a(w,B,n):e,g===e?!gb(B,w,a,!0):!g)return!1}return!0}function Ab(h,t){var a=
-1,b=aa(h)?U(h.length):[];ma(h,function(h,e,c){b[++a]=t(h,e,c)});return b}function Ua(h){var t=tc(h);if(1==t.length&&t[0][2]){var a=t[0][0],b=t[0][1];return function(h){return null==h?!1:h[a]===b&&(b!==e||a in na(h))}}return function(h){return sc(h,t)}}function mc(h,t){var a=P(h),b=Ga(h)&&t===t&&!T(t),c=h+"";h=ya(h);return function(d){if(null==d)return!1;var g=c;d=na(d);if(!(!a&&b||g in d)){d=1==h.length?d:Fa(d,ka(h,0,-1));if(null==d)return!1;g=Wa(h);d=na(d)}return d[g]===t?t!==e||g in d:gb(t,d[g],
e,!0)}}function uc(h,t,a,b,c){if(!T(h))return h;var d=aa(t)&&(P(t)||Pa(t)),g=d?e:ca(t);la(g||t,function(n,w){g&&(w=n,n=t[w]);if(x(n)){b||(b=[]);c||(c=[]);a:{for(var B=w,I=b,f=c,m=I.length,J=t[B];m--;)if(I[m]==J){h[B]=f[m];break a}var m=h[B],G=a?a(m,J,B,h,t):e,D=G===e;D&&(G=J,aa(J)&&(P(J)||Pa(J))?G=P(m)?m:aa(m)?da(m):[]:hb(J)||ta(J)?G=ta(m)?vc(m):hb(m)?m:{}:D=!1);I.push(J);f.push(G);if(D)h[B]=uc(G,J,a,I,f);else if(G===G?G!==m:m===m)h[B]=G}}else B=h[w],I=a?a(B,n,w,h,t):e,(f=I===e)&&(I=n),I===e&&(!d||
w in h)||!f&&(I===I?I===B:B!==B)||(h[w]=I)});return h}function Bb(h){return function(t){return null==t?e:t[h]}}function gc(h){var t=h+"";h=ya(h);return function(a){return Fa(a,h,t)}}function wc(h,t){for(var a=h?t.length:0;a--;){var b=t[a];if(b!=e&&wa(b)){var e=b;xc.call(h,b,1)}}return h}function Cb(h,t){return h+Ha(yc()*(t-h+1))}function ae(h,t,a,b,e){e(h,function(h,e,c){a=b?(b=!1,h):t(a,h,e,c)});return a}function ka(h,t,a){var b=-1,c=h.length;t=null==t?0:+t||0;0>t&&(t=-t>c?0:c+t);a=a===e||a>c?c:
+a||0;0>a&&(a+=c);c=t>a?0:a-t>>>0;t>>>=0;for(a=U(c);++b<c;)a[b]=h[b+t];return a}function be(h,t){var a;ma(h,function(h,b,e){a=t(h,b,e);return!a});return!!a}function zc(h,t){var a=h.length;for(h.sort(t);a--;)h[a]=h[a].value;return h}function Ac(h,t,a){var b=S(),e=-1;t=Na(t,function(h){return b(h)});h=Ab(h,function(h){return{criteria:Na(t,function(t){return t(h)}),index:++e,value:h}});return zc(h,function(h,t){var b;a:{for(var e=-1,c=h.criteria,Ud=t.criteria,d=c.length,g=a.length;++e<d;)if(b=K(c[e],
Ud[e])){if(e>=g)break a;e=a[e];b*="asc"===e||!0===e?1:-1;break a}b=h.index-t.index}return b})}function ce(h,t){var a=0;ma(h,function(h,b,e){a+=+t(h,b,e)||0});return a}function Db(h,t){var a=-1,b=Oa(),e=h.length,d=b==c,g=d&&200<=e,n=g?bb&&cb?new La(void 0):null:null,w=[];n?(b=Ma,d=!1):(g=!1,n=t?[]:w);a:for(;++a<e;){var B=h[a],I=t?t(B,a,h):B;if(d&&B===B){for(var m=n.length;m--;)if(n[m]===I)continue a;t&&n.push(I);w.push(B)}else 0>b(n,I,0)&&((t||g)&&n.push(I),w.push(B))}return w}function Eb(h,t){for(var a=
-1,b=t.length,e=U(b);++a<b;)e[a]=h[t[a]];return e}function ib(h,t,a,b){for(var e=h.length,c=b?e:-1;(b?c--:++c<e)&&t(h[c],c,h););return a?ka(h,b?0:c,b?c+1:e):ka(h,b?c+1:0,b?e:c)}function Bc(h,t){var a=h;a instanceof H&&(a=a.value());for(var b=-1,e=t.length;++b<e;)var c=t[b],a=c.func.apply(c.thisArg,oa([a],c.args));return a}function Fb(h,t,a){var b=0,e=h?h.length:b;if("number"==typeof t&&t===t&&2147483647>=e){for(;b<e;){var c=b+e>>>1,d=h[c];(a?d<=t:d<t)&&null!==d?b=c+1:e=c}return e}return Cc(h,t,Ca,
a)}function Cc(h,t,a,b){t=a(t);for(var c=0,d=h?h.length:0,g=t!==t,n=null===t,w=t===e;c<d;){var B=Ha((c+d)/2),I=a(h[B]),m=I!==e,f=I===I;(g?f||b:n?f&&m&&(b||null!=I):w?f&&(b||m):null==I?0:b?I<=t:I<t)?c=B+1:d=B}return fa(d,4294967294)}function ga(h,t,a){if("function"!=typeof h)return Ca;if(t===e)return h;switch(a){case 1:return function(a){return h.call(t,a)};case 3:return function(a,b,ia){return h.call(t,a,b,ia)};case 4:return function(a,b,ia,e){return h.call(t,a,b,ia,e)};case 5:return function(a,b,
ia,e,c){return h.call(t,a,b,ia,e,c)}}return function(){return h.apply(t,arguments)}}function Dc(h){var t=new de(h.byteLength);(new Ec(t)).set(new Ec(h));return t}function Fc(h,t,a){for(var b=a.length,e=-1,c=ba(h.length-b,0),d=-1,g=t.length,n=U(g+c);++d<g;)n[d]=t[d];for(;++e<b;)n[a[e]]=h[e];for(;c--;)n[d++]=h[e++];return n}function Gc(h,t,a){for(var b=-1,e=a.length,c=-1,d=ba(h.length-e,0),g=-1,n=t.length,w=U(d+n);++c<d;)w[c]=h[c];for(d=c;++g<n;)w[d+g]=t[g];for(;++b<e;)w[d+a[b]]=h[c++];return w}function jb(h,
a){return function(b,e,c){var d=a?a():{};e=S(e,c,3);if(P(b)){c=-1;for(var g=b.length;++c<g;){var n=b[c];h(d,n,e(n,c,b),b)}}else ma(b,function(a,t,b){h(d,a,e(a,t,b),b)});return d}}function Hc(h){return R(function(a,b){var c=-1,d=null==a?0:b.length,g=2<d?b[d-2]:e,n=2<d?b[2]:e,w=1<d?b[d-1]:e;"function"==typeof g?(g=ga(g,w,5),d-=2):(g="function"==typeof w?w:e,d-=g?1:0);n&&Q(b[0],b[1],n)&&(g=3>d?e:g,d=1);for(;++c<d;)(n=b[c])&&h(a,n,g);return a})}function Ic(h,a){return function(b,e){var c=b?Xa(b):0;if(!pa(c))return h(b,
e);for(var d=a?c:-1,g=na(b);(a?d--:++d<c)&&!1!==e(g[d],d,g););return b}}function Jc(h){return function(a,b,e){var c=na(a);e=e(a);for(var d=e.length,g=h?d:-1;h?g--:++g<d;){var n=e[g];if(!1===b(c[n],n,c))break}return a}}function ee(h,a){function b(){return(this&&this!==qa&&this instanceof b?e:h).apply(a,arguments)}var e=kb(h);return b}function lb(h){return function(a){var b=-1;a=Kc(Lc(a));for(var e=a.length,c="";++b<e;)c=h(c,a[b],b);return c}}function kb(h){return function(){var a=arguments;switch(a.length){case 0:return new h;
case 1:return new h(a[0]);case 2:return new h(a[0],a[1]);case 3:return new h(a[0],a[1],a[2]);case 4:return new h(a[0],a[1],a[2],a[3]);case 5:return new h(a[0],a[1],a[2],a[3],a[4]);case 6:return new h(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new h(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var b=Ya(h.prototype),a=h.apply(b,a);return T(a)?a:b}}function Mc(h){function a(b,c,d){d&&Q(b,c,d)&&(c=e);b=za(b,h,e,e,e,e,e,c);b.placeholder=a.placeholder;return b}return a}function Nc(h,a){return R(function(b){var c=
b[0];if(null==c)return c;b.push(a);return h.apply(e,b)})}function Oc(h,a){return function(b,c,d){d&&Q(b,c,d)&&(c=e);c=S(c,d,3);if(1==c.length){d=b=P(b)?b:Gb(b);for(var g=c,n=-1,w=d.length,B=a,I=B;++n<w;){var m=d[n],f=+g(m);h(f,B)&&(B=f,I=m)}d=I;if(!b.length||d!==a)return d}return fc(b,c,h,a)}}function Pc(h,a){return function(b,c,d){c=S(c,d,3);return P(b)?(c=E(b,c,a),-1<c?b[c]:e):pc(b,c,h)}}function Qc(h){return function(a,b,c){if(!a||!a.length)return-1;b=S(b,c,3);return E(a,b,h)}}function Rc(h){return function(a,
b,c){b=S(b,c,3);return pc(a,b,h,!0)}}function Sc(h){return function(){for(var a,b=arguments.length,c=h?b:-1,d=0,g=U(b);h?c--:++c<b;){var n=g[d++]=arguments[c];if("function"!=typeof n)throw new ja("Expected a function");!a&&v.prototype.thru&&"wrapper"==mb(n)&&(a=new v([],!0))}for(c=a?-1:b;++c<b;){var n=g[c],d=mb(n),w="wrapper"==d?Hb(n):e;a=w&&Ib(w[0])&&424==w[1]&&!w[4].length&&1==w[9]?a[mb(w[0])].apply(a,w[3]):1==n.length&&Ib(n)?a[d]():a.thru(n)}return function(){var h=arguments,c=h[0];if(a&&1==h.length&&
P(c)&&200<=c.length)return a.plant(c).value();for(var e=0,h=b?g[e].apply(this,h):c;++e<b;)h=g[e].call(this,h);return h}}}function Tc(h,a){return function(b,c,d){return"function"==typeof c&&d===e&&P(b)?h(b,c):a(b,ga(c,d,3))}}function Uc(h){return function(a,b,c){if("function"!=typeof b||c!==e)b=ga(b,c,3);return h(a,b,xa)}}function Vc(h){return function(a,b,c){if("function"!=typeof b||c!==e)b=ga(b,c,3);return h(a,b)}}function Wc(h){return function(a,b,c){var e={};b=S(b,c,3);sa(a,function(a,t,c){c=b(a,
t,c);t=h?c:t;a=h?a:c;e[t]=a});return e}}function Xc(h){return function(a,b,c){a=p(a);return(h?a:"")+Yc(a,b,c)+(h?"":a)}}function Zc(h){var a=R(function(b,c){var d=m(c,a.placeholder);return za(b,h,e,c,d)});return a}function $c(h,a){return function(b,c,d,g){var n=3>arguments.length;return"function"==typeof c&&g===e&&P(b)?h(b,c,d,n):ae(b,S(c,g,4),d,n,a)}}function Jb(h,a,b,c,d,g,n,w,B,I){function f(){for(var L=arguments.length,F=L,N=U(L);F--;)N[F]=arguments[F];c&&(N=Fc(N,c,d));g&&(N=Gc(N,g,n));if(C||
k){var F=f.placeholder,ua=m(N,F),L=L-ua.length;if(L<I){var l=w?da(w):e,L=ba(I-L,0),p=C?ua:e,ua=C?e:ua,Ka=C?N:e,N=C?e:N;a|=C?32:64;a&=~(C?64:32);O||(a&=-4);N=[h,a,b,Ka,p,N,ua,l,B,L];l=Jb.apply(e,N);Ib(h)&&ad(l,N);l.placeholder=F;return l}}F=G?b:this;l=D?F[h]:h;if(w)for(L=N.length,p=fa(w.length,L),ua=da(N);p--;)Ka=w[p],N[p]=wa(Ka,L)?ua[Ka]:e;J&&B<N.length&&(N.length=B);this&&this!==qa&&this instanceof f&&(l=ec||kb(h));return l.apply(F,N)}var J=a&128,G=a&1,D=a&2,C=a&8,O=a&4,k=a&16,ec=D?e:kb(h);return f}
function Yc(h,a,b){h=h.length;a=+a;if(h>=a||!Qa(a))return"";a-=h;b=null==b?" ":b+"";return bd(b,nb(a/b.length)).slice(0,a)}function fe(h,a,b,c){function e(){for(var a=-1,t=arguments.length,n=-1,w=c.length,B=U(w+t);++n<w;)B[n]=c[n];for(;t--;)B[n++]=arguments[++a];return(this&&this!==qa&&this instanceof e?g:h).apply(d?b:this,B)}var d=a&1,g=kb(h);return e}function Kb(h){var a=Ia[h];return function(h,b){return(b=b===e?0:+b||0)?(b=ge(10,b),a(h*b)/b):a(h)}}function cd(h){return function(a,b,c,e){var d=
S(c);return null==c&&d===db?Fb(a,b,h):Cc(a,b,d(c,e,1),h)}}function za(h,a,b,c,d,g,n,w){var B=a&2;if(!B&&"function"!=typeof h)throw new ja("Expected a function");var I=c?c.length:0;I||(a&=-97,c=d=e);I-=d?d.length:0;if(a&64){var f=c,J=d;c=d=e}var G=B?e:Hb(h);b=[h,a,b,c,d,f,J,g,n,w];if(G){c=b[1];a=G[1];w=c|a;d=128==a&&8==c||128==a&&256==c&&b[7].length<=G[8]||384==a&&8==c;if(128>w||d){a&1&&(b[2]=G[2],w|=c&1?0:4);if(c=G[3])d=b[3],b[3]=d?Fc(d,c,G[4]):da(c),b[4]=d?m(b[3],"__lodash_placeholder__"):da(G[4]);
if(c=G[5])d=b[5],b[5]=d?Gc(d,c,G[6]):da(c),b[6]=d?m(b[5],"__lodash_placeholder__"):da(G[6]);(c=G[7])&&(b[7]=da(c));a&128&&(b[8]=null==b[8]?G[8]:fa(b[8],G[8]));null==b[9]&&(b[9]=G[9]);b[0]=G[0];b[1]=w}a=b[1];w=b[9]}b[9]=null==w?B?0:h.length:ba(w-I,0)||0;h=1==a?ee(b[0],b[2]):32!=a&&33!=a||b[4].length?Jb.apply(e,b):fe.apply(e,b);return(G?dd:ad)(h,b)}function Yd(h,a,b,c,d,g,n){var w=-1,B=h.length,I=a.length;if(B!=I&&!(d&&I>B))return!1;for(;++w<B;){var m=h[w],I=a[w],f=c?c(d?I:m,d?m:I,w):e;if(f!==e){if(f)continue;
return!1}if(d){if(!ic(a,function(h){return m===h||b(m,h,c,d,g,n)}))return!1}else if(m!==I&&!b(m,I,c,d,g,n))return!1}return!0}function $d(h,a,b){switch(b){case "[object Boolean]":case "[object Date]":return+h==+a;case "[object Error]":return h.name==a.name&&h.message==a.message;case "[object Number]":return h!=+h?a!=+a:h==+a;case "[object RegExp]":case "[object String]":return h==a+""}return!1}function Zd(h,a,b,c,d,g,n){var w=ca(h),B=w.length,I=ca(a).length;if(B!=I&&!d)return!1;for(I=B;I--;){var m=
w[I];if(!(d?m in a:Z.call(a,m)))return!1}for(var f=d;++I<B;){var m=w[I],J=h[m],G=a[m],D=c?c(d?G:J,d?J:G,m):e;if(D===e?!b(J,G,c,d,g,n):!D)return!1;f||(f="constructor"==m)}return f||(b=h.constructor,c=a.constructor,!(b!=c&&"constructor"in h&&"constructor"in a)||"function"==typeof b&&b instanceof b&&"function"==typeof c&&c instanceof c)?!0:!1}function S(h,a,c){var e=b.callback||ob,e=e===ob?db:e;return c?e(h,a,c):e}function mb(h){for(var a=h.name,b=pb[a],c=b?b.length:0;c--;){var e=b[c],d=e.func;if(null==
d||d==h)return e.name}return a}function Oa(h,a,e){var d=b.indexOf||Lb,d=d===Lb?c:d;return h?d(h,a,e):d}function tc(h){h=ed(h);for(var a=h.length;a--;){var b=h[a],c;c=h[a][1];c=c===c&&!T(c);b[2]=c}return h}function Ra(h,a){var b=null==h?e:h[a];return fd(b)?b:e}function Vd(h){var a=h.length,b=new h.constructor(a);a&&"string"==typeof h[0]&&Z.call(h,"index")&&(b.index=h.index,b.input=h.input);return b}function Wd(h){h=h.constructor;"function"==typeof h&&h instanceof h||(h=Ja);return new h}function Xd(h,
a,b){var c=h.constructor;switch(a){case "[object ArrayBuffer]":return Dc(h);case "[object Boolean]":case "[object Date]":return new c(+h);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return a=h.buffer,new c(b?Dc(a):a,h.byteOffset,h.length);case "[object Number]":case "[object String]":return new c(h);
case "[object RegExp]":var e=new c(h.source,gd.exec(h));e.lastIndex=h.lastIndex}return e}function Mb(h,a,b){null==h||Ga(a,h)||(a=ya(a),h=1==a.length?h:Fa(h,ka(a,0,-1)),a=Wa(a));a=null==h?h:h[a];return null==a?e:a.apply(h,b)}function aa(h){return null!=h&&pa(Xa(h))}function wa(h,a){h="number"==typeof h||he.test(h)?+h:-1;return-1<h&&0==h%1&&h<(null==a?9007199254740991:a)}function Q(h,a,b){if(!T(b))return!1;var c=typeof a;return("number"==c?aa(b)&&wa(a,b.length):"string"==c&&a in b)?(a=b[a],h===h?h===
a:a!==a):!1}function Ga(h,a){var b=typeof h;return"string"==b&&I.test(h)||"number"==b?!0:P(h)?!1:!B.test(h)||null!=a&&h in na(a)}function Ib(h){var a=mb(h);if(!(a in H.prototype))return!1;a=b[a];if(h===a)return!0;a=Hb(a);return!!a&&h===a[0]}function pa(h){return"number"==typeof h&&-1<h&&0==h%1&&9007199254740991>=h}function hd(h,a){return h===e?a:Nb(h,a,hd)}function id(h,a){h=na(h);for(var b=-1,c=a.length,e={};++b<c;){var d=a[b];d in h&&(e[d]=h[d])}return e}function jd(h,a){var b={};qc(h,function(h,
c,e){a(h,c,e)&&(b[c]=h)});return b}function kd(h){for(var a=xa(h),b=a.length,c=b&&h.length,e=!!c&&pa(c)&&(P(h)||ta(h)),d=-1,g=[];++d<b;){var n=a[d];(e&&wa(n,c)||Z.call(h,n))&&g.push(n)}return g}function Gb(h){return null==h?[]:aa(h)?T(h)?h:Ja(h):qb(h)}function na(h){return T(h)?h:Ja(h)}function ya(h){if(P(h))return h;var a=[];p(h).replace(w,function(h,b,c,e){a.push(c?e.replace(ie,"$1"):b||h)});return a}function hc(h){return h instanceof H?h.clone():new v(h.__wrapped__,h.__chain__,da(h.__actions__))}
function ld(h,a,b){if(!h||!h.length)return[];if(b?Q(h,a,b):null==a)a=1;return ka(h,0>a?0:a)}function md(h,a,b){var c=h?h.length:0;if(!c)return[];if(b?Q(h,a,b):null==a)a=1;a=c-(+a||0);return ka(h,0,0>a?0:a)}function nd(h){return h?h[0]:e}function Lb(h,a,b){var e=h?h.length:0;if(!e)return-1;if("number"==typeof b)b=0>b?ba(e+b,0):b;else if(b)return b=Fb(h,a),b<e&&(a===a?a===h[b]:h[b]!==h[b])?b:-1;return c(h,a,b||0)}function Wa(h){var a=h?h.length:0;return a?h[a-1]:e}function od(h){return ld(h,1)}function pd(h,
a,b,d){if(!h||!h.length)return[];null!=a&&"boolean"!=typeof a&&(d=b,b=Q(h,a,d)?e:a,a=!1);var g=S();if(null!=b||g!==db)b=g(b,d,3);if(a&&Oa()==c){a=b;var n;b=-1;d=h.length;for(var g=-1,w=[];++b<d;){var B=h[b],I=a?a(B,b,h):B;b&&n===I||(n=I,w[++g]=B)}h=w}else h=Db(h,b);return h}function Ob(a){if(!a||!a.length)return[];var b=-1,c=0;a=va(a,function(a){if(aa(a))return c=ba(a.length,c),!0});for(var e=U(c);++b<c;)e[b]=Na(a,Bb(b));return e}function qd(a,b,c){if(!a||!a.length)return[];a=Ob(a);if(null==b)return a;
b=ga(b,c,4);return Na(a,function(a){return Sa(a,b,e,!0)})}function rd(a,b){var c=-1,e=a?a.length:0,d={};for(!e||b||P(a[0])||(b=[]);++c<e;){var g=a[c];b?d[g]=b[c]:g&&(d[g[0]]=g[1])}return d}function sd(a){a=b(a);a.__chain__=!0;return a}function Pb(a,b,c){return b.call(c,a)}function td(a,b,c){var d=P(a)?ra:vb;c&&Q(a,b,c)&&(b=e);if("function"!=typeof b||c!==e)b=S(b,c,3);return d(a,b)}function Qb(a,b,c){var e=P(a)?va:oc;b=S(b,c,3);return e(a,b)}function Rb(a,b,c,e){var d=a?Xa(a):0;pa(d)||(a=qb(a),d=a.length);
c="number"!=typeof c||e&&Q(b,c,e)?0:0>c?ba(d+c,0):c||0;return"string"==typeof a||!P(a)&&Sb(a)?c<=d&&-1<a.indexOf(b,c):!!d&&-1<Oa(a,b,c)}function Tb(a,b,c){var e=P(a)?Na:Ab;b=S(b,c,3);return e(a,b)}function rb(a,b,c){if(c?Q(a,b,c):null==b){a=Gb(a);var d=a.length;return 0<d?a[Cb(0,d-1)]:e}c=-1;a=ud(a);var d=a.length,g=d-1;for(b=fa(0>b?0:+b||0,d);++c<b;){var d=Cb(c,g),n=a[d];a[d]=a[c];a[c]=n}a.length=b;return a}function vd(a,b,c){var d=P(a)?ic:be;c&&Q(a,b,c)&&(b=e);if("function"!=typeof b||c!==e)b=S(b,
c,3);return d(a,b)}function wd(a,b){var c;if("function"!=typeof b)if("function"==typeof a){var d=a;a=b;b=d}else throw new ja("Expected a function");return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=e);return c}}function xd(a,b,c){function d(b,c){c&&Za(c);I=G=D=e;b&&(C=$a(),m=a.apply(J,B),G||I||(B=J=e))}function g(){var a=b-($a()-f);0>=a||a>b?d(D,I):G=fb(g,a)}function n(){d(N,G)}function w(){B=arguments;f=$a();J=this;D=N&&(G||!L);if(!1===O)var c=L&&!G;else{I||L||(C=f);var d=O-(f-C),ia=
0>=d||d>O;ia?(I&&(I=Za(I)),C=f,m=a.apply(J,B)):I||(I=fb(n,d))}ia&&G?G=Za(G):G||b===O||(G=fb(g,b));c&&(ia=!0,m=a.apply(J,B));!ia||G||I||(B=J=e);return m}var B,I,m,f,J,G,D,C=0,O=!1,N=!0;if("function"!=typeof a)throw new ja("Expected a function");b=0>b?0:+b||0;if(!0===c)var L=!0,N=!1;else T(c)&&(L=!!c.leading,O="maxWait"in c&&ba(+c.maxWait||0,b),N="trailing"in c?!!c.trailing:N);w.cancel=function(){G&&Za(G);I&&Za(I);C=0;I=G=D=e};return w}function Ub(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new ja("Expected a function");
var c=function(){var e=arguments,d=b?b.apply(this,e):e[0],g=c.cache;if(g.has(d))return g.get(d);e=a.apply(this,e);c.cache=g.set(d,e);return e};c.cache=new Ub.Cache;return c}function R(a,b){if("function"!=typeof a)throw new ja("Expected a function");b=ba(b===e?a.length-1:+b||0,0);return function(){for(var c=arguments,e=-1,d=ba(c.length-b,0),g=U(d);++e<d;)g[e]=c[b+e];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}d=U(b+1);for(e=-1;++e<
b;)d[e]=c[e];d[b]=g;return a.apply(this,d)}}function yd(a,b){return a>b}function ta(a){return x(a)&&aa(a)&&Z.call(a,"callee")&&!je.call(a,"callee")}function zd(a,b,c,d){d=(c="function"==typeof c?ga(c,d,3):e)?c(a,b):e;return d===e?gb(a,b,c):!!d}function Vb(a){return x(a)&&"string"==typeof a.message&&"[object Error]"==ha.call(a)}function Ea(a){return T(a)&&"[object Function]"==ha.call(a)}function T(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function fd(a){return null==a?!1:Ea(a)?ke.test(Ad.call(a)):
x(a)&&le.test(a)}function Bd(a){return"number"==typeof a||x(a)&&"[object Number]"==ha.call(a)}function hb(a){var b;if(!x(a)||"[object Object]"!=ha.call(a)||ta(a)||!(Z.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var c;qc(a,function(a,h){c=h});return c===e||Z.call(a,c)}function Cd(a){return T(a)&&"[object RegExp]"==ha.call(a)}function Sb(a){return"string"==typeof a||x(a)&&"[object String]"==ha.call(a)}function Pa(a){return x(a)&&pa(a.length)&&!!W[ha.call(a)]}
function Dd(a,b){return a<b}function ud(a){var b=a?Xa(a):0;return pa(b)?b?da(a):[]:qb(a)}function vc(a){return kc(a,xa(a))}function Wb(a){return zb(a,xa(a))}function xa(a){if(null==a)return[];T(a)||(a=Ja(a));for(var b=a.length,b=b&&pa(b)&&(P(a)||ta(a))&&b||0,c=a.constructor,e=-1,c="function"==typeof c&&c.prototype===a,d=U(b),g=0<b;++e<b;)d[e]=e+"";for(var n in a)g&&wa(n,b)||"constructor"==n&&(c||!Z.call(a,n))||d.push(n);return d}function ed(a){a=na(a);for(var b=-1,c=ca(a),e=c.length,d=U(e);++b<e;){var g=
c[b];d[b]=[g,a[g]]}return d}function qb(a){return Eb(a,ca(a))}function Lc(a){return(a=p(a))&&a.replace(me,A).replace(ua,"")}function bd(a,b){var c="";a=p(a);b=+b;if(1>b||!a||!Qa(b))return c;do b%2&&(c+=a),b=Ha(b/2),a+=a;while(b);return c}function Ed(a,b,c){var e=a;a=p(a);if(!a)return a;if(c?Q(e,b,c):null==b)return a.slice(d(a),C(a)+1);b+="";return a.slice(u(a,b),l(a,b)+1)}function Kc(a,b,c){c&&Q(a,b,c)&&(b=e);a=p(a);return a.match(b||ne)||[]}function ob(a,b,c){c&&Q(a,b,c)&&(b=e);return x(a)?Fd(a):
db(a,b)}function Ca(a){return a}function Fd(a){return Ua(Da(a,!0))}function Xb(a,b,c){if(null==c){var d=T(b),g=d?ca(b):e;((g=g&&g.length?zb(b,g):e)?g.length:d)||(g=!1,c=b,b=a,a=this)}g||(g=zb(b,ca(b)));var n=!0,d=-1,w=Ea(a),B=g.length;!1===c?n=!1:T(c)&&"chain"in c&&(n=c.chain);for(;++d<B;){c=g[d];var I=b[c];a[c]=I;w&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(n||c){var e=a(this.__wrapped__);(e.__actions__=da(this.__actions__)).push({func:b,args:arguments,thisArg:a});e.__chain__=
c;return e}return b.apply(a,oa([this.value()],arguments))}}(I))}return a}function Gd(){}function eb(a){return Ga(a)?Bb(a):gc(a)}a=a?Aa.defaults(qa.Object(),a,Aa.pick(qa,oe)):qa;var U=a.Array,Hd=a.Date,pe=a.Error,Id=a.Function,Ia=a.Math,Jd=a.Number,Ja=a.Object,Yb=a.RegExp,Kd=a.String,ja=a.TypeError,Ld=U.prototype,Zb=Ja.prototype,qe=Kd.prototype,Ad=Id.prototype.toString,Z=Zb.hasOwnProperty,re=0,ha=Zb.toString,se=qa._,ke=Yb("^"+Ad.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$"),de=a.ArrayBuffer,Za=a.clearTimeout,te=a.parseFloat,ge=Ia.pow,je=Zb.propertyIsEnumerable,cb=Ra(a,"Set"),fb=a.setTimeout,xc=Ld.splice,Ec=a.Uint8Array,Md=Ra(a,"WeakMap"),nb=Ia.ceil,bb=Ra(Ja,"create"),Ha=Ia.floor,ue=Ra(U,"isArray"),Qa=a.isFinite,Nd=Ra(Ja,"keys"),ba=Ia.max,fa=Ia.min,ve=Ra(Hd,"now"),we=a.parseInt,yc=Ia.random,xe=Jd.NEGATIVE_INFINITY,ab=Jd.POSITIVE_INFINITY,sb=Md&&new Md,pb={};b.support={};b.templateSettings={escape:Y,evaluate:X,interpolate:G,variable:"",imports:{_:b}};var Ya=
function(){function a(){}return function(b){if(T(b)){a.prototype=b;var c=new a;a.prototype=e}return c||{}}}(),ma=Ic(sa),$b=Ic(yb,!0),xb=Jc(),rc=Jc(!0),dd=sb?function(a,b){sb.set(a,b);return a}:Ca,Hb=sb?function(a){return sb.get(a)}:Gd,Xa=Bb("length"),ad=function(){var a=0,b=0;return function(c,e){var d=$a(),g=16-(d-b);b=d;if(0<g){if(150<=++a)return c}else a=0;return dd(c,e)}}(),ye=R(function(a,b){return x(a)&&aa(a)?Va(a,ea(b,!1,!0)):[]}),ze=Qc(),Ae=Qc(!0),Be=R(function(a){for(var b=a.length,e=b,d=
U(m),g=Oa(),n=g==c,w=[];e--;){var B=a[e]=aa(B=a[e])?B:[];d[e]=n&&120<=B.length?bb&&cb?new La(e&&B):null:null}var n=a[0],I=-1,m=n?n.length:0,f=d[0];a:for(;++I<m;)if(B=n[I],0>(f?Ma(f,B):g(w,B,0))){for(e=b;--e;){var G=d[e];if(0>(G?Ma(G,B):g(a[e],B,0)))continue a}f&&f.push(B);w.push(B)}return w}),Ce=R(function(a,b){b=ea(b);var c=lc(a,b);wc(a,b.sort(K));return c}),De=cd(),Ee=cd(!0),Fe=R(function(a){return Db(ea(a,!1,!0))}),Ge=R(function(a,b){return aa(a)?Va(a,b):[]}),He=R(Ob),Ie=R(function(a){var b=a.length,
c=2<b?a[b-2]:e,d=1<b?a[b-1]:e;2<b&&"function"==typeof c?b-=2:(c=1<b&&"function"==typeof d?(--b,d):e,d=e);a.length=b;return qd(a,c,d)}),Je=R(function(a){a=ea(a);return this.thru(function(b){b=P(b)?b:[na(b)];for(var c=a,e=-1,d=b.length,g=-1,n=c.length,w=U(d+n);++e<d;)w[e]=b[e];for(;++g<n;)w[e++]=c[g];return w})}),Ke=R(function(a,b){return lc(a,ea(b))}),Le=jb(function(a,b,c){Z.call(a,c)?++a[c]:a[c]=1}),ac=Pc(ma),Me=Pc($b,!0),Od=Tc(la,ma),Pd=Tc(function(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););
return a},$b),Ne=jb(function(a,b,c){Z.call(a,c)?a[c].push(b):a[c]=[b]}),Oe=jb(function(a,b,c){a[c]=b}),Pe=R(function(a,b,c){var d=-1,g="function"==typeof b,n=Ga(b),w=aa(a)?U(a.length):[];ma(a,function(a){var h=g?b:n&&null!=a?a[b]:e;w[++d]=h?h.apply(a,c):Mb(a,b,c)});return w}),Qe=jb(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),bc=$c(Sa,ma),Qd=$c(function(a,b,c,e){var d=a.length;for(e&&d&&(c=a[--d]);d--;)c=b(c,a[d],d,a);return c},$b),Re=R(function(a,b){if(null==a)return[];var c=b[2];
c&&Q(b[0],b[1],c)&&(b.length=1);return Ac(a,ea(b),[])}),$a=ve||function(){return(new Hd).getTime()},Rd=R(function(a,b,c){var e=1;if(c.length)var d=m(c,Rd.placeholder),e=e|32;return za(a,e,b,c,d)}),Se=R(function(a,b){b=b.length?ea(b):Wb(a);for(var c=-1,e=b.length;++c<e;){var d=b[c];a[d]=za(a[d],1,a)}return a}),Sd=R(function(a,b,c){var e=3;if(c.length)var d=m(c,Sd.placeholder),e=e|32;return za(b,e,a,c,d)}),Te=Mc(8),Ue=Mc(16),Ve=R(function(a,b){return nc(a,1,b)}),We=R(function(a,b,c){return nc(a,b,c)}),
Xe=Sc(),cc=Sc(!0),Ye=R(function(a,b){b=ea(b);if("function"!=typeof a||!ra(b,M))throw new ja("Expected a function");var c=b.length;return R(function(e){for(var d=fa(e.length,c);d--;)e[d]=b[d](e[d]);return a.apply(this,e)})}),Ze=Zc(32),$e=Zc(64),af=R(function(a,b){return za(a,256,e,e,e,ea(b))}),P=ue||function(a){return x(a)&&pa(a.length)&&"[object Array]"==ha.call(a)},Nb=Hc(uc),dc=Hc(function(a,b,c){return c?wb(a,b,c):Ta(a,b)}),bf=Nc(dc,function(a,b){return a===e?b:a}),cf=Nc(Nb,hd),df=Rc(sa),ef=Rc(yb),
ff=Uc(xb),gf=Uc(rc),hf=Vc(sa),jf=Vc(yb),ca=Nd?function(a){var b=null==a?e:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&aa(a)?kd(a):T(a)?Nd(a):[]}:kd,kf=Wc(!0),lf=Wc(),mf=R(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=Na(ea(b),Kd),id(a,Va(xa(a),b));var c=ga(b[0],b[1],3);return jd(a,function(a,b,h){return!c(a,b,h)})}),nf=R(function(a,b){return null==a?{}:"function"==typeof b[0]?jd(a,ga(b[0],b[1],3)):id(a,ea(b))}),of=lb(function(a,b,c){b=b.toLowerCase();
return a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),pf=lb(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),qf=Xc(),rf=Xc(!0),sf=lb(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),tf=lb(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Td=R(function(a,b){try{return a.apply(e,b)}catch(c){return Vb(c)?c:new pe(c)}}),uf=R(function(a,b){return function(c){return Mb(c,a,b)}}),vf=R(function(a,b){return function(c){return Mb(a,c,b)}}),wf=Kb("ceil"),xf=Kb("floor"),yf=
Oc(yd,xe),zf=Oc(Dd,ab),Af=Kb("round");b.prototype=f.prototype;v.prototype=Ya(f.prototype);v.prototype.constructor=v;H.prototype=Ya(f.prototype);H.prototype.constructor=H;Ba.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};Ba.prototype.get=function(a){return"__proto__"==a?e:this.__data__[a]};Ba.prototype.has=function(a){return"__proto__"!=a&&Z.call(this.__data__,a)};Ba.prototype.set=function(a,b){"__proto__"!=a&&(this.__data__[a]=b);return this};La.prototype.push=function(a){var b=
this.data;"string"==typeof a||T(a)?b.set.add(a):b.hash[a]=!0};Ub.Cache=Ba;b.after=function(a,b){if("function"!=typeof b)if("function"==typeof a){var c=a;a=b;b=c}else throw new ja("Expected a function");a=Qa(a=+a)?a:0;return function(){if(1>--a)return b.apply(this,arguments)}};b.ary=function(a,b,c){c&&Q(a,b,c)&&(b=e);b=a&&null==b?a.length:ba(+b||0,0);return za(a,128,e,e,e,e,b)};b.assign=dc;b.at=Ke;b.before=wd;b.bind=Rd;b.bindAll=Se;b.bindKey=Sd;b.callback=ob;b.chain=sd;b.chunk=function(a,b,c){b=(c?
Q(a,b,c):null==b)?1:ba(Ha(b)||1,1);c=0;for(var e=a?a.length:0,d=-1,g=U(nb(e/b));c<e;)g[++d]=ka(a,c,c+=b);return g};b.compact=function(a){for(var b=-1,c=a?a.length:0,e=-1,d=[];++b<c;){var g=a[b];g&&(d[++e]=g)}return d};b.constant=function(a){return function(){return a}};b.countBy=Le;b.create=function(a,b,c){var d=Ya(a);c&&Q(a,b,c)&&(b=e);return b?Ta(d,b):d};b.curry=Te;b.curryRight=Ue;b.debounce=xd;b.defaults=bf;b.defaultsDeep=cf;b.defer=Ve;b.delay=We;b.difference=ye;b.drop=ld;b.dropRight=md;b.dropRightWhile=
function(a,b,c){return a&&a.length?ib(a,S(b,c,3),!0,!0):[]};b.dropWhile=function(a,b,c){return a&&a.length?ib(a,S(b,c,3),!0):[]};b.fill=function(a,b,c,d){var g=a?a.length:0;if(!g)return[];c&&"number"!=typeof c&&Q(a,b,c)&&(c=0,d=g);g=a.length;c=null==c?0:+c||0;0>c&&(c=-c>g?0:g+c);d=d===e||d>g?g:+d||0;0>d&&(d+=g);g=c>d?0:d>>>0;for(c>>>=0;c<g;)a[c++]=b;return a};b.filter=Qb;b.flatten=function(a,b,c){var e=a?a.length:0;c&&Q(a,b,c)&&(b=!1);return e?ea(a,b):[]};b.flattenDeep=function(a){return a&&a.length?
ea(a,!0):[]};b.flow=Xe;b.flowRight=cc;b.forEach=Od;b.forEachRight=Pd;b.forIn=ff;b.forInRight=gf;b.forOwn=hf;b.forOwnRight=jf;b.functions=Wb;b.groupBy=Ne;b.indexBy=Oe;b.initial=function(a){return md(a,1)};b.intersection=Be;b.invert=function(a,b,c){c&&Q(a,b,c)&&(b=e);c=-1;for(var d=ca(a),g=d.length,n={};++c<g;){var w=d[c],B=a[w];b?Z.call(n,B)?n[B].push(w):n[B]=[w]:n[B]=w}return n};b.invoke=Pe;b.keys=ca;b.keysIn=xa;b.map=Tb;b.mapKeys=kf;b.mapValues=lf;b.matches=Fd;b.matchesProperty=function(a,b){return mc(a,
Da(b,!0))};b.memoize=Ub;b.merge=Nb;b.method=uf;b.methodOf=vf;b.mixin=Xb;b.modArgs=Ye;b.negate=function(a){if("function"!=typeof a)throw new ja("Expected a function");return function(){return!a.apply(this,arguments)}};b.omit=mf;b.once=function(a){return wd(2,a)};b.pairs=ed;b.partial=Ze;b.partialRight=$e;b.partition=Qe;b.pick=nf;b.pluck=function(a,b){return Tb(a,eb(b))};b.property=eb;b.propertyOf=function(a){return function(b){return Fa(a,ya(b),b+"")}};b.pull=function(){var a=arguments,b=a[0];if(!b||
!b.length)return b;for(var c=0,e=Oa(),d=a.length;++c<d;)for(var g=0,n=a[c];-1<(g=e(b,n,g));)xc.call(b,g,1);return b};b.pullAt=Ce;b.range=function(a,b,c){c&&Q(a,b,c)&&(b=c=e);a=+a||0;c=null==c?1:+c||0;null==b?(b=a,a=0):b=+b||0;var d=-1;b=ba(nb((b-a)/(c||1)),0);for(var g=U(b);++d<b;)g[d]=a,a+=c;return g};b.rearg=af;b.reject=function(a,b,c){var e=P(a)?va:oc;b=S(b,c,3);return e(a,function(a,c,h){return!b(a,c,h)})};b.remove=function(a,b,c){var e=[];if(!a||!a.length)return e;var d=-1,g=[],n=a.length;for(b=
S(b,c,3);++d<n;)c=a[d],b(c,d,a)&&(e.push(c),g.push(d));wc(a,g);return e};b.rest=od;b.restParam=R;b.set=function(a,b,c){if(null==a)return a;var e=b+"";b=null!=a[e]||Ga(b,a)?[e]:ya(b);for(var e=-1,d=b.length,g=d-1,n=a;null!=n&&++e<d;){var w=b[e];T(n)&&(e==g?n[w]=c:null==n[w]&&(n[w]=wa(b[e+1])?[]:{}));n=n[w]}return a};b.shuffle=function(a){return rb(a,ab)};b.slice=function(a,b,c){var e=a?a.length:0;if(!e)return[];c&&"number"!=typeof c&&Q(a,b,c)&&(b=0,c=e);return ka(a,b,c)};b.sortBy=function(a,b,c){if(null==
a)return[];c&&Q(a,b,c)&&(b=e);var d=-1;b=S(b,c,3);a=Ab(a,function(a,c,h){return{criteria:b(a,c,h),index:++d,value:a}});return zc(a,q)};b.sortByAll=Re;b.sortByOrder=function(a,b,c,d){if(null==a)return[];d&&Q(b,c,d)&&(c=e);P(b)||(b=null==b?[]:[b]);P(c)||(c=null==c?[]:[c]);return Ac(a,b,c)};b.spread=function(a){if("function"!=typeof a)throw new ja("Expected a function");return function(b){return a.apply(this,b)}};b.take=function(a,b,c){if(!a||!a.length)return[];if(c?Q(a,b,c):null==b)b=1;return ka(a,
0,0>b?0:b)};b.takeRight=function(a,b,c){var e=a?a.length:0;if(!e)return[];if(c?Q(a,b,c):null==b)b=1;b=e-(+b||0);return ka(a,0>b?0:b)};b.takeRightWhile=function(a,b,c){return a&&a.length?ib(a,S(b,c,3),!1,!0):[]};b.takeWhile=function(a,b,c){return a&&a.length?ib(a,S(b,c,3)):[]};b.tap=function(a,b,c){b.call(c,a);return a};b.throttle=function(a,b,c){var e=!0,d=!0;if("function"!=typeof a)throw new ja("Expected a function");!1===c?e=!1:T(c)&&(e="leading"in c?!!c.leading:e,d="trailing"in c?!!c.trailing:
d);return xd(a,b,{leading:e,maxWait:+b,trailing:d})};b.thru=Pb;b.times=function(a,b,c){a=Ha(a);if(1>a||!Qa(a))return[];var e=-1,d=U(fa(a,4294967295));for(b=ga(b,c,1);++e<a;)4294967295>e?d[e]=b(e):b(e);return d};b.toArray=ud;b.toPlainObject=vc;b.transform=function(a,b,c,d){var g=P(a)||Pa(a);b=S(b,d,4);null==c&&(g||T(a)?(d=a.constructor,c=g?P(a)?new d:[]:Ya(Ea(d)?d.prototype:e)):c={});(g?la:sa)(a,function(a,h,e){return b(c,a,h,e)});return c};b.union=Fe;b.uniq=pd;b.unzip=Ob;b.unzipWith=qd;b.values=qb;
b.valuesIn=function(a){return Eb(a,xa(a))};b.where=function(a,b){return Qb(a,Ua(b))};b.without=Ge;b.wrap=function(a,b){b=null==b?Ca:b;return za(b,32,e,[a],[])};b.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(aa(c))var e=e?oa(Va(e,c),Va(c,e)):c}return e?Db(e):[]};b.zip=He;b.zipObject=rd;b.zipWith=Ie;b.backflow=cc;b.collect=Tb;b.compose=cc;b.each=Od;b.eachRight=Pd;b.extend=dc;b.iteratee=ob;b.methods=Wb;b.object=rd;b.select=Qb;b.tail=od;b.unique=pd;Xb(b,b);b.add=function(a,
b){return(+a||0)+(+b||0)};b.attempt=Td;b.camelCase=of;b.capitalize=function(a){return(a=p(a))&&a.charAt(0).toUpperCase()+a.slice(1)};b.ceil=wf;b.clone=function(a,b,c,e){b&&"boolean"!=typeof b&&Q(a,b,c)?b=!1:"function"==typeof b&&(e=c,c=b,b=!1);return"function"==typeof c?Da(a,b,ga(c,e,1)):Da(a,b)};b.cloneDeep=function(a,b,c){return"function"==typeof b?Da(a,!0,ga(b,c,1)):Da(a,!0)};b.deburr=Lc;b.endsWith=function(a,b,c){a=p(a);b+="";var d=a.length;c=c===e?d:fa(0>c?0:+c||0,d);c-=b.length;return 0<=c&&
a.indexOf(b,c)==c};b.escape=function(a){return(a=p(a))&&L.test(a)?a.replace(tb,z):a};b.escapeRegExp=function(a){return(a=p(a))&&ec.test(a)?a.replace(Ka,y):a||"(?:)"};b.every=td;b.find=ac;b.findIndex=ze;b.findKey=df;b.findLast=Me;b.findLastIndex=Ae;b.findLastKey=ef;b.findWhere=function(a,b){return ac(a,Ua(b))};b.first=nd;b.floor=xf;b.get=function(a,b,c){a=null==a?e:Fa(a,ya(b),b+"");return a===e?c:a};b.gt=yd;b.gte=function(a,b){return a>=b};b.has=function(a,b){if(null==a)return!1;var c=Z.call(a,b);
if(!c&&!Ga(b)){b=ya(b);a=1==b.length?a:Fa(a,ka(b,0,-1));if(null==a)return!1;b=Wa(b);c=Z.call(a,b)}return c||pa(a.length)&&wa(b,a.length)&&(P(a)||ta(a))};b.identity=Ca;b.includes=Rb;b.indexOf=Lb;b.inRange=function(a,b,c){b=+b||0;c===e?(c=b,b=0):c=+c||0;return a>=fa(b,c)&&a<ba(b,c)};b.isArguments=ta;b.isArray=P;b.isBoolean=function(a){return!0===a||!1===a||x(a)&&"[object Boolean]"==ha.call(a)};b.isDate=function(a){return x(a)&&"[object Date]"==ha.call(a)};b.isElement=function(a){return!!a&&1===a.nodeType&&
x(a)&&!hb(a)};b.isEmpty=function(a){return null==a?!0:aa(a)&&(P(a)||Sb(a)||ta(a)||x(a)&&Ea(a.splice))?!a.length:!ca(a).length};b.isEqual=zd;b.isError=Vb;b.isFinite=function(a){return"number"==typeof a&&Qa(a)};b.isFunction=Ea;b.isMatch=function(a,b,c,d){c="function"==typeof c?ga(c,d,3):e;return sc(a,tc(b),c)};b.isNaN=function(a){return Bd(a)&&a!=+a};b.isNative=fd;b.isNull=function(a){return null===a};b.isNumber=Bd;b.isObject=T;b.isPlainObject=hb;b.isRegExp=Cd;b.isString=Sb;b.isTypedArray=Pa;b.isUndefined=
function(a){return a===e};b.kebabCase=pf;b.last=Wa;b.lastIndexOf=function(a,b,c){var e=a?a.length:0;if(!e)return-1;var d=e;if("number"==typeof c)d=(0>c?ba(e+c,0):fa(c||0,e-1))+1;else if(c)return d=Fb(a,b,!0)-1,a=a[d],(b===b?b===a:a!==a)?d:-1;if(b!==b)return k(a,d,!0);for(;d--;)if(a[d]===b)return d;return-1};b.lt=Dd;b.lte=function(a,b){return a<=b};b.max=yf;b.min=zf;b.noConflict=function(){qa._=se;return this};b.noop=Gd;b.now=$a;b.pad=function(a,b,c){a=p(a);b=+b;var e=a.length;if(e>=b||!Qa(b))return a;
e=(b-e)/2;b=Ha(e);e=nb(e);c=Yc("",e,c);return c.slice(0,b)+a+c};b.padLeft=qf;b.padRight=rf;b.parseInt=function(a,b,c){(c?Q(a,b,c):null==b)?b=0:b&&(b=+b);a=Ed(a);return we(a,b||(Bf.test(a)?16:10))};b.random=function(a,b,c){c&&Q(a,b,c)&&(b=c=e);var d=null==a,g=null==b;null==c&&(g&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,g=!0));d&&g&&(b=1,g=!1);a=+a||0;g?(b=a,a=0):b=+b||0;return c||a%1||b%1?(c=yc(),fa(a+c*(b-a+te("1e-"+((c+"").length-1))),b)):Cb(a,b)};b.reduce=bc;b.reduceRight=Qd;b.repeat=
bd;b.result=function(a,b,c){var d=null==a?e:a[b];d===e&&(null==a||Ga(b,a)||(b=ya(b),a=1==b.length?a:Fa(a,ka(b,0,-1)),d=null==a?e:a[Wa(b)]),d=d===e?c:d);return Ea(d)?d.call(a):d};b.round=Af;b.runInContext=g;b.size=function(a){var b=a?Xa(a):0;return pa(b)?b:ca(a).length};b.snakeCase=sf;b.some=vd;b.sortedIndex=De;b.sortedLastIndex=Ee;b.startCase=tf;b.startsWith=function(a,b,c){a=p(a);c=null==c?0:fa(0>c?0:+c||0,a.length);return a.lastIndexOf(b,c)==c};b.sum=function(a,b,c){c&&Q(a,b,c)&&(b=e);b=S(b,c,3);
if(1==b.length){a=P(a)?a:Gb(a);c=a.length;for(var d=0;c--;)d+=+b(a[c])||0;a=d}else a=ce(a,b);return a};b.template=function(a,c,d){var g=b.templateSettings;d&&Q(a,c,d)&&(c=d=e);a=p(a);c=wb(Ta({},d||c),g,jc);d=wb(Ta({},c.imports),g.imports,jc);var w=ca(d),B=Eb(d,w),I,m,f=0;d=c.interpolate||ub;var J="__p += '";d=Yb((c.escape||ub).source+"|"+d.source+"|"+(d===G?Cf:ub).source+"|"+(c.evaluate||ub).source+"|$","g");var D="//# sourceURL="+("sourceURL"in c?c.sourceURL:"lodash.templateSources["+ ++Df+"]")+
"\n";a.replace(d,function(b,c,e,d,g,n){e||(e=d);J+=a.slice(f,n).replace(Ef,r);c&&(I=!0,J+="' +\n__e("+c+") +\n'");g&&(m=!0,J+="';\n"+g+";\n__p += '");e&&(J+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'");f=n+b.length;return b});J+="';\n";(c=c.variable)||(J="with (obj) {\n"+J+"\n}\n");J=(m?J.replace(F,""):J).replace(n,"$1").replace(O,"$1;");J="function("+(c||"obj")+") {\n"+(c?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(I?", __e = _.escape":"")+(m?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+J+"return __p\n}";c=Td(function(){return Id(w,D+"return "+J).apply(e,B)});c.source=J;if(Vb(c))throw c;return c};b.trim=Ed;b.trimLeft=function(a,b,c){var e=a;return(a=p(a))?(c?Q(e,b,c):null==b)?a.slice(d(a)):a.slice(u(a,b+"")):a};b.trimRight=function(a,b,c){var e=a;return(a=p(a))?(c?Q(e,b,c):null==b)?a.slice(0,C(a)+1):a.slice(0,l(a,b+"")+1):a};b.trunc=function(a,b,c){c&&Q(a,b,c)&&(b=e);var d=30;c="...";if(null!=b)if(T(b)){var g="separator"in b?b.separator:g,d="length"in b?+b.length||0:d;c="omission"in
b?p(b.omission):c}else d=+b||0;a=p(a);if(d>=a.length)return a;d-=c.length;if(1>d)return c;b=a.slice(0,d);if(null==g)return b+c;if(Cd(g)){if(a.slice(d).search(g)){var n,w=a.slice(0,d);g.global||(g=Yb(g.source,(gd.exec(g)||"")+"g"));for(g.lastIndex=0;a=g.exec(w);)n=a.index;b=b.slice(0,null==n?d:n)}}else a.indexOf(g,d)!=d&&(g=b.lastIndexOf(g),-1<g&&(b=b.slice(0,g)));return b+c};b.unescape=function(a){return(a=p(a))&&J.test(a)?a.replace(N,D):a};b.uniqueId=function(a){var b=++re;return p(a)+b};b.words=
Kc;b.all=td;b.any=vd;b.contains=Rb;b.eq=zd;b.detect=ac;b.foldl=bc;b.foldr=Qd;b.head=nd;b.include=Rb;b.inject=bc;Xb(b,function(){var a={};sa(b,function(c,e){b.prototype[e]||(a[e]=c)});return a}(),!1);b.sample=rb;b.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return rb(b,a)}):rb(this.value())};b.VERSION="3.10.1";la("bind bindKey curry curryRight partial partialRight".split(" "),function(a){b[a].placeholder=b});la(["drop","take"],function(a,b){H.prototype[a]=function(c){var e=
this.__filtered__;if(e&&!b)return new H(this);c=null==c?1:ba(Ha(c)||0,0);var d=this.clone();e?d.__takeCount__=fa(d.__takeCount__,c):d.__views__.push({size:c,type:a+(0>d.__dir__?"Right":"")});return d};H.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});la(["filter","map","takeWhile"],function(a,b){var c=b+1,e=2!=c;H.prototype[a]=function(a,b){var d=this.clone();d.__iteratees__.push({iteratee:S(a,b,1),type:c});d.__filtered__=d.__filtered__||e;return d}});la(["first","last"],
function(a,b){var c="take"+(b?"Right":"");H.prototype[a]=function(){return this[c](1).value()[0]}});la(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");H.prototype[a]=function(){return this.__filtered__?new H(this):this[c](1)}});la(["pluck","where"],function(a,b){var c=b?"filter":"map",e=b?Ua:eb;H.prototype[a]=function(a){return this[c](e(a))}});H.prototype.compact=function(){return this.filter(Ca)};H.prototype.reject=function(a,b){a=S(a,b,1);return this.filter(function(b){return!a(b)})};
H.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;if(c.__filtered__&&(0<a||0>b))return new H(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==e&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a));return c};H.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()};H.prototype.toArray=function(){return this.take(ab)};sa(H.prototype,function(a,c){var d=/^(?:filter|map|reject)|While$/.test(c),g=/^(?:first|last)$/.test(c),n=b[g?"take"+("last"==c?"Right":""):c];n&&(b.prototype[c]=
function(){var b=g?[1]:arguments,c=this.__chain__,w=this.__wrapped__,B=!!this.__actions__.length,I=w instanceof H,m=b[0],f=I||P(w);f&&d&&"function"==typeof m&&1!=m.length&&(I=f=!1);var J=function(a){return g&&c?n(a,1)[0]:n.apply(e,oa([a],b))},m={func:Pb,args:[J],thisArg:e},B=I&&!B;return g&&!c?B?(w=w.clone(),w.__actions__.push(m),a.call(w)):n.call(e,this.value())[0]:!g&&f?(w=B?w:new H(this),w=a.apply(w,b),w.__actions__.push(m),new v(w,c)):this.thru(J)})});la("join pop push replace shift sort splice split unshift".split(" "),
function(a){var c=(/^(?:replace|split)$/.test(a)?qe:Ld)[a],e=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?c.apply(this.value(),a):this[e](function(b){return c.apply(b,a)})}});sa(H.prototype,function(a,c){var e=b[c];if(e){var d=e.name;(pb[d]||(pb[d]=[])).push({name:c,func:e})}});pb[Jb(e,2).name]=[{name:"wrapper",func:e}];H.prototype.clone=function(){var a=new H(this.__wrapped__);a.__actions__=
da(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=da(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=da(this.__views__);return a};H.prototype.reverse=function(){if(this.__filtered__){var a=new H(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};H.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,e=P(b),d=0>c,g=e?b.length:0;a=0;for(var n=g,w=this.__views__,B=-1,I=w.length;++B<I;){var m=
w[B],f=m.size;switch(m.type){case "drop":a+=f;break;case "dropRight":n-=f;break;case "take":n=fa(n,a+f);break;case "takeRight":a=ba(a,n-f)}}w=n;n=w-a;a=d?w:a-1;w=this.__iteratees__;B=w.length;I=0;m=fa(n,this.__takeCount__);if(!e||200>g||g==n&&m==n)return Bc(d&&e?b.reverse():b,this.__actions__);e=[];a:for(;n--&&I<m;){a+=c;d=-1;for(g=b[a];++d<B;){var J=w[d],f=J.iteratee,J=J.type,f=f(g);if(2==J)g=f;else if(!f)if(1==J)continue a;else break a}e[I++]=g}return e};b.prototype.chain=function(){return sd(this)};
b.prototype.commit=function(){return new v(this.value(),this.__chain__)};b.prototype.concat=Je;b.prototype.plant=function(a){for(var b,c=this;c instanceof f;){var e=hc(c);b?d.__wrapped__=e:b=e;var d=e,c=c.__wrapped__}d.__wrapped__=a;return b};b.prototype.reverse=function(){var a=this.__wrapped__,b=function(a){return c&&0>c.__dir__?a:a.reverse()};if(a instanceof H){var c=a;this.__actions__.length&&(c=new H(this));c=c.reverse();c.__actions__.push({func:Pb,args:[b],thisArg:e});return new v(c,this.__chain__)}return this.thru(b)};
b.prototype.toString=function(){return this.value()+""};b.prototype.run=b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=function(){return Bc(this.__wrapped__,this.__actions__)};b.prototype.collect=b.prototype.map;b.prototype.head=b.prototype.first;b.prototype.select=b.prototype.filter;b.prototype.tail=b.prototype.rest;return b}var e,F=/\b__p \+= '';/g,n=/\b(__p \+=) '' \+/g,O=/(__e\(.*?\)|\b__t\)) \+\n'';/g,N=/&(?:amp|lt|gt|quot|#39|#96);/g,tb=/[&<>"'`]/g,J=RegExp(N.source),L=RegExp(tb.source),
Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,I=/^\w*$/,w=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ka=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ec=RegExp(Ka.source),ua=/[\u0300-\u036f\ufe20-\ufe23]/g,ie=/\\(\\)?/g,Cf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gd=/\w*$/,Bf=/^0[xX]/,le=/^\[object .+?Constructor\]$/,he=/^\d+$/,me=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ub=/($^)/,
Ef=/['\n\r\u2028\u2029\\]/g,ne=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),oe="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),
Df=-1,W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0;W["[object Arguments]"]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object Date]"]=W["[object Error]"]=W["[object Function]"]=W["[object Map]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object Set]"]=
W["[object String]"]=W["[object WeakMap]"]=!1;var V={};V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object Date]"]=V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object String]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0;V["[object Error]"]=
V["[object Function]"]=V["[object Map]"]=V["[object Set]"]=V["[object WeakMap]"]=!1;var Ba={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i",
"\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},La={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ma={"&amp;":"&","&lt;":"<","&gt;":">",
"&quot;":'"',"&#39;":"'","&#96;":"`"},ra={"function":!0,object:!0},vb={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Sa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},va=ra[typeof f]&&f&&!f.nodeType&&f,oa=ra[typeof H]&&H&&!H.nodeType&&H,fc=ra[typeof self]&&self&&self.Object&&self,ra=ra[typeof window]&&
window&&window.Object&&window,gc=oa&&oa.exports===va&&va,qa=va&&oa&&"object"==typeof a&&a&&a.Object&&a||ra!==(this&&this.window)&&ra||fc||this,Aa=g();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(qa._=Aa,define(function(){return Aa})):va&&oa?gc?(oa.exports=Aa)._=Aa:va._=Aa:qa._=Aa}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],10:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A,z,y,r,k,x,b,m,d,C,
D,g,e,F=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};v=a("lodash");e=a("./util");z=a("./match");g=a("./substitute");y=function(a){a=e.cloneExpression(a);a=g.doSubRecursive(a,g.subsForPNF.replace_arrow);a=g.doSubRecursive(a,g.subsForPNF.replace_double_arrow);a=b(a);return a=e.exhaust(a,function(a){var b,c,e;c=g.subsForPNF;for(b in c)e=c[b],"replace_arrow"!==b&&"replace_double_arrow"!==b&&(a=g.doSubRecursive(a,e));return a})};f.prenexNormalForm=
y;f.isPNF=function(a){var b,c,e,d,g,m,f,G;a=k(a);b=q(a,"and");a=[];e=0;for(d=b.length;e<d;e++)c=b[e],a.push(q(c,"or"));c=0;for(d=a.length;c<d;c++)for(G=a[c],e=0,g=G.length;e<g;e++)if(b=G[e],"not"!==(m=b.type)&&"sentence_letter"!==m&&"predicate"!==m||"not"===b.type&&"sentence_letter"!==(f=b.left.type)&&"predicate"!==f)return!1;return!0};b=function(a,b){var c,d,g,m,f,D;null==b&&(b="x");m=("\u03b1"===(f=b[0])||"\u03b2"===f||"\u03b3"===f||"\u03c4"===f?"term_metavariable":void 0)||"variable";c=0;d={};
g=function(a){var e;null==d[a.name]&&(c+=1,e=""+b+c,d[a.name]=e);return d[a.name]};D=function(a){if(null!=d[a.name])return delete d[a.name]};return e.walkMutate(a,function(a){if(null===a||null==(null!=a?a.boundVariable:void 0)&&(null==(null!=a?a.type:void 0)||"variable"!==a.type))return a;null!=a.boundVariable&&D(a.boundVariable);null!=(null!=a?a.type:void 0)&&"variable"===a.type&&(a.name=g(a),a.type=m);return a},{topDown:!0})};f.renameVariables=b;f.convertToPNFsimplifyAndSort=function(a){a=y(a);
a=p(a);a=D(a);m(a);return a};f.areExpressionsEquivalent=function(a,b){a=y(a);b=y(b);return E(a,b)};E=function(a,e){var d,g,f;a=p(a);a=D(a);m(a);e=p(e);e=D(e);m(e);g=b(a,"\u03c4");d=k(g);f=k(e);d=z.find(f,d);if(!1===d)return!1;g=z.apply(g,d);return c(g,e)};f.arePNFExpressionsEquivalent=E;D=function(a){var b,c,e,g,m;m=u(a);a=k(a);b=q(a,"and");a=[];e=0;for(g=b.length;e<g;e++)c=b[e],a.push(q(c,"or"));c=0;for(e=a.length;c<e;c++)b=a[c],d(b);C(a);g=[];c=0;for(e=a.length;c<e;c++)b=a[c],g.push(r(b,"or"));
a=r(g,"and");return M(a,m)};f.sortPNFExpression=D;k=function(a){return null!=a.boundVariable?k(a.left):a};f.removeQuantifiers=k;q=function(a,b){var c;if(null!=a.type&&a.type!==b)return[a];if(null!=a.type&&a.type===b)return c=[],c.push.apply(c,q(a.left,b)),c.push.apply(c,q(a.right,b)),c;throw Error("listJuncts called with type = "+b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listJuncts=q;d=function(a){return a.sort(e.atomicExpressionComparator)};f.sortJuncts=d;C=function(a){return a.sort(e.listOfAtomicExpressionsComparator)};
f.sortListOfJuncts=C;r=function(a,b){var c,e;if(!a||null==a.length||0===a.length)throw Error("rebuildExpression called with listOfJuncts = "+a);if(1===a.length)return a[0];c=a.shift();e=r(a,b);return{type:b,left:c,right:e}};f.rebuildExpression=r;A=function(a,b){var c;if(null!=a.type&&a.type!==b)return{quantifiedExpression:a};if(null!=a.type&&a.type===b)return c=A(a.left,b),null==c.boundVariables&&(c.boundVariables=[]),c.boundVariables.push(a.boundVariable),c;throw Error("listQuants called with type = "+
b+" and unrecognized expression = "+JSON.stringify(a,null,4));};f.listQuants=A;u=function(a){var b;return null!=a.boundVariable?(b=u(a.left),{type:a.type,symbol:a.symbol,location:a.location,boundVariable:a.boundVariable,left:b,right:null}):null};f.getPrefixedQuantifiers=u;M=function(a,b){if(null===b)return a;null!==b.left?M(a,b.left):b.left=a;return b};f.attachExpressionToQuantifiers=M;c=function(a,b,e){var d;null==e&&(e={quantifierType:null,leftBoundVariables:[],rightBoundVariables:[]});d=(null!=
a?a.type:void 0)||null;if(e.quantifierType!==d){e.leftBoundVariables.sort();e.rightBoundVariables.sort();if(!v.isEqual(e.leftBoundVariables,e.rightBoundVariables))return!1;e.leftBoundVariables=[];e.rightBoundVariables=[];e.quantifierType=d}if(null===a||null==a.boundVariable)return null===b||null==b.boundVariable?!0:!1;if(null===b||null==b.type||b.type!==d)return!1;e.leftBoundVariables.push(a.boundVariable.name);e.rightBoundVariables.push(b.boundVariable.name);return c(a.left,b.left,e)};f.arePrefixedQuantifiersEquivalent=
c;m=function(a,b){var c,d,g,f;void 0===b&&(b=K(a));if(null==(null!=a?a.type:void 0))return a;if("identity"!==a.type)return null!=a.left&&m(a.left,b),null!=a.right&&m(a.right,b),a;c=a.termlist[0];g=a.termlist[1];1===e.termComparator(c,g)&&(d=[g,c],c=d[0],g=d[1]);"variable"===c.type&&"variable"===g.type&&(d=b.indexOf(c.name),f=b.indexOf(g.name),d>f&&(d=[g,c],c=d[0],g=d[1]));a.termlist=[c,g];return a};f.sortIdentityStatements=m;K=function(a,b){var c,e;null==b&&(b={quantifierType:null,thisTypeBoundVariables:[],
allBoundVariables:[]});c=(null!=a?a.type:void 0)||null;b.quantifierType!==c&&(b.thisTypeBoundVariables.sort(),(e=b.allBoundVariables).push.apply(e,b.thisTypeBoundVariables),b.thisTypeBoundVariables=[],b.quantifierType=c);if(null===c||null==a.boundVariable)return b.allBoundVariables;b.thisTypeBoundVariables.push(a.boundVariable.name);return K(a.left,b)};f._getVariableOrder=K;p=function(a){a=e.exhaust(a,function(a){var b,c,e;c=g.subs_eliminate_redundancy;for(b in c)e=c[b],a=g.doSubRecursive(a,e);return D(a)});
return a=x(a)};f.eliminateRedundancyInPNF=p;l=function(a,b){var c;if(null!=b.termlist){var e,d,g,m;g=b.termlist;m=[];e=0;for(d=g.length;e<d;e++)c=g[e],m.push(c.name);if(0<=F.call(m,a))return!0}return null!=b.boundVariable&&b.boundVariable.name===a?!1:null!=b.left&&l(a,b.left)||null!=b.right&&l(a,b.right)?!0:!1};f.isVariableFree=l;x=function(a){a=e.cloneExpression(a);return e.walkMutate(a,function(a){return null==(null!=a?a.boundVariable:void 0)||l(a.boundVariable.name,a.left)?a:a.left})};f.removeQuantifiersThatBindNothing=
x},{"./match":8,"./substitute":30,"./util":32,lodash:9}],11:[function(a,H,f){(function(v){var K=function(){function a(){this.yy={}}var c=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=b);return c},f=[1,4],p=[1,5],u=[1,6],l=[1,7],q=[1,8],A=[1,9],z=[1,11],y=[1,14],r=[1,15],k=[1,18],x=[1,19],b=[1,16],m=[1,21],d=[1,22],C=[1,23],D=[1,24],g=[1,25],e=[1,26],F=[1,27],n=[1,32],O=[5,10,13,14,15,16,17,18,27,29,34,37],N=[1,40],v=[5,10,13,14,15,16,17,18,26,27,29,34,37],J=[2,32],L=[5,7,9,10,11,13,14,15,16,
17,18,19,20,21,23,26,27,29,30,31,32,33,34,35,37],Y=[7,9,10,11,19,20,21,23,30,31,32,33,35],X=[5,10,13,14,15,16,17,18,29,34,37],G=[5,10,29,34,37],B=[29,34],c={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,"(":9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,
"[":27,substitution_list:28,"]":29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,",":34,name:35,substitution:36,substitution_symbol:37,"null":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"(",10:")",11:"universal_quantifier",13:"and",14:"or",15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",29:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",
34:",",35:"name",37:"substitution_symbol",38:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,5],[4,3],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,4],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[8,1],[8,3],[24,1],[24,3],[25,1],[25,1],[28,1],[28,3],[36,3],[36,3],[36,3],[36,3],[6,3]],performAction:function(a,b,c,e,d,g,B){a=g.length-1;switch(d){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-
2],location:B[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 5:this.$={type:"existential_quantifier",symbol:g[a-3],location:B[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:g[a-2],location:B[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 7:this.$={type:"universal_quantifier",symbol:g[a-3],location:B[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 8:this.$={type:"universal_quantifier",symbol:"",location:B[a-
2],boundVariable:g[a-2],left:g[a],right:null};break;case 9:this.$={type:"and",symbol:g[a-1],location:B[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"or",symbol:g[a-1],location:B[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"nand",symbol:g[a-1],location:B[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"nor",symbol:g[a-1],location:B[a-1],left:g[a-2],right:g[a]};break;case 13:this.$={type:"arrow",symbol:g[a-1],location:B[a-1],left:g[a-2],right:g[a]};break;case 14:this.$=
{type:"double_arrow",symbol:g[a-1],location:B[a-1],left:g[a-2],right:g[a]};break;case 15:this.$={type:"not",symbol:g[a-1],location:B[a-1],left:g[a],right:null};break;case 16:this.$={type:"value",symbol:g[a],location:B[a],value:!0,left:null,right:null};break;case 17:this.$={type:"value",symbol:g[a],location:B[a],value:!1,left:null,right:null};break;case 18:case 27:case 32:this.$=g[a];break;case 19:this.$={type:"predicate",name:g[a-3],location:B[a-3],termlist:g[a-1]};break;case 20:this.$={type:"identity",
symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 21:case 28:this.$=g[a-1];break;case 22:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 23:this.$={type:"expression_variable",location:B[a],letter:g[a],left:null,right:null};break;case 24:this.$={type:"sentence_letter",location:B[a],letter:g[a],left:null,right:null};break;case 25:this.$={type:"variable",name:g[a],location:B[a]};break;case 26:this.$={type:"term_metavariable",
name:g[a],location:B[a]};break;case 29:case 33:this.$=[g[a]];break;case 30:case 34:this.$=[g[a-2]].concat(g[a]);break;case 31:this.$={type:"name",name:g[a],location:B[a]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 36:case 38:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 39:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,27:[1,13],30:y,31:r,32:k,33:x,35:b},{1:[3]},
{5:[1,20],13:m,14:d,15:C,16:D,17:g,18:e,27:F},{4:29,5:[1,28],7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{8:30,9:n,12:31,32:k,33:x},{4:36,7:[1,33],9:p,11:[1,34],12:35,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{8:37,9:n,12:31,32:k,33:x},{4:38,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},c(O,[2,16]),c(O,[2,17]),c(O,[2,18]),{9:[1,39]},{26:N},{12:17,25:41,32:k,33:x,35:b},c(O,[2,23]),c(O,[2,24]),c(v,[2,31]),c(v,J),c(L,[2,
25]),c(L,[2,26]),{1:[2,1]},{4:42,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{4:43,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{4:44,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{4:45,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{4:46,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{4:47,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,
31:r,32:k,33:x,35:b},{4:51,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:50,28:48,30:y,31:r,32:k,33:x,35:b,36:49},{1:[2,2]},{5:[1,52],13:m,14:d,15:C,16:D,17:g,18:e,27:F},{4:53,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},c(Y,[2,27]),{12:54,32:k,33:x},{8:55,9:n,12:31,32:k,33:x},{8:56,9:n,12:31,32:k,33:x},{10:[1,57],26:J},{10:[1,58],13:m,14:d,15:C,16:D,17:g,18:e,27:F},{4:59,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},c(X,[2,15],{27:F}),
{12:17,24:60,25:61,32:k,33:x,35:b},{12:17,25:62,32:k,33:x,35:b},{29:[1,63]},c(X,[2,9],{27:F}),c(X,[2,10],{27:F}),c(X,[2,11],{27:F}),c(X,[2,12],{27:F}),c(G,[2,13],{13:m,14:d,15:C,16:D,27:F}),c(G,[2,14],{13:m,14:d,15:C,16:D,27:F}),{29:[1,64]},{29:[2,33],34:[1,65]},{26:N,37:[1,66]},{13:m,14:d,15:C,16:D,17:g,18:e,27:F,37:[1,67]},{1:[2,3]},c(X,[2,4],{27:F}),{10:[1,68]},{4:53,7:f,9:p,10:[1,69],11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{4:59,7:f,9:p,10:[1,70],11:u,12:17,19:l,20:q,
21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{4:71,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},c(O,[2,21]),c(X,[2,6],{27:F}),{10:[1,72]},{10:[2,29],34:[1,73]},c(O,[2,20]),c([5,7,9,11,19,20,21,23,30,31,32,33,35],[2,39]),c(O,[2,22]),{4:51,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:50,28:74,30:y,31:r,32:k,33:x,35:b,36:49},{12:17,25:75,32:k,33:x,35:b,38:[1,76]},{4:77,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b,38:[1,78]},c(Y,[2,
28]),{4:79,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},{4:80,7:f,9:p,11:u,12:17,19:l,20:q,21:A,22:10,23:z,25:12,30:y,31:r,32:k,33:x,35:b},c(X,[2,8],{27:F}),c(O,[2,19]),{12:17,24:81,25:61,32:k,33:x,35:b},{29:[2,34]},c(B,[2,35]),c(B,[2,36]),c(B,[2,37],{13:m,14:d,15:C,16:D,17:g,18:e,27:F}),c(B,[2,38]),c(X,[2,5],{27:F}),c(X,[2,7],{27:F}),{10:[2,30]}],defaultActions:{20:[2,1],28:[2,2],52:[2,3],74:[2,34],81:[2,30]},parseError:function(a,b){if(b.recoverable)this.trace(a);
else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],d=this.table,g="",B=0,f=0,m=0,n=e.slice.call(arguments,1),J=Object.create(this.lexer),G={},D;for(D in this.yy)Object.prototype.hasOwnProperty.call(this.yy,D)&&(G[D]=this.yy[D]);J.setInput(a,G);G.lexer=J;G.parser=this;"undefined"==typeof J.yylloc&&(J.yylloc={});D=J.yylloc;e.push(D);var C=J.options&&J.options.ranges;this.parseError="function"===typeof G.parseError?G.parseError:
Object.getPrototypeOf(this).parseError;for(var k,F,L,l,p={},u,r;;){L=b[b.length-1];if(this.defaultActions[L])l=this.defaultActions[L];else{if(null===k||"undefined"==typeof k)k=void 0,k=J.lex()||1,"number"!==typeof k&&(k=this.symbols_[k]||k);l=d[L]&&d[L][k]}if("undefined"===typeof l||!l.length||!l[0]){var q="";r=[];for(u in d[L])this.terminals_[u]&&2<u&&r.push("'"+this.terminals_[u]+"'");q=J.showPosition?"Parse error on line "+(B+1)+":\n"+J.showPosition()+"\nExpecting "+r.join(", ")+", got '"+(this.terminals_[k]||
k)+"'":"Parse error on line "+(B+1)+": Unexpected "+(1==k?"end of input":"'"+(this.terminals_[k]||k)+"'");this.parseError(q,{text:J.match,token:this.terminals_[k]||k,line:J.yylineno,loc:D,expected:r})}if(l[0]instanceof Array&&1<l.length)throw Error("Parse Error: multiple actions possible at state: "+L+", token: "+k);switch(l[0]){case 1:b.push(k);c.push(J.yytext);e.push(J.yylloc);b.push(l[1]);k=null;F?(k=F,F=null):(f=J.yyleng,g=J.yytext,B=J.yylineno,D=J.yylloc,0<m&&m--);break;case 2:r=this.productions_[l[1]][1];
p.$=c[c.length-r];p._$={first_line:e[e.length-(r||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(r||1)].first_column,last_column:e[e.length-1].last_column};C&&(p._$.range=[e[e.length-(r||1)].range[0],e[e.length-1].range[1]]);L=this.performAction.apply(p,[g,f,B,G,l[1],c,e].concat(n));if("undefined"!==typeof L)return L;r&&(b=b.slice(0,-2*r),c=c.slice(0,-1*r),e=e.slice(0,-1*r));b.push(this.productions_[l[1]][0]);c.push(p.$);e.push(p._$);l=d[b[b.length-2]][b[b.length-1]];b.push(l);
break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=
this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-
1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=
!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<
a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,
last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?
c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;
if(this._backtrack)for(var d in e)this[d]=e[d];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),d=0;d<e.length;d++)if((b=this._input.match(this.rules[e[d]]))&&(!a||b[0].length>a[0].length))if(a=b,c=d,this.options.backtrack_lexer){a=this.test_match(b,e[d]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==
a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?
this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,e){switch(c){case 1:return this.popState(),9;case 2:return 9;case 3:return 10;case 4:return 27;case 5:return 29;case 6:return 34;case 7:return this.begin("expectLeftBracket"),
23;case 8:return 37;case 9:return 20;case 10:return 21;case 11:return 26;case 12:return 13;case 13:return 17;case 14:return 18;case 15:return 14;case 16:return 19;case 17:return 16;case 18:return 15;case 19:return 11;case 20:return 7;case 21:return 31;case 22:return 35;case 23:return 32;case 24:return 30;case 25:return 33;case 26:return 38;case 27:return 5;case 28:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][A-Za-z0-9]*(?=(\()))/,
/^(?:--\x3e)/,/^(?:[tT][rR][uU][eE])/,/^(?:[fF][aA][lL][sS][eE]|\u22a5|_\|_|[cC][oO][nN][tT][rR][aA][dD][iI][cC][tT][iI][oO][nN]|[cC][oO][nN][tT][rR][aA])/,/^(?:=)/,/^(?:[aA][nN][dD]|&|\u2227|\u2022)/,/^(?:[aA][rR][rR][oO][wW]|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:[oO][rR]|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:[nN][oO][tT]|\u00ac|~|\u02dc|!)/,/^(?:[nN][oO][rR]|\u2193)/,/^(?:[nN][aA][nN][dD]|\u2191)/,/^(?:[aA][lL][lL]|\u2200|[eE][vV][eE][rR][yY])/,/^(?:[sS][oO][mM][eE]|[eE][xX][iI][sS][tT][sS]|\u2203)/,
/^(?:[A-Zpqrs][0-9]*)/,/^(?:[a-d][0-9]*)/,/^(?:[etxyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[1],inclusive:!1},INITIAL:{rules:[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],inclusive:!0}}}}();c.lexer=f;a.prototype=c;c.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=K,f.Parser=K.Parser,f.parse=function(){return K.parse.apply(K,
arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+" FILE"),v.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof H&&a.main===H&&f.main(v.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],12:[function(a,H,f){(function(v){var K=function(){function a(){this.yy={}}var c=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=b);return c},f=[1,4],p=[1,5],u=[1,6],l=[1,7],q=[1,9],A=[1,12],z=[1,13],y=[1,18],r=[1,
19],k=[1,14],x=[1,15],b=[1,17],m=[1,21],d=[1,22],C=[1,23],D=[1,24],g=[1,25],e=[1,26],F=[1,27],n=[1,30],O=[5,10,13,14,15,16,17,18,27,28,38],N=[1,38],v=[5,10,13,14,15,16,17,18,27,28,38,39],J=[5,10,13,14,15,16,17,18,26,27,28,32,33,34,35,36,38,39],L=[2,31],Y=[5,10,13,14,15,16,17,18,28,38],X=[5,10,28,38],G=[28,38],c={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,variable_or_metavariable:12,and:13,
or:14,nand:15,nor:16,arrow:17,double_arrow:18,not:19,"true":20,"false":21,sentence_letter_or_expression_variable:22,predicate:23,termlist:24,term:25,identity:26,"[":27,"]":28,substitution_list:29,expression_variable:30,sentence_letter:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",13:"and",14:"or",
15:"nand",16:"nor",17:"arrow",18:"double_arrow",19:"not",20:"true",21:"false",23:"predicate",26:"identity",27:"[",28:"]",30:"expression_variable",31:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[22,1],[22,1],[12,1],[12,1],[9,1],[24,1],[24,2],[25,1],[25,1],
[25,1],[25,1],[29,1],[29,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,e,d,g,f){a=g.length-1;switch(d){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 6:this.$={type:"universal_quantifier",symbol:"",location:f[a-
2],boundVariable:g[a-2],left:g[a],right:null};break;case 7:this.$={type:"and",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 8:this.$={type:"or",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nand",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"nor",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 12:this.$=
{type:"double_arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 13:this.$={type:"not",symbol:g[a-1],location:f[a-1],left:g[a],right:null};break;case 14:this.$={type:"value",symbol:g[a],location:f[a],value:!0,left:null,right:null};break;case 15:this.$={type:"value",symbol:g[a],location:f[a],value:!1,left:null,right:null};break;case 16:case 26:case 31:this.$=g[a];break;case 17:this.$={type:"predicate",name:g[a-1],location:f[a-1],termlist:g[a]};break;case 18:this.$={type:"identity",
symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 19:case 20:this.$=g[a-1];break;case 21:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 22:this.$={type:"expression_variable",location:f[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"sentence_letter",location:f[a],letter:g[a],left:null,right:null};break;case 24:this.$={type:"variable",name:g[a],location:f[a]};break;case 25:this.$={type:"term_metavariable",
name:g[a],location:f[a]};break;case 27:case 33:this.$=[g[a]];break;case 28:this.$=[g[a-1]].concat(g[a]);break;case 29:this.$={type:"name",name:g[a],location:f[a]};break;case 30:this.$={type:"name_hat",name:g[a],location:f[a]};break;case 32:this.$={type:"term_metavariable_hat",name:g[a],location:f[a]};break;case 34:this.$=[g[a-2]].concat(g[a]);break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 36:case 38:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-
1]};break;case 39:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:[1,11],30:A,31:z,32:y,33:r,34:k,35:x,36:b},{1:[3]},{5:[1,20],13:m,14:d,15:C,16:D,17:g,18:e,27:F},{4:29,5:[1,28],7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},{4:34,7:f,8:[1,31],11:[1,32],12:33,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},{4:35,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},
c(O,[2,14]),c(O,[2,15]),c(O,[2,16]),{12:16,24:36,25:37,32:y,33:r,34:k,35:x,36:b},{26:N},{4:39,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:40,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},c(v,[2,22]),c(v,[2,23]),c(J,[2,29]),c(J,[2,30]),c(J,L),c(J,[2,32]),c(J,[2,24]),c(J,[2,25]),{1:[2,1]},{4:41,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},{4:42,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},{4:43,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,
30:A,31:z,32:y,33:r,34:k,35:x,36:b},{4:44,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},{4:45,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},{4:46,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},{12:16,22:50,25:49,29:47,30:A,31:z,32:y,33:r,34:k,35:x,36:b,37:48},{1:[2,2]},{5:[1,51],13:m,14:d,15:C,16:D,17:g,18:e,27:F},{4:39,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,
36:b},{9:52,12:53,32:y,33:r},{9:54,12:53,32:y,33:r},{10:[1,55],26:L},{10:[1,56],13:m,14:d,15:C,16:D,17:g,18:e,27:F},c(Y,[2,13],{27:F}),c(O,[2,17]),c(O,[2,27],{12:16,25:37,24:57,32:y,33:r,34:k,35:x,36:b}),{12:16,25:58,32:y,33:r,34:k,35:x,36:b},{13:m,14:d,15:C,16:D,17:g,18:e,27:F,28:[1,59]},{26:N,28:[1,60]},c(Y,[2,7],{27:F}),c(Y,[2,8],{27:F}),c(Y,[2,9],{27:F}),c(Y,[2,10],{27:F}),c(X,[2,11],{13:m,14:d,15:C,16:D,27:F}),c(X,[2,12],{13:m,14:d,15:C,16:D,27:F}),{28:[1,61]},{28:[2,33],38:[1,62]},{39:[1,63]},
{39:[1,64]},{1:[2,3]},{10:[1,65]},{10:[2,26]},{10:[1,66]},{4:67,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},c(O,[2,19]),c(O,[2,28]),c(O,[2,18]),c(O,[2,20]),c([5,7,19,20,21,23,27,30,31,32,33,34,35,36],[2,39]),c(O,[2,21]),{12:16,22:50,25:49,29:68,30:A,31:z,32:y,33:r,34:k,35:x,36:b,37:48},{12:16,25:69,32:y,33:r,34:k,35:x,36:b,40:[1,70]},{4:71,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b,40:[1,72]},{4:73,7:f,12:16,19:p,20:u,21:l,
22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},{4:74,7:f,12:16,19:p,20:u,21:l,22:8,23:q,25:10,27:n,30:A,31:z,32:y,33:r,34:k,35:x,36:b},c(Y,[2,6],{27:F}),{28:[2,34]},c(G,[2,35]),c(G,[2,36]),c(G,[2,37],{13:m,14:d,15:C,16:D,17:g,18:e,27:F}),c(G,[2,38]),c(Y,[2,4],{27:F}),c(Y,[2,5],{27:F})],defaultActions:{20:[2,1],28:[2,2],51:[2,3],53:[2,26],68:[2,34]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,
b);}},parse:function(a){var b=[0],c=[null],e=[],d=this.table,g="",f=0,m=0,n=0,J=e.slice.call(arguments,1),G=Object.create(this.lexer),D={},C;for(C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(D[C]=this.yy[C]);G.setInput(a,D);D.lexer=G;D.parser=this;"undefined"==typeof G.yylloc&&(G.yylloc={});C=G.yylloc;e.push(C);var k=G.options&&G.options.ranges;this.parseError="function"===typeof D.parseError?D.parseError:Object.getPrototypeOf(this).parseError;for(var l,F,L,p,r={},u,q;;){L=b[b.length-
1];if(this.defaultActions[L])p=this.defaultActions[L];else{if(null===l||"undefined"==typeof l)l=void 0,l=G.lex()||1,"number"!==typeof l&&(l=this.symbols_[l]||l);p=d[L]&&d[L][l]}if("undefined"===typeof p||!p.length||!p[0]){var z="";q=[];for(u in d[L])this.terminals_[u]&&2<u&&q.push("'"+this.terminals_[u]+"'");z=G.showPosition?"Parse error on line "+(f+1)+":\n"+G.showPosition()+"\nExpecting "+q.join(", ")+", got '"+(this.terminals_[l]||l)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==l?"end of input":
"'"+(this.terminals_[l]||l)+"'");this.parseError(z,{text:G.match,token:this.terminals_[l]||l,line:G.yylineno,loc:C,expected:q})}if(p[0]instanceof Array&&1<p.length)throw Error("Parse Error: multiple actions possible at state: "+L+", token: "+l);switch(p[0]){case 1:b.push(l);c.push(G.yytext);e.push(G.yylloc);b.push(p[1]);l=null;F?(l=F,F=null):(m=G.yyleng,g=G.yytext,f=G.yylineno,C=G.yylloc,0<n&&n--);break;case 2:q=this.productions_[p[1]][1];r.$=c[c.length-q];r._$={first_line:e[e.length-(q||1)].first_line,
last_line:e[e.length-1].last_line,first_column:e[e.length-(q||1)].first_column,last_column:e[e.length-1].last_column};k&&(r._$.range=[e[e.length-(q||1)].range[0],e[e.length-1].range[1]]);L=this.performAction.apply(r,[g,m,f,D,p[1],c,e].concat(J));if("undefined"!==typeof L)return L;q&&(b=b.slice(0,-2*q),c=c.slice(0,-1*q),e=e.slice(0,-1*q));b.push(this.productions_[p[1]][0]);c.push(r.$);e.push(r._$);p=d[b[b.length-2]][b[b.length-1]];b.push(p);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,
b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=
a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);
c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=
!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=
this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,
matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var d in e)this[d]=e[d];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),d=0;d<e.length;d++)if((b=this._input.match(this.rules[e[d]]))&&(!a||b[0].length>a[0].length))if(a=b,c=d,this.options.backtrack_lexer){a=this.test_match(b,e[d]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,e){switch(c){case 1:return 7;case 2:return 10;case 3:return 27;case 4:return 28;case 5:return 38;case 6:return 23;case 7:return 39;case 8:return 20;case 9:return 21;case 10:return 26;case 11:return 13;case 12:return 17;case 13:return 18;case 14:return 14;case 15:return 19;
case 16:return 16;case 17:return 15;case 18:return 11;case 19:return 8;case 20:return 31;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 30;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,
/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],
inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();c.lexer=f;a.prototype=c;c.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=K,f.Parser=K.Parser,f.parse=function(){return K.parse.apply(K,arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+" FILE"),v.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof H&&a.main===
H&&f.main(v.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],13:[function(a,H,f){(function(v){var K=function(){function a(){this.yy={}}var c=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=b);return c},f=[1,4],p=[1,5],u=[1,6],l=[1,7],q=[1,8],A=[1,10],z=[1,12],y=[1,14],r=[1,15],k=[1,20],x=[1,21],b=[1,16],m=[1,17],d=[1,19],C=[1,23],D=[1,24],g=[1,25],e=[1,26],F=[1,27],n=[1,28],O=[1,29],N=[1,32],v=[5,10,11,12,13,14,15,25,26,27,38],J=[1,39],L=[5,10,11,12,13,14,15,25,26,27,38,
39],Y=[5,10,11,12,13,14,15,23,25,26,27,32,33,34,35,36,38,39],X=[5,7,9,10,11,12,13,14,15,16,17,18,20,23,24,25,26,27,29,30,32,33,34,35,36,38,39],G=[5,10,11,12,13,14,15,25,27,38],B=[5,25,27,38],I=[27,38],c={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,existential_quantifier:7,quantifier_variable:8,universal_quantifier:9,and:10,or:11,nand:12,nor:13,arrow:14,double_arrow:15,not:16,"true":17,"false":18,sentence_letter_or_expression_variable:19,predicate:20,termlist:21,term:22,
identity:23,"(":24,")":25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"existential_quantifier",9:"universal_quantifier",10:"and",11:"or",12:"nand",13:"nor",14:"arrow",15:"double_arrow",16:"not",17:"true",18:"false",20:"predicate",23:"identity",24:"(",25:")",
26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[19,1],[19,1],[31,1],[31,1],[8,1],[21,1],[21,2],[22,1],[22,1],[22,1],[22,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,e,d,g,f){a=g.length-
1;switch(d){case 1:case 2:return g[a-1];case 3:return g[a-1].box=g[a-2],g[a-1];case 4:this.$={type:"existential_quantifier",symbol:g[a-2],location:f[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:g[a-2],location:f[a-2],boundVariable:g[a-1],left:g[a],right:null};break;case 6:this.$={type:"and",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 7:this.$={type:"or",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 8:this.$=
{type:"nand",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"nor",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 11:this.$={type:"double_arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 12:this.$={type:"not",symbol:g[a-1],location:f[a-1],left:g[a],right:null};break;case 13:this.$={type:"value",symbol:g[a],location:f[a],value:!0,left:null,
right:null};break;case 14:this.$={type:"value",symbol:g[a],location:f[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=g[a];break;case 16:this.$={type:"predicate",name:g[a-1],location:f[a-1],termlist:g[a]};break;case 17:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 18:case 19:this.$=g[a-1];break;case 20:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 21:this.$=
{type:"expression_variable",location:f[a],letter:g[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:f[a],letter:g[a],left:null,right:null};break;case 23:this.$={type:"variable",name:g[a],location:f[a]};break;case 24:this.$={type:"term_metavariable",name:g[a],location:f[a]};break;case 26:case 32:this.$=[g[a]];break;case 27:this.$=[g[a-1]].concat(g[a]);break;case 28:this.$={type:"name",name:g[a],location:f[a]};break;case 29:this.$={type:"name_hat",name:g[a],location:f[a]};
break;case 31:this.$={type:"term_metavariable_hat",name:g[a],location:f[a]};break;case 33:this.$=[g[a-2]].concat(g[a]);break;case 34:case 36:this.$={type:"substitution",from:g[a-2],to:g[a],symbol:g[a-1]};break;case 35:case 37:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]};break;case 38:this.$={type:"box",term:g[a-1]}}},table:[{3:1,4:2,6:3,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:[1,13],29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{1:[3]},{5:[1,22],10:C,11:D,12:g,13:e,14:F,15:n,
26:O},{4:31,5:[1,30],7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{8:33,31:34,32:k,33:x},{8:35,31:34,32:k,33:x},{4:36,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},c(v,[2,13]),c(v,[2,14]),c(v,[2,15]),{21:37,22:38,31:18,32:k,33:x,34:b,35:m,36:d},{23:J},{4:40,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{4:41,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:42,24:z,26:N,29:y,30:r,
31:18,32:k,33:x,34:b,35:m,36:d},c(L,[2,21]),c(L,[2,22]),c(Y,[2,28]),c(Y,[2,29]),c(Y,[2,30]),c(Y,[2,31]),c(X,[2,23]),c(X,[2,24]),{1:[2,1]},{4:43,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{4:44,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{4:45,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{4:46,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,
33:x,34:b,35:m,36:d},{4:47,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{4:48,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{19:52,22:51,28:49,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d,37:50},{1:[2,2]},{5:[1,53],10:C,11:D,12:g,13:e,14:F,15:n,26:O},{4:41,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},{4:54,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,
32:k,33:x,34:b,35:m,36:d},c([7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,25]),{4:55,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d},c(G,[2,12],{26:O}),c(v,[2,16]),c(v,[2,26],{31:18,22:38,21:56,32:k,33:x,34:b,35:m,36:d}),{22:57,31:18,32:k,33:x,34:b,35:m,36:d},{10:C,11:D,12:g,13:e,14:F,15:n,25:[1,58],26:O},{10:C,11:D,12:g,13:e,14:F,15:n,26:O,27:[1,59]},{23:J,27:[1,60]},c(G,[2,6],{26:O}),c(G,[2,7],{26:O}),c(G,[2,8],{26:O}),c(G,[2,9],{26:O}),c(B,[2,10],{10:C,
11:D,12:g,13:e,26:O}),c(B,[2,11],{10:C,11:D,12:g,13:e,26:O}),{27:[1,61]},{27:[2,32],38:[1,62]},{39:[1,63]},{39:[1,64]},{1:[2,3]},c(G,[2,4],{26:O}),c(G,[2,5],{26:O}),c(v,[2,27]),c(v,[2,17]),c(v,[2,18]),c(v,[2,19]),c([5,7,9,16,17,18,20,24,26,29,30,32,33,34,35,36],[2,38]),c(v,[2,20]),{19:52,22:51,28:65,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d,37:50},{22:66,31:18,32:k,33:x,34:b,35:m,36:d,40:[1,67]},{4:68,7:f,9:p,16:u,17:l,18:q,19:9,20:A,22:11,24:z,26:N,29:y,30:r,31:18,32:k,33:x,34:b,35:m,36:d,40:[1,69]},
{27:[2,33]},c(I,[2,34]),c(I,[2,35]),c(I,[2,36],{10:C,11:D,12:g,13:e,14:F,15:n,26:O}),c(I,[2,37])],defaultActions:{22:[2,1],30:[2,2],53:[2,3],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],d=this.table,g="",f=0,m=0,n=0,J=e.slice.call(arguments,1),G=Object.create(this.lexer),D={},B;for(B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(D[B]=
this.yy[B]);G.setInput(a,D);D.lexer=G;D.parser=this;"undefined"==typeof G.yylloc&&(G.yylloc={});B=G.yylloc;e.push(B);var C=G.options&&G.options.ranges;this.parseError="function"===typeof D.parseError?D.parseError:Object.getPrototypeOf(this).parseError;for(var l,k,L,I,F={},p,r;;){L=b[b.length-1];if(this.defaultActions[L])I=this.defaultActions[L];else{if(null===l||"undefined"==typeof l)l=void 0,l=G.lex()||1,"number"!==typeof l&&(l=this.symbols_[l]||l);I=d[L]&&d[L][l]}if("undefined"===typeof I||!I.length||
!I[0]){var q="";r=[];for(p in d[L])this.terminals_[p]&&2<p&&r.push("'"+this.terminals_[p]+"'");q=G.showPosition?"Parse error on line "+(f+1)+":\n"+G.showPosition()+"\nExpecting "+r.join(", ")+", got '"+(this.terminals_[l]||l)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==l?"end of input":"'"+(this.terminals_[l]||l)+"'");this.parseError(q,{text:G.match,token:this.terminals_[l]||l,line:G.yylineno,loc:B,expected:r})}if(I[0]instanceof Array&&1<I.length)throw Error("Parse Error: multiple actions possible at state: "+
L+", token: "+l);switch(I[0]){case 1:b.push(l);c.push(G.yytext);e.push(G.yylloc);b.push(I[1]);l=null;k?(l=k,k=null):(m=G.yyleng,g=G.yytext,f=G.yylineno,B=G.yylloc,0<n&&n--);break;case 2:r=this.productions_[I[1]][1];F.$=c[c.length-r];F._$={first_line:e[e.length-(r||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(r||1)].first_column,last_column:e[e.length-1].last_column};C&&(F._$.range=[e[e.length-(r||1)].range[0],e[e.length-1].range[1]]);L=this.performAction.apply(F,[g,m,
f,D,I[1],c,e].concat(J));if("undefined"!==typeof L)return L;r&&(b=b.slice(0,-2*r),c=c.slice(0,-1*r),e=e.slice(0,-1*r));b.push(this.productions_[I[1]][0]);c.push(F.$);e.push(F._$);I=d[b[b.length-2]][b[b.length-1]];b.push(I);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=
this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=
a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:
0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),
{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+
"\n"+b+"^"},test_match:function(a,b){var c,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=
this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=
this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var d in e)this[d]=e[d];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),d=0;d<e.length;d++)if((b=this._input.match(this.rules[e[d]]))&&(!a||b[0].length>a[0].length))if(a=
b,c=d,this.options.backtrack_lexer){a=this.test_match(b,e[d]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<
this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(a,b,c,e){switch(c){case 1:return 24;case 2:return 25;case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 20;case 7:return 39;case 8:return 17;case 9:return 18;case 10:return 23;case 11:return 10;case 12:return 14;case 13:return 15;case 14:return 11;case 15:return 16;case 16:return 13;case 17:return 12;case 18:return 9;case 19:return 7;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;
case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,
/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-w][0-9]*\^)/,/^(?:[a-w][0-9]*)/,/^(?:[xyz][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();c.lexer=f;a.prototype=c;c.Parser=a;return new a}();"undefined"!==typeof a&&
"undefined"!==typeof f&&(f.parser=K,f.Parser=K.Parser,f.parse=function(){return K.parse.apply(K,arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+" FILE"),v.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof H&&a.main===H&&f.main(v.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],14:[function(a,H,f){(function(v){var K=function(){function a(){this.yy={}}var c=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=
b);return c},f=[1,3],p=[1,4],u=[1,5],l=[1,6],q=[1,8],A=[1,10],z=[1,11],y=[1,14],r=[1,15],k=[1,12],x=[1,17],b=[1,18],m=[1,19],d=[1,20],C=[1,21],D=[1,22],g=[1,23],e=[5,9,11,12,13,14,15,16,25,27,35,36],F=[1,30],n=[5,9,11,12,13,14,15,16,24,25,27,31,32,33,35,36],O=[5,9,11,12,13,14,15,16,27,35,36],N=[5,9,27,35,36],v=[27,35],c={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"(":6,existential_quantifier:7,quantifier_variable:8,")":9,universal_quantifier:10,and:11,or:12,nand:13,nor:14,
arrow:15,double_arrow:16,not:17,"true":18,"false":19,sentence_letter_or_expression_variable:20,predicate:21,termlist:22,term:23,identity:24,"[":25,substitution_list:26,"]":27,expression_variable:28,sentence_letter:29,variable_or_metavariable:30,variable:31,term_metavariable:32,name:33,substitution:34,",":35,substitution_symbol:36,"null":37,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"(",7:"existential_quantifier",9:")",10:"universal_quantifier",11:"and",12:"or",13:"nand",14:"nor",15:"arrow",
16:"double_arrow",17:"not",18:"true",19:"false",21:"predicate",24:"identity",25:"[",27:"]",28:"expression_variable",29:"sentence_letter",31:"variable",32:"term_metavariable",33:"name",35:",",36:"substitution_symbol",37:"null"},productions_:[0,[3,2],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,4],[20,1],[20,1],[30,1],[30,1],[8,1],[22,1],[22,2],[23,1],[23,1],[26,1],[26,3],[34,3],[34,3],[34,3],[34,3]],performAction:function(a,b,c,e,d,g,f){a=g.length-1;
switch(d){case 1:return g[a-1];case 2:this.$={type:"existential_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 3:this.$={type:"universal_quantifier",symbol:g[a-3],location:f[a-3],boundVariable:g[a-2],left:g[a],right:null};break;case 4:this.$={type:"and",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 5:this.$={type:"or",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 6:this.$={type:"nand",symbol:g[a-1],location:f[a-
1],left:g[a-2],right:g[a]};break;case 7:this.$={type:"nor",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 8:this.$={type:"arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 9:this.$={type:"double_arrow",symbol:g[a-1],location:f[a-1],left:g[a-2],right:g[a]};break;case 10:this.$={type:"not",symbol:g[a-1],location:f[a-1],left:g[a],right:null};break;case 11:this.$={type:"value",symbol:g[a],location:f[a],value:!0,left:null,right:null};break;case 12:this.$={type:"value",
symbol:g[a],location:f[a],value:!1,left:null,right:null};break;case 13:case 22:case 26:this.$=g[a];break;case 14:this.$={type:"predicate",name:g[a-1],location:f[a-1],termlist:g[a]};break;case 15:this.$={type:"identity",symbol:g[a-1],termlist:[g[a-2],g[a]]};break;case 16:this.$=g[a-1];break;case 17:g[a-3].substitutions=g[a-3].substitutions&&g[a-3].substitutions.length?g[a-3].substitutions.concat(g[a-1]):g[a-1];this.$=g[a-3];break;case 18:this.$={type:"expression_variable",location:f[a],letter:g[a],
left:null,right:null};break;case 19:this.$={type:"sentence_letter",location:f[a],letter:g[a],left:null,right:null};break;case 20:this.$={type:"variable",name:g[a],location:f[a]};break;case 21:this.$={type:"term_metavariable",name:g[a],location:f[a]};break;case 23:case 27:this.$=[g[a]];break;case 24:this.$=[g[a-1]].concat(g[a]);break;case 25:this.$={type:"name",name:g[a],location:f[a]};break;case 28:this.$=[g[a-2]].concat(g[a]);break;case 29:case 31:this.$={type:"substitution",from:g[a-2],to:g[a],
symbol:g[a-1]};break;case 30:case 32:this.$={type:"substitution",from:g[a-2],to:null,symbol:g[a-1]}}},table:[{3:1,4:2,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{1:[3]},{5:[1,16],11:x,12:b,13:m,14:d,15:C,16:D,25:g},{4:26,6:f,7:[1,24],10:[1,25],17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{4:27,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},c(e,[2,11]),c(e,[2,12]),c(e,[2,13]),{22:28,23:29,30:13,31:y,32:r,33:k},{24:F},c(e,[2,18]),c(e,[2,19]),
c(n,[2,25]),c(n,[2,26]),c(n,[2,20]),c(n,[2,21]),{1:[2,1]},{4:31,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{4:32,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{4:33,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{4:34,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{4:35,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{4:36,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{4:40,6:f,17:p,
18:u,19:l,20:7,21:q,23:39,26:37,28:A,29:z,30:13,31:y,32:r,33:k,34:38},{8:41,30:42,31:y,32:r},{8:43,30:42,31:y,32:r},{9:[1,44],11:x,12:b,13:m,14:d,15:C,16:D,25:g},c(O,[2,10],{25:g}),c(e,[2,14]),c(e,[2,23],{30:13,23:29,22:45,31:y,32:r,33:k}),{23:46,30:13,31:y,32:r,33:k},c(O,[2,4],{25:g}),c(O,[2,5],{25:g}),c(O,[2,6],{25:g}),c(O,[2,7],{25:g}),c(N,[2,8],{11:x,12:b,13:m,14:d,25:g}),c(N,[2,9],{11:x,12:b,13:m,14:d,25:g}),{27:[1,47]},{27:[2,27],35:[1,48]},{24:F,36:[1,49]},{11:x,12:b,13:m,14:d,15:C,16:D,25:g,
36:[1,50]},{9:[1,51]},{9:[2,22]},{9:[1,52]},c(e,[2,16]),c(e,[2,24]),c(e,[2,15]),c(e,[2,17]),{4:40,6:f,17:p,18:u,19:l,20:7,21:q,23:39,26:53,28:A,29:z,30:13,31:y,32:r,33:k,34:38},{23:54,30:13,31:y,32:r,33:k,37:[1,55]},{4:56,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k,37:[1,57]},{4:58,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{4:59,6:f,17:p,18:u,19:l,20:7,21:q,23:9,28:A,29:z,30:13,31:y,32:r,33:k},{27:[2,28]},c(v,[2,29]),c(v,[2,30]),c(v,[2,31],{11:x,12:b,13:m,
14:d,15:C,16:D,25:g}),c(v,[2,32]),c(O,[2,2],{25:g}),c(O,[2,3],{25:g})],defaultActions:{16:[2,1],42:[2,22],53:[2,28]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],g=this.table,d="",f=0,m=0,n=0,D=e.slice.call(arguments,1),C=Object.create(this.lexer),l={},k;for(k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(l[k]=this.yy[k]);C.setInput(a,l);l.lexer=
C;l.parser=this;"undefined"==typeof C.yylloc&&(C.yylloc={});k=C.yylloc;e.push(k);var F=C.options&&C.options.ranges;this.parseError="function"===typeof l.parseError?l.parseError:Object.getPrototypeOf(this).parseError;for(var p,r,q,u,z={},y,x;;){q=b[b.length-1];if(this.defaultActions[q])u=this.defaultActions[q];else{if(null===p||"undefined"==typeof p)p=void 0,p=C.lex()||1,"number"!==typeof p&&(p=this.symbols_[p]||p);u=g[q]&&g[q][p]}if("undefined"===typeof u||!u.length||!u[0]){var A="";x=[];for(y in g[q])this.terminals_[y]&&
2<y&&x.push("'"+this.terminals_[y]+"'");A=C.showPosition?"Parse error on line "+(f+1)+":\n"+C.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'");this.parseError(A,{text:C.match,token:this.terminals_[p]||p,line:C.yylineno,loc:k,expected:x})}if(u[0]instanceof Array&&1<u.length)throw Error("Parse Error: multiple actions possible at state: "+q+", token: "+p);switch(u[0]){case 1:b.push(p);
c.push(C.yytext);e.push(C.yylloc);b.push(u[1]);p=null;r?(p=r,r=null):(m=C.yyleng,d=C.yytext,f=C.yylineno,k=C.yylloc,0<n&&n--);break;case 2:x=this.productions_[u[1]][1];z.$=c[c.length-x];z._$={first_line:e[e.length-(x||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(x||1)].first_column,last_column:e[e.length-1].last_column};F&&(z._$.range=[e[e.length-(x||1)].range[0],e[e.length-1].range[1]]);q=this.performAction.apply(z,[d,m,f,l,u[1],c,e].concat(D));if("undefined"!==typeof q)return q;
x&&(b=b.slice(0,-2*x),c=c.slice(0,-1*x),e=e.slice(0,-1*x));b.push(this.productions_[u[1]][0]);c.push(z.$);e.push(z._$);u=g[b[b.length-2]][b[b.length-1]];b.push(u);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];
this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=
a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:
this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});
return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,
b){var c,e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(c=
a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);
this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var g in e)this[g]=e[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),g=0;g<e.length;g++)if((b=this._input.match(this.rules[e[g]]))&&(!a||b[0].length>a[0].length))if(a=b,c=g,this.options.backtrack_lexer){a=
this.test_match(b,e[g]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():
this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,e){switch(c){case 1:return 6;
case 2:return 9;case 3:return 25;case 4:return 27;case 5:return 35;case 6:return 21;case 7:return 36;case 8:return 18;case 9:return 19;case 10:return 24;case 11:return 11;case 12:return 15;case 13:return 16;case 14:return 12;case 15:return 17;case 16:return 14;case 17:return 13;case 18:return 10;case 19:return 7;case 20:return 29;case 21:return 37;case 22:return 33;case 23:return 31;case 24:return 28;case 25:return 32;case 26:return 5;case 27:return"invalid_character"}},rules:[/^(?:\s+)/,/^(?:\()/,
/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*)/,
/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],inclusive:!0}}}}();c.lexer=f;a.prototype=c;c.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=K,f.Parser=K.Parser,f.parse=function(){return K.parse.apply(K,arguments)},f.main=function(E){E[1]||(console.log("Usage: "+
E[0]+" FILE"),v.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof H&&a.main===H&&f.main(v.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],15:[function(a,H,f){(function(v){var K=function(){function a(){this.yy={}}var c=function(a,b,c,e){c=c||{};for(e=a.length;e--;c[a[e]]=b);return c},f=[1,4],p=[1,5],u=[1,6],l=[1,7],q=[1,9],A=[1,12],z=[1,13],y=[1,18],r=[1,19],k=[1,14],x=[1,15],b=[1,17],m=[1,21],d=[1,22],C=[1,23],D=
[1,24],g=[1,25],e=[1,26],F=[1,27],n=[1,30],v=[5,10,12,13,14,15,16,17,26,27,38],N=[1,37],H=[5,10,12,13,14,15,16,17,26,27,38,39],J=[5,10,12,13,14,15,16,17,25,26,27,32,33,34,35,36,38,39],L=[5,10,12,13,14,15,16,17,27,38],Y=[5,10,27,38],X=[27,38],c={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,box:6,"(":7,existential_quantifier:8,quantifier_variable:9,")":10,universal_quantifier:11,and:12,or:13,nand:14,nor:15,arrow:16,double_arrow:17,not:18,"true":19,"false":20,sentence_letter_or_expression_variable:21,
predicate:22,termlist:23,term:24,identity:25,"[":26,"]":27,substitution_list:28,expression_variable:29,sentence_letter:30,variable_or_metavariable:31,variable:32,term_metavariable:33,name:34,name_hat:35,term_metavariable_hat:36,substitution:37,",":38,substitution_symbol:39,"null":40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"(",8:"existential_quantifier",10:")",11:"universal_quantifier",12:"and",13:"or",14:"nand",15:"nor",16:"arrow",17:"double_arrow",18:"not",19:"true",20:"false",22:"predicate",
25:"identity",26:"[",27:"]",29:"expression_variable",30:"sentence_letter",32:"variable",33:"term_metavariable",34:"name",35:"name_hat",36:"term_metavariable_hat",38:",",39:"substitution_symbol",40:"null"},productions_:[0,[3,2],[3,2],[3,3],[4,5],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,1],[4,1],[4,1],[4,2],[4,3],[4,3],[4,3],[4,4],[21,1],[21,1],[31,1],[31,1],[9,1],[23,1],[23,2],[24,1],[24,1],[24,1],[24,1],[28,1],[28,3],[37,3],[37,3],[37,3],[37,3],[6,3]],performAction:function(a,b,c,e,g,d,
f){a=d.length-1;switch(g){case 1:case 2:return d[a-1];case 3:return d[a-1].box=d[a-2],d[a-1];case 4:this.$={type:"existential_quantifier",symbol:d[a-3],location:f[a-3],boundVariable:d[a-2],left:d[a],right:null};break;case 5:this.$={type:"universal_quantifier",symbol:d[a-3],location:f[a-3],boundVariable:d[a-2],left:d[a],right:null};break;case 6:this.$={type:"and",symbol:d[a-1],location:f[a-1],left:d[a-2],right:d[a]};break;case 7:this.$={type:"or",symbol:d[a-1],location:f[a-1],left:d[a-2],right:d[a]};
break;case 8:this.$={type:"nand",symbol:d[a-1],location:f[a-1],left:d[a-2],right:d[a]};break;case 9:this.$={type:"nor",symbol:d[a-1],location:f[a-1],left:d[a-2],right:d[a]};break;case 10:this.$={type:"arrow",symbol:d[a-1],location:f[a-1],left:d[a-2],right:d[a]};break;case 11:this.$={type:"double_arrow",symbol:d[a-1],location:f[a-1],left:d[a-2],right:d[a]};break;case 12:this.$={type:"not",symbol:d[a-1],location:f[a-1],left:d[a],right:null};break;case 13:this.$={type:"value",symbol:d[a],location:f[a],
value:!0,left:null,right:null};break;case 14:this.$={type:"value",symbol:d[a],location:f[a],value:!1,left:null,right:null};break;case 15:case 25:case 30:this.$=d[a];break;case 16:this.$={type:"predicate",name:d[a-1],location:f[a-1],termlist:d[a]};break;case 17:this.$={type:"identity",symbol:d[a-1],termlist:[d[a-2],d[a]]};break;case 18:case 19:this.$=d[a-1];break;case 20:d[a-3].substitutions=d[a-3].substitutions&&d[a-3].substitutions.length?d[a-3].substitutions.concat(d[a-1]):d[a-1];this.$=d[a-3];
break;case 21:this.$={type:"expression_variable",location:f[a],letter:d[a],left:null,right:null};break;case 22:this.$={type:"sentence_letter",location:f[a],letter:d[a],left:null,right:null};break;case 23:this.$={type:"variable",name:d[a],location:f[a]};break;case 24:this.$={type:"term_metavariable",name:d[a],location:f[a]};break;case 26:case 32:this.$=[d[a]];break;case 27:this.$=[d[a-1]].concat(d[a]);break;case 28:this.$={type:"name",name:d[a],location:f[a]};break;case 29:this.$={type:"name_hat",
name:d[a],location:f[a]};break;case 31:this.$={type:"term_metavariable_hat",name:d[a],location:f[a]};break;case 33:this.$=[d[a-2]].concat(d[a]);break;case 34:case 36:this.$={type:"substitution",from:d[a-2],to:d[a],symbol:d[a-1]};break;case 35:case 37:this.$={type:"substitution",from:d[a-2],to:null,symbol:d[a-1]};break;case 38:this.$={type:"box",term:d[a-1]}}},table:[{3:1,4:2,6:3,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:[1,11],29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{1:[3]},{5:[1,20],12:m,13:d,14:C,
15:D,16:g,17:e,26:F},{4:29,5:[1,28],7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{4:33,7:f,8:[1,31],11:[1,32],18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{4:34,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},c(v,[2,13]),c(v,[2,14]),c(v,[2,15]),{23:35,24:36,31:16,32:y,33:r,34:k,35:x,36:b},{25:N},{4:38,7:f,18:p,19:u,20:l,21:8,22:q,24:39,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},c(H,[2,21]),
c(H,[2,22]),c(J,[2,28]),c(J,[2,29]),c(J,[2,30]),c(J,[2,31]),c(J,[2,23]),c(J,[2,24]),{1:[2,1]},{4:40,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{4:41,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{4:42,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{4:43,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{4:44,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,
31:16,32:y,33:r,34:k,35:x,36:b},{4:45,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{21:49,24:48,28:46,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b,37:47},{1:[2,2]},{5:[1,50],12:m,13:d,14:C,15:D,16:g,17:e,26:F},{4:38,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{9:51,31:52,32:y,33:r},{9:53,31:52,32:y,33:r},{10:[1,54],12:m,13:d,14:C,15:D,16:g,17:e,26:F},c(L,[2,12],{26:F}),c(v,[2,16]),c(v,[2,26],{31:16,24:36,23:55,32:y,33:r,34:k,35:x,
36:b}),{24:56,31:16,32:y,33:r,34:k,35:x,36:b},{12:m,13:d,14:C,15:D,16:g,17:e,26:F,27:[1,57]},{25:N,27:[1,58]},c(L,[2,6],{26:F}),c(L,[2,7],{26:F}),c(L,[2,8],{26:F}),c(L,[2,9],{26:F}),c(Y,[2,10],{12:m,13:d,14:C,15:D,26:F}),c(Y,[2,11],{12:m,13:d,14:C,15:D,26:F}),{27:[1,59]},{27:[2,32],38:[1,60]},{39:[1,61]},{39:[1,62]},{1:[2,3]},{10:[1,63]},{10:[2,25]},{10:[1,64]},c(v,[2,18]),c(v,[2,27]),c(v,[2,17]),c(v,[2,19]),c([5,7,18,19,20,22,26,29,30,32,33,34,35,36],[2,38]),c(v,[2,20]),{21:49,24:48,28:65,29:A,30:z,
31:16,32:y,33:r,34:k,35:x,36:b,37:47},{24:66,31:16,32:y,33:r,34:k,35:x,36:b,40:[1,67]},{4:68,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b,40:[1,69]},{4:70,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{4:71,7:f,18:p,19:u,20:l,21:8,22:q,24:10,26:n,29:A,30:z,31:16,32:y,33:r,34:k,35:x,36:b},{27:[2,33]},c(X,[2,34]),c(X,[2,35]),c(X,[2,36],{12:m,13:d,14:C,15:D,16:g,17:e,26:F}),c(X,[2,37]),c(L,[2,4],{26:F}),c(L,[2,5],{26:F})],defaultActions:{20:[2,
1],28:[2,2],50:[2,3],52:[2,25],65:[2,33]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=[null],e=[],d=this.table,g="",f=0,m=0,n=0,D=e.slice.call(arguments,1),C=Object.create(this.lexer),l={},k;for(k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(l[k]=this.yy[k]);C.setInput(a,l);l.lexer=C;l.parser=this;"undefined"==typeof C.yylloc&&(C.yylloc={});k=C.yylloc;
e.push(k);var p=C.options&&C.options.ranges;this.parseError="function"===typeof l.parseError?l.parseError:Object.getPrototypeOf(this).parseError;for(var F,r,J,q,u={},L,z;;){J=b[b.length-1];if(this.defaultActions[J])q=this.defaultActions[J];else{if(null===F||"undefined"==typeof F)F=void 0,F=C.lex()||1,"number"!==typeof F&&(F=this.symbols_[F]||F);q=d[J]&&d[J][F]}if("undefined"===typeof q||!q.length||!q[0]){var y="";z=[];for(L in d[J])this.terminals_[L]&&2<L&&z.push("'"+this.terminals_[L]+"'");y=C.showPosition?
"Parse error on line "+(f+1)+":\n"+C.showPosition()+"\nExpecting "+z.join(", ")+", got '"+(this.terminals_[F]||F)+"'":"Parse error on line "+(f+1)+": Unexpected "+(1==F?"end of input":"'"+(this.terminals_[F]||F)+"'");this.parseError(y,{text:C.match,token:this.terminals_[F]||F,line:C.yylineno,loc:k,expected:z})}if(q[0]instanceof Array&&1<q.length)throw Error("Parse Error: multiple actions possible at state: "+J+", token: "+F);switch(q[0]){case 1:b.push(F);c.push(C.yytext);e.push(C.yylloc);b.push(q[1]);
F=null;r?(F=r,r=null):(m=C.yyleng,g=C.yytext,f=C.yylineno,k=C.yylloc,0<n&&n--);break;case 2:z=this.productions_[q[1]][1];u.$=c[c.length-z];u._$={first_line:e[e.length-(z||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(z||1)].first_column,last_column:e[e.length-1].last_column};p&&(u._$.range=[e[e.length-(z||1)].range[0],e[e.length-1].range[1]]);J=this.performAction.apply(u,[g,m,f,l,q[1],c,e].concat(D));if("undefined"!==typeof J)return J;z&&(b=b.slice(0,-2*z),c=c.slice(0,
-1*z),e=e.slice(0,-1*z));b.push(this.productions_[q[1]][0]);c.push(u.$);e.push(u._$);q=d[b[b.length-2]][b[b.length-1]];b.push(q);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,
first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=
this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-
b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},
less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,
e;this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,
this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var d in e)this[d]=e[d];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var e=this._currentRules(),d=0;d<e.length;d++)if((b=this._input.match(this.rules[e[d]]))&&(!a||b[0].length>a[0].length))if(a=b,c=d,this.options.backtrack_lexer){a=this.test_match(b,e[d]);if(!1!==a)return a;
if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,e[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,e){switch(c){case 1:return 7;case 2:return 10;
case 3:return 26;case 4:return 27;case 5:return 38;case 6:return 22;case 7:return 39;case 8:return 19;case 9:return 20;case 10:return 25;case 11:return 12;case 12:return 16;case 13:return 17;case 14:return 13;case 15:return 18;case 16:return 15;case 17:return 14;case 18:return 11;case 19:return 8;case 20:return 30;case 21:return 40;case 22:return 35;case 23:return 34;case 24:return 32;case 25:return 29;case 26:return 36;case 27:return 33;case 28:return 5;case 29:return"invalid_character"}},rules:[/^(?:\s+)/,
/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:[A-Z][0-9]*(?=([a-z\u03b1\u03b2\u03b3\u03c4]+)))/,/^(?:--\x3e)/,/^(?:true\b)/,/^(?:false|\u22a5|_\|_|contradiction|contra\b)/,/^(?:=)/,/^(?:and|&|\u2227|\u2022)/,/^(?:arrow|->|\u21d2|\u2192|\u2283)/,/^(?:\u2194|\u2261|\u21d4|double_arrow|<->)/,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/,/^(?:not|\u00ac|~|\u02dc|!)/,/^(?:nor|\u2193)/,/^(?:nand|\u2191)/,/^(?:all|\u2200|every\b)/,/^(?:some|exists|\u2203)/,/^(?:[A-Z][0-9]*)/,/^(?:[nN][uU][lL][lL])/,/^(?:[a-r][0-9]*\^)/,
/^(?:[a-r][0-9]*)/,/^(?:[xyzw][0-9]*)/,/^(?:[\u03c6\u03c8\u03c7][0-9]*)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*\^)/,/^(?:[\u03b1\u03b2\u03b3\u03c4][0-9]*)/,/^(?:$)/,/^(?:.)/],conditions:{expectLeftBracket:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],inclusive:!0}}}}();c.lexer=f;a.prototype=c;c.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=K,f.Parser=K.Parser,f.parse=function(){return K.parse.apply(K,
arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+" FILE"),v.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof H&&a.main===H&&f.main(v.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],16:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A,z,y,r,k,x,b,m,d,C=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};c=a("lodash");m=a("./justification_parser");q=a("../dialect_manager/dialectManager");
l=a("./add_line_numbers").cleanNumber;E=m.parse("premise");v=m.parse("close branch");K=m.parse("open branch");f.to=function(a){var g;g={visit:function(a){var c,g,f;"line"!==(g=a.type)&&"close_branch"!==g&&"open_branch"!==g||null!=a.justification||null!=a.justificationErrors||("close_branch"===a.type&&(a.justification=v),"open_branch"===a.type&&(a.justification=K),"line"===a.type&&(g=d(a.content),a.justification=g.justification,a.content=g.rest,a.justificationErrors=g.justificationErrors,a.justificationText=
g.justificationText),null!=(null!=(f=a.justification)?f.numbers:void 0)&&(a.justification.numbers=function(){var b,d,g,f;g=a.justification.numbers;f=[];b=0;for(d=g.length;b<d;b++)c=g[b],f.push(l(c));return f}()),a.getRuleName=b,a.findLine=z,a.findBlock=A,a.findLineOrBlock=y,a.getCitedLines=k,a.getLinesThatCiteMe=x,a.getCitedBlocks=r,a.isPremise=function(){return a.justification.rule.connective===E.rule.connective})}};a.walk(g);g={visit:function(a){"line"===a.type&&null==a.justification&&null==a.justificationErrors&&
u(a)&&(a.justification=E)}};a.walk(g);g={visit:function(a){"block"===a.type&&(a.getConclusion=function(){var b;b=c.last(a.content);return"line"===b.type&&null!=b.sentence?b.sentence:!1},a.getPremises=function(){var b,d;b=c.filter(a.content,function(a){var b,c;return"line"!==a.type||null==a.sentence||"premise"!==(null!=(b=a.justification)?null!=(c=b.rule)?c.connective:void 0:void 0)?!1:!0});return function(){var a,c,e;e=[];a=0;for(c=b.length;a<c;a++)d=b[a],e.push(d.sentence);return e}()})}};a.walk(g);
return a};M=/((\s)*\/\/)|(\\)|(--)/;p=/(\S+)(\s\s\s)(?=\s*\S+)/;d=function(a){var b,c,d,f;c=a.match(M);if(null!=c)f=a.slice(0,c.index),d=c[0].length,a=a.slice(c.index+d);else if(c=a.match(p),null!=c)f=c[1],f=a.slice(0,c.index+f.length),d=c[0].length,a=a.slice(c.index+d);else return{justification:null,rest:a,justificationErrors:null};try{b=m.parse(a)}catch(C){return{justification:null,rest:f,justificationErrors:C.message,justificationText:a}}return{justification:b,rest:f,justificationErrors:null}};
u=function(a){var b,c,d,f,m,C;b=a.parent;if(a===b.content[0])return!0;if(null!=b.parent)return!1;m=b.content;C=f=!1;c=0;for(d=m.length;c<d;c++){b=m[c];if("divider"===b.type){C=!0;break}b===a&&(f=!0)}return f&&C?!0:!1};f._isPremise=u;b=function(){var a,b,c,d;if(null==(null!=(a=this.justification)?a.rule:void 0))return"";d=q.getSymbols();a=d[this.justification.rule.connective]||this.justification.rule.connective;c=(1!==(null!=a?a.length:void 0)?" ":void 0)||"";b=this.justification.rule.variant.intronation||
"";b=d[b]||b;return(""+a+c+b+" "+(this.justification.rule.variant.side||"")).trim()};z=function(a){return this.findAbove(function(b){if("line"===b.type&&b.number===a)return!0})};A=function(a){return this.findAbove(function(b){if("block"===b.type&&b.number===a)return!0})};y=function(a){return this.findAbove(function(b){if(("block"===b.type||"line"===b.type)&&b.number===a)return!0})};k=function(){var a,b,c,d,f;if(!this.justification.numbers)return[];a=[];d=this.justification.numbers;b=0;for(c=d.length;b<
c;b++)f=d[b],f=this.findLine(f),!1!==f&&a.push(f);return a};x=function(){var a,b;b=this;a=[];this.parent.walk({visit:function(c){null!=c.getCitedLines&&0<=C.call(c.getCitedLines(),b)&&a.push(c)}});return a};r=function(){var a,b,c,d,f;if(!this.justification.numbers)return[];a=[];d=this.justification.numbers;b=0;for(c=d.length;b<c;b++)f=d[b],f=this.findBlock(f),!1!==f&&a.push(f);return a}},{"../dialect_manager/dialectManager":5,"./add_line_numbers":17,"./justification_parser":24,lodash:9}],17:[function(a,
H,f){var v,K,E,c,M,p=[].indexOf||function(a){for(var c=0,f=this.length;c<f;c++)if(c in this&&this[c]===a)return c;return-1};v=a("lodash");E=/^([|\s])*\(?([0-9]\S*)([|\s]*)([\s\S]*)/;K=/\.*\)?$/;c=function(a){return a.replace(K,"")};f.cleanNumber=c;M=function(a){var f;return(f=a.content.match(E))?(a=f[2],a=c(a),{lineNumber:a,rest:f[4]}):{lineNumber:null,rest:a.content}};f.to=function(a){a.walk({usedLineNumbers:[],lineCounter:0,userNumberedLines:!1,visit:function(a){var c,f;if("block"!==a.type){this.lineCounter+=
1;f=M(a);c=f.lineNumber;f=f.rest;if(c||0===c)this.userNumberedLines=!0;null===c&&(c="line"===a.type?""+this.lineCounter:this.lineCounter+"x");if(0<=p.call(this.usedLineNumbers,c))throw Error("Duplicate line number '"+c+"' used for the second time at line "+this.lineCounter+".  Line numbers must be unique.");this.usedLineNumbers.push(c);a.number=c;a.content=f}}});a.walk({visit:function(c){var f;if("block"===c.type&&(a=c,0!==a.content.length)){c=a.content[0];for(f=v.last(a.content);"block"===f.type;)f=
v.last(f.content);null!=c.number&&null!=f.number&&(a.number=c.number+"-"+f.number)}}});return a}},{lodash:9}],18:[function(a,H,f){var v;v=a("../fol");a("../substitute");a("../util");f.to=function(a){a.walk({visit:function(a){if("line"===a.type&&null==a.sentence&&null==a.sentenceErrors){a.sentenceText=a.content;try{a.sentence=v.parse(a.sentenceText)}catch(c){a.sentenceErrors=c.message}}}});return a}},{"../fol":7,"../substitute":30,"../util":32}],19:[function(a,H,f){var v,K;a("../fol");a("../substitute");
K=a("../util");f.to=function(a){a.walk({visit:function(a){null!=(null!=a?a.type:void 0)&&"block"!==a.type&&(a.status=new v(a),a.getErrorMessage=function(){return a.status.getMessage()})}});return a};v=function(){function a(c){var f;this.line=c;this.messages=[];this.verificationAttempted=this.verified=!1;this.sentenceParsed=null!=this.line.sentence;this.justificationParsed=null!=this.line.justification;null!=this.line.sentenceErrors&&(c=K.getLanguageNames(),this.addMessage("the sentence you wrote ("+
this.line.sentenceText+") is not a sentence or well-formed formula of "+c.join(" or ")+"."));null!=this.line.justificationErrors&&this.addMessage("the justification your supplied ("+(null!=(f=this.line.justificationText)?f.trim():void 0)+") either mentions a rule you can't use here or doesn't make sense.");"line"===this.line.type&&null==this.line.justification&&null==this.line.justificationErrors&&this.addMessage("you supplied no justification for this line.")}a.prototype.addMessage=function(a){return this.messages.push(a)};
a.prototype.clearMessages=function(){return this.messages=[]};a.prototype.popMessage=function(){return 0<this.messages.length?this.messages.pop():""};a.prototype.addAlthoughMessage=function(a){if(null!=this._addedAlthough)return this.addMessage("and although "+a);this.addMessage("although "+a);return this._addedAlthough=!0};a.prototype.getMessage=function(){var a,f,p,u,l;if(0===this.messages.length)return"";p="This line is "+((this.verified?void 0:"not correct because")||"correct but")+" "+this.messages[0];
1<this.messages.length&&(p+="And also "+this.messages[1]);2<this.messages.length&&(p+="Further, "+this.messages[2]);3<this.messages.length&&(p+="And, for another thing, "+this.messages[3]);if(4<this.messages.length)for(u=this.messages.splice(4),a=0,f=u.length;a<f;a++)l=u[a],p+="And "+l;return p};return a}()},{"../fol":7,"../substitute":30,"../util":32}],20:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A,z,y,r,k,x=[].indexOf||function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;
return-1};v=a("lodash");r=a("../util");l=a("./block_parser");M=a("./add_line_numbers");c=a("./add_justification");p=a("./add_sentences");u=a("./add_status");a("./fitch_rules");a("./teller_rules");a("./forallx_rules");a("./logicbook_rules");a("./logicbook_tree_rules");y=a("../dialect_manager/dialectManager");E=function(a){a=l.parse(a);M.to(a);c.to(a);p.to(a);u.to(a);return a};f.to=function(a){a.walk({visit:function(c){null!=(null!=c?c.type:void 0)&&(c.verify="block"===c.type?function(){var a;a=!0;
c.walk({visit:function(b){var c;if("line"===(c=b.type)||"close_branch"===c||"open_branch"===c)b=b.verify(),a=a&&b}});return a}:function(){return k(c,a)})}});return a.verifyTree=function(){var c;if(!1===a.verify())return!1;c=a.getChildren();return q(c)}};q=function(a){var c,d,f,D,g,e,k,n,l,p;if(!(0<(null!=a?a.length:void 0)))return!0;d=0;for(D=a.length;d<D;d++)if(c=a[d],c=q(c),!1===c)return!1;d=null!=(f=a[0].getFirstLine())?null!=(g=f.rulesChecked)?null!=(e=g[0])?e.ruleSet:void 0:void 0:void 0;if(null==
d)throw Error("Could not get ruleSet at line "+(null!=(k=a[0].getFirstLine())?k.number:void 0)+".");k=[];f=0;for(g=a.length;f<g;f++){c=a[f];e=null!=(n=c.getFirstLine())?null!=(l=n.rulesChecked)?l[0]:void 0:void 0;if(null==e)throw Error("Could not get rule at line "+(null!=(p=c.getFirstLine())?p.number:void 0)+".");if(0<=x.call(k,e)||e.ruleSet!==d)return!1;k.push(e)}return k.length<d.length?!1:!0};k=function(a,c){var d,f;v.isString(c)&&(c=E(c));f=c;if(null!=a.type)f=a;else if(f=f.getLine(a),!f)throw Error("Could not find line "+
a+" in "+c);f.status.verificationAttempted=!0;if("line"!==(d=f.type)&&"close_branch"!==d&&"open_branch"!==d)return f.status.verified=!0,f.status.addMessage("(This is a "+f.type.replace(/_/g," ")+")"),!0;if(null!=f.sentenceErrors||null!=f.justificationErrors||null==f.justification)return f.status.verified=!1;d=K(f);return!0!==d?(f.status.addMessage(d),f.status.verified=!1):A(f)};f._line=k;K=function(a){var c,d,f,D,g,e,k,n;e=a.justification.numbers;if(!e)return!0;f=0;for(D=e.length;f<D;f++){g=e[f];
d=a.findLineOrBlock(g);if(!d)return"something you cited, "+g+", cannot be cited here (either it does not exist, or it is below this line, or else it occurs above but in a closed subproof).";c=[];for(k=a.parent;k;)c.push(k),k=k.parent;if(0<=x.call(c,d))return"you cannot cite a subproof ("+g+") from within that subproof (you must close it, then cite it).";if("line"!==(n=d.type)&&"block"!==n)return"you cannot cite line "+g+" because it is a "+d.type.replace(/_/g," ")+".";if("line"===d.type&&!0!==d.status.sentenceParsed)return a=
r.getLanguageNames(),"you cannot cite line "+g+" yet because it does not contain a correct sentence of "+a.join(" or ")+".";if("block"===d.type){c=d.getFirstLine();d=d.getLastLine();if("block"===d.type)return"you cannot cite "+g+" because it finishes with an unclosed (sub)subproof (you must close it, then cite it)";if(null==c||null==d||!c.status.sentenceParsed||!d.status.sentenceParsed)return a=r.getLanguageNames(),"you cannot cite subproof "+g+" yet because it contains lines that are not correct sentence of "+
a.join(" or ")+"."}}return!0};f._linesCitedAreOk=K;z=function(a,c){var d,f,D,g,e,k;f=[];D=0;for(g=c.length;D<g;D++){d=c[D];d=d.check(a);if(!0===d)return a.status.verified=!0;d=a.status.popMessage();null!=d&&f.push(d)}a.status.verified=!1;1===f.length&&a.status.addMessage(f[0]);if(1<f.length){d="This rule has multiple forms and none of them matched.  ";D=g=0;for(e=f.length;g<e;D=++g)k=f[D],d+="("+D+") "+k+"  ";a.status.addMessage(d)}return!1};A=function(a){var c,d,f,D,g,e,k;c=a.justification.rule.connective;
d=null!=(D=a.justification.rule.variant)?D.intronation:void 0;D=null!=(g=a.justification.rule.variant)?g.side:void 0;g=y.getCurrentRules()[c];if(null==g)return a.status.addMessage(("the rule you specified, `"+c+" "+(d||"")+" "+(D||"")+"` does not exist (or, if it does, you are not allowed to use it in this proof).").replace(/\s\s+/g,"")),a.status.verified=!1;if(!d){if("rule"===g.type)return z(a,[g]);if(v.isArray(g))return z(a,g);a.status.addMessage("you only partially specified the rule: `"+c+"` needs something extra (intro? elim?).");
return a.status.verified=!1}g=g[d];if(null==g)return a.status.addMessage("you specified the rule "+c+" *"+d+"* but there is no \u2018"+d+"\u2019 version of the rule for "+c+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;if(!D){if("rule"===g.type)return z(a,[g]);if(v.isArray(g))return z(a,g);c=[];"rule"===(null!=(e=g.left)?e.type:void 0)&&c.push(g.left);if(v.isArray(g.left))for(k=g.left,d=0,D=k.length;d<D;d++)e=k[d],c.push(e);"rule"===(null!=(f=g.right)?f.type:
void 0)&&c.push(g.right);if(v.isArray(g.right))for(d=g.right,f=0,g=d.length;f<g;f++)e=d[f],c.push(e);return z(a,c)}if(null==g[D])return a.status.addMessage("you specified the rule "+c+" "+d+" *"+D+"* but there is no \u2018"+D+"\u2019 version of  "+c+" "+d+" (or, if there is, you are not allowed to use it in this proof)."),a.status.verified=!1;c=g[D];v.isArray(c)||(c=[c]);return z(a,c)}},{"../dialect_manager/dialectManager":5,"../util":32,"./add_justification":16,"./add_line_numbers":17,"./add_sentences":18,
"./add_status":19,"./block_parser":21,"./fitch_rules":22,"./forallx_rules":23,"./logicbook_rules":25,"./logicbook_tree_rules":26,"./teller_rules":29,lodash:9}],21:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A,z,y,r,k,x,b,m=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};K=a("lodash");b=a("../util");f.parse=function(a){var b,c,g,e,f,n,k,p,r;K.isString(a)&&(a=a.split("\n"));if(0===a.length)return new v("");u(a);a=l(a);b=a[0];r=0<=m.call(b.indentation,
"|");for(c=p=new v(b.indentation);0<a.length;)if(e=a.shift(),"line"===e.type||r&&"blank_line"===e.type){for(e.indentation.length>c.indentation.length&&(c=c.newBlock(e.indentation));c&&e.indentation.length<c.indentation.length;)c=c.close();if(!c||e.indentation.length!==c.indentation.length)throw Error("Bad indentation at line "+e.idx+" ("+e.originalText+"). (It is indented to a level to which no earlier line is indented.)");c.newLine(e)}else if("divider"===(k=e.type)||"close_branch"===k||"open_branch"===
k)c.newLine(e);else if("blank_line"===e.type&&!r){for(b=[e];0<a.length&&"blank_line"===a[0].type;)b.push(a.shift());if(c===p)for(g=0,f=b.length;g<f;g++)e=b[g],c.newLine(e);else if(g=a[0].indentation,g.length===c.indentation.length){g=c;n=c.close();c=0;for(f=b.length;c<f;c++)e=b[c],n.newLine(e);c=n.newBlock(g.indentation)}else if(g.length>c.indentation.length){n=0;for(f=b.length;n<f;n++)e=b[n],c.newLine(e);c=c.newBlock(g)}else{for(;c&&g.length<c.indentation.length;)c=c.close();if(!c||g.length!==c.indentation.length)throw Error("Bad indentation at line "+
e.idx+" ("+e.originalText+"). (It is indented to a level to which no earlier line is indented.)");f=0;for(g=b.length;f<g;f++)e=b[f],c.newLine(e)}}for(;c!==p;)c=c.close();return c};u=function(a){};l=function(a){var b,c,g,e,f,n,k,l,r;e=p(a);l=[];g=f=0;for(n=a.length;f<n;g=++f)k=a[g],b=x(k,e),c=b.indentation,b=b.content,r="line",q(b)&&(r="blank_line"),z(b)&&(r="divider"),A(b)&&(r="close_branch"),y(b)&&(r="open_branch"),l.push({indentation:c,content:b,idx:g+1,type:r,originalText:k});a=!1;g=[];f=0;for(e=
l.length;f<e;f++)c=l[f],g.push(c.indentation);e=0;for(f=g.length;e<f;e++)if(c=g[e],0<=m.call(c,"|")){a=!0;break}if(a)for(g=0,a=l.length;g<a;g++)c=l[g],c.indentation=c.indentation.replace(/\s+/g,"");return l};E=/^([|\s]+)/;p=function(a){var b,c,g,e,f;if(!a||0===a.length)return!0;c=null!=(g=a[0].match(E))?g[1]:void 0;g=0;for(e=a.length;g<e;g++)if(b=a[g],""!==b.replace(/[|-\s]/g,"")&&(f=b.match(E),b=null!=f?f[1]:void 0,null!==f&&b!==c))return!0;return!1};f.areLinesFormattedIndentationFirst=p;c=/^([|\s]*)([\s\S]*)/;
M=/^([|\s]*)(\(?[0-9]+[^|\s]*)?([|\s]*)([\s\S]*)/;x=function(a,b){var f,g,e,m;if(b)return f=a.match(c),{indentation:f[1],content:f[2]};f=a.match(M);m=f[1]||"";g=f[2];e=f[3]||"";f=f[4]||"";return g?{indentation:e,content:g+" "+f}:{indentation:m,content:""+f}};f.split=x;k=function(a){return a.replace(/[0-9]\S*/,"")};r=function(a){return a.replace(/\|/g,"")};z=function(a){a=k(a);a=r(a);return null!==a.match(/^\s*(--)/)?!0:!1};f._isDivider=z;q=function(a){a=k(a);a=r(a);return""===a.trim()};f._isBlank=
q;A=function(a){var b;a=k(a);a=r(a);return"X"===("function"===typeof a.trim?"function"===typeof(b=a.trim()).toUpperCase?b.toUpperCase():void 0:void 0)};y=function(a){var b;a=k(a);a=r(a);return"O"===("function"===typeof a.trim?"function"===typeof(b=a.trim()).toUpperCase?b.toUpperCase():void 0:void 0)};v=function(){function a(b,c,d){this.indentation=b;this.parent=c;this.prev=d;this.type="block";this.content=[];this._depth=null==this.parent?1:this.parent._depth+1}a.prototype.getFirstLine=function(){return 0<
this.content.length?this.content[0]:null};a.prototype.getLastLine=function(){return 0<this.content.length?K.last(this.content):null};a.prototype.getChildren=function(){var a,b,c,e,d;d=[];e=this.content;b=0;for(c=e.length;b<c;b++)a=e[b],"block"===a.type&&d.push(a);return d};a.prototype.newLine=function(a){var b;a.parent=this;b=this.getLastLine();a.prev=b;null!=b&&(b.next=a);a.lineNumberInSource=a.idx;a.findAbove=function(a){var b;for(b=this.prev||this.parent;null!=b&&null!=b.parent;){if(a(b))return b;
b=null==b.prev&&null!=b.parent?b.parent:b.prev}return!1};a.findAllAbove=function(a){var b,c;c=[];for(b=this.findAbove(a);b;)c.push(b),b=b.findAbove(a);return c};this.content.push(a);return a};a.prototype.newBlock=function(b){b=new a(b,this,this.getLastLine());this.content.push(b);return b};a.prototype.close=function(){return this.parent};a.prototype.walk=function(a){var b,c,e,d,f;f=a.visit(this);if(null!=f)return f;d=this.content;c=0;for(e=d.length;c<e;c++){b=d[c];f=a.visit(b);if(null!=f)return f;
"block"===b.type&&(f=b.walk(a));if(null!=f)return f}};a.prototype.getLine=function(a){var b;b=this.walk({onLine:0,visit:function(b){if("block"!==b.type&&(this.onLine+=1,this.onLine===a))return b}});if(null==b)throw Error("Could not get line number "+a);return b};a.prototype.toString=function(){return JSON.stringify(this,function(a,c){return!c||"prev"!==a&&"parent"!==a?"sentence"===a?b.expressionToString(c):K.isFunction(c)?void 0:c:"[circular reference to "+(null!=c?c.type:void 0)+", depth "+(null!=
c?c._depth:void 0)+"]"},4)};return a}();f.Block=v},{"../util":32,lodash:9}],22:[function(a,H,f){H=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(H.getParser("awFOL"));a={_description:"Rules of proof for classical first-order logic.  The rules assume that\nthere is no possible situation with an empty domain.",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},
intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:a.from(a.subproof("\u03c6","contradiction")).to("not \u03c6")},contradiction:{elim:a.from("contradiction").to("\u03c6"),intro:a.from("not \u03c6").and("\u03c6").to("contradiction")},
arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),
right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:{left:a.from(a.subproof("[\u03b1]","\u03c6[\u03c4--\x3e\u03b1]")).to("all \u03c4 \u03c6"),right:a.from(a.subproof("[\u03b1]\u03c6",
"\u03c8")).to("all \u03c4 (\u03c6 arrow \u03c8)[\u03b1--\x3e\u03c4]")}}};f.rules=a;H.registerRuleSet("fitch",a)},{"../dialect_manager/dialectManager":5,"./rule":28}],23:[function(a,H,f){H=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(H.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},
intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),right:a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),
right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},
existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},dilemma:a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),
"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),commutivity:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",
{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 <-> \u03c7",to:"\u03c7 <-> \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 <-> \u03c7",from:"\u03c7 <-> \u03c8"}))],DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",
to:"not \u03c8 or not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",from:"not \u03c8 or not \u03c7"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",from:"\u03c8"}))],"material-conditional":[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"})),
a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"not \u03c8 arrow \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"not \u03c8 arrow \u03c7"}))],"biconditional-exchange":[a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"}))],"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",
{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (exists x) \u03c8",to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",from:"(all x) not \u03c8"}))]};f.rules=a;H.registerRuleSet("forallx",a)},{"../dialect_manager/dialectManager":5,"./rule":28}],24:[function(a,H,f){(function(v){var K=function(){function a(){this.yy=
{}}var c=function(a,b,c,d){c=c||{};for(d=a.length;d--;c[a[d]]=b);return c},f=[1,7],p=[1,12],u=[1,13],l=[1,14],q=[1,15],v=[1,16],z=[1,17],y=[1,11],r=[1,18],k=[1,19],x=[1,20],b=[5,7],m=[5,7,22],d=[5,7,10,16,17,18,19,20,21,23,24,25],C=[5,7,10,20,21,22],D=[5,7,10,16,17,18,19,22],c={trace:function(){},yy:{},symbols_:{error:2,justification:3,j:4,EOF:5,j2:6,tick:7,rule_name:8,numberlist:9,connective:10,intronation:11,rule_name_option0:12,rule_name_option1:13,side:14,rule_name_group0:15,elim:16,intro:17,
decomposition:18,decomposition2:19,left:20,right:21,number:22,reit:23,premise:24,bare_rule:25,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"tick",10:"connective",16:"elim",17:"intro",18:"decomposition",19:"decomposition2",20:"left",21:"right",22:"number",23:"reit",24:"premise",25:"bare_rule"},productions_:[0,[3,2],[4,1],[4,2],[4,2],[6,1],[6,2],[6,2],[8,3],[8,3],[8,3],[8,3],[8,3],[8,3],[8,1],[11,1],[11,1],[11,1],[11,1],[14,1],[14,1],[9,1],[9,2],[12,0],[12,1],[13,0],[13,1],[15,1],[15,1],[15,1]],
performAction:function(a,b,c,d,f,m,k){a=m.length-1;switch(f){case 1:return m[a-1];case 2:this.$=m[a];break;case 3:m[a].ticked=!0;this.$=m[a];break;case 4:m[a-1].ticked=!0;this.$=m[a-1];break;case 5:this.$={type:"justification",rule:m[a],location:k[a]};break;case 6:this.$={type:"justification",rule:m[a-1],location:k[a-1],numbers:m[a]};break;case 7:this.$={type:"justification",rule:m[a],location:k[a],numbers:m[a-1]};break;case 8:this.$={type:"rule",connective:m[a-2],variant:{type:"variant",intronation:m[a-
1],side:m[a]}};break;case 9:this.$={type:"rule",connective:m[a-1],variant:{type:"variant",intronation:m[a-2],side:m[a]}};break;case 10:this.$={type:"rule",connective:m[a-1],variant:{type:"variant",intronation:m[a],side:m[a-2]}};break;case 11:this.$={type:"rule",connective:m[a-2],variant:{type:"variant",intronation:m[a],side:m[a-1]}};break;case 12:this.$={type:"rule",connective:m[a],variant:{type:"variant",intronation:m[a-1],side:m[a-2]}};break;case 13:this.$={type:"rule",connective:m[a],variant:{type:"variant",
intronation:m[a-2],side:m[a-1]}};break;case 14:this.$={type:"rule",connective:m[a],variant:{type:"variant",intronation:null,side:null}};break;case 15:this.$="elim";break;case 16:this.$="intro";break;case 17:this.$="decomposition";break;case 18:this.$="decomposition2";break;case 19:this.$="left";break;case 20:this.$="right";break;case 21:this.$=[m[a]];break;case 22:this.$=[m[a-1]].concat(m[a])}},table:[{3:1,4:2,6:3,7:[1,4],8:5,9:6,10:f,11:8,14:9,15:10,16:p,17:u,18:l,19:q,20:v,21:z,22:y,23:r,24:k,25:x},
{1:[3]},{5:[1,21]},{5:[2,2],7:[1,22]},{6:23,8:5,9:6,10:f,11:8,14:9,15:10,16:p,17:u,18:l,19:q,20:v,21:z,22:y,23:r,24:k,25:x},c(b,[2,5],{9:24,22:y}),{8:25,10:f,11:8,14:9,15:10,16:p,17:u,18:l,19:q,20:v,21:z,23:r,24:k,25:x},{11:26,14:27,16:p,17:u,18:l,19:q,20:v,21:z},{10:[1,28],14:29,20:v,21:z},{10:[1,30],11:31,16:p,17:u,18:l,19:q},c(m,[2,14]),c(d,[2,21],{9:32,22:y}),c(C,[2,15]),c(C,[2,16]),c(C,[2,17]),c(C,[2,18]),c(D,[2,19]),c(D,[2,20]),c(m,[2,27]),c(m,[2,28]),c(m,[2,29]),{1:[2,1]},{5:[2,4]},{5:[2,3]},
c(b,[2,6]),c(b,[2,7]),c(m,[2,23],{12:33,14:34,20:v,21:z}),{11:35,16:p,17:u,18:l,19:q},c(m,[2,25],{13:36,14:37,20:v,21:z}),{10:[1,38]},{11:39,16:p,17:u,18:l,19:q},{10:[1,40]},c(d,[2,22]),c(m,[2,8]),c(m,[2,24]),c(m,[2,11]),c(m,[2,9]),c(m,[2,26]),c(m,[2,13]),c(m,[2,10]),c(m,[2,12])],defaultActions:{21:[2,1],22:[2,4],23:[2,3]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=function(a,b){this.message=a;this.hash=b};c.prototype=Error;throw new c(a,b);}},parse:function(a){var b=[0],c=
[null],d=[],f=this.table,m="",k=0,l=0,p=0,r=d.slice.call(arguments,1),C=Object.create(this.lexer),q={},B;for(B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(q[B]=this.yy[B]);C.setInput(a,q);q.lexer=C;q.parser=this;"undefined"==typeof C.yylloc&&(C.yylloc={});B=C.yylloc;d.push(B);var u=C.options&&C.options.ranges;this.parseError="function"===typeof q.parseError?q.parseError:Object.getPrototypeOf(this).parseError;for(var w,z,D,y,x={},v,A;;){D=b[b.length-1];if(this.defaultActions[D])y=
this.defaultActions[D];else{if(null===w||"undefined"==typeof w)w=void 0,w=C.lex()||1,"number"!==typeof w&&(w=this.symbols_[w]||w);y=f[D]&&f[D][w]}if("undefined"===typeof y||!y.length||!y[0]){var E="";A=[];for(v in f[D])this.terminals_[v]&&2<v&&A.push("'"+this.terminals_[v]+"'");E=C.showPosition?"Parse error on line "+(k+1)+":\n"+C.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(k+1)+": Unexpected "+(1==w?"end of input":"'"+(this.terminals_[w]||
w)+"'");this.parseError(E,{text:C.match,token:this.terminals_[w]||w,line:C.yylineno,loc:B,expected:A})}if(y[0]instanceof Array&&1<y.length)throw Error("Parse Error: multiple actions possible at state: "+D+", token: "+w);switch(y[0]){case 1:b.push(w);c.push(C.yytext);d.push(C.yylloc);b.push(y[1]);w=null;z?(w=z,z=null):(l=C.yyleng,m=C.yytext,k=C.yylineno,B=C.yylloc,0<p&&p--);break;case 2:A=this.productions_[y[1]][1];x.$=c[c.length-A];x._$={first_line:d[d.length-(A||1)].first_line,last_line:d[d.length-
1].last_line,first_column:d[d.length-(A||1)].first_column,last_column:d[d.length-1].last_column};u&&(x._$.range=[d[d.length-(A||1)].range[0],d[d.length-1].range[1]]);D=this.performAction.apply(x,[m,l,k,q,y[1],c,d].concat(r));if("undefined"!==typeof D)return D;A&&(b=b.slice(0,-2*A),c=c.slice(0,-1*A),d=d.slice(0,-1*A));b.push(this.productions_[y[1]][0]);c.push(x.$);d.push(x._$);y=f[b[b.length-2]][b[b.length-1]];b.push(y);break;case 3:return!0}}}},f=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,
b);else throw Error(a);},setInput:function(a,b){this.yy=b||this.yy||{};this._input=a;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?
(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var d=
this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-b]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+
(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d;this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,
yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0)));if(c=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=c.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=
a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(c)return c;if(this._backtrack)for(var f in d)this[f]=d[f];return!1},next:function(){if(this.done)return this.EOF;this._input||
(this.done=!0);var a,b,c;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),f=0;f<d.length;f++)if((b=this._input.match(this.rules[d[f]]))&&(!a||b[0].length>a[0].length))if(a=b,c=f,this.options.backtrack_lexer){a=this.test_match(b,d[f]);if(!1!==a)return a;if(this._backtrack)a=!1;else return!1}else if(!this.options.flex)break;return a?(a=this.test_match(a,d[c]),!1!==a?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){a=
this.conditionStack.length-1-Math.abs(a||0);return 0<=a?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(a,b,c,d){switch(c){case 0:return b.yytext=a.lexer.matches[1],22;case 1:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],22;case 2:return b.yytext=a.lexer.matches[1]+"-"+a.lexer.matches[2],22;case 3:return b.yytext=a.lexer.matches[1],22;case 4:return 16;
case 5:return 17;case 6:return 19;case 7:return 18;case 8:return 7;case 9:return b.yytext="contradiction",10;case 10:return b.yytext="or",10;case 11:return b.yytext="identity",10;case 12:return b.yytext="and",10;case 13:return b.yytext="double_arrow",10;case 14:return b.yytext="arrow",10;case 15:return b.yytext="not",10;case 16:return b.yytext="reit",23;case 17:return b.yytext="premise",24;case 18:return b.yytext="weakening",25;case 19:return b.yytext="cases",25;case 20:return b.yytext="DC",25;case 21:return b.yytext=
"reductio",25;case 22:return b.yytext="DM",25;case 23:return b.yytext="contraposition",25;case 24:return b.yytext="C",25;case 25:return b.yytext="contradiction",25;case 26:return b.yytext="not-all",25;case 27:return b.yytext="all-not",25;case 28:return b.yytext="exists-not",25;case 29:return b.yytext="not-exists",25;case 30:return b.yytext="dilemma",25;case 31:return b.yytext="modus-tollens",25;case 32:return b.yytext="hypothetical-syllogism",25;case 33:return b.yytext="disjunctive-syllogism",25;
case 34:return b.yytext="commutivity",25;case 35:return b.yytext="double-negation",25;case 36:return b.yytext="material-conditional",25;case 37:return b.yytext="biconditional-exchange",25;case 38:return b.yytext="quantifier-negation",25;case 39:return b.yytext="implication",25;case 40:return b.yytext="transposition",25;case 41:return b.yytext="distribution",25;case 42:return b.yytext="association",25;case 43:return b.yytext="idempotence",25;case 44:return b.yytext="exportation",25;case 45:return b.yytext=
"equivalence",25;case 46:return b.yytext="universal",10;case 47:return b.yytext="existential",10;case 48:return 20;case 49:return 21;case 50:return b.yytext="close-branch",25;case 51:return b.yytext="open-branch",25;case 53:return 5;case 56:console.log(b.yytext)}},rules:[/^(?:([0-9][^,\s]*)(\s+and\s+)(?=[0-9]))/i,/^(?:([0-9][^,\s]*)\s+to\s+([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*?)\s*(?:-+)\s*([0-9][^,\s]*))/i,/^(?:([0-9][^,\s]*)(?:(\s*,)*))/i,/^(?:elimination|eliminate|elim|e)/i,/^(?:introduction|introduce|intro|i)/i,
/^(?:decomposition-2|decomposition2|d-2|d2)/i,/^(?:decomposition|d)/i,/^(?:\u2713|tick)/i,/^(?:\u22a5|_\|_|contradiction|contra|false)/i,/^(?:or|\u2228|\+|\u01c0\u01c0|\|)/i,/^(?:=|identity)/i,/^(?:and|conjunction|\u2227|\u2022|&)/i,/^(?:double_arrow|\u2194|\u2261|\u21d4|<->)/i,/^(?:arrow|->|\u21d2|\u2192|\u2283)/i,/^(?:not|\u00ac|\u02dc|~|!|negation)/i,/^(?:reit|reiteration|r)/i,/^(?:premise|assumption|set member|sm|p)/i,/^(?:weakening|w)/i,/^(?:argument by cases|cases|ac)/i,/^(?:denying the consequent|dc)/i,
/^(?:reductio|rd|reductio ad absurdum)/i,/^(?:dm|deMorgan|dem|de morgan)/i,/^(?:contraposition|cp)/i,/^(?:conditional|c)/i,/^(?:cd)/i,/^(?:not all|not-all|~\u2200)/i,/^(?:all not|all-not|\u2200~)/i,/^(?:exists not|exists-not|\u2203~)/i,/^(?:not exists|not-exists|~\u2203)/i,/^(?:dilemma|dil)/i,/^(?:mt|modus tollens|modus-tollens)/i,/^(?:hs|hypothetical syllogism|hypothetical-syllogism)/i,/^(?:ds|disjunctive syllogism|disjunctive-syllogism)/i,/^(?:commutivity|comm|com)/i,/^(?:dn|double-negation|double negation)/i,
/^(?:mc|material-conditional|material conditional)/i,/^(?:bex|\u2194ex|biconditional-exchange|biconditional exchange)/i,/^(?:qn|quantifier-negation|quantifier negation)/i,/^(?:implication|impl)/i,/^(?:transposition|trans)/i,/^(?:distribution|dist)/i,/^(?:association|assoc)/i,/^(?:idempotence|idem)/i,/^(?:exportation|exp)/i,/^(?:equivalence|equiv)/i,/^(?:all|\u2200|every|universal)/i,/^(?:some|exists|\u2203|existential)/i,/^(?:left)/i,/^(?:right)/i,/^(?:close branch|close-branch)/i,/^(?:open branch|open-branch)/i,
/^(?:[\s,]+)/i,/^(?:$)/i,/^(?:\w+)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56],inclusive:!0}}}}();c.lexer=f;a.prototype=c;c.Parser=a;return new a}();"undefined"!==typeof a&&"undefined"!==typeof f&&(f.parser=K,f.Parser=K.Parser,f.parse=function(){return K.parse.apply(K,arguments)},f.main=function(E){E[1]||(console.log("Usage: "+E[0]+
" FILE"),v.exit(1));E=a("fs").readFileSync(a("path").normalize(E[1]),"utf8");return f.parser.parse(E)},"undefined"!==typeof H&&a.main===H&&f.main(v.argv.slice(1)))}).call(this,a("_process"))},{_process:3,fs:1,path:2}],25:[function(a,H,f){H=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(H.getParser("awFOL"));a={_description:"Rules of proof for the system of proof specified in forallx. ",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),
right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},not:{elim:a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6"),intro:a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")},or:{elim:a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6",
"\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7"),intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},double_arrow:{elim:{left:a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8"),right:a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")},intro:a.from(a.subproof("\u03c6","\u03c8")).and(a.subproof("\u03c8","\u03c6")).to("\u03c6\u2194\u03c8")},"modus-tollens":a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),"hypothetical-syllogism":a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c7").to("\u03c6 arrow \u03c7"),
"disjunctive-syllogism":[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6")],commutivity:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 or \u03c7",to:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 or \u03c7",from:"\u03c7 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 and \u03c7",to:"\u03c7 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 and \u03c7",from:"\u03c7 and \u03c8"}))],
implication:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c8 or \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c8 or \u03c7"}))],DM:[a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 or \u03c7)",to:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 or \u03c7)",from:"not \u03c8 and not \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (\u03c8 and \u03c7)",to:"not \u03c8 or not \u03c7"})),
a.from("\u03c6").to(a.replace("\u03c6",{to:"not (\u03c8 and \u03c7)",from:"not \u03c8 or not \u03c7"}))],transposition:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8 arrow \u03c7",to:"not \u03c7 arrow not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8 arrow \u03c7",from:"not \u03c7 arrow not \u03c8"}))],distribution:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 or \u03c83)",to:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",
{to:"\u03c81 and (\u03c82 or \u03c83)",from:"(\u03c81 and \u03c82) or (\u03c81 and \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 and \u03c83)",to:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 and \u03c83)",from:"(\u03c81 or \u03c82) and (\u03c81 or \u03c83)"}))],association:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 and (\u03c82 and \u03c83)",to:"(\u03c81 and \u03c82) and \u03c83"})),
a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 and (\u03c82 and \u03c83)",from:"(\u03c81 and \u03c82) and \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 or (\u03c82 or \u03c83)",to:"(\u03c81 or \u03c82) or \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c81 or (\u03c82 or \u03c83)",from:"(\u03c81 or \u03c82) or \u03c83"}))],"double-negation":[a.from("\u03c6").to(a.replace("\u03c6",{from:"not not \u03c8",to:"\u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not not \u03c8",
from:"\u03c8"}))],idempotence:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 and \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c8",to:"\u03c8 or \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"\u03c8",from:"\u03c8 or \u03c8"}))],exportation:[a.from("\u03c6").to(a.replace("\u03c6",{from:"\u03c81 -> (\u03c82 -> \u03c83)",to:"(\u03c81 and \u03c82) -> \u03c83"})),a.from("\u03c6").to(a.replace("\u03c6",
{to:"\u03c81 -> (\u03c82 -> \u03c83)",from:"(\u03c81 and \u03c82) -> \u03c83"}))],equivalence:[a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 -> \u03c7) and (\u03c7 -> \u03c8)",from:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",to:"\u03c8 <-> \u03c7"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"(\u03c8 and \u03c7) or (not \u03c8 and not \u03c7)",
from:"\u03c8 <-> \u03c7"}))],universal:{elim:a.from("all \u03c4 \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNotInAnyUndischargedPremise("\u03b1")).to("all \u03c4 \u03c6")},existential:{elim:a.from("exists \u03c4 \u03c6").and(a.subproof(a.matches("\u03c6[\u03c4--\x3e\u03b1]").and.isNewName("\u03b1"),"\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("exists \u03c4 \u03c6")},"quantifier-negation":[a.from("\u03c6").to(a.replace("\u03c6",
{from:"not (all x) \u03c8",to:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (all x) \u03c8",from:"(exists x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{from:"not (exists x) \u03c8",to:"(all x) not \u03c8"})),a.from("\u03c6").to(a.replace("\u03c6",{to:"not (exists x) \u03c8",from:"(all x) not \u03c8"}))],identity:{intro:a.to("all \u03c4 \u03c4=\u03c4"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}}};
f.rules=a;H.registerRuleSet("logicbook",a)},{"../dialect_manager/dialectManager":5,"./rule":28}],26:[function(a,H,f){var v,K,E;H=a("../dialect_manager/dialectManager");v=a("lodash");E=a("./rule");E.setParser(H.getParser("awFOL"));a={_description:"Rules of proof for tree proofs as presented in Bergman et al, \u2018The Logic Book\u2019 (2014).  ",premise:E.from().to(E.premise()),"close-branch":E.from().to(E.closeBranch()),"open-branch":E.from().to(E.openBranch()),and:{decomposition:[E.from("\u03c6 and \u03c8").to(E.matches("\u03c6").and.doesntBranch()),
E.from("\u03c6 and \u03c8").to(E.matches("\u03c8").and.doesntBranch())]},arrow:{decomposition:[E.from("\u03c6 arrow \u03c8").to(E.matches("not \u03c6").and.branches()),E.from("\u03c6 arrow \u03c8").to(E.matches("\u03c8").and.branches())]},universal:{decomposition:E.from("all \u03c4 \u03c6").to(E.matches("\u03c6[\u03c4--\x3e\u03b1]").and.doesntBranch())},existential:{decomposition2:E.from("exists \u03c4 \u03c6").to(E.matches("\u03c6[\u03c4--\x3e\u03b1]").and.branches())}};K=function(a){var f,p,u,l,
q;q=[];for(p in a)if("rule"===a[p].type)E=a[p],null==E.ruleSet&&(E.ruleSet=[E]);else{if(v.isArray(a[p]))for(l=a[p],f=0,u=l.length;f<u;f++)E=l[f],E.ruleSet=l;v.isObject(a[p])?q.push(K(a[p])):q.push(void 0)}return q};K(a);f.rules=a;H.registerRuleSet("logicbook_tree",a)},{"../dialect_manager/dialectManager":5,"./rule":28,lodash:9}],27:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A;v=a("lodash");l=a("./block_parser");c=a("./add_line_numbers");E=a("./add_justification");M=a("./add_sentences");p=a("./add_status");
u=a("./add_verification");q=a("../dialect_manager/dialectManager");A=function(a,c){v.isString(a)||(a=""+a);return a.length>=c?a:a+Array(c-a.length+1).join(" ")};K=function(a){return a.toString=function(c){var f,k,l,b,m,d,p,u,g,e,F;null==c&&(c={});e={result:[],lineNumber:0,addLineNumbers:!0,needLineNumbers:!1,lookBackTwo:[],getAndIncLineNumber:function(a){var b,c;e.lineNumber+=1;return null!=a.number||!1===e.addLineNumbers?(c=parseInt(("function"===typeof(b=a.number).replace?b.replace("x",""):void 0)||
a.number),c!==e.lineNumber&&(e.needLineNumbers=!0),e.addLineNumbers=!1,A(a.number,3)):A(e.lineNumber,3)},visit:function(a){var b,c,d,f,g,m;"divider"!==a.type&&"block"===(null!=(b=e.lookBackTwo[0])?b.type:void 0)&&"line"===(null!=(c=e.lookBackTwo[1])?c.type:void 0)&&(b=e.lookBackTwo[0],null!=b.parent&&(b=e.lookBackTwo[1],b.parent===a.parent&&e.result.push({number:A(e.getAndIncLineNumber(b).trim()+"y",3),indentation:b.indentation.trim()+"---",sentence:"",justification:""})));e.lookBackTwo.push(a);2<
e.lookBackTwo.length&&e.lookBackTwo.shift();"blank_line"===a.type&&(b=a,e.result.push({number:""+e.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"",justification:""}));"divider"===a.type&&(b=a,e.result.push({number:""+e.getAndIncLineNumber(b),indentation:b.indentation.trim()+"---",sentence:"",justification:""}));"close_branch"===a.type&&(b=a,e.result.push({number:""+e.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"X",justification:""}));"open_branch"===
a.type&&(b=a,e.result.push({number:""+e.getAndIncLineNumber(b),indentation:""+b.indentation.trim(),sentence:"O",justification:""}));"line"===a.type&&(b=a,a="premise"===b.getRuleName()?"":null!=b.justification?b.getRuleName()+" "+((null!=(d=b.justification)?null!=(f=d.numbers)?f.join(", "):void 0:void 0)||""):(null!=(g=b.justificationText)?g.trim():void 0)||"",e.result.push({number:""+e.getAndIncLineNumber(b),indentation:""+b.indentation,sentence:""+b.sentence,justification:a,ticked:null!=(m=b.justification)?
m.ticked:void 0}))}};a.walk(e);g="";m=v.max(function(){var a,b,c,d,f,g;c=e.result;g=[];a=0;for(b=c.length;a<b;a++)F=c[a],g.push((null!=(d=F.sentence)?d.length:void 0)+(null!=(f=F.indentation)?f.length:void 0));return g}());u=q.getSymbols().tick||"\u2713";u+=" ";d=e.result;f=0;for(l=d.length;f<l;f++){b=d[f];p=(b.ticked?u:void 0)||"";k=A(b.indentation+" "+b.sentence,m+1);if(e.needLineNumbers||!0===c.numberLines)g+=b.number+" ";g+=k+"   "+p+b.justification+"\n"}return g.trim()}};f.parse=function(a){var f,
r;try{f=l.parse(a),c.to(f),E.to(f),M.to(f),p.to(f),u.to(f)}catch(k){return k.message}r=f;r.listErrorMessages=function(){var a;a=[];r.walk({visit:function(c){var b;if(("line"===(b=null!=c?c.type:void 0)||"close_branch"===b||"open_branch"===b)&&!1===c.status.verified)return b=c.number,c=c.status.getMessage(),a.push(b+": "+c)}});return a.join("\n")};K(r);return r}},{"../dialect_manager/dialectManager":5,"./add_justification":16,"./add_line_numbers":17,"./add_sentences":18,"./add_status":19,"./add_verification":20,
"./block_parser":21,lodash:9}],28:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A,z,y,r,k,x,b,m,d,C,D,g,e,F,n,O,N=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},tb=[].slice;v=a("lodash");a("../util");O=a("../substitute");b=a("../fol");F=void 0;f.setParser=function(a){return F=a};K=function(){function a(b){b=z(b);this._requirements={from:(null!=b?[b]:void 0)||[],to:void 0}}a.prototype.type="rule";a.prototype.and=function(a){a=z(a);this._requirements.from.push(a);
return this};a.prototype.to=function(a){if(this._requirements.to)throw Error("You cannot specify `.to` more than once in a single rule.");a=z(a);this._requirements.to=a;return this};a.prototype.check=function(a){var b;b=A(a,this._requirements);!1!==b&&(null==a.rulesChecked&&(a.rulesChecked=[]),a.rulesChecked.push(this));return b};return a}();m=function(a){return new K(a)};f.from=m;f.to=function(a){return m().to(a)};f.branch=function(a){return C(a).isFirstLineOfASubproof()};C=function(a){var b,c;c=
e(a);b=[function(a,b){return x(a,c,b)}];a={check:function(a,c){var d,e,f,g;d=c;f=0;for(g=b.length;f<g;f++)if(e=b[f],d=e(a,d),!1===d)return!1;return d},toString:function(){return c.toString()},isNewName:function(a){var c;c=M(a);b.push(function(a,b){var d;d=c.clone();d=d.applyMatches(b).applySubstitutions();return r(d.name,a)?!1:b});return this},isNotInAnyUndischargedPremise:function(a){var c;c=M(a);b.push(function(a,b){var d;d=c.clone();d=d.applyMatches(b).applySubstitutions();return k(d.name,a)?!1:
b});return this},branches:function(){b.push(function(a,b){var c;c=a.parent;return null==c.parent||c.getFirstLine()!==a?!1:b});return this},doesntBranch:function(){b.push(function(a,b){var c;c=a.parent;return(null!=c?c.getFirstLine():void 0)===a?!1:b});return this}};return a.and=a};f.matches=C;f.replace=function(a,b){var c,d;d=e(a);b.from=e(b.from);b.to=e(b.to);c=[function(a,c){var e,f,g,m;g=d.listMetaVariableNames().inExpression;e=0;for(f=g.length;e<f;e++)if(m=g[e],!(m in c))return!1;f=d.clone().applyMatches(c);
e=a.sentence;null==f.box&&null!=e.box&&(e=e.clone(),delete e.box);return O.isOneASubstitutionInstanceOfTheOther(e,f,b)}];return{check:function(a,b){var d,e,f,g;d=b;f=0;for(g=c.length;f<g;f++)if(e=c[f],d=e(a,d),!1===d)return!1;return d},toString:function(){return d.toString()+"["+b.from.toString()+"--\x3e"+b.to.toString()+"]"}}};x=function(a,b,c){var d,e,f,g;if("line"!==a.type)return!1;f=b.listMetaVariableNames().inSub.left;d=0;for(e=f.length;d<e;d++)if(g=f[d],!(g in c))return!1;b=b.clone().applyMatches(c);
if(null===b.applySubstitutions())return!1;d=a.sentence;if(null==d)return!1;null==b.box&&null!=d.box&&(d=d.clone(),delete d.box);c=d.findMatches(b,c);if(!1===c)return!1;if(null!=b.box||"box"===b.type)if(b=("box"===b.type?b:void 0)||(null!=b.box?b.box:void 0),b=b.applyMatches(c).applySubstitutions(),b=b.term.name,a=r(b,a),!1!==a)return!1;return c};r=function(a,b){return b.findAbove(function(b){return"line"!==b.type?!1:0<=N.call(b.sentence.getNames(),a)?!0:!1})};k=function(a,b){return b.isPremise()&&
0<=N.call(b.sentence.getNames(),a)?!0:b.findAbove(function(b){return"line"===b.type&&b.isPremise()?0<=N.call(b.sentence.getNames(),a)?!0:!1:!1})};z=function(a){return v.isString(a)?C(a):a};f.subproof=function(a,b){var c,f,g,m;g=z(a);f=z(b);c=[function(a,b){var c,d,e;d=a.getFirstLine();c=a.getLastLine();e=g.check(d,b);if(!1!==e&&(e=f.check(c,e),!1!==e))return e;c=f.check(c,b);if(!1===c)return!1;d=g.check(d,c);return!1===d?!1:d}];m=[function(){return g.toString()+" \u22a2 "+f.toString()}];return{type:"subproof",
check:function(a,b){var d,e,f,g;d=b;f=0;for(g=c.length;f<g;f++)if(e=c[f],d=e(a,d),!1===d)return!1;return d},contains:function(){var a,b;a=1<=arguments.length?tb.call(arguments,0):[];a=function(){var c,d,f;f=[];c=0;for(d=a.length;c<d;c++)b=a[c],f.push(e(b));return f}();c.push(function(b,c){var e,f,g,m,n;m=[];n=b.content;f=0;for(g=n.length;f<g;f++)e=n[f],"line"===e.type&&(e.isPremise()||m.push(e));return d(m,a,c)});m.push(function(){var c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(b.toString());
return", where this subproof contains "+e.join(" and ")});return this},toString:function(){var a,b,c,d;d="";b=0;for(c=m.length;b<c;b++)a=m[b],d+=a();return d}}};d=function(a,b,c){var d,e,f,g,m,n;b=p(b);f=p(a);a=0;for(d=b.length;a<d;a++)for(n=b[a],g=0,e=f.length;g<e;g++)if(m=f[g],m=E(m,n,c),!1!==m)return m;return!1};E=function(a,b,d){var e,f,g;f=d;d=0;for(e=b.length;d<e;d++)if(g=b[d],f=c(a,g,f),!1===f)return!1;return f};c=function(a,b,c){var d,e,f;d=0;for(e=a.length;d<e;d++)if(f=a[d],f=f.sentence,
f=f.findMatches(b,c),!1!==f)return f;return!1};f.linesContainPatterns=d;A=function(a,b){var c,d,e,f,g,m,n,k;if(!q(a,b))return!1;f=[];m=a.getCitedLines();d=0;for(g=m.length;d<g;d++)e=m[d],0<=N.call(f,e)?f.push(v.clone(e)):f.push(e);d=a.getCitedBlocks();f=p(f);d=p(d);n=0;for(g=f.length;n<g;n++)for(e=f[n],k=0,m=d.length;k<m;k++)if(c=d[k],c=l(b,a,e,c),!1!==c)return!0;n=a.getRuleName();d=[];null!=b.to&&d.push("on a line with the form "+b.to);m=b.from;e=0;for(f=m.length;e<f;e++)g=m[e],"subproof"===g.type?
d.push(" citing a subproof of the form "+g):d.push(" citing a line of the form "+g);a.status.addMessage("you can only use "+n+" "+d.join("; ")+".");return!1};l=function(a,b,c,d){var e,f,g;e=[];null!=a.to&&e.push({req:a.to,linesOrBlocks:[b]});g=a.from;b=0;for(f=g.length;b<f;b++)a=g[b],e.push({req:a,linesOrBlocks:("subproof"===a.type?d:void 0)||c});c=p(e);e=0;for(d=c.length;e<d;e++)if(a=c[e],a=u(a),!1!==a)return!0;return!1};q=function(a,b){var c,d,e,f,m,n,k,l;e=a.getCitedLines().length;c=a.getCitedBlocks().length;
f=d=0;l=b.from;n=0;for(m=l.length;n<m;n++)k=l[n],"subproof"===k.type?f+=1:d+=1;if(!0===(d===e&&f===c))return!0;n=g(d,"line");m=g(f,"subproof");f=(n&&m?"and ":void 0)||(n||m?void 0:"nothing")||"";e=g(e,"line");d=g(c,"subproof");c=(e&&d?"and ":void 0)||(e||d?void 0:"nothing")||"";k=a.getRuleName();a.status.addMessage(("you must cite "+n+" "+f+m+" when using the rule "+k+" (you cited "+e+" "+c+d+").").replace(/\s\s+/g," "));return!1};u=function(a){var b,c,d,e,f,g,m,n,k,l;n=[];d={};e=0;for(f=a.length;e<
f;e++){b=a[e];l=b.req;c=[];k=b.linesOrBlocks;m=0;for(g=k.length;m<g;m++)b=k[m],0>N.call(n,b)&&c.push(b);c=y(l,c,d);if(!1===c)return!1;d=c.newMatches;c=c.matchedLineOrBlock;n.push(c)}return!0};y=function(a,b,c){var d,e,f,g;d=0;for(e=b.length;d<e;d++)if(f=b[d],g=a.check(f,c),!1!==g)return{newMatches:g,matchedLineOrBlock:f};return!1};f.premise=function(){return{check:function(a,b){return a.prev?null!=a.parent.parent?(a.status.addMessage("only the first line of a subproof may be a premise."),!1):a.findAbove(function(a){var b,
c;if("line"===a.type){if(c="premise"===(null!=(b=a.justification)?b.rule.connective:void 0))return!1;if(!c)return!0}return"block"===a.type?!0:!1})?(a.status.addMessage("premises may not occur after non-premises."),!1):b:b}}};n=b.parse("\u03c6");D=b.parse("not \u03c6");f.closeBranch=function(){return{check:function(a,b){var c;c=a.findAllAbove(function(a){return"line"===a.type});return!1!==d(c,[n,D],{})?b:!1}}};f.openBranch=function(){return{check:function(a,b){var c;c=a.findAllAbove(function(a){return"line"===
a.type});return!1===d(c,[n,D],{})?b:!1}}};f._notImplementedYet=function(a){throw Error("the rule `"+a.justification.rule.connective+"` (or some part of it) is not implemented yet!");};e=function(a){v.isString(a)&&(a=b.parse(a,F));return a};M=function(a){return v.isString(a)?e("F("+a+")").termlist[0]:a};p=function(a){var b,c,d,e,f,g,m,n;if(0===a.length)return[[]];n=[];c=e=0;for(f=a.length-1;0<=f?e<=f:e>=f;c=0<=f?++e:--e)for(b=v.clone(a),c=b.splice(c,1),m=p(b),d=b=0,g=m.length-1;0<=g?b<=g:b>=g;d=0<=
g?++b:--b)d=c.concat(m[d]),n.push(d);return n};f._permutations=p;g=function(a,b){if(0===a)return"";if(1===a)return"1 "+b;if(1<a)return a+" "+b+"s"}},{"../fol":7,"../substitute":30,"../util":32,lodash:9}],29:[function(a,H,f){H=a("../dialect_manager/dialectManager");a=a("./rule");a.setParser(H.getParser("teller"));a={_description:"Rules of proof for classical first-order logic as presented in Paul Teller,\nA Modern Formal Logic Primer (1998).",premise:a.from().to(a.premise()),reit:a.from("\u03c6").to("\u03c6"),
and:{elim:{left:a.from("\u03c6 and \u03c8").to("\u03c6"),right:a.from("\u03c6 and \u03c8").to("\u03c8")},intro:a.from("\u03c6").and("\u03c8").to("\u03c6 and \u03c8")},or:{elim:{left:[a.from("\u03c6 or \u03c8").and("not \u03c6").to("\u03c8"),a.from("not \u03c6 or \u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6 or \u03c8").and("not \u03c8").to("\u03c6"),a.from("\u03c6 or not \u03c8").and("\u03c8").to("\u03c6")]},intro:{left:a.from("\u03c6").to("\u03c6 or \u03c8"),right:a.from("\u03c6").to("\u03c8 or \u03c6")}},
not:{elim:a.from("not not \u03c6").to("\u03c6"),intro:[a.from(a.subproof("\u03c6","\u03c8 and not \u03c8")).to("not \u03c6"),a.from(a.subproof("\u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("not \u03c6")]},arrow:{elim:a.from("\u03c6 arrow \u03c8").and("\u03c6").to("\u03c8"),intro:a.from(a.subproof("\u03c6","\u03c8")).to("\u03c6 arrow \u03c8")},double_arrow:{elim:{left:[a.from("\u03c6\u2194\u03c8").to("\u03c6 arrow \u03c8"),a.from("\u03c6\u2194\u03c8").and("\u03c6").to("\u03c8")],right:[a.from("\u03c6\u2194\u03c8").to("\u03c8 arrow \u03c6"),
a.from("\u03c6\u2194\u03c8").and("\u03c8").to("\u03c6")]},intro:a.from("\u03c6 arrow \u03c8").and("\u03c8 arrow \u03c6").to("\u03c6\u2194\u03c8")},identity:{intro:a.to("\u03b1=\u03b1"),elim:{left:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b1--\x3e\u03b2]"),right:a.from("\u03b1=\u03b2").and("\u03c6").to("\u03c6[\u03b2--\x3e\u03b1]")}},existential:{elim:a.from("(exists \u03c4) \u03c6").and(a.subproof("[\u03b1]\u03c6[\u03c4--\x3e\u03b1]","\u03c8")).to("\u03c8[\u03b1--\x3enull]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1]").to("(exists \u03c4) \u03c6")},
universal:{elim:a.from("(all \u03c4) \u03c6").to("\u03c6[\u03c4--\x3e\u03b1]"),intro:a.from("\u03c6[\u03c4--\x3e\u03b1^]").to("(all \u03c4) \u03c6")},weakening:a.from("\u03c6").to("\u03c8 arrow \u03c6"),cases:[a.from("\u03c6 or \u03c8").and("\u03c6 arrow \u03c7").and("\u03c8 arrow \u03c7").to("\u03c7"),a.from("\u03c6 or \u03c8").and(a.subproof("\u03c6","\u03c7")).and(a.subproof("\u03c8","\u03c7")).to("\u03c7")],DC:[a.from("\u03c6 arrow \u03c8").and("not \u03c8").to("not \u03c6"),a.from("\u03c6 arrow not \u03c8").and("\u03c8").to("not \u03c6"),
a.from("not \u03c6 arrow \u03c8").and("not \u03c8").to("\u03c6")],reductio:[a.from(a.subproof("not \u03c6","\u03c8 and not \u03c8")).to("\u03c6"),a.from(a.subproof("not \u03c6","\u03c62").contains("\u03c8","not \u03c8")).to("\u03c6")],DM:[a.from("not (\u03c6 or \u03c8)").to("not \u03c6 and not \u03c8"),a.from("not \u03c6 and not \u03c8").to("not (\u03c6 or \u03c8)"),a.from("not (\u03c6 and \u03c8)").to("not \u03c6 or not \u03c8"),a.from("not \u03c6 or not \u03c8").to("not (\u03c6 and \u03c8)")],contraposition:[a.from("\u03c6 arrow \u03c8").to("not \u03c8 arrow not \u03c6"),
a.from("not \u03c8 arrow not \u03c6").to("\u03c6 arrow \u03c8"),a.from("not \u03c6 arrow \u03c8").to("not \u03c8 arrow \u03c6"),a.from("not \u03c8 arrow \u03c6").to("not \u03c6 arrow \u03c8"),a.from("\u03c6 arrow not \u03c8").to("\u03c8 arrow not \u03c6"),a.from("\u03c8 arrow not \u03c6").to("\u03c6 arrow not \u03c8")],C:[a.from("\u03c6 arrow \u03c8").to("not \u03c6 or \u03c8"),a.from("not \u03c6 or \u03c8").to("\u03c6 arrow \u03c8"),a.from("not (\u03c6 arrow \u03c8)").to("\u03c6 and not \u03c8"),
a.from("\u03c6 and not \u03c8").to("not (\u03c6 arrow \u03c8)")],CD:a.from("\u03c6").and("not \u03c6").to("\u03c8"),"not-all":a.from("not (all \u03c4) \u03c6").to("(exists \u03c4) not \u03c6"),"all-not":a.from("(all \u03c4) not  \u03c6").to("not (exists \u03c4) \u03c6"),"not-exists":a.from("not (exists \u03c4) \u03c6").to("(all \u03c4) not \u03c6"),"exists-not":a.from("(exists \u03c4) not \u03c6").to("not (all \u03c4) \u03c6")};f.rules=a;H.registerRuleSet("teller",a)},{"../dialect_manager/dialectManager":5,
"./rule":28}],30:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A;v=a("lodash");A=a("./util");H=a("./dialect_manager/dialectManager").getParser("awFOL");p=a("./match");E={replace_arrow:{from:"\u03c6 arrow \u03c8",to:"(not \u03c6) or \u03c8"},replace_double_arrow:{from:"\u03c6 \u2194 \u03c8",to:"(\u03c6 or (not \u03c8)) and ((not \u03c6) or \u03c8)"},demorgan1:{from:"not (\u03c6 and \u03c8)",to:"((not \u03c6) or (not \u03c8))"},demorgan2:{from:"not (\u03c6 or \u03c8)",to:"((not \u03c6) and (not \u03c8))"},
dbl_neg:{from:"not not \u03c6",to:"\u03c6"},not_all:{from:"not ((all \u03c4) \u03c6)",to:"(exists \u03c4) (not \u03c6)"},not_exists:{from:"not ((exists \u03c4) \u03c6)",to:"(all \u03c4) (not \u03c6)"},cnf_left:{from:"\u03c61 or (\u03c62 and \u03c63)",to:"(\u03c61 or \u03c62) and (\u03c61 or \u03c63)"},cnf_right:{from:"(\u03c62 and \u03c63) or \u03c61",to:"(\u03c62 or \u03c61) and (\u03c63 or \u03c61)"},all_and_left:{from:"\u03c6 and ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 and \u03c8)"},all_and_right:{from:"((all \u03c4) \u03c8) and \u03c6",
to:"(all \u03c4) (\u03c8 and \u03c6)"},all_or_left:{from:"\u03c6 or ((all \u03c4) \u03c8)",to:"(all \u03c4) (\u03c6 or \u03c8)"},all_or_right:{from:"((all \u03c4) \u03c8) or \u03c6",to:"(all \u03c4) (\u03c8 or \u03c6)"},exists_and_left:{from:"\u03c6 and ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 and \u03c8)"},exists_and_right:{from:"((exists \u03c4) \u03c8) and \u03c6",to:"(exists \u03c4) (\u03c8 and \u03c6)"},exists_or_left:{from:"\u03c6 or ((exists \u03c4) \u03c8)",to:"(exists \u03c4) (\u03c6 or \u03c8)"},
exists_or_right:{from:"((exists \u03c4) \u03c8) or \u03c6",to:"(exists \u03c4) (\u03c8 or \u03c6)"}};l={};for(M in E)q=E[M],a=H.parse(q.from),A.delExtraneousProperties(a),q=H.parse(q.to),A.delExtraneousProperties(q),a={from:a,to:q},l[M]=a;f.subsForPNF=l;E={identity:{from:"\u03c4=\u03c4",to:"true"},not_true:{from:"not true",to:"false"},not_false:{from:"not false",to:"true"},or_duplicate:{from:"\u03c6 or \u03c6",to:"\u03c6"},or_duplicate_left:{from:"\u03c6 or (\u03c6 or \u03c8)",to:"\u03c6 or \u03c8"},
or_duplicate_right:{from:"(\u03c8 or \u03c6) or \u03c6",to:"\u03c8 or \u03c6"},and_duplicate:{from:"\u03c6 and \u03c6",to:"\u03c6"},and_duplicate_left:{from:"\u03c6 and (\u03c6 and \u03c8)",to:"\u03c6 and \u03c8"},and_duplicate_right:{from:"(\u03c8 and \u03c6) and \u03c6",to:"\u03c8 and \u03c6"},false_or:{from:"false or \u03c6",to:"\u03c6"},true_or:{from:"true or \u03c6",to:"true"},false_and:{from:"false and \u03c6",to:"false"},true_and:{from:"true and \u03c6",to:"\u03c6"},contradiction_and:{from:"\u03c6 and not \u03c6",
to:"false"},contradiction_and_left:{from:"\u03c6 and (not \u03c6 and \u03c8)",to:"false"},contradiction_and_right:{from:"(\u03c8 and \u03c6) and not \u03c6",to:"false"},taut_or:{from:"\u03c6 or not \u03c6",to:"true"},taut_and_left:{from:"\u03c6 or (not \u03c6 or \u03c8)",to:"true"},taut_and_right:{from:"(\u03c8 or \u03c6) or not \u03c6",to:"true"}};l={};for(M in E)q=E[M],a=H.parse(q.from),A.delExtraneousProperties(a),q=H.parse(q.to),A.delExtraneousProperties(q),a={from:a,to:q},l[M]=a;f.subs_eliminate_redundancy=
l;c=function(a,c){var f;return(f=p.findWithoutApplyingSubs(a,c.from))?p.apply(c.to,f):a};f.doSub=c;f.doSubRecursive=function(a,f,l){null==l&&(l={});return A.walkMutate(a,function(a){return null===a||v.isArray(a)||null!=a.type&&"box"===a.type?a:c(a,f)})};u=function(a,c,f){var k,l,b;null==f&&(f={});k=c.from;l=c.to;b=function(a){if(null===a||v.isArray(a)||b._inSub)return a;if(A.areIdenticalExpressions(a,k)){if(null===l)throw Error("_internal: replace to null");return A.cloneExpression(l)}return a};a=
f.noClone?a:A.cloneExpression(a);return A.walkMutate(a,b)};f.replace=u;f.applySubstitutions=function(a){var c;c=function(a){var c,f,b,m;if(null==(null!=a?a.substitutions:void 0))return a;m=v.cloneDeep(a.substitutions);delete a.substitutions;c=0;for(f=m.length;c<f;c++)b=m[c],b={from:b.from,to:b.to},a=u(a,b);return a};a=v.cloneDeep(a);try{return A.walkMutate(a,c)}catch(f){a=f;if("_internal: replace to null"===a.message)return null;throw a;}};K=function(a,f,l){var k;if(A.areIdenticalExpressions(a,f))return!0;
k=function(a,b){var c,d,f,k;k="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");d=0;for(f=k.length;d<f;d++)if(c=k[d],null!=a[c]||null!=b[c]){if(null==a[c]||null==b[c])return!1;if(v.isString(a[c])){if(a[c]!==b[c])return!1}else if(!K(a[c],b[c],l))return!1}return!0};if(k(a,f))return!0;a=c(A.cloneExpression(a),l);return k(a,f)?!0:!1};f.isOneASubstitutionInstanceOfTheOther=function(a,c,f){a=A.delExtraneousProperties(A.cloneExpression(a));c=A.delExtraneousProperties(A.cloneExpression(c));
return K(a,c,f)};f.isThereAWayOfApplyingTheSubstitutionToMakeTheFunctionReturnTrue=function(a,f,l){a=A.cloneExpression(a);f=c(a,f);if(l(f))return!0}},{"./dialect_manager/dialectManager":5,"./match":8,"./util":32,lodash:9}],31:[function(a,H,f){a("lodash");H.exports={"default":{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2227",arrow:"\u2192",double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",
existential:"\u2203",propLanguageName:"FOL",predLanguageName:"FOL",elim:" Elim",intro:" Intro"},copi:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"\u2022",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"",universal:"all",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0},teller:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",
arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,"not-all":"~\u2200","all-not":"\u2200~","exists-not":"\u2203~","not-exists":"~\u2203",propLanguageName:"sentence logic",predLanguageName:"predicate logic"},forallx:{not:"\u00ac","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2192",
double_arrow:"\u2194",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",existential:"\u2203",quantifiersInBrackets:!1,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",predLanguageName:"QL"},logicbook:{not:"~","false":"\u22a5",contradiction:"\u22a5",identity:"=",and:"&",arrow:"\u2283",double_arrow:"\u2261",or:"\u2228",nor:"\u2193",nand:"\u2191",universal_quantifier:"\u2200",universal:"\u2200",existential_quantifier:"\u2203",
existential:"\u2203",quantifiersInBrackets:!0,predicationBracketsAndCommas:!1,singleLetterPredicates:!0,propLanguageName:"SL",predLanguageName:"PL",association:"Assoc",premise:"Assumption",DM:"DeM",decomposition:"D",decomposition2:"D2",tick:"\u2713"}}},{lodash:9}],32:[function(a,H,f){var v,K,E,c,M,p,u,l,q,A,z,y,r,k,x={}.hasOwnProperty;v=a("lodash");u=a("./dialect_manager/dialectManager");k=function(a,c,d){var f;if(v.isArray(a)){var l,g,e;e=[];l=0;for(g=a.length;l<g;l++)f=a[l],e.push(k(f,c,d));return e}if(null===
a)return c(a);null!=(null!=d?d.topDown:void 0)&&d.topDown&&(f=c(a));c._trace&&console.log("walkMutate got "+util.expressionToString(a));null!=a.box&&(c._inBox=!0,a.box=k(a.box,c,d),c._inBox=void 0);null!=a.substitutions&&(null==c._inSubCount&&(c._inSubCount=0),c._inSubCount+=1,c._inSub=!0,a.substitutions=k(a.substitutions,c,d),--c._inSubCount,0===c._inSubCount&&(c._inSub=void 0));"substitution"===a.type&&(c._inSubLeft=!0,a.from=k(a.from,c,d),c._inSubLeft=void 0,a.to=k(a.to,c,d));null!=a.boundVariable&&
(c._inBoundVariable=!0,a.boundVariable=k(a.boundVariable,c,d),c._inBoundVariable=void 0);null!=a.termlist&&(a.termlist=k(a.termlist,c,d));null!=a.term&&(a.term=k(a.term,c,d));null!=a.left&&(a.left=k(a.left,c,d));null!=a.right&&(a.right=k(a.right,c,d));return null!=(null!=d?d.topDown:void 0)&&d.topDown?f:c(a)};f.walkMutate=k;y=function(a,c,d){var f;f=function(a){var b,d;for(b in f)x.call(f,b)&&(d=f[b],c[b]=d);c(a);return a};return k(a,f,d)};f.walk=y;r=function(a,c,d,f){var k,g,e;if(null!=d&&(f=d(a,
c),void 0!==f))return f;if(null===a||null===c)return a===c;g=[v.isBoolean,v.isNumber,v.isString];f=0;for(k=g.length;f<k;f++)if(e=g[f],e(a)||e(c))return a===c;if(v.isArray(a)||v.isArray(c)){if(!v.isArray(a)||!v.isArray(c)||a.length!==c.length)return!1;k=g=0;for(e=a.length;g<e;k=++g)if(f=a[k],!r(f,c[k],d))return!1;return!0}e="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");k=0;for(g=e.length;k<g;k++)if(f=e[k],(f in a||f in c)&&!(f in a&&f in c&&r(a[f],
c[f],d)))return!1;return!0};f.walkCompare=r;c=function(a,c,d){return r(a,c,void 0,d)};f.areIdenticalExpressions=c;q=function(a,c){var d,f,k,g;d=c(a);if(void 0!==d)return d;if(null!==a){k=[v.isBoolean,v.isNumber,v.isString];d=0;for(f=k.length;d<f;d++)if(g=k[d],g(a))return;if(v.isArray(a))for(f=0,k=a.length;f<k;f++){if(d=a[f],d=q(d,c),void 0!==d)return d}else for(g="substitutions from to box term boundVariable termlist left right type name letter value".split(" "),f=0,k=g.length;f<k;f++)if(d=g[f],d in
a&&(d=q(a[d],c),void 0!==d))return d}};f.find=q;f.walkMutateFindOne=function(a,c,d){var f,l;f=void 0;l=function(a){var b,d;if(void 0!==f)return a;for(b in l)x.call(l,b)&&(d=l[b],c[b]=d);d=c(a)||{};b=d.newExpression;f=d.aResult;return void 0!==b?b:a};a=k(a,l,d);return{theResult:f,mutatedExpression:a}};K=function(a){var c,d,f,k;if(null===a)return a;k=["location","symbol","parent"];d=0;for(f=k.length;d<f;d++)c=k[d],c in a&&delete a[c];for(c in a)x.call(a,c)&&(d=a[c],v.isFunction(d)&&delete a[c]);return a};
f.delExtraneousProperties=function(a){return null==(null!=a?a.type:void 0)?a:y(a,K)};p=function(a){var c,d,f,k,g;if(null===a)return null;f=[v.isBoolean,v.isNumber,v.isString];c=0;for(d=f.length;c<d;c++)if(k=f[c],k(a))return a;if(v.isArray(a)){k=[];d=0;for(f=a.length;d<f;d++)c=a[d],k.push(p(c));return k}c={};g="substitutions from to box term boundVariable termlist left right type name letter value".split(" ");f=0;for(k=g.length;f<k;f++)d=g[f],d in a&&(c[d]=p(a[d]));return c};f.cloneExpression=p;l=
function(a,c){var d,f,l,g,e,q;null==c&&(c={});null!=c.symbols?c.replaceSymbols=!0:c.symbols=u.getSymbols();g=[v.isBoolean,v.isNumber,v.isString,v.isArray];d=0;for(f=g.length;d<f;d++)if(q=g[d],q(a))return""+a;e=0;d=c.replaceSymbols?p(a):v.cloneDeep(a);f=k(d,function(a){var b,d,f,g,k,l,p,r;if(null===a)return"null";e+=1;l=[v.isBoolean,v.isNumber,v.isString];d=0;for(g=l.length;d<g;d++)if(q=l[d],q(a))return""+a;if(v.isArray(a))return!1===c.symbols.predicationBracketsAndCommas?a.join(""):a.join(",");if(null==
(null!=a?a.type:void 0)&&void 0===a)return"[undefined]";if("variable"===(p=a.type)||"name"===p||"name_hat"===p||"term_metavariable"===p||"term_metavariable_hat"===p)return a.substitutions?"{"+a.name+"["+a.substitutions+"]}":a.name;if("box"===a.type)return"["+a.term+"]";if("termlist"===a.type){f=[];r=0;for(k=a.length;r<k;r++)b=a[r],f.push(b.name);return f}if("substitution"===a.type)return a.from+"--\x3e"+a.to;null!=a.box&&(b=a.box);a.substitutions&&(r="["+a.substitutions+"]");null!=a.termlist&&(d=
a.name||a.symbol||c.symbols[a.type]||a.type,!0===c.symbols.singleLetterPredicates&&"predicate"===a.type&&""!==d.replace(/[A-Z][0-9]*/,"")&&(d=d[0]),k=!1===c.symbols.predicationBracketsAndCommas?""+d+a.termlist.join(""):d+"("+a.termlist.join(",")+")");"identity"===a.type&&(d=a.symbol||"=",g=a.termlist,k=g[0],g=g[1],k=""+k+d+g);if("sentence_letter"===(f=a.type)||"expression_variable"===f)k=a.letter;"value"===a.type&&(k=""+((null!=a.symbol?a.symbol:void 0)||("false"===a.value||!1===a.value?c.symbols["false"]:
void 0)||a.value));d=null!=a.right;g=f="";d&&(f="(",g=")");d=a.symbol||c.symbols[a.type]||"";c.wrapWithDivs&&(d="<span class='_symbolWrap' data-symbolNum='"+e+"'>"+d+"</span>");null!=a.boundVariable&&(k=a.boundVariable,k=""===c.symbols.universal_quantifier||!0===c.symbols.quantifiersInBrackets?"("+d+k+")"+f+a.left+(a.right||"")+g:""+d+k+" "+f+a.left+(a.right||"")+g);null!=a.left&&null==a.boundVariable&&(k=null==a.right?""+f+d+(a.left||"")+g:""+f+(a.left||"")+" "+d+" "+(a.right||"")+g);c.wrapWithDivs&&
(k="<span class='_expressionWrap'>"+k+"</span>");return""+(b||"")+k+(r||"")});d={remove_extra_whitespace:{from:/\s+/g,to:" "},remove_space_between_quantifiers:{from:/([\u2200\u2203].)\s+([\u2200\u2203].)/,to:"$1$2"},remove_space_between_quantifier_and_brackets:{from:/([\u2200\u2203].)\s+(\()/,to:"$1$2"},remove_outer_brackets:{from:/(^\s*\()([\s\S]*)(\)\s*$)/,to:"$2"}};if(""!==c.symbols.universal_quantifier&&!0!==c.symbols.quantifiersInBrackets||null==a.boundVariable)for(l in d)g=d[l],f=f.replace(g.from,
g.to);return f.trim()};f.expressionToString=l;f.matchesToString=function(a){var c,d,f;if(!1===a)return"false";if(!a)return"[no]";c="";for(d in a)x.call(a,d)&&(f=a[d],null!=(null!=f?f.type:void 0)&&(c=c+"\n\t"+d+" : "+l(f)));return c};f.exhaust=function(a,f,d){var k;null==d&&(d=c);for(k=null;!d(k,a);)k=a,a=f(p(k));return a};f.listOfAtomicExpressionsComparator=function(a,c){var d,f,k,g;if(a.length<c.length)return-1;if(a.length>c.length)return 1;f=d=0;for(g=a.length;d<g;f=++d)if(k=a[f],f=M(k,c[f]),0!==
f)return f;return 0};M=function(a,c){var d,f;d=E(a.type,c.type);if(0!==d)return d;if("not"===a.type&&"not"!==c.type)return d=M(a.left,c),0===d?1:d;if("not"!==a.type&&"not"===c.type)return d=M(a,c.left),0===d?-1:d;if("not"===a.type&&"not"===c.type)return M(a.left,c.left);if(null!=a.value)return a.value<c.value?-1:a.value>c.value?1:0;if(null!=a.letter)return a.letter<c.letter?-1:a.letter>c.letter?1:0;if(null!=a.name)return a.name<c.name?-1:a.name>c.name?1:0;if(null!=a.termlist)return d=A(a.termlist[0],
a.termlist[1],z),f=A(c.termlist[0],c.termlist[1],z),z(d,f);throw Error("Could not do a comparison for "+JSON.stringify(a,null,4));};f.atomicExpressionComparator=M;A=function(a,c,d){return 0<d(a,c)?c:a};z=function(a,c){var d;d=E(a.type,c.type);return 0!==d?d:a.name<c.name?-1:a.name>c.name?1:0};f.termComparator=z;E=function(a,c){var d;if("not"===a||"not"===c)return 0;d={value:5,sentence_letter:10,predicate:20,identity:30,name:50,variable:60};return d[a]<d[c]?-1:d[a]>d[c]?1:0};f.listTerms=function(a){var c;
c=[];y(a,function(a){var b;if("variable"===(b=a.type)||"name"===b||"term_metavariable"===b)return c.push(a)});return c};f.listMetaVariableNames=function(a){var c,d;c={inExpression:[],inBox:[],inSub:{left:[],right:[]}};d=function(a){var b;if(null==(null!=a?a.type:void 0)||"term_metavariable"!==a.type&&"expression_variable"!==a.type)return a;b=(null!=(null!=a?a.letter:void 0)?a.letter:void 0)||a.name;null!=d._inSub?null!=d._inSubLeft?c.inSub.left.push(b):c.inSub.right.push(b):null!=d._inBox?c.inBox.push(b):
c.inExpression.push(b);return a};y(a,d);return c};f.expressionTypes="existential_quantifier universal_quantifier and or nand nor arrow double_arrow not value predicate identity expression_variable sentence_letter".split(" ");f.termTypes=["name","variable","term_metavariable"];f.atomicSentenceTypes=["sentence_letter","expression_variable","identity","predicate"];f.expressionContainsSubstitutions=function(a){return!0===q(a,function(a){if(null!=(null!=a?a.substitutions:void 0))return!0})?!0:!1};f.expressionHasSub=
function(a,f){var d,k,l,g;if(null==(null!=a?a.substitutions:void 0))return!1;g=a.substitutions;k=0;for(l=g.length;k<l;k++)if(d=g[k],c(d.from,f.from)&&c(d.to,f.to))return!0;return!1};f.getLanguageNames=function(){var a,c,d;c=null!=(a=u.getSymbols())?a.propLanguageName:void 0;a=(null!=(d=u.getSymbols())?d.predLanguageName:void 0)||"quantificational logic";d=[a];null!=c&&c!==a&&d.unshift(c);return d};f.getPredLanguageName=function(){var a;return(null!=(a=u.getSymbols())?a.predLanguageName:void 0)||"quantificational logic"}},
{"./dialect_manager/dialectManager":5,lodash:9}]},{},[4]);
